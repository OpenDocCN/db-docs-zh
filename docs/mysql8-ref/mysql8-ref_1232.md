# 17.11.1 InnoDB 磁盘 I/O

> 原文：[`dev.mysql.com/doc/refman/8.0/en/innodb-disk-io.html`](https://dev.mysql.com/doc/refman/8.0/en/innodb-disk-io.html)

`InnoDB`在可能的情况下使用异步磁盘 I/O，通过创建多个线程来处理 I/O 操作，同时允许其他数据库操作在 I/O 仍在进行时继续进行。在 Linux 和 Windows 平台上，`InnoDB`使用可用的操作系统和库函数执行“本机”异步 I/O。在其他平台上，`InnoDB`仍然使用 I/O 线程，但线程可能实际上会等待 I/O 请求完成；这种技术称为“模拟”异步 I/O。

#### 预读

如果`InnoDB`可以确定数据很可能很快就会被需要，它会执行预读操作将数据带入缓冲池，以便在内存中可用。对连续数据进行少量大的读取请求可能比进行几个小的分散请求更有效。`InnoDB`有两种预读启发式：

+   在顺序读取预读中，如果`InnoDB`注意到表空间中某个段的访问模式是顺序的，它会提前向 I/O 系统发布一批数据库页面的读取。

+   在随机读取预读中，如果`InnoDB`注意到表空间中某个区域似乎正在被完全读入缓冲池，它会将剩余的读取发布到 I/O 系统。

有关配置预读启发式的信息，请参见第 17.8.3.4 节，“配置 InnoDB 缓冲池预取（预读）”")。

#### 双写缓冲区

`InnoDB`使用一种涉及名为双写缓冲区的新颖文件刷新技术，默认情况下在大多数情况下启用（`innodb_doublewrite=ON`）。它增加了在意外退出或停电后恢复的安全性，并通过减少`fsync()`操作的需求来提高大多数 Unix 系统的性能。

在将页面写入数据文件之前，`InnoDB`首先将它们写入称为双写缓冲区的存储区域。只有在写入和刷新到双写缓冲区完成后，`InnoDB`才将页面写入数据文件的适当位置。如果在页面写入过程中有操作系统、存储子系统或意外的**mysqld**进程退出（导致破碎页条件），`InnoDB`可以在恢复过程中从双写缓冲区找到页面的良好副本。

有关双写缓冲区的更多信息，请参见第 17.6.4 节，“双写缓冲区”。
