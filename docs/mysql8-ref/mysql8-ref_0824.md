# 14.16.2 空间函数的参数处理

> 原文：[`dev.mysql.com/doc/refman/8.0/en/spatial-function-argument-handling.html`](https://dev.mysql.com/doc/refman/8.0/en/spatial-function-argument-handling.html)

空间值或几何图形具有第 13.4.2.2 节，“几何类”中描述的属性。以下讨论列出了一般空间函数参数处理特性。特定函数或函数组可能具有额外或不同的参数处理特性，如在这些函数描述出现的部分中所讨论的那样。在这种情况下，这些描述优先于此处的一般讨论。

空间函数仅针对有效的几何值定义。请参阅第 13.4.4 节，“几何形态和有效性”。

每个几何值都与空间参考系统（SRS）相关联，这是用于地理位置的基于坐标的系统。请参阅第 13.4.5 节，“空间参考系统支持”。

几何的空间参考标识符（SRID）标识定义几何的 SRS。在 MySQL 中，SRID 值是与几何值关联的整数。可用的最大 SRID 值为 2³²−1。如果给出一个更大的值，则只使用低 32 位。

SRID 0 表示一个无限的平面笛卡尔平面，其轴没有分配单位。要确保 SRID 0 行为，使用 SRID 0 创建几何值。如果未指定 SRID，则 SRID 0 是新几何值的默认值。

对于多个几何值的计算，所有值必须在相同的 SRS 中，否则会出错。因此，需要多个几何参数的空间函数要求这些参数在相同的 SRS 中。如果空间函数返回`ER_GIS_DIFFERENT_SRIDS`，这意味着几何参数不都在相同的 SRS 中。您必须修改它们以具有相同的 SRS。

空间函数返回的几何图形位于几何参数的 SRS 中，因为任何空间函数产生的几何值都继承了几何参数的 SRID。

[开放地理空间联盟](http://www.opengeospatial.org)的指南要求输入多边形必须已经封闭，因此未封闭的多边形将被拒绝为无效而不是被封闭。

在 MySQL 中，唯一有效的空几何图形以空几何集合的形式表示。空几何集合的处理如下：可以将空的 WKT 输入几何集合指定为`'GEOMETRYCOLLECTION()'`。这也是产生空几何集合的空间操作的输出 WKT。

在解析嵌套几何集合时，集合被展平，并且其基本组件被用于各种 GIS 操作以计算结果。这为用户提供了额外的灵活性，因为不必担心几何数据的唯一性。嵌套几何集合可以从嵌套的 GIS 函数调用中产生，而无需事先显式展平。
