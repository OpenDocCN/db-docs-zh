> 原文：[`dev.mysql.com/doc/refman/8.0/en/optimize-blob.html`](https://dev.mysql.com/doc/refman/8.0/en/optimize-blob.html)

#### 10.4.2.3 优化 BLOB 类型

+   存储包含文本数据的大型 BLOB 时，考虑首先对其进行压缩。当整个表由`InnoDB`或`MyISAM`压缩时，请勿使用此技术。

+   对于具有多个列的表，为了减少不使用 BLOB 列的查询的内存需求，考虑将 BLOB 列拆分到一个单独的表中，并在需要时使用连接查询引用它。

+   由于检索和显示 BLOB 值的性能要求可能与其他数据类型非常不同，您可以将特定于 BLOB 的表放在不同的存储设备上，甚至放在单独的数据库实例上。例如，检索 BLOB 可能需要大量的顺序磁盘读取，这更适合传统硬盘而不是 SSD 设备。

+   查看第 10.4.2.2 节，“优化字符和字符串类型”，了解为什么有时二进制`VARCHAR`列比等效的 BLOB 列更可取。

+   与非常长的文本字符串进行相等性测试不同，您可以将列值的哈希存储在单独的列中，对该列建立索引，并在查询中测试哈希值。（使用`MD5()`或`CRC32()`函数生成哈希值。）由于哈希函数可以为不同的输入产生重复的结果，您仍然在查询中包含一个子句`AND *`blob_column`* = *`long_string_value`*`来防止错误匹配；性能优势来自于对哈希值的较小、易于扫描的索引。
