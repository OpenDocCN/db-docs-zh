# 14.24.2 DECIMAL 数据类型特性

> 译文：[`dev.mysql.com/doc/refman/8.0/en/precision-math-decimal-characteristics.html`](https://dev.mysql.com/doc/refman/8.0/en/precision-math-decimal-characteristics.html)

本节讨论 `DECIMAL` 数据类型（及其同义词）的特性，特别关注以下主题：

+   最大数字位数

+   存储格式

+   存储需求

+   `DECIMAL` 列的非标准 MySQL 扩展的上限范围

`DECIMAL` 列的声明语法为 `DECIMAL(*`M`*,*`D`*)`。参数的值范围如下：

+   *`M`* 是最大数字位数（精度）。它的范围是 1 到 65。

+   *`D`* 是小数点右侧的数字位数（精度）。它的范围是 0 到 30，且不得大于*`M`*。

如果省略*`D`*，默认值为 0。如果省略*`M`*，默认值为 10。

*`M`* 的最大值为 65，意味着对 `DECIMAL` 值的计算精度可达 65 位。这个 65 位精度的限制也适用于精确值数值文字，因此这些文字的最大范围与以前不同。（`DECIMAL` 文字的文本长度也有限制；请参阅 第 14.24.3 节，“表达式处理”。）

`DECIMAL` 列的值以二进制格式存储，将九个十进制数字打包成 4 字节。每个值的整数部分和小数部分的存储需求分别确定。每个九位数字的倍数需要 4 字节，剩余的数字需要 4 字节的一部分。剩余数字所需的存储空间由以下表格给出。

| 剩余数字 | 字节数 |
| --- | --- |
| 0 | 0 |
| 1–2 | 1 |
| 3–4 | 2 |
| 5–6 | 3 |
| 7–9 | 4 |

例如，`DECIMAL(18,9)` 列有小数点两侧各有九位数字，因此整数部分和小数部分各需要 4 字节。`DECIMAL(20,6)` 列有十四位整数数字和六位小数数字。九位整数数字需要四字节，剩下的五位数字需要 3 字节。六位小数数字需要 3 字节。

`DECIMAL` 列不存储前导的 `+` 字符或 `-` 字符或前导的 `0` 数字。如果你将 `+0003.1` 插入到 `DECIMAL(5,1)` 列中，它将被存储为 `3.1`。对于负数，不会存储文字 `-` 字符。

`DECIMAL` 列不允许超出列定义所暗示的范围的值。例如，`DECIMAL(3,0)` 列支持 `-999` 到 `999` 的范围。`DECIMAL(*`M`*,*`D`*)` 列允许小数点左边最多 *`M`* - *`D`* 位数字。

SQL 标准要求 `NUMERIC(*`M`*,*`D`*)` 的精度 *必须* 恰好为 *`M`* 位数字。对于 `DECIMAL(*`M`*,*`D`*)`，标准要求至少 *`M`* 位数字的精度，但允许更多。在 MySQL 中，`DECIMAL(*`M`*,*`D`*)` 和 `NUMERIC(*`M`*,*`D`*)` 是相同的，两者的精度都恰好为 *`M`* 位数字。

要了解 `DECIMAL` 值的内部格式的详细解释，请参阅 MySQL 源代码分发中的 `strings/decimal.c` 文件。该格式在 `decimal2bin()` 函数中进行了解释（附有示例）。
