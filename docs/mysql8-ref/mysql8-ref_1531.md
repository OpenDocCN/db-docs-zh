# 20.7 群组复制性能和故障排除

> 原文：[`dev.mysql.com/doc/refman/8.0/en/group-replication-performance.html`](https://dev.mysql.com/doc/refman/8.0/en/group-replication-performance.html)

20.7.1 调整群组通信线程

20.7.2 流量控制

20.7.3 单一共识领导者

20.7.4 消息压缩

20.7.5 消息分段

20.7.6 XCom 缓存管理

20.7.7 对故障检测和网络分区的响应

20.7.8 处理网络分区和法定人数丢失

20.7.9 使用性能模式内存工具监控群组复制内存使用情况

群组复制旨在创建具有内置故障检测和自动恢复功能的容错系统。如果成员服务器实例自愿离开或停止与群组通信，剩余成员将在彼此之间达成群组重新配置的协议，并在需要时选择新的主服务器。被驱逐的成员会自动尝试重新加入群组，并通过分布式恢复使其保持最新。如果一个群组遇到困难，以至于无法与大多数成员联系以达成决策，它会标识自己已失去法定人数并停止处理事务。群组复制还具有内置机制和设置，帮助群组适应和管理工作负载和消息大小的变化，并保持在底层系统和网络资源的限制范围内。

群组复制的系统变量默认设置旨在最大化群组的性能和自主性。本节中的信息旨在帮助您配置一个复制群组，以优化自动处理您在特定系统上遇到的任何经常性问题，例如瞬时网络中断或超出服务器实例资源的工作负载和事务。

如果发现群组成员被频繁驱逐并重新加入群组，可能是因为群组复制的默认故障检测设置对您的系统过于敏感。这可能发生在较慢的网络或机器上，网络出现高频率的意外瞬时中断，或计划中的网络中断期间。有关通过调整设置处理该情况的建议，请参阅第 20.7.7 节“对故障检测和网络分区的响应”。

只有在 Group Replication 设置中发生组无法自动处理的情况时，您才需要手动干预。一些可能需要管理员干预的关键问题是当成员处于`ERROR`状态且无法重新加入组时，或者当网络分区导致组失去法定人数时。

+   如果一个本来正常运行和配置的成员无法使用分布式恢复加入或重新加入组，并且保持在`ERROR`状态，Section 20.5.4.4, “Fault Tolerance for Distributed Recovery”，解释了可能出现的问题。一个可能的原因是加入成员有额外的事务，这些事务在组的现有成员中不存在。有关处理这种情况的建议，请参阅 Section 20.4.1, “GTIDs and Group Replication”。

+   如果一个组失去了法定人数，这可能是由于网络分区将组分成两部分，或者可能是由于大多数服务器的故障。有关处理这种情况的建议，请参阅 Section 20.7.8, “Handling a Network Partition and Loss of Quorum”。
