# 17.20.1 InnoDB memcached 插件的优势

> 原文：[`dev.mysql.com/doc/refman/8.0/en/innodb-memcached-benefits.html`](https://dev.mysql.com/doc/refman/8.0/en/innodb-memcached-benefits.html)

本节概述了`daemon_memcached`插件的优势。`InnoDB`表和**memcached**的结合优于单独使用任一项。

+   直接访问`InnoDB`存储引擎可以避免 SQL 的解析和规划开销。

+   将**memcached**与 MySQL 服务器在同一进程空间中运行，避免了来回传递请求的网络开销。

+   使用**memcached**协议写入的数据会透明地写入到`InnoDB`表中，而不经过 MySQL SQL 层。您可以控制写入的频率，以实现在更新非关键数据时获得更高的原始性能。

+   通过**memcached**协议请求的数据会透明地从`InnoDB`表中查询，而不经过 MySQL SQL 层。

+   对相同数据的后续请求是从`InnoDB`缓冲池中提供的。缓冲池处理内存中的缓存。您可以使用`InnoDB`配置选项调整数据密集型操作的性能。

+   数据可以是非结构化或结构化的，取决于应用程序的类型。您可以为数据创建新表，或使用现有表。

+   `InnoDB`可以处理将多列值组合和分解为单个**memcached**项值，从而减少应用程序中所需的字符串解析和连接数量。例如，您可以将字符串值`2|4|6|8`存储在**memcached**缓存中，并让`InnoDB`根据分隔符字符拆分值，然后将结果存储在四个数值列中。

+   内存和磁盘之间的传输是自动处理的，简化了应用程序逻辑。

+   数据存储在 MySQL 数据库中，以防止崩溃、宕机和损坏。

+   您可以通过 SQL 访问底层的`InnoDB`表进行报告、分析、临时查询、批量加载、多步事务计算、集合操作（如并集和交集）以及其他适合 SQL 表达力和灵活性的操作。

+   通过在源服务器上结合使用`daemon_memcached`插件和 MySQL 复制，可以确保高可用性。

+   **memcached**与 MySQL 的集成提供了一种使内存中数据持久化的方式，因此您可以将其用于更重要的数据。您可以在应用程序中使用更多的`add`、`incr`和类似的写操作，而不必担心数据丢失。您可以在不丢失缓存数据更新的情况下停止和启动**memcached**服务器。为防止意外宕机，您可以利用`InnoDB`的崩溃恢复、复制和备份功能。

+   `InnoDB`快速进行主键查找的方式非常适合**memcached**的单项查询。`daemon_memcached`插件使用的直接、低级别的数据库访问路径对于键-值查找比等效的 SQL 查询更有效率。

+   **memcached**的序列化功能可以将复杂数据结构、二进制文件甚至代码块转换为可存储的字符串，为将这些对象存入数据库提供了简单的方法。

+   因为您可以通过 SQL 访问底层数据，所以可以生成报告、跨多个键进行搜索或更新，并在**memcached**数据上调用诸如`AVG()`和`MAX()`之类的函数。所有这些操作在仅使用**memcached**时都是昂贵或复杂的。

+   您不需要在启动时手动加载数据到**memcached**中。当应用程序请求特定键时，值会自动从数据库中检索，并使用`InnoDB` 缓冲池在内存中缓存。

+   因为**memcached**消耗的 CPU 相对较少，其内存占用量易于控制，所以它可以轻松地与同一系统上的 MySQL 实例一起运行。

+   因为数据一致性是由用于常规`InnoDB`表的机制强制执行的，所以您不必担心过时的**memcached**数据或在缺少键的情况下查询数据库的回退逻辑。
