# 第二十七章 存储对象

> 原文：[`dev.mysql.com/doc/refman/8.0/en/stored-objects.html`](https://dev.mysql.com/doc/refman/8.0/en/stored-objects.html)

**目录**

27.1 定义存储程序

27.2 使用存储过程

27.2.1 存储过程语法

27.2.2 存储过程和 MySQL 权限

27.2.3 存储过程元数据

27.2.4 存储过程、函数、触发器和 LAST_INSERT_ID()

27.3 使用触发器

27.3.1 触发器语法和示例

27.3.2 触发器元数据

27.4 使用事件调度程序

27.4.1 事件调度程序概述

27.4.2 事件调度程序配置

27.4.3 事件语法

27.4.4 事件元数据

27.4.5 事件调度程序状态

27.4.6 事件调度程序和 MySQL 权限

27.5 使用视图

27.5.1 视图语法

27.5.2 视图处理算法

27.5.3 可更新和可插入视图

27.5.4 视图 WITH CHECK OPTION 子句

27.5.5 视图元数据

27.6 存储对象访问控制

27.7 存储程序二进制日志记录

27.8 存储程序限制

27.9 视图限制

本章讨论了以 SQL 代码形式定义并存储在服务器上以供以后执行的存储数据库对象。

存储对象包括以下对象类型：

+   存储过程：使用`CREATE PROCEDURE`创建的对象，并使用`CALL`语句调用。存储过程没有返回值，但可以修改其参数以供调用者稍后检查。它还可以生成结果集以返回给客户端程序。

+   存储函数：使用`CREATE FUNCTION`创建的对象，类似于内置函数。您可以在表达式中调用它，并在表达式评估期间返回一个值。

+   触发器：使用`CREATE TRIGGER`创建的与表关联的对象。当表发生特定事件时（如插入或更新），触发器被激活。

+   事件：使用`CREATE EVENT`创建的对象，并根据计划由服务器调用。

+   视图：使用`CREATE VIEW`创建的对象，当引用时产生一个结果集。视图充当虚拟表。

本文档中使用的术语反映了存储对象层次结构：

+   存储程序包括存储过程和函数。

+   存储程序包括存储过程、触发器和事件。

+   存储对象包括存储程序和视图。

本章描述了如何使用存储对象。以下各节提供了有关与这些对象相关的语句的 SQL 语法的附加信息，以及有关对象处理的信息：

+   对于每种对象类型，都有`CREATE`、`ALTER`和`DROP`语句来控制对象的存在和定义方式。参见第 15.1 节，“数据定义语句”。

+   `CALL`语句用于调用存储过程。参见第 15.2.1 节，“CALL 语句”。

+   存储程序定义包括一个主体，可以使用复合语句、循环、条件语句和声明变量。参见第 15.6 节，“复合语句语法”。

+   存储程序引用的对象的元数据更改会被检测到，并在下次执行程序时导致受影响语句的自动重新解析。有关更多信息，请参见第 10.10.3 节，“准备语句和存储程序的缓存”。
