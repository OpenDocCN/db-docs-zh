# 10.14.5 复制 I/O（接收器）线程状态

> 原文：[`dev.mysql.com/doc/refman/8.0/en/replica-io-thread-states.html`](https://dev.mysql.com/doc/refman/8.0/en/replica-io-thread-states.html)

以下列表显示了在副本服务器上的复制 I/O（接收器）线程的`State`列中最常见的状态。此状态还显示在`SHOW REPLICA STATUS`（或在 MySQL 8.0.22 之前，`SHOW REPLICA STATUS`）中显示的`Replica_IO_State`列中，因此您可以通过使用该语句来了解正在发生的情况。

在 MySQL 8.0.26 中，对仪表命名进行了不兼容的更改，包括线程阶段的名称，包含术语“主”，更改为“源”，“从”，更改为“副本”，以及“mts”（用于“多线程从服务器”），更改为“mta”（用于“多线程应用程序”）。使用这些仪表命名的监控工具可能会受到影响。如果不兼容的更改对您产生影响，请将`terminology_use_previous`系统变量设置为`BEFORE_8_0_26`，以使 MySQL 服务器使用前面列表中指定对象的旧版本名称。这使依赖旧名称的监控工具可以继续工作，直到它们可以更新为使用新名称。

使用会话范围设置`terminology_use_previous`系统变量以支持个别功能，或者使用全局范围作为所有新会话的默认值。当使用全局范围时，慢查询日志包含旧版本的名称。

+   `检查主版本`

    来自 MySQL 8.0.26：`检查源版本`

    在与源的连接建立后非常短暂地发生的状态。

+   `连接到主服务器`

    来自 MySQL 8.0.26：`连接到源`

    线程正在尝试连接到源。

+   `将主事件排队到中继日志`

    来自 MySQL 8.0.26：`将源事件排队到中继日志`

    线程已读取一个事件，并将其复制到中继日志，以便 SQL 线程可以处理它。

+   `在失败的 binlog 转储请求后重新连接`

    线程正在尝试重新连接到源。

+   `在失败的主事件读取后重新连接`

    来自 MySQL 8.0.26：`在失败的源事件读取后重新连接`

    线程正在尝试重新连接到源。当重新建立连接时，状态变为`等待主服务器发送事件`。

+   `在主服务器上注册从服务器`

    来自 MySQL 8.0.26：`在源上注册副本`

    在与源的连接建立后非常短暂地发生的状态。

+   `请求 binlog 转储`

    在与源建立连接后短暂发生的状态。 线程向源发送请求，请求其二进制日志的内容，从请求的二进制日志文件名和位置开始。

+   `等待轮到提交`

    当启用 `replica_preserve_commit_order` 或 `slave_preserve_commit_order` 时，副本线程等待旧的工作线程提交时发生的状态。

+   `等待主发送事件`

    从 MySQL 8.0.26: `等待源发送事件`

    线程已连接到源并等待二进制日志事件到达。 如果源处于空闲状态，这可能持续很长时间。 如果等待持续了 `replica_net_timeout` 或 `slave_net_timeout` 秒，将发生超时。 在那时，线程认为连接已中断并尝试重新连接。

+   `等待主更新`

    从 MySQL 8.0.26: `等待源更新`

    在 `连接到主` 或 `连接到源` 之前的初始状态。

+   `等待副本互斥体退出`

    从 MySQL 8.0.26: `等待副本互斥体退出`

    线程停止时短暂发生的状态。

+   `等待从 SQL 线程释放足够的中继日志空间`

    从 MySQL 8.0.26: `等待副本 SQL 线程释放足够的中继日志空间`

    您正在使用非零的 `relay_log_space_limit` 值，并且中继日志已经增长到足够大，使其总大小超过此值。 I/O（接收器）线程正在等待，直到 SQL（应用程序）线程通过处理中继日志内容释放足够的空间，以便可以删除一些中继日志文件。

+   `在失败的二进制日志转储请求后等待重新连接`

    如果二进制日志转储请求失败（由于断开连接），线程在睡眠时进入此状态，然后定期尝试重新连接。 可以使用 `CHANGE REPLICATION SOURCE TO` 语句（从 MySQL 8.0.23 开始）或 `CHANGE MASTER TO` 语句（在 MySQL 8.0.23 之前）指定重试间隔。

+   `在失败的主事件读取后等待重新连接`

    从 MySQL 8.0.26: `在失败的源事件读取后等待重新连接`

    在读取时发生错误（由于断开连接）。线程将根据`CHANGE REPLICATION SOURCE TO`语句（从 MySQL 8.0.23 开始）或`CHANGE MASTER TO`语句（MySQL 8.0.23 之前）设置的秒数（默认为 60）睡眠，然后尝试重新连接。
