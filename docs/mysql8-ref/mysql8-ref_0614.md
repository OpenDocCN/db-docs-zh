> 译文：[`dev.mysql.com/doc/refman/8.0/en/index-preloading.html`](https://dev.mysql.com/doc/refman/8.0/en/index-preloading.html)

#### 10.10.2.4 索引预加载

如果关键缓存中有足够的块来容纳整个索引的块，或者至少是对应于其非叶节点的块，那么在开始使用之前将关键缓存预加载索引块是有意义的。预加载使您能够以最有效的方式将表索引块放入关键缓存缓冲区中：通过按顺序从磁盘读取索引块。

没有预加载，块仍然根据查询的需要放入关键缓存中。尽管这些块保留在缓存中，因为所有这些块都有足够的缓冲区，它们是以随机顺序而不是顺序地从磁盘中获取的。

要将索引预加载到缓存中，请使用`LOAD INDEX INTO CACHE`语句。例如，以下语句预加载了表`t1`和`t2`的索引的节点（索引块）：

```sql
mysql> LOAD INDEX INTO CACHE t1, t2 IGNORE LEAVES;
+---------+--------------+----------+----------+
| Table   | Op           | Msg_type | Msg_text |
+---------+--------------+----------+----------+
| test.t1 | preload_keys | status   | OK       |
| test.t2 | preload_keys | status   | OK       |
+---------+--------------+----------+----------+
```

`IGNORE LEAVES`修饰符导致只预加载索引的非叶节点的块。因此，所示语句预加载了来自`t1`的所有索引块，但仅预加载了来自`t2`的非叶节点的块。

如果使用`CACHE INDEX`语句将索引分配给关键缓存，预加载将索引块放入该缓存中。否则，索引将加载到默认关键缓存中。
