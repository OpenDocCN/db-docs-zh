> 原文：[`dev.mysql.com/doc/refman/8.0/en/command-line-options.html`](https://dev.mysql.com/doc/refman/8.0/en/command-line-options.html)

#### 6.2.2.1 在命令行上使用选项

在命令行上指定的程序选项遵循以下规则：

+   选项在命令名称之后给出。

+   选项参数以一个短横线或两个短横线开头，取决于它是选项名称的短格式还是长格式。许多选项都有短格式和长格式。例如，`-?`和`--help`是指示 MySQL 程序显示帮助消息的选项的短格式和长格式。

+   选项名称区分大小写。`-v`和`-V`都是合法的，并且具有不同的含义（它们是`--verbose`和`--version`选项的相应短格式）。

+   一些选项在选项名称后面需要一个值。例如，`-h localhost`或`--host=localhost`表示 MySQL 服务器主机给客户端程序。选项值告诉程序 MySQL 服务器运行的主机名称。

+   对于需要值的长选项，选项名称和值之间用`=`符号分隔。对于需要值的短选项，选项值可以紧跟在选项字母后面，或者选项字母后面可以有一个空格：`-hlocalhost`和`-h localhost`是等效的。一个例外是用于指定 MySQL 密码的选项。这个选项可以以长格式给出，如`--password=*`pass_val`*`，也可以作为`--password`。在后一种情况下（没有给出密码值），程序会交互式提示您输入密码。密码选项也可以以短格式给出，如`-p*`pass_val`*`或`-p`。但是，对于短格式，如果给出了密码值，必须紧跟在选项字母后面，*不能有空格*：如果选项字母后面有空格，程序无法判断后面的参数是密码值还是其他类型的参数。因此，以下两个命令具有完全不同的含义：

    ```sql
    mysql -ptest
    mysql -p test
    ```

    第一个命令指示**mysql**使用密码值`test`，但没有指定默认数据库。第二个命令指示**mysql**提示输入密码值，并将`test`作为默认数据库。

+   在选项名称中，短横线（`-`）和下划线（`_`）在大多数情况下可以互换使用，尽管前导短横线*不能*用下划线表示。例如，`--skip-grant-tables`和`--skip_grant_tables`是等效的。

    在本手册中，我们在选项名称中使用破折号，除非下划线具有特殊意义。例如，`--log-bin` 和 `--log_bin` 是不同的选项。我们鼓励您也这样做。

+   MySQL 服务器有一些只能在启动时指定的命令选项，以及一组系统变量，其中一些可以在启动时、运行时或两者同时设置。系统变量名称使用下划线而不是破折号，并且在运行时引用时（例如，使用`SET`或`SELECT`语句），必须使用下划线写成：

    ```sql
    SET GLOBAL general_log = ON;
    SELECT @@GLOBAL.general_log;
    ```

    在服务器启动时，系统变量的语法与命令选项相同，因此在变量名称中，破折号和下划线可以互换使用。例如，`--general_log=ON` 和 `--general-log=ON` 是等效的。（这也适用于在选项文件中设置的系统变量。）

+   对于需要数字值的选项，值可以附加`K`、`M`或`G`后缀，以表示 1024、1024² 或 1024³ 的倍数。从 MySQL 8.0.14 开始，后缀也可以是`T`、`P`和`E`，表示 1024⁴、1024⁵ 或 1024⁶ 的倍数。后缀字母可以是大写或小写。

    例如，以下命令告诉**mysqladmin**向服务器发送 1024 次 ping，每次 ping 之间间隔 10 秒：

    ```sql
    mysqladmin --count=1K --sleep=10 ping
    ```

+   当指定文件名作为选项值时，避免使用`~` shell 元字符。它可能不会被解释为你期望的那样。

在命令行中给出包含空格的选项值时，必须用引号引起来。例如，`--execute`（或 `-e`）选项可与**mysql**一起使用，将一个或多个以分号分隔的 SQL 语句传递给服务器。当使用此选项时，**mysql**执行选项值中的语句并退出。语句必须用引号括起来。例如：

```sql
$> mysql -u root -p -e "SELECT VERSION();SELECT NOW()"
Enter password: ******
+------------+
| VERSION()  |
+------------+
| 8.0.19     |
+------------+
+---------------------+
| NOW()               |
+---------------------+
| 2019-09-03 10:36:48 |
+---------------------+
$>
```

注意

长格式（`--execute`）后跟等号（`=`）。

要在语句中使用带引号的值，你必须要么转义内部的引号，要么在语句中使用与引用语句本身不同类型的引号。你的命令处理器的功能决定了你可以使用单引号还是双引号以及转义引号字符的语法。例如，如果你的命令处理器支持使用单引号或双引号进行引用，你可以在语句周围使用双引号，并在语句中使用单引号引用任何值。
