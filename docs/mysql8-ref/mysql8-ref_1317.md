# 18.7.1 MERGE 表的优缺点

> 原文：[`dev.mysql.com/doc/refman/8.0/en/merge-table-advantages.html`](https://dev.mysql.com/doc/refman/8.0/en/merge-table-advantages.html)

`MERGE`表可以帮助你解决以下问题：

+   轻松管理一组日志表。例如，你可以将不同月份的数据放入单独的表中，压缩其中一些表，并创建一个`MERGE`表将它们作为一个整体使用。

+   获得更快的速度。你可以根据某些标准将一个大的只读表拆分，并将单独的表放在不同的磁盘上。以这种方式结构化的`MERGE`表可能比使用单个大表要快得多。

+   执行更有效的搜索。如果你确切知道你要找的内容，你可以仅在底层表中搜索某些查询，并对其他查询使用`MERGE`表。你甚至可以有许多使用重叠表集的不同`MERGE`表。

+   执行更有效的修复。修复映射到`MERGE`表的个别较小表比修复单个大表更容易。

+   瞬间将多个表映射为一个。`MERGE`表不需要维护自己的索引，因为它使用各个表的索引。因此，`MERGE`表集合创建或重新映射*非常*快速。（当创建`MERGE`表时，仍然必须指定索引定义，即使不创建索引。）

+   如果你有一组表，可以根据需要创建一个大表，那么你可以根据需要从中创建一个`MERGE`表。这样做会快得多，并节省大量磁盘空间。

+   超出操作系统的文件大小限制。每个`MyISAM`表受此限制约束，但`MyISAM`表的集合不受限制。

+   你可以通过定义一个映射到单个表的`MERGE`表来为`MyISAM`表创建别名或同义词。这样做几乎没有什么明显的性能影响（每次读取只有几个间接调用和`memcpy()`调用）。

`MERGE`表的缺点包括：

+   你只能使用相同的`MyISAM`表来创建`MERGE`表。

+   `MERGE`表中无法使用一些`MyISAM`功能。例如，你不能在`MERGE`表上创建`FULLTEXT`索引。（你可以在底层的`MyISAM`表上创建`FULLTEXT`索引，但不能使用全文搜索搜索`MERGE`表。）

+   如果`MERGE`表是非临时的，则所有底层的`MyISAM`表必须是非临时的。如果`MERGE`表是临时的，则`MyISAM`表可以是任意混合的临时和非临时。

+   `MERGE`表比`MyISAM`表使用更多的文件描述符。如果有 10 个客户端使用映射到 10 个表的`MERGE`表，则服务器使用（10 × 10）+ 10 个文件描述符。（每个客户端的 10 个数据文件描述符，以及在客户端之间共享的 10 个索引文件描述符。）

+   索引读取速度较慢。当你读取一个索引时，`MERGE` 存储引擎需要在所有底层表上发出读取操作，以检查哪个最接近给定索引值。要读取下一个索引值，`MERGE` 存储引擎需要搜索读取缓冲区以找到下一个值。只有当一个索引缓冲区被用完时，存储引擎才需要读取下一个索引块。这使得 `MERGE` 索引在 `eq_ref` 搜索上要慢得多，但在 `ref` 搜索上并不慢。有关 `eq_ref` 和 `ref` 的更多信息，请参见 第 15.8.2 节，“EXPLAIN 语句”。
