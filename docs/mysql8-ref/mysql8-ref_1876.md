# 27.4.1 事件调度程序概述

> 原文：[`dev.mysql.com/doc/refman/8.0/en/events-overview.html`](https://dev.mysql.com/doc/refman/8.0/en/events-overview.html)

MySQL 事件是按照时间表运行的任务。因此，我们有时将它们称为*定时*事件。当您创建一个事件时，实际上是创建了一个命名的数据库对象，其中包含一个或多个要在一个或多个常规间隔执行的 SQL 语句，开始和结束于特定日期和时间。从概念上讲，这类似于 Unix 的`crontab`（也称为“cron job”）或 Windows 任务计划程序的概念。

这种类型的定时任务有时也被称为“时间触发器”，暗示这些是由时间流逝触发的对象。虽然这基本上是正确的，但我们更倾向于使用术语*事件*，以避免与第 27.3 节“使用触发器”中讨论的触发器混淆。事件更具体地不应与“临时触发器”混淆。触发器是一个数据库对象，其语句在发生在给定表上的特定类型事件时执行，而（定时）事件是一个对象，其语句在经过指定的时间间隔后执行。

虽然 SQL 标准中没有关于事件调度的规定，但其他数据库系统中有先例，您可能会注意到这些实现与 MySQL 服务器中的实现之间的一些相似之处。

MySQL 事件具有以下主要特性和属性：

+   在 MySQL 中，事件通过其名称和分配给它的模式唯一标识。

+   事件根据时间表执行特定操作。此操作包括一个 SQL 语句，如果需要，可以是一个`BEGIN ... END`块中的复合语句（请参阅第 15.6 节“复合语句语法”）。事件的时间可以是一次性的或循环的。一次性事件仅执行一次。循环事件在常规间隔重复其操作，并且循环事件的时间表可以分配一个特定的开始日期和时间，结束日期和时间，两者都有，或两者都没有。（默认情况下，循环事件的时间表在创建时立即开始，并持续无限期，直到被禁用或删除。）

    如果重复事件在其调度间隔内没有终止，则可能会导致多个事件实例同时执行。如果这是不希望的，您应该实施一种机制来防止同时实例。例如，您可以使用`GET_LOCK()`函数，或行或表锁定。

+   用户可以使用专为此目的设计的 SQL 语句创建、修改和删除计划事件。语法无效的事件创建和修改语句将失败，并显示适当的错误消息。*用户可能在事件的操作中包含需要用户实际上没有的权限的语句*。事件创建或修改语句成功，但事件的操作失败。有关详细信息，请参见 第 27.4.6 节，“事件调度程序和 MySQL 权限”。

+   许多事件的属性可以使用 SQL 语句进行设置或修改。这些属性包括事件的名称、定时、持久性（即在其计划过期后是否保留）、状态（启用或禁用）、要执行的操作以及分配给它的模式。参见 第 15.1.3 节，“ALTER EVENT 语句”。

    事件的默认定义者是创建事件的用户，除非事件已被修改，在这种情况下，定义者是发出影响该事件的最后一个 `ALTER EVENT` 语句的用户。任何具有对定义事件的数据库上的 `EVENT` 权限的用户都可以修改事件。有关详细信息，请参见 第 27.4.6 节，“事件调度程序和 MySQL 权限”。

+   事件的操作语句可以包含大多数存储过程中允许的 SQL 语句。有关限制，请参见 第 27.8 节，“存储程序的限制”。
