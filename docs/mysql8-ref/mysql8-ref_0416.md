> 原文：[`dev.mysql.com/doc/refman/8.0/en/keyring-component-plugin-comparison.html`](https://dev.mysql.com/doc/refman/8.0/en/keyring-component-plugin-comparison.html)

#### 8.4.4.1 密钥环组件与密钥环插件

MySQL Keyring 最初使用服务器插件实现了密钥库功能，但从 MySQL 8.0.24 开始开始过渡到使用组件基础架构。本节简要比较了密钥环组件和插件，以提供它们之间差异的概述。这可能有助于您从插件过渡到组件，或者如果您刚开始使用密钥环，则有助于您选择是使用组件还是插件。

+   密钥环插件加载使用 `--early-plugin-load` 选项。密钥环组件加载使用清单。

+   密钥环插件配置基于特定于插件的系统变量。对于密钥环组件，不使用系统变量。相反，每个组件都有自己的配置文件。

+   与密钥环插件相比，密钥环组件在密钥类型和长度方面的限制较少。请参阅第 8.4.4.13 节，“支持的密钥环密钥类型和长度”。

    注意

    `component_keyring_oci`（类似于`keyring_oci`插件）只能生成类型为`AES`且大小为 16、24 或 32 字节的密钥。

+   密钥环组件支持对持久化系统变量值进行安全存储，而密钥环插件不支持该功能。

    必须在 MySQL 服务器实例上启用密钥环组件，以支持对持久化系统变量值进行安全存储。以这种方式可以保护的敏感数据包括出现在系统变量值中的私钥和密码等项目。在存储持久化系统变量的操作系统文件中，敏感系统变量的名称和值以加密格式存储，以及用于解密它们的生成文件密钥。生成的文件密钥又使用存储在密钥环中的主密钥进行加密。请参阅持久化敏感系统变量。
