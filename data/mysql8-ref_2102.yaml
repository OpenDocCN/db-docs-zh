- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/performance-schema-socket-summary-tables.html](https://dev.mysql.com/doc/refman/8.0/en/performance-schema-socket-summary-tables.html)
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/performance-schema-socket-summary-tables.html](https://dev.mysql.com/doc/refman/8.0/en/performance-schema-socket-summary-tables.html)
- en: 29.12.20.9 Socket Summary Tables
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 29.12.20.9 套接字汇总表
- en: 'These socket summary tables aggregate timer and byte count information for
    socket operations:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这些套接字汇总表聚合计时器和字节计数信息，用于套接字操作：
- en: '[`socket_summary_by_event_name`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables"): Aggregate timer and byte count statistics
    generated by the `wait/io/socket/*` instruments for all socket I/O operations,
    per socket instrument.'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_event_name`](performance-schema-socket-summary-tables.html
    "29.12.20.9 套接字汇总表")：聚合由`wait/io/socket/*`工具生成的计时器和字节计数统计信息，适用于所有套接字I/O操作，每个套接字工具。'
- en: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables"): Aggregate timer and byte count statistics
    generated by the `wait/io/socket/*` instruments for all socket I/O operations,
    per socket instance. When a connection terminates, the row in [`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables") corresponding to it is deleted.'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 套接字汇总表")：聚合由`wait/io/socket/*`工具生成的计时器和字节计数统计信息，适用于所有套接字I/O操作，每个套接字实例。当连接终止时，对应于其的[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 套接字汇总表")中的行将被删除。'
- en: The socket summary tables do not aggregate waits generated by `idle` events
    while sockets are waiting for the next request from the client. For `idle` event
    aggregations, use the wait-event summary tables; see [Section 29.12.20.1, “Wait
    Event Summary Tables”](performance-schema-wait-summary-tables.html "29.12.20.1 Wait
    Event Summary Tables").
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 套接字汇总表不会聚合由`idle`事件生成的等待，而套接字在等待来自客户端的下一个请求时。对于`idle`事件的聚合，使用等待事件汇总表；参见[第29.12.20.1节，“等待事件汇总表”](performance-schema-wait-summary-tables.html
    "29.12.20.1 等待事件汇总表")。
- en: 'Each socket summary table has one or more grouping columns to indicate how
    the table aggregates events. Event names refer to names of event instruments in
    the [`setup_instruments`](performance-schema-setup-instruments-table.html "29.12.2.3 The
    setup_instruments Table") table:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 每个套接字汇总表都有一个或多个分组列，指示表如何聚合事件。事件名称指的是[`setup_instruments`](performance-schema-setup-instruments-table.html
    "29.12.2.3 setup_instruments表")表中事件工具的名称：
- en: '[`socket_summary_by_event_name`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables") has an `EVENT_NAME` column. Each row summarizes
    events for a given event name.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_event_name`](performance-schema-socket-summary-tables.html
    "29.12.20.9 套接字汇总表")有一个`EVENT_NAME`列。每行汇总给定事件名称的事件。'
- en: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables") has an `OBJECT_INSTANCE_BEGIN` column. Each
    row summarizes events for a given object.'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 套接字汇总表")有一个`OBJECT_INSTANCE_BEGIN`列。每行汇总给定对象的事件。'
- en: 'Each socket summary table has these summary columns containing aggregated values:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 每个套接字汇总表都有这些包含聚合值的汇总列：
- en: '`COUNT_STAR`, `SUM_TIMER_WAIT`, `MIN_TIMER_WAIT`, `AVG_TIMER_WAIT`, `MAX_TIMER_WAIT`'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`COUNT_STAR`, `SUM_TIMER_WAIT`, `MIN_TIMER_WAIT`, `AVG_TIMER_WAIT`, `MAX_TIMER_WAIT`'
- en: These columns aggregate all operations.
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些列聚合所有操作。
- en: '`COUNT_READ`, `SUM_TIMER_READ`, `MIN_TIMER_READ`, `AVG_TIMER_READ`, `MAX_TIMER_READ`,
    `SUM_NUMBER_OF_BYTES_READ`'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`COUNT_READ`, `SUM_TIMER_READ`, `MIN_TIMER_READ`, `AVG_TIMER_READ`, `MAX_TIMER_READ`,
    `SUM_NUMBER_OF_BYTES_READ`'
- en: These columns aggregate all receive operations (`RECV`, `RECVFROM`, and `RECVMSG`).
  id: totrans-13
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些列聚合所有接收操作（`RECV`，`RECVFROM`和`RECVMSG`）。
- en: '`COUNT_WRITE`, `SUM_TIMER_WRITE`, `MIN_TIMER_WRITE`, `AVG_TIMER_WRITE`, `MAX_TIMER_WRITE`,
    `SUM_NUMBER_OF_BYTES_WRITE`'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`COUNT_WRITE`, `SUM_TIMER_WRITE`, `MIN_TIMER_WRITE`, `AVG_TIMER_WRITE`, `MAX_TIMER_WRITE`,
    `SUM_NUMBER_OF_BYTES_WRITE`'
- en: These columns aggregate all send operations (`SEND`, `SENDTO`, and `SENDMSG`).
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些列聚合所有发送操作（`SEND`，`SENDTO`和`SENDMSG`）。
- en: '`COUNT_MISC`, `SUM_TIMER_MISC`, `MIN_TIMER_MISC`, `AVG_TIMER_MISC`, `MAX_TIMER_MISC`'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`COUNT_MISC`, `SUM_TIMER_MISC`, `MIN_TIMER_MISC`, `AVG_TIMER_MISC`, `MAX_TIMER_MISC`'
- en: These columns aggregate all other socket operations, such as `CONNECT`, `LISTEN`,
    `ACCEPT`, `CLOSE`, and `SHUTDOWN`. There are no byte counts for these operations.
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些列聚合所有其他套接字操作，如`CONNECT`，`LISTEN`，`ACCEPT`，`CLOSE`和`SHUTDOWN`。这些操作没有字节计数。
- en: 'The [`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables") table also has an `EVENT_NAME` column that
    indicates the class of the socket: `client_connection`, `server_tcpip_socket`,
    `server_unix_socket`. This column can be grouped on to isolate, for example, client
    activity from that of the server listening sockets.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables")表还具有一个`EVENT_NAME`列，指示套接字的类别：`client_connection`、`server_tcpip_socket`、`server_unix_socket`。可以根据此列进行分组，例如将客户端活动与服务器监听套接字的活动隔离开来。'
- en: 'The socket summary tables have these indexes:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 套接字摘要表具有以下索引：
- en: '[`socket_summary_by_event_name`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables"):'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_event_name`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables"):'
- en: Primary key on (`EVENT_NAME`)
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主键为(`EVENT_NAME`)
- en: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables"):'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`socket_summary_by_instance`](performance-schema-socket-summary-tables.html
    "29.12.20.9 Socket Summary Tables"):'
- en: Primary key on (`OBJECT_INSTANCE_BEGIN`)
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主键为(`OBJECT_INSTANCE_BEGIN`)
- en: Index on (`EVENT_NAME`)
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 索引为(`EVENT_NAME`)
- en: '[`TRUNCATE TABLE`](truncate-table.html "15.1.37 TRUNCATE TABLE Statement")
    is permitted for socket summary tables. Except for [`events_statements_summary_by_digest`](performance-schema-statement-summary-tables.html
    "29.12.20.3 Statement Summary Tables"), it resets the summary columns to zero
    rather than removing rows.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 允许对套接字摘要表执行[`TRUNCATE TABLE`](truncate-table.html "15.1.37 TRUNCATE TABLE Statement")。除了[`events_statements_summary_by_digest`](performance-schema-statement-summary-tables.html
    "29.12.20.3 Statement Summary Tables")之外，它将摘要列重置为零，而不是删除行。
