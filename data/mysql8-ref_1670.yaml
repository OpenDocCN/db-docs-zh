- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-ndbd-definition.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-ndbd-definition.html)
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-ndbd-definition.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-ndbd-definition.html)
- en: 25.4.3.6 Defining NDB Cluster Data Nodes
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 25.4.3.6 定义NDB集群数据节点
- en: The `[ndbd]` and `[ndbd default]` sections are used to configure the behavior
    of the cluster's data nodes.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '`[ndbd]`和`[ndbd default]`部分用于配置集群数据节点的行为。'
- en: '`[ndbd]` and `[ndbd default]` are always used as the section names whether
    you are using [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB
    Cluster Data Node Daemon") or [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") binaries
    for the data node processes.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 无论您使用[**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — NDB集群数据节点守护程序")还是[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB集群数据节点守护程序（多线程）")二进制文件来运行数据节点进程，`[ndbd]`和`[ndbd default]`始终用作部分名称。
- en: There are many parameters which control buffer sizes, pool sizes, timeouts,
    and so forth. The only mandatory parameter is `HostName`; this must be defined
    in the local `[ndbd]` section.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多参数控制缓冲区大小、池大小、超时等。唯一强制的参数是`HostName`；这必须在本地`[ndbd]`部分中定义。
- en: The parameter [`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)
    should be defined in the `[ndbd default]` section, as it is common to all Cluster
    data nodes. It is not strictly necessary to set [`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas),
    but it is good practice to set it explicitly.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 参数[`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)应该在`[ndbd
    default]`部分中定义，因为它适用于所有集群数据节点。严格来说，设置[`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)并不是必需的，但明确设置它是一个好习惯。
- en: Most data node parameters are set in the `[ndbd default]` section. Only those
    parameters explicitly stated as being able to set local values are permitted to
    be changed in the `[ndbd]` section. Where present, `HostName` and `NodeId` *must*
    be defined in the local `[ndbd]` section, and not in any other section of `config.ini`.
    In other words, settings for these parameters are specific to one data node.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数数据节点参数在`[ndbd default]`部分设置。只有那些明确说明可以设置本地值的参数才允许在`[ndbd]`部分更改。如果存在，`HostName`和`NodeId`
    *必须* 在本地`[ndbd]`部分定义，而不是在`config.ini`的任何其他部分。换句话说，这些参数的设置是特定于一个数据节点的。
- en: For those parameters affecting memory usage or buffer sizes, it is possible
    to use `K`, `M`, or `G` as a suffix to indicate units of 1024, 1024×1024, or 1024×1024×1024\.
    (For example, `100K` means 100 × 1024 = 102400.)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些影响内存使用或缓冲区大小的参数，可以使用`K`、`M`或`G`作为后缀表示1024、1024×1024或1024×1024×1024的单位。（例如，`100K`表示100
    × 1024 = 102400。）
- en: Parameter names and values are case-insensitive, unless used in a MySQL Server
    `my.cnf` or `my.ini` file, in which case they are case-sensitive.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 参数名称和值不区分大小写，除非在MySQL Server的`my.cnf`或`my.ini`文件中使用，此时它们是区分大小写的。
- en: Information about configuration parameters specific to NDB Cluster Disk Data
    tables can be found later in this section (see [Disk Data Configuration Parameters](mysql-cluster-ndbd-definition.html#mysql-cluster-ndbd-definition-disk-data-parameters
    "Disk Data Configuration Parameters")).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 有关特定于NDB集群磁盘数据表的配置参数的信息可以在本节后面找到（参见[磁盘数据配置参数](mysql-cluster-ndbd-definition.html#mysql-cluster-ndbd-definition-disk-data-parameters
    "磁盘数据配置参数")）。
- en: All of these parameters also apply to [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") (the multithreaded
    version of [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB
    Cluster Data Node Daemon")). Three additional data node configuration parameters—[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads),
    [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig),
    and [`NoOfFragmentLogParts`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-nooffragmentlogparts)—apply
    to [**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The NDB Cluster
    Data Node Daemon (Multi-Threaded)") only; these have no effect when used with
    [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB Cluster Data
    Node Daemon"). For more information, see [Multi-Threading Configuration Parameters
    (ndbmtd)](mysql-cluster-ndbd-definition.html#mysql-cluster-ndbd-definition-ndbmtd-parameters
    "Multi-Threading Configuration Parameters (ndbmtd)"). See also [Section 25.5.3,
    “ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)”](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)").
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些参数也适用于[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — NDB
    Cluster数据节点守护程序（多线程）")（[**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd
    — NDB Cluster数据节点守护程序")的多线程版本）。另外三个数据节点配置参数—[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)、[`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)和[`NoOfFragmentLogParts`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-nooffragmentlogparts)—仅适用于[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB Cluster数据节点守护程序（多线程)")；当与[**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — NDB Cluster数据节点守护程序")一起使用时，这些参数没有效果。有关更多信息，请参阅[多线程配置参数（ndbmtd）](mysql-cluster-ndbd-definition.html#mysql-cluster-ndbd-definition-ndbmtd-parameters
    "多线程配置参数（ndbmtd）")。另请参阅[第25.5.3节，“ndbmtd — NDB Cluster数据节点守护程序（多线程）”](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB Cluster数据节点守护程序（多线程）")。
- en: '**Identifying data nodes. ** The `NodeId` or `Id` value (that is, the data
    node identifier) can be allocated on the command line when the node is started
    or in the configuration file.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**标识数据节点。** `NodeId`或`Id`值（即数据节点标识符）可以在启动节点时通过命令行分配，也可以在配置文件中分配。'
- en: '`NodeId`'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NodeId`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-13
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | [...] |'
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [...] |'
- en: '| Range | 1 - 48 |'
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 48 |'
- en: '| Version (or later) | NDB 8.0.18 |'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.18 |'
- en: '| Type or units | unsigned |'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | [...] |'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [...] |'
- en: '| Range | 1 - 144 |'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 144 |'
- en: '| Restart Type | **Initial System Restart:** Requires a complete shutdown of
    the cluster, wiping and restoring the cluster file system from a [backup](mysql-cluster-backup.html
    "25.6.8 Online Backup of NDB Cluster"), and then restarting the cluster. (NDB
    8.0.13) |'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始系统重启：** 需要完全关闭集群，从[备份](mysql-cluster-backup.html "25.6.8 NDB Cluster的在线备份")中擦除和恢复集群文件系统，然后重新启动集群。（NDB
    8.0.13）'
- en: A unique node ID is used as the node's address for all cluster internal messages.
    For data nodes, this is an integer in the range 1 to 144 inclusive. Each node
    in the cluster must have a unique identifier.
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个唯一的节点ID被用作所有集群内部消息的节点地址。对于数据节点，这是一个范围在1到144之间的整数。集群中的每个节点必须具有唯一标识符。
- en: '`NodeId` is the only supported parameter name to use when identifying data
    nodes.'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`NodeId` 是唯一支持的参数名称，用于标识数据节点。'
- en: '`ExecuteOnComputer`'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ExecuteOnComputer`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | name |'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 名称 |'
- en: '| Default | [...] |'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [...] |'
- en: '| Range | ... |'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Deprecated | Yes (in NDB 7.5) |'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | 是（在NDB 7.5中） |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭和重新启动集群。（NDB 8.0.13）'
- en: This refers to the `Id` set for one of the computers defined in a `[computer]`
    section.
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这指的是在`[computer]`部分中定义的一个计算机的`Id`设置。
- en: Important
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: This parameter is deprecated, and is subject to removal in a future release.
    Use the [`HostName`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-hostname)
    parameter instead.
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数已弃用，并可能在将来的版本中被移除。请改用[`HostName`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-hostname)参数。
- en: The node ID for this node can be given out only to connections that explicitly
    request it. A management server that requests “any” node ID cannot use this one.
    This parameter can be used when running multiple management servers on the same
    host, and [`HostName`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-hostname)
    is not sufficient for distinguishing among processes. Intended for use in testing.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅当显式请求时才能提供此节点的节点ID。请求“任何”节点ID的管理服务器不能使用此节点ID。当在同一主机上运行多个管理服务器时，且[`HostName`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-hostname)不足以区分进程时，可以使用此参数。用于测试目的。
- en: '`HostName`'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`HostName`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | name or IP address |'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 名称或IP地址 |'
- en: '| Default | localhost |'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | localhost |'
- en: '| Range | ... |'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")。 （NDB 8.0.13） |'
- en: Specifying this parameter defines the hostname of the computer on which the
    data node is to reside. Use `HostName` to specify a host name other than `localhost`.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 指定此参数定义数据节点所在计算机的主机名。使用`HostName`指定一个不同于`localhost`的主机名。
- en: '[`ServerPort`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-serverport)'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ServerPort`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-serverport)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | [...] |'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [...] |'
- en: '| Range | 1 - 64K |'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 64K |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重新启动集群。 （NDB 8.0.13） |'
- en: Each node in the cluster uses a port to connect to other nodes. By default,
    this port is allocated dynamically in such a way as to ensure that no two nodes
    on the same host computer receive the same port number, so it should normally
    not be necessary to specify a value for this parameter.
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 集群中的每个节点都使用一个端口连接到其他节点。默认情况下，这个端口是动态分配的，以确保同一台主机上的两个节点不会收到相同的端口号，因此通常不需要为此参数指定一个值。
- en: However, if you need to be able to open specific ports in a firewall to permit
    communication between data nodes and API nodes (including SQL nodes), you can
    set this parameter to the number of the desired port in an `[ndbd]` section or
    (if you need to do this for multiple data nodes) the `[ndbd default]` section
    of the `config.ini` file, and then open the port having that number for incoming
    connections from SQL nodes, API nodes, or both.
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 但是，如果您需要在防火墙中打开特定端口以允许数据节点和API节点（包括SQL节点）之间的通信，您可以在`config.ini`文件的`[ndbd]`部分或（如果需要为多个数据节点执行此操作）`[ndbd
    default]`部分中设置此参数为所需端口的编号，然后打开具有该编号的端口以允许来自SQL节点、API节点或两者的传入连接。
- en: Note
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: Connections from data nodes to management nodes is done using the [**ndb_mgmd**](mysql-cluster-programs-ndb-mgmd.html
    "25.5.4 ndb_mgmd — The NDB Cluster Management Server Daemon") management port
    (the management server's [`PortNumber`](mysql-cluster-mgm-definition.html#ndbparam-mgmd-portnumber))
    so outgoing connections to that port from any data nodes should always be permitted.
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据节点到管理节点的连接是使用[**ndb_mgmd**](mysql-cluster-programs-ndb-mgmd.html "25.5.4 ndb_mgmd
    — The NDB Cluster Management Server Daemon")管理端口（管理服务器的[`PortNumber`](mysql-cluster-mgm-definition.html#ndbparam-mgmd-portnumber)）进行的，因此应始终允许来自任何数据节点的对该端口的出站连接。
- en: '`TcpBind_INADDR_ANY`'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TcpBind_INADDR_ANY`'
- en: Setting this parameter to `TRUE` or `1` binds `IP_ADDR_ANY` so that connections
    can be made from anywhere (for autogenerated connections). The default is `FALSE`
    (`0`).
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置为`TRUE`或`1`会绑定`IP_ADDR_ANY`，以便可以从任何地方进行连接（用于自动生成的连接）。默认值为`FALSE`（`0`）。
- en: '[`NodeGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`NodeGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | [...] |'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [...] |'
- en: '| Range | 0 - 65536 |'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 65536 |'
- en: '| Restart Type | **Initial System Restart:** Requires a complete shutdown of
    the cluster, wiping and restoring the cluster file system from a [backup](mysql-cluster-backup.html
    "25.6.8 Online Backup of NDB Cluster"), and then restarting the cluster. (NDB
    8.0.13) |'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始系统重启：** 需要完全关闭集群，从[备份](mysql-cluster-backup.html "25.6.8 Online
    Backup of NDB Cluster")中擦除和恢复集群文件系统，然后重新启动集群。（NDB 8.0.13） |'
- en: This parameter can be used to assign a data node to a specific node group. It
    is read only when the cluster is started for the first time, and cannot be used
    to reassign a data node to a different node group online. It is generally not
    desirable to use this parameter in the `[ndbd default]` section of the `config.ini`
    file, and care must be taken not to assign nodes to node groups in such a way
    that an invalid numbers of nodes are assigned to any node groups.
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数可用于将数据节点分配给特定节点组。当集群首次启动时，它是只读的，并且不能用于在线重新分配数据节点到不同的节点组。通常不建议在`config.ini`文件的`[ndbd
    default]`部分中使用此参数，并且必须小心不要将节点分配给节点组，以使任何节点组分配了无效数量的节点。
- en: 'The [`NodeGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)
    parameter is chiefly intended for use in adding a new node group to a running
    NDB Cluster without having to perform a rolling restart. For this purpose, you
    should set it to 65536 (the maximum value). You are not required to set a [`NodeGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)
    value for all cluster data nodes, only for those nodes which are to be started
    and added to the cluster as a new node group at a later time. For more information,
    see [Section 25.6.7.3, “Adding NDB Cluster Data Nodes Online: Detailed Example”](mysql-cluster-online-add-node-example.html
    "25.6.7.3 Adding NDB Cluster Data Nodes Online: Detailed Example").'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`NodeGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)参数主要用于在运行中的NDB集群中添加一个新的节点组，而无需执行滚动重启。为此，您应将其设置为65536（最大值）。您不需要为所有集群数据节点设置[`NodeGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)值，只需为那些稍后要启动并添加到集群中作为新节点组的节点设置值。有关更多信息，请参见[第25.6.7.3节，“在线添加NDB集群数据节点：详细示例”](mysql-cluster-online-add-node-example.html
    "25.6.7.3 Adding NDB Cluster Data Nodes Online: Detailed Example")。'
- en: '[`LocationDomainId`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-locationdomainid)'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LocationDomainId`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-locationdomainid)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 16 |'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 16 |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭和重启集群。（NDB 8.0.13） |'
- en: 'Assigns a data node to a specific [availability domain](https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/regions.htm)
    (also known as an availability zone) within a cloud. By informing `NDB` which
    nodes are in which availability domains, performance can be improved in a cloud
    environment in the following ways:'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将数据节点分配给云中的特定[可用域](https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/regions.htm)（也称为可用区）。通过告知`NDB`哪些节点位于哪些可用域中，可以在云环境中以以下方式改善性能：
- en: If requested data is not found on the same node, reads can be directed to another
    node in the same availability domain.
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果请求的数据在同一节点上找不到，则读取可以指向同一可用域中的另一个节点。
- en: Communication between nodes in different availability domains are guaranteed
    to use `NDB` transporters' WAN support without any further manual intervention.
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不同可用域中节点之间的通信将保证使用`NDB`传输器的广域网支持，无需进一步手动干预。
- en: The transporter's group number can be based on which availability domain is
    used, such that also SQL and other API nodes communicate with local data nodes
    in the same availability domain whenever possible.
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传输器的组号可以基于使用的可用域，以便SQL和其他API节点在可能的情况下与同一可用域中的本地数据节点通信。
- en: The arbitrator can be selected from an availability domain in which no data
    nodes are present, or, if no such availability domain can be found, from a third
    availability domain.
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仲裁者可以从没有数据节点的可用域中选择，或者，如果找不到这样的可用域，则可以从第三个可用域中选择。
- en: '`LocationDomainId` takes an integer value between 0 and 16 inclusive, with
    0 being the default; using 0 is the same as leaving the parameter unset.'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`LocationDomainId`接受一个介于0和16之间的整数值，其中0是默认值；使用0与未设置参数相同。'
- en: '[`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 2 |'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 2 |'
- en: '| Range | 1 - 2 |'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 2 |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.19 |'
- en: '| Type or units | integer |'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 2 |'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 2 |'
- en: '| Range | 1 - 4 |'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 4 |'
- en: '| Restart Type | **Initial System Restart:** Requires a complete shutdown of
    the cluster, wiping and restoring the cluster file system from a [backup](mysql-cluster-backup.html
    "25.6.8 Online Backup of NDB Cluster"), and then restarting the cluster. (NDB
    8.0.13) |'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始系统重启：** 需要完全关闭集群，从[备份](mysql-cluster-backup.html "25.6.8 NDB 集群的在线备份")中擦除和恢复集群文件系统，然后重新启动集群。（NDB
    8.0.13） |'
- en: This global parameter can be set only in the `[ndbd default]` section, and defines
    the number of fragment replicas for each table stored in the cluster. This parameter
    also specifies the size of node groups. A node group is a set of nodes all storing
    the same information.
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此全局参数只能在`[ndbd default]`部分中设置，定义了集群中每个表的片段副本数。此参数还指定了节点组的大小。节点组是存储相同信息的一组节点。
- en: Node groups are formed implicitly. The first node group is formed by the set
    of data nodes with the lowest node IDs, the next node group by the set of the
    next lowest node identities, and so on. By way of example, assume that we have
    4 data nodes and that `NoOfReplicas` is set to 2\. The four data nodes have node
    IDs 2, 3, 4 and 5\. Then the first node group is formed from nodes 2 and 3, and
    the second node group by nodes 4 and 5\. It is important to configure the cluster
    in such a manner that nodes in the same node groups are not placed on the same
    computer because a single hardware failure would cause the entire cluster to fail.
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 节点组是隐式形成的。第一个节点组由具有最低节点 ID 的数据节点集合形成，下一个节点组由具有下一个最低节点标识的节点集合形成，依此类推。举例来说，假设我们有
    4 个数据节点，并且`NoOfReplicas`设置为 2。这四个数据节点的节点 ID 分别为 2、3、4 和 5。那么第一个节点组由节点 2 和 3 形成，第二个节点组由节点
    4 和 5 形成。重要的是要以这样的方式配置集群，即不要将同一节点组中的节点放置在同一台计算机上，因为单个硬件故障会导致整个集群失败。
- en: If no node IDs are provided, the order of the data nodes is the determining
    factor for the node group. Whether or not explicit assignments are made, they
    can be viewed in the output of the management client's [`SHOW`](mysql-cluster-mgm-client-commands.html#ndbclient-show)
    command.
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果未提供节点 ID，则数据节点的顺序决定节点组。无论是否进行了显式分配，都可以在管理客户端的[`SHOW`](mysql-cluster-mgm-client-commands.html#ndbclient-show)命令的输出中查看它们。
- en: The default value for `NoOfReplicas` is 2. This is the recommended value for
    most production environments. In NDB 8.0, setting this parameter's value to 3
    or 4 is fully tested and supported in production.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`NoOfReplicas`的默认值为 2。这是大多数生产环境的推荐值。在 NDB 8.0 中，将此参数的值设置为 3 或 4 在生产环境中经过充分测试和支持。'
- en: Warning
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 警告
- en: Setting `NoOfReplicas` to 1 means that there is only a single copy of all Cluster
    data; in this case, the loss of a single data node causes the cluster to fail
    because there are no additional copies of the data stored by that node.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`NoOfReplicas`设置为 1 意味着所有集群数据只有一个副本；在这种情况下，单个数据节点的丢失会导致集群失败，因为该节点没有存储数据的额外副本。
- en: The number of data nodes in the cluster must be evenly divisible by the value
    of this parameter. For example, if there are two data nodes, then [`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)
    must be equal to either 1 or 2, since 2/3 and 2/4 both yield fractional values;
    if there are four data nodes, then `NoOfReplicas` must be equal to 1, 2, or 4.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 集群中的数据节点数量必须能够被此参数的值整除。例如，如果有两个数据节点，则[`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)必须等于
    1 或 2，因为 2/3 和 2/4 都会产生分数值；如果有四个数据节点，则`NoOfReplicas`必须等于 1、2 或 4。
- en: '`DataDir`'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DataDir`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | path |'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 路径 |'
- en: '| Default | . |'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | . |'
- en: '| Range | ... |'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")；每个数据节点都必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: This parameter specifies the directory where trace files, log files, pid files
    and error logs are placed.
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定了跟踪文件、日志文件、pid 文件和错误日志的目录。
- en: The default is the data node process working directory.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为数据节点进程的工作目录。
- en: '[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | path |'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 路径 |'
- en: '| Default | DataDir |'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | DataDir |'
- en: '| Range | ... |'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: This parameter specifies the directory where all files created for metadata,
    REDO logs, UNDO logs (for Disk Data tables), and data files are placed. The default
    is the directory specified by `DataDir`.
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定了用于存放元数据、REDO日志、UNDO日志（用于磁盘数据表）和数据文件的目录。默认目录为由`DataDir`指定的目录。
- en: Note
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: This directory must exist before the [**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon") process is initiated.
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在启动[**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB Cluster
    Data Node Daemon")进程之前，此目录必须存在。
- en: The recommended directory hierarchy for NDB Cluster includes `/var/lib/mysql-cluster`,
    under which a directory for the node's file system is created. The name of this
    subdirectory contains the node ID. For example, if the node ID is 2, this subdirectory
    is named `ndb_2_fs`.
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: NDB Cluster的推荐目录层次结构包括`/var/lib/mysql-cluster`，在此目录下创建一个用于节点文件系统的目录。此子目录的名称包含节点ID。例如，如果节点ID为2，则此子目录命名为`ndb_2_fs`。
- en: '[`BackupDataDir`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatadir)'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupDataDir`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatadir)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | path |'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 路径 |'
- en: '| Default | FileSystemPath |'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | FileSystemPath |'
- en: '| Range | ... |'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: This parameter specifies the directory in which backups are placed.
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定了备份存放的目录。
- en: Important
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: The string '`/BACKUP`' is always appended to this value. For example, if you
    set the value of [`BackupDataDir`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatadir)
    to `/var/lib/cluster-data`, then all backups are stored under `/var/lib/cluster-data/BACKUP`.
    This also means that the *effective* default backup location is the directory
    named `BACKUP` under the location specified by the [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)
    parameter.
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 字符串'`/BACKUP`'始终附加到此值。例如，如果将[`BackupDataDir`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatadir)的值设置为`/var/lib/cluster-data`，则所有备份都存储在`/var/lib/cluster-data/BACKUP`下。这也意味着*有效*默认备份位置是由[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)参数指定的位置下名为`BACKUP`的目录。
- en: Data Memory, Index Memory, and String Memory
  id: totrans-118
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据内存、索引内存和字符串内存
- en: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    and [`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)
    are `[ndbd]` parameters specifying the size of memory segments used to store the
    actual records and their indexes. In setting values for these, it is important
    to understand how [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    is used, as it usually needs to be updated to reflect actual usage by the cluster.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)和[`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)是指定用于存储实际记录和其索引的内存段大小的`[ndbd]`参数。在设置这些值时，重要的是要了解[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)的使用方式，因为通常需要根据集群的实际使用情况进行更新。'
- en: Note
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '`IndexMemory` is deprecated, and subject to removal in a future version of
    NDB Cluster. See the descriptions that follow for further information.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '`IndexMemory`已被弃用，并可能在将来的NDB Cluster版本中被移除。有关更多信息，请参阅后续描述。'
- en: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 98M |'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 98M |'
- en: '| Range | 1M - 1T |'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 1T |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.19 |'
- en: '| Type or units | bytes |'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 98M |'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 98M |'
- en: '| Range | 1M - 16T |'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 16T |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter defines the amount of space (in bytes) available for storing
    database records. The entire amount specified by this value is allocated in memory,
    so it is extremely important that the machine has sufficient physical memory to
    accommodate it.
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数定义了用于存储数据库记录的空间量（以字节为单位）。此值指定的整个空间量都分配在内存中，因此机器必须具有足够的物理内存来容纳它非常重要。
- en: The memory allocated by [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    is used to store both the actual records and indexes. There is a 16-byte overhead
    on each record; an additional amount for each record is incurred because it is
    stored in a 32KB page with 128 byte page overhead (see below). There is also a
    small amount wasted per page due to the fact that each record is stored in only
    one page.
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)分配的内存用于存储实际记录和索引。每个记录都有16字节的开销；每个记录还会产生额外的开销，因为它存储在具有128字节页面开销的32KB页面中（见下文）。每个记录仅存储在一个页面中，因此每个页面会浪费一小部分空间。'
- en: For variable-size table attributes, the data is stored on separate data pages,
    allocated from [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory).
    Variable-length records use a fixed-size part with an extra overhead of 4 bytes
    to reference the variable-size part. The variable-size part has 2 bytes overhead
    plus 2 bytes per attribute.
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于可变大小的表属性，数据存储在单独的数据页面上，从[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)中分配。可变长度记录使用固定大小部分，额外开销4字节用于引用可变大小部分。可变大小部分有2字节的开销，加上每个属性的2字节。
- en: In NDB 8.0, the maximum record size is 30000 bytes.
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0中，最大记录大小为30000字节。
- en: Resources assigned to `DataMemory` are used for storing all data and indexes.
    (Any memory configured as `IndexMemory` is automatically added to that used by
    `DataMemory` to form a common resource pool.)
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 分配给`DataMemory`的资源用于存储所有数据和索引。（任何配置为`IndexMemory`的内存都会自动添加到`DataMemory`使用的内存中，形成一个共同的资源池。）
- en: The memory space allocated by [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    consists of 32KB pages, which are allocated to table fragments. Each table is
    normally partitioned into the same number of fragments as there are data nodes
    in the cluster. Thus, for each node, there are the same number of fragments as
    are set in [`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas).
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)分配的内存空间由32KB页面组成，这些页面分配给表片段。通常，每个表被分区成与集群中数据节点数量相同的片段。因此，对于每个节点，有与[`NoOfReplicas`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-noofreplicas)中设置的片段数量相同的片段。'
- en: Once a page has been allocated, it is currently not possible to return it to
    the pool of free pages, except by deleting the table. (This also means that [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    pages, once allocated to a given table, cannot be used by other tables.) Performing
    a data node recovery also compresses the partition because all records are inserted
    into empty partitions from other live nodes.
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一旦分配了页面，目前无法将其返回到空闲页面池中，除非删除表。（这也意味着一旦将[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)页面分配给特定表，就无法被其他表使用。）执行数据节点恢复还会压缩分区，因为所有记录都是从其他活动节点插入到空分区中的。
- en: 'The [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    memory space also contains UNDO information: For each update, a copy of the unaltered
    record is allocated in the [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory).
    There is also a reference to each copy in the ordered table indexes. Unique hash
    indexes are updated only when the unique index columns are updated, in which case
    a new entry in the index table is inserted and the old entry is deleted upon commit.
    For this reason, it is also necessary to allocate enough memory to handle the
    largest transactions performed by applications using the cluster. In any case,
    performing a few large transactions holds no advantage over using many smaller
    ones, for the following reasons:'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    内存空间还包含 UNDO 信息：对于每次更新，未更改的记录的副本都会在 [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    中分配。在有序表索引中，每个副本也有一个引用。唯一哈希索引仅在唯一索引列更新时更新，此时会在索引表中插入新条目，并在提交时删除旧条目。因此，还需要分配足够的内存来处理使用集群的应用程序执行的最大事务。无论如何，执行几个大型事务与使用许多较小事务相比没有任何优势，原因如下：'
- en: Large transactions are not any faster than smaller ones
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大型事务并不比较小事务更快
- en: Large transactions increase the number of operations that are lost and must
    be repeated in event of transaction failure
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大型事务增加了在事务失败时丢失并必须重复的操作数量
- en: Large transactions use more memory
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大型事务使用更多内存
- en: The default value for [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    in NDB 8.0 is 98MB. The minimum value is 1MB. There is no maximum size, but in
    reality the maximum size has to be adapted so that the process does not start
    swapping when the limit is reached. This limit is determined by the amount of
    physical RAM available on the machine and by the amount of memory that the operating
    system may commit to any one process. 32-bit operating systems are generally limited
    to 2−4GB per process; 64-bit operating systems can use more. For large databases,
    it may be preferable to use a 64-bit operating system for this reason.
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: NDB 8.0 中 [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    的默认值为 98MB。最小值为1MB。没有最大值，但实际上最大值必须适应，以免在达到限制时进程开始交换。此限制由机器上可用的物理 RAM 量和操作系统可能为任何一个进程分配的内存量确定。32位操作系统通常限制每个进程为2−4GB；64位操作系统可以使用更多。对于大型数据库，出于这个原因，使用64位操作系统可能更可取。
- en: '[`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 0 |'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 1M - 1T |'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 1T |'
- en: '| Deprecated | Yes (in NDB 7.6) |'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已废弃 | 是（在 NDB 7.6 中）|'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")（NDB 8.0.13）。'
- en: The `IndexMemory` parameter is deprecated (and subject to future removal); any
    memory assigned to `IndexMemory` is allocated instead to the same pool as [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory),
    which is solely responsible for all resources needed for storing data and indexes
    in memory. In NDB 8.0, the use of `IndexMemory` in the cluster configuration file
    triggers a warning from the management server.
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`IndexMemory` 参数已被弃用（并可能在将来被移除）；分配给 `IndexMemory` 的任何内存都分配给与 [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    相同的池，后者负责存储数据和索引所需的所有内存资源。在 NDB 8.0 中，在集群配置文件中使用 `IndexMemory` 会触发管理服务器的警告。'
- en: 'You can estimate the size of a hash index using this formula:'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以使用以下公式估算哈希索引的大小：
- en: '[PRE0]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '*`fragments`* is the number of fragments, *`fragment_replicas`* is the number
    of fragment replicas (normally 2), and *`rows`* is the number of rows. If a table
    has one million rows, eight fragments, and two fragment replicas, the expected
    index memory usage is calculated as shown here:'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*`fragments`* 是片段的数量，*`fragment_replicas`* 是片段副本的数量（通常为2），*`rows`* 是行数。如果一张表有一百万行，八个片段，和两个片段副本，那么预期的索引内存使用量如下所示：'
- en: '[PRE1]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Index statistics for ordered indexes (when these are enabled) are stored in
    the `mysql.ndb_index_stat_sample` table. Since this table has a hash index, this
    adds to index memory usage. An upper bound to the number of rows for a given ordered
    index can be calculated as follows:'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有序索引的索引统计信息（在启用时）存储在`mysql.ndb_index_stat_sample`表中。由于此表具有哈希索引，这会增加索引内存使用量。可以计算给定有序索引的行数的上限如下：
- en: '[PRE2]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In the preceding formula, *`key_size`* is the size of the ordered index key
    in bytes, *`key_attributes`* is the number of attributes in the ordered index
    key, and *`rows`* is the number of rows in the base table.
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在上述公式中，*`key_size`*是有序索引键的大小（以字节为单位），*`key_attributes`*是有序索引键中的属性数，*`rows`*是基本表中的行数。
- en: 'Assume that table `t1` has 1 million rows and an ordered index named `ix1`
    on two four-byte integers. Assume in addition that [`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)
    and [`IndexStatSaveScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavescale)
    are set to their default values (32K and 100, respectively). Using the previous
    2 formulas, we can calculate as follows:'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 假设表`t1`有100万行，并且有一个命名为`ix1`的有序索引，其中包含两个四字节整数。另外假设[`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)和[`IndexStatSaveScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavescale)设置为它们的默认值（32K和100）。使用前面的两个公式，我们可以计算如下：
- en: '[PRE3]'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The expected index memory usage is thus 2 * 18 * 29182 = ~1050550 bytes.
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 预期的索引内存使用量为2 * 18 * 29182 = ~1050550字节。
- en: In NDB 8.0, the minimum and default value for this parameter is 0 (zero).
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0中，此参数的最小和默认值为0（零）。
- en: '[`StringMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stringmemory)'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StringMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stringmemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-164
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | % or bytes |'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | % 或 字节 |'
- en: '| Default | 25 |'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 25 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重新启动集群。（NDB 8.0.13） |'
- en: This parameter determines how much memory is allocated for strings such as table
    names, and is specified in an `[ndbd]` or `[ndbd default]` section of the `config.ini`
    file. A value between `0` and `100` inclusive is interpreted as a percent of the
    maximum default value, which is calculated based on a number of factors including
    the number of tables, maximum table name size, maximum size of `.FRM` files, [`MaxNoOfTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftriggers),
    maximum column name size, and maximum default column value.
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定为诸如表名之类的字符串分配了多少内存，并在`config.ini`文件的`[ndbd]`或`[ndbd default]`部分中指定。介于`0`和`100`之间的值被解释为最大默认值的百分比，该值是基于多个因素计算的，包括表的数量、最大表名大小、`.FRM`文件的最大大小、[`MaxNoOfTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftriggers)、最大列名大小和最大默认列值。
- en: A value greater than `100` is interpreted as a number of bytes.
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 大于`100`的值被解释为字节数。
- en: The default value is 25—that is, 25 percent of the default maximum.
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为25，即默认最大值的25%。
- en: 'Under most circumstances, the default value should be sufficient, but when
    you have a great many `NDB` tables (1000 or more), it is possible to get Error
    773 Out of string memory, please modify StringMemory config parameter: Permanent
    error: Schema error, in which case you should increase this value. `25` (25 percent)
    is not excessive, and should prevent this error from recurring in all but the
    most extreme conditions.'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在大多数情况下，默认值应该足够，但当您有很多`NDB`表（1000个或更多）时，可能会出现错误773“字符串内存不足，请修改StringMemory配置参数：永久错误：模式错误”，在这种情况下，您应该增加此值。`25`（25%）不算过多，并且应该可以防止此错误在除了最极端情况之外的所有情况下再次发生。
- en: 'The following example illustrates how memory is used for a table. Consider
    this table definition:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例说明了如何为表使用内存。考虑以下表定义：
- en: '[PRE4]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: For each record, there are 12 bytes of data plus 12 bytes overhead. Having no
    nullable columns saves 4 bytes of overhead. In addition, we have two ordered indexes
    on columns `a` and `b` consuming roughly 10 bytes each per record. There is a
    primary key hash index on the base table using roughly 29 bytes per record. The
    unique constraint is implemented by a separate table with `b` as primary key and
    `a` as a column. This other table consumes an additional 29 bytes of index memory
    per record in the `example` table as well 8 bytes of record data plus 12 bytes
    of overhead.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每条记录，有12字节的数据加上12字节的开销。没有可空列可以节省4字节的开销。此外，我们在列`a`和`b`上有两个有序索引，每条记录大约消耗10字节。基表上有一个主键哈希索引，每条记录大约使用29字节。唯一约束由一个单独的表实现，其中`b`作为主键，`a`作为列。这个其他表在`example`表中每条记录额外消耗29字节的索引内存，以及8字节的记录数据加上12字节的开销。
- en: Thus, for one million records, we need 58MB for index memory to handle the hash
    indexes for the primary key and the unique constraint. We also need 64MB for the
    records of the base table and the unique index table, plus the two ordered index
    tables.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，对于一百万条记录，我们需要58MB的索引内存来处理主键和唯一约束的哈希索引。我们还需要64MB来存储基表和唯一索引表的记录，以及两个有序索引表。
- en: You can see that hash indexes takes up a fair amount of memory space; however,
    they provide very fast access to the data in return. They are also used in NDB
    Cluster to handle uniqueness constraints.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到哈希索引占用了相当多的内存空间；然而，它们提供了非常快速的数据访问。它们还用于NDB集群中处理唯一性约束。
- en: Currently, the only partitioning algorithm is hashing and ordered indexes are
    local to each node. Thus, ordered indexes cannot be used to handle uniqueness
    constraints in the general case.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，唯一的分区算法是哈希分区，有序索引是每个节点本地的。因此，在一般情况下，有序索引不能用于处理唯一性约束。
- en: An important point for both [`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)
    and [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    is that the total database size is the sum of all data memory and all index memory
    for each node group. Each node group is used to store replicated information,
    so if there are four nodes with two fragment replicas, there are two node groups.
    Thus, the total data memory available is 2 × [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    for each data node.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)和[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)的一个重要点是，总数据库大小是每个节点组的所有数据内存和所有索引内存的总和。每个节点组用于存储复制的信息，因此如果有四个节点，每个节点有两个片段副本，则有两个节点组。因此，每个数据节点可用的总数据内存为2
    × [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)。
- en: It is highly recommended that [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    and [`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)
    be set to the same values for all nodes. Data distribution is even over all nodes
    in the cluster, so the maximum amount of space available for any node can be no
    greater than that of the smallest node in the cluster.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 强烈建议为所有节点设置相同的[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)和[`IndexMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexmemory)值。数据在集群中的所有节点上均匀分布，因此任何节点的最大可用空间不能大于集群中最小节点的空间。
- en: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    can be changed, but decreasing it can be risky; doing so can easily lead to a
    node or even an entire NDB Cluster that is unable to restart due to there being
    insufficient memory space. Increasing these values should be acceptable, but it
    is recommended that such upgrades are performed in the same manner as a software
    upgrade, beginning with an update of the configuration file, and then restarting
    the management server followed by restarting each data node in turn.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)可以更改，但减少它可能存在风险；这样做很容易导致一个节点甚至整个NDB集群由于内存空间不足而无法重新启动。增加这些值应该是可以接受的，但建议像软件升级一样进行这样的升级，首先更新配置文件，然后重新启动管理服务器，然后依次重新启动每个数据节点。'
- en: '**MinFreePct. ** A proportion (5% by default) of data node resources including
    [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory) is
    kept in reserve to insure that the data node does not exhaust its memory when
    performing a restart. This can be adjusted using the [`MinFreePct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-minfreepct
    "MinFreePct") data node configuration parameter (default 5).'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '**MinFreePct.** 数据节点资源（包括 [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)）的一部分（默认为
    5%）被保留，以确保数据节点在执行重启时不会耗尽内存。可以使用 [`MinFreePct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-minfreepct
    "MinFreePct") 数据节点配置参数（默认为 5）进行调整。'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-183
  prefs: []
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 5 |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| 默认值 | 5 |'
- en: '| Range | 0 - 100 |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| 范围 | 0 - 100 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Updates do not increase the amount of index memory used. Inserts take effect
    immediately; however, rows are not actually deleted until the transaction is committed.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 更新不会增加索引内存使用量。插入操作会立即生效；然而，直到事务提交之前，行并不会被实际删除。
- en: '**Transaction parameters. ** The next few `[ndbd]` parameters that we discuss
    are important because they affect the number of parallel transactions and the
    sizes of transactions that can be handled by the system. [`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions)
    sets the number of parallel transactions possible in a node. [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)
    sets the number of records that can be in update phase or locked simultaneously.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '**事务参数。** 我们将讨论的接下来的几个 `[ndbd]` 参数非常重要，因为它们影响系统能够处理的并行事务数量和事务大小。[`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions)
    设置了节点中可能的并行事务数量。[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)
    设置了可以处于更新阶段或同时被锁定的记录数量。'
- en: Both of these parameters (especially [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations))
    are likely targets for users setting specific values and not using the default
    value. The default value is set for systems using small transactions, to ensure
    that these do not use excessive memory.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个参数（特别是 [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)）很可能是用户设置特定值而不使用默认值的目标。默认值适用于使用小事务的系统，以确保这些事务不会使用过多内存。
- en: '[`MaxDMLOperationsPerTransaction`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdmloperationspertransaction)
    sets the maximum number of DML operations that can be performed in a given transaction.'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[`MaxDMLOperationsPerTransaction`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdmloperationspertransaction)
    设置了在给定事务中可以执行的最大 DML 操作数量。'
- en: '[`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions)'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 4096 |'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4096 |'
- en: '| Range | 32 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32 - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Each cluster data node requires a transaction record for each active transaction
    in the cluster. The task of coordinating transactions is distributed among all
    of the data nodes. The total number of transaction records in the cluster is the
    number of transactions in any given node times the number of nodes in the cluster.
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个集群数据节点都需要为集群中的每个活动事务记录一个事务记录。协调事务的任务分布在所有数据节点之间。集群中的事务记录总数是任何给定节点中的事务数乘以集群中节点数的结果。
- en: Transaction records are allocated to individual MySQL servers. Each connection
    to a MySQL server requires at least one transaction record, plus an additional
    transaction object per table accessed by that connection. This means that a reasonable
    minimum for the total number of transactions in the cluster can be expressed as
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 事务记录分配给各个 MySQL 服务器。连接到 MySQL 服务器至少需要一个事务记录，以及每个连接访问的表的额外事务对象。这意味着集群中事务总数的合理最小值可以表示为
- en: '[PRE5]'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Suppose that there are 10 SQL nodes using the cluster. A single join involving
    10 tables requires 11 transaction records; if there are 10 such joins in a transaction,
    then 10 * 11 = 110 transaction records are required for this transaction, per
    MySQL server, or 110 * 10 = 1100 transaction records total. Each data node can
    be expected to handle TotalNoOfConcurrentTransactions / number of data nodes.
    For an NDB Cluster having 4 data nodes, this would mean setting `MaxNoOfConcurrentTransactions`
    on each data node to 1100 / 4 = 275\. In addition, you should provide for failure
    recovery by ensuring that a single node group can accommodate all concurrent transactions;
    in other words, that each data node's MaxNoOfConcurrentTransactions is sufficient
    to cover a number of transactions equal to TotalNoOfConcurrentTransactions / number
    of node groups. If this cluster has a single node group, then `MaxNoOfConcurrentTransactions`
    should be set to 1100 (the same as the total number of concurrent transactions
    for the entire cluster).
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 假设集群中有 10 个 SQL 节点。涉及 10 个表的单个连接需要 11 个事务记录；如果一个事务中有 10 个这样的连接，那么这个事务需要 10 *
    11 = 110 个事务记录，每个 MySQL 服务器都是如此，或者总共需要 110 * 10 = 1100 个事务记录。每个数据节点可以处理 TotalNoOfConcurrentTransactions
    / 数据节点数 的事务。对于具有 4 个数据节点的 NDB 集群，这意味着在每个数据节点上将 `MaxNoOfConcurrentTransactions`
    设置为 1100 / 4 = 275。此外，您应该通过确保单个节点组可以容纳所有并发事务来提供故障恢复；换句话说，每个数据节点的 MaxNoOfConcurrentTransactions
    足以覆盖等于 TotalNoOfConcurrentTransactions / 节点组数 的事务数量。如果此集群只有一个节点组，则 `MaxNoOfConcurrentTransactions`
    应设置为 1100（与整个集群的并发事务总数相同）。
- en: In addition, each transaction involves at least one operation; for this reason,
    the value set for `MaxNoOfConcurrentTransactions` should always be no more than
    the value of [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations).
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此外，每个事务至少涉及一个操作；因此，为 `MaxNoOfConcurrentTransactions` 设置的值应始终不超过 [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)
    的值。
- en: This parameter must be set to the same value for all cluster data nodes. This
    is due to the fact that, when a data node fails, the oldest surviving node re-creates
    the transaction state of all transactions that were ongoing in the failed node.
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所有集群数据节点必须设置此参数的相同值。这是因为当数据节点失败时，最老的存活节点会重新创建失败节点中正在进行的所有事务的事务状态。
- en: It is possible to change this value using a rolling restart, but the amount
    of traffic on the cluster must be such that no more transactions occur than the
    lower of the old and new levels while this is taking place.
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以使用滚动重启来更改此值，但在此过程中发生的事务数量不能超过旧值和新值中较低的那个。
- en: The default value is 4096.
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为 4096。
- en: '[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 32K |'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 32K |'
- en: '| Range | 32 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")（NDB 8.0.13）|'
- en: It is a good idea to adjust the value of this parameter according to the size
    and number of transactions. When performing transactions which involve only a
    few operations and records, the default value for this parameter is usually sufficient.
    Performing large transactions involving many records usually requires that you
    increase its value.
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据事务的大小和数量调整此参数的值是一个好主意。执行仅涉及少量操作和记录的事务时，通常情况下此参数的默认值就足够了。执行涉及许多记录的大型事务通常需要增加其值。
- en: Records are kept for each transaction updating cluster data, both in the transaction
    coordinator and in the nodes where the actual updates are performed. These records
    contain state information needed to find UNDO records for rollback, lock queues,
    and other purposes.
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为更新集群数据的每个事务在事务协调器和实际执行更新的节点上保留记录。这些记录包含查找回滚的UNDO记录、锁队列和其他目的所需的状态信息。
- en: This parameter should be set at a minimum to the number of records to be updated
    simultaneously in transactions, divided by the number of cluster data nodes. For
    example, in a cluster which has four data nodes and which is expected to handle
    one million concurrent updates using transactions, you should set this value to
    1000000 / 4 = 250000\. To help provide resiliency against failures, it is suggested
    that you set this parameter to a value that is high enough to permit an individual
    data node to handle the load for its node group. In other words, you should set
    the value equal to `total number of concurrent operations / number of node groups`.
    (In the case where there is a single node group, this is the same as the total
    number of concurrent operations for the entire cluster.)
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数应至少设置为事务中同时更新的记录数除以集群数据节点数。例如，在一个有四个数据节点并且预计使用事务处理一百万并发更新的集群中，应将此值设置为1000000
    / 4 = 250000。为了提供对故障的弹性，建议将此参数设置为足够高的值，以允许单个数据节点处理其节点组的负载。换句话说，应将该值设置为`总并发操作数
    / 节点组数`。（在只有一个节点组的情况下，这与整个集群的总并发操作数相同。）
- en: Because each transaction always involves at least one operation, the value of
    `MaxNoOfConcurrentOperations` should always be greater than or equal to the value
    of [`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions).
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于每个事务总是涉及至少一个操作，`MaxNoOfConcurrentOperations`的值应始终大于或等于[`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions)的值。
- en: Read queries which set locks also cause operation records to be created. Some
    extra space is allocated within individual nodes to accommodate cases where the
    distribution is not perfect over the nodes.
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置锁的读取查询也会导致创建操作记录。在各个节点内部分配了一些额外空间，以适应分布在节点上不完美的情况。
- en: When queries make use of the unique hash index, there are actually two operation
    records used per record in the transaction. The first record represents the read
    in the index table and the second handles the operation on the base table.
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当查询使用唯一哈希索引时，实际上每个事务中的记录会使用两个操作记录。第一条记录代表索引表中的读取，第二条处理基本表中的操作。
- en: The default value is 32768.
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为32768。
- en: This parameter actually handles two values that can be configured separately.
    The first of these specifies how many operation records are to be placed with
    the transaction coordinator. The second part specifies how many operation records
    are to be local to the database.
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数实际上处理两个可以分别配置的值。其中第一个指定要放置在事务协调器中的操作记录数量。第二部分指定要放置在数据库本地的操作记录数量。
- en: A very large transaction performed on an eight-node cluster requires as many
    operation records in the transaction coordinator as there are reads, updates,
    and deletes involved in the transaction. However, the operation records of the
    are spread over all eight nodes. Thus, if it is necessary to configure the system
    for one very large transaction, it is a good idea to configure the two parts separately.
    [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)
    is always used to calculate the number of operation records in the transaction
    coordinator portion of the node.
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在八节点集群上执行的非常大的事务需要与事务中涉及的读取、更新和删除相同数量的操作记录。但是，这些操作记录分布在所有八个节点上。因此，如果需要为一个非常大的事务配置系统，最好将两部分分开配置。[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)始终用于计算节点事务协调器部分中的操作记录数量。
- en: It is also important to have an idea of the memory requirements for operation
    records. These consume about 1KB per record.
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于操作记录的内存需求也是很重要的。每个记录大约消耗1KB。
- en: '[`MaxNoOfLocalOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocaloperations)'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfLocalOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocaloperations)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | UNDEFINED |'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 未定义 |'
- en: '| Range | 32 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32 - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: By default, this parameter is calculated as 1.1 × [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations).
    This fits systems with many simultaneous transactions, none of them being very
    large. If there is a need to handle one very large transaction at a time and there
    are many nodes, it is a good idea to override the default value by explicitly
    specifying this parameter.
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认情况下，此参数计算为1.1 × [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)。这适用于具有许多同时事务的系统，其中没有一个事务非常大。如果需要一次处理一个非常大的事务，并且有许多节点，则明确指定此参数以覆盖默认值是一个好主意。
- en: This parameter is deprecated in NDB 8.0, and is subject to removal in a future
    NDB Cluster release. In addition, this parameter is incompatible with the [`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)
    parameter; if you try to set values for both parameters in the cluster configuration
    file (`config.ini`), the management server refuses to start.
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数在 NDB 8.0 中已弃用，并可能在未来的 NDB 集群版本中被移除。此外，此参数与[`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)参数不兼容；如果您尝试在集群配置文件（`config.ini`）中为这两个参数设置值，管理服务器将拒绝启动。
- en: '[`MaxDMLOperationsPerTransaction`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdmloperationspertransaction)'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxDMLOperationsPerTransaction`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdmloperationspertransaction)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | operations (DML) |'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 操作（DML） |'
- en: '| Default | 4294967295 |'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4294967295 |'
- en: '| Range | 32 - 4294967295 |'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32 - 4294967295 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter limits the size of a transaction. The transaction is aborted
    if it requires more than this many DML operations.
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数限制了事务的大小。如果事务需要的 DML 操作超过此数量，事务将被中止。
- en: The value of this parameter cannot exceed that set for [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations).
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的值不能超过[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)设置的值。
- en: '**Transaction temporary storage. ** The next set of `[ndbd]` parameters is
    used to determine temporary storage when executing a statement that is part of
    a Cluster transaction. All records are released when the statement is completed
    and the cluster is waiting for the commit or rollback.'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '**事务临时存储。** 下一组`[ndbd]`参数用于确定在执行作为集群事务一部分的语句时的临时存储。当语句完成并且集群正在等待提交或回滚时，所有记录都会被释放。'
- en: The default values for these parameters are adequate for most situations. However,
    users with a need to support transactions involving large numbers of rows or operations
    may need to increase these values to enable better parallelism in the system,
    whereas users whose applications require relatively small transactions can decrease
    the values to save memory.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数情况，默认值对这些参数是足够的。然而，需要支持涉及大量行或操作的事务的用户可能需要增加这些值以在系统中实现更好的并行性，而需要相对较小事务的应用程序的用户可以减少这些值以节省内存。
- en: '[`MaxNoOfConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentindexoperations)'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentindexoperations)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 8K |'
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 8K |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: For queries using a unique hash index, another temporary set of operation records
    is used during a query's execution phase. This parameter sets the size of that
    pool of records. Thus, this record is allocated only while executing a part of
    a query. As soon as this part has been executed, the record is released. The state
    needed to handle aborts and commits is handled by the normal operation records,
    where the pool size is set by the parameter [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations).
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于使用唯一哈希索引的查询，在查询执行阶段会使用另一个临时操作记录集。此参数设置了该记录池的大小。因此，此记录仅在执行查询的一部分时分配。一旦执行完这部分，记录就会被释放。处理中止和提交所需的状态由正常操作记录处理，其中池大小由参数[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)设置。
- en: The default value of this parameter is 8192\. Only in rare cases of extremely
    high parallelism using unique hash indexes should it be necessary to increase
    this value. Using a smaller value is possible and can save memory if the DBA is
    certain that a high degree of parallelism is not required for the cluster.
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为 8192。只有在极端高并行性的罕见情况下，使用唯一哈希索引可能需要增加此值。如果数据库管理员确定集群不需要高并行性，则可以使用较小的值，从而节省内存。
- en: This parameter is deprecated in NDB 8.0, and is subject to removal in a future
    NDB Cluster release. In addition, this parameter is incompatible with the [`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)
    parameter; if you try to set values for both parameters in the cluster configuration
    file (`config.ini`), the management server refuses to start.
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数在 NDB 8.0 中已被弃用，并将在未来的 NDB Cluster 发布中被移除。此外，此参数与[`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)参数不兼容；如果您尝试在集群配置文件（`config.ini`）中为两个参数设置值，则管理服务器将拒绝启动。
- en: '[`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 4000 |'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4000 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")。（NDB 8.0.13）'
- en: The default value of [`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)
    is 4000, which is sufficient for most situations. In some cases it can even be
    decreased if the DBA feels certain the need for parallelism in the cluster is
    not high.
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)的默认值为
    4000，在大多数情况下足够使用。在某些情况下，如果数据库管理员确定集群中不需要高并行性，则甚至可以减少此值。'
- en: A record is created when an operation is performed that affects a unique hash
    index. Inserting or deleting a record in a table with unique hash indexes or updating
    a column that is part of a unique hash index fires an insert or a delete in the
    index table. The resulting record is used to represent this index table operation
    while waiting for the original operation that fired it to complete. This operation
    is short-lived but can still require a large number of records in its pool for
    situations with many parallel write operations on a base table containing a set
    of unique hash indexes.
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当执行影响唯一哈希索引的操作时，将创建一条记录。在具有唯一哈希索引的表中插入或删除记录，或更新作为唯一哈希索引一部分的列，会在索引表中触发插入或删除。生成的记录用于表示等待原始操作完成的索引表操作。此操作生命周期短暂，但在包含一组唯一哈希索引的基表上有许多并行写操作的情况下，仍可能需要大量记录。
- en: This parameter is deprecated in NDB 8.0, and is subject to removal in a future
    NDB Cluster release. In addition, this parameter is incompatible with the [`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)
    parameter; if you try to set values for both parameters in the cluster configuration
    file (`config.ini`), the management server refuses to start.
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数在 NDB 8.0 中已被弃用，并将在未来的 NDB Cluster 发布中被移除。此外，此参数与[`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)参数不兼容；如果您尝试在集群配置文件（`config.ini`）中为两个参数设置值，则管理服务器将拒绝启动。
- en: '[`TransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionbuffermemory)'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionbuffermemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 1M |'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1M |'
- en: '| Range | 1K - 4294967039 (0xFFFFFEFF) |'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1K - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: The memory affected by this parameter is used for tracking operations fired
    when updating index tables and reading unique indexes. This memory is used to
    store the key and column information for these operations. It is only very rarely
    that the value for this parameter needs to be altered from the default.
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数影响的内存用于跟踪更新索引表和读取唯一索引时触发的操作。此内存用于存储这些操作的键和列信息。很少情况下需要修改此参数的默认值。
- en: The default value for [`TransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionbuffermemory)
    is 1MB.
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`TransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionbuffermemory)的默认值为1MB。'
- en: Normal read and write operations use a similar buffer, whose usage is even more
    short-lived. The compile-time parameter `ZATTRBUF_FILESIZE` (found in `ndb/src/kernel/blocks/Dbtc/Dbtc.hpp`)
    set to 4000 × 128 bytes (500KB). A similar buffer for key information, `ZDATABUF_FILESIZE`
    (also in `Dbtc.hpp`) contains 4000 × 16 = 62.5KB of buffer space. `Dbtc` is the
    module that handles transaction coordination.
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 正常的读写操作使用类似的缓冲区，其使用时间更短暂。编译时参数`ZATTRBUF_FILESIZE`（位于`ndb/src/kernel/blocks/Dbtc/Dbtc.hpp`中）设置为4000
    × 128字节（500KB）。用于键信息的类似缓冲区，`ZDATABUF_FILESIZE`（也在`Dbtc.hpp`中）包含4000 × 16 = 62.5KB的缓冲区空间。`Dbtc`是处理事务协调的模块。
- en: '**Transaction resource allocation parameters. ** The parameters in the following
    list are used to allocate transaction resources in the transaction coordinator
    ([`DBTC`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtc.html)). Leaving
    any one of these set to the default (0) dedicates transaction memory for 25% of
    estimated total data node usage for the corresponding resource. The actual maximum
    possible values for these parameters are typically limited by the amount of memory
    available to the data node; setting them has no impact on the total amount of
    memory allocated to the data node. In addition, you should keep in mind that they
    control numbers of reserved internal records for the data node independent of
    any settings for [`MaxDMLOperationsPerTransaction`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdmloperationspertransaction),
    [`MaxNoOfConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentindexoperations),
    [`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations),
    [`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans),
    [`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions),
    [`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers),
    [`MaxNoOfLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocalscans),
    or [`TransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionbuffermemory)
    (see [Transaction parameters](mysql-cluster-ndbd-definition.html#mysql-cluster-transaction-parameters
    "Transaction parameters") and [Transaction temporary storage](mysql-cluster-ndbd-definition.html#mysql-cluster-transaction-temporary-storage
    "Transaction temporary storage")).'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '**事务资源分配参数。** 以下列表中的参数用于在事务协调器（[`DBTC`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtc.html)）中分配事务资源。将其中任何一个设置为默认值（0）将为相应资源的预估总数据节点使用量的25%分配事务内存。这些参数的实际最大可能值通常受到数据节点可用内存量的限制；设置它们不会影响分配给数据节点的总内存量。此外，您应该记住，它们控制数据节点的保留内部记录数量，独立于[`MaxDMLOperationsPerTransaction`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdmloperationspertransaction)、[`MaxNoOfConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentindexoperations)、[`MaxNoOfConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentoperations)、[`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)、[`MaxNoOfConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrenttransactions)、[`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)、[`MaxNoOfLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocalscans)或[`TransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionbuffermemory)的任何设置（参见[事务参数](mysql-cluster-ndbd-definition.html#mysql-cluster-transaction-parameters
    "事务参数")和[事务临时存储](mysql-cluster-ndbd-definition.html#mysql-cluster-transaction-temporary-storage
    "事务临时存储")）。'
- en: '[`ReservedConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrentindexoperations)'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrentindexoperations)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 0 |'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: Number of simultaneous index operations having dedicated resources on one data
    node.
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在一个数据节点上具有专用资源的同时索引操作数。
- en: '[`ReservedConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrentoperations)'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedConcurrentOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrentoperations)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 0 |'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: Number of simultaneous operations having dedicated resources in transaction
    coordinators on one data node.
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在一个数据节点上具有专用资源的事务协调器上的同时操作数。
- en: '[`ReservedConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrentscans)'
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrentscans)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 0 |'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Number of simultaneous scans having dedicated resources on one data node.
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单个数据节点上具有专用资源的同时扫描数。
- en: '[`ReservedConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrenttransactions)'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedConcurrentTransactions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedconcurrenttransactions)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-297
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 0 |'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Number of simultaneous transactions having dedicated resources on one data node.
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单个数据节点上具有专用资源的同时事务数。
- en: '[`ReservedFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedfiredtriggers)'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedfiredtriggers)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 0 |'
  id: totrans-307
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Number of triggers that have dedicated resources on one ndbd(DB) node.
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单个ndbd(DB)节点上具有专用资源的触发器数。
- en: '[`ReservedLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedlocalscans)'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedlocalscans)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 0 |'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Number of simultaneous fragment scans having dedicated resources on one data
    node.
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 单个数据节点上具有专用资源的同时片段扫描数。
- en: '[`ReservedTransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedtransactionbuffermemory)'
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ReservedTransactionBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-reservedtransactionbuffermemory)'
- en: '| Version (or later) | NDB 8.0.16 |'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.16 |'
- en: '| Type or units | numeric |'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 0 |'
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 废弃 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Dynamic buffer space (in bytes) for key and attribute data allocated to each
    data node.
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为每个数据节点分配的键和属性数据的动态缓冲空间（以字节为单位）。
- en: '[`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)'
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.19 |'
- en: '| Type or units | bytes |'
  id: totrans-331
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 0 |'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 16384G |'
  id: totrans-333
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 16384G |'
- en: '| Added | NDB 8.0.19 |'
  id: totrans-334
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-335
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Important
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: A number of configuration parameters are incompatible with `TransactionMemory`;
    it is not possible to set any of these parameters concurrently with `TransactionMemory`,
    and if you attempt to do so, the management server is unable to start (see [Parameters
    incompatible with TransactionMemory](mysql-cluster-ndbd-definition.html#mysql-cluster-transactionmemory-incompatible
    "Parameters incompatible with TransactionMemory")).
  id: totrans-337
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 许多配置参数与`TransactionMemory`不兼容；不可能同时设置这些参数中的任何一个与`TransactionMemory`，如果尝试这样做，管理服务器将无法启动（参见[与TransactionMemory不兼容的参数](mysql-cluster-ndbd-definition.html#mysql-cluster-transactionmemory-incompatible
    "与TransactionMemory不兼容的参数")）。
- en: 'This parameter determines the memory (in bytes) allocated for transactions
    on each data node. Setting of transaction memory is handled as follows:'
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定每个数据节点上为事务分配的内存（以字节为单位）。事务内存的设置如下处理：
- en: If `TransactionMemory` is set, this value is used for determining transaction
    memory.
  id: totrans-339
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果设置了`TransactionMemory`，则此值用于确定事务内存。
- en: Otherwise, transaction memory is calculated as it was previous to NDB 8.0.
  id: totrans-340
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则，事务内存的计算与NDB 8.0之前的计算方式相同。
- en: '**Parameters incompatible with TransactionMemory. ** The following parameters
    cannot be used concurrently with `TransactionMemory` and are deprecated in NDB
    8.0:'
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**与TransactionMemory不兼容的参数。** 以下参数不能与`TransactionMemory`同时使用，并在NDB 8.0中已弃用：'
- en: '[`MaxNoOfConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentindexoperations)'
  id: totrans-342
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentIndexOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentindexoperations)'
- en: '[`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)'
  id: totrans-343
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfFiredTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooffiredtriggers)'
- en: '[`MaxNoOfLocalOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocaloperations)'
  id: totrans-344
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfLocalOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocaloperations)'
- en: '[`MaxNoOfLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocalscans)'
  id: totrans-345
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocalscans)'
- en: Explicitly setting any of the parameters just listed when `TransactionMemory`
    has also been set in the cluster configuration file (`config.ini`) keeps the management
    node from starting.
  id: totrans-346
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在集群配置文件（`config.ini`）中设置了`TransactionMemory`时，显式设置上述任何参数会阻止管理节点启动。
- en: For more information regarding resource allocation in NDB Cluster data nodes,
    see [Section 25.4.3.13, “Data Node Memory Management”](mysql-cluster-data-node-memory-management.html
    "25.4.3.13 Data Node Memory Management").
  id: totrans-347
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关NDB集群数据节点中资源分配的更多信息，请参见[第25.4.3.13节，“数据节点内存管理”](mysql-cluster-data-node-memory-management.html
    "25.4.3.13 数据节点内存管理")。
- en: '**Scans and buffering. ** There are additional `[ndbd]` parameters in the `Dblqh`
    module (in `ndb/src/kernel/blocks/Dblqh/Dblqh.hpp`) that affect reads and updates.
    These include `ZATTRINBUF_FILESIZE`, set by default to 10000 × 128 bytes (1250KB)
    and `ZDATABUF_FILE_SIZE`, set by default to 10000*16 bytes (roughly 156KB) of
    buffer space. To date, there have been neither any reports from users nor any
    results from our own extensive tests suggesting that either of these compile-time
    limits should be increased.'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: '**扫描和缓冲。** 在`Dblqh`模块（位于`ndb/src/kernel/blocks/Dblqh/Dblqh.hpp`）中有额外的`[ndbd]`参数影响读取和更新。这些包括`ZATTRINBUF_FILESIZE`，默认设置为10000
    × 128字节（1250KB），以及`ZDATABUF_FILE_SIZE`，默认设置为10000*16字节（大约156KB）的缓冲空间。迄今为止，用户没有任何报告，我们自己的广泛测试也没有任何结果表明这些编译时限制中的任何一个应该增加。'
- en: '[`BatchSizePerLocalScan`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-batchsizeperlocalscan)'
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BatchSizePerLocalScan`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-batchsizeperlocalscan)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-350
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-351
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 256 |'
  id: totrans-352
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 256 |'
- en: '| Range | 1 - 992 |'
  id: totrans-353
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 992 |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-355
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: This parameter is used to calculate the number of lock records used to handle
    concurrent scan operations.
  id: totrans-356
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数用于计算用于处理并发扫描操作的锁记录数。
- en: '`BatchSizePerLocalScan` has a strong connection to the [`BatchSize`](mysql-cluster-api-definition.html#ndbparam-api-batchsize)
    defined in the SQL nodes.'
  id: totrans-357
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`BatchSizePerLocalScan`与SQL节点中定义的[`BatchSize`](mysql-cluster-api-definition.html#ndbparam-api-batchsize)有很强的关联。'
- en: Deprecated in NDB 8.0.
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0中已弃用。
- en: '[`LongMessageBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-longmessagebuffer)'
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LongMessageBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-longmessagebuffer)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 64M |'
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64M |'
- en: '| Range | 512K - 4294967039 (0xFFFFFEFF) |'
  id: totrans-363
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 512K - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-364
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This is an internal buffer used for passing messages within individual nodes
    and between nodes. The default is 64MB.
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是用于在单个节点内和节点之间传递消息的内部缓冲区。默认值为 64MB。
- en: This parameter seldom needs to be changed from the default.
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数很少需要从默认值更改。
- en: '[`MaxFKBuildBatchSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxfkbuildbatchsize)'
  id: totrans-367
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxFKBuildBatchSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxfkbuildbatchsize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-368
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-369
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 64 |'
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64 |'
- en: '| Range | 16 - 512 |'
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 16 - 512 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-372
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Maximum scan batch size used for building foreign keys. Increasing the value
    set for this parameter may speed up building of foreign key builds at the expense
    of greater impact to ongoing traffic.
  id: totrans-373
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于构建外键的最大扫描批量大小。增加此参数设置的值可能加快构建外键的速度，但会对正在进行的流量产生更大的影响。
- en: '[`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)'
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-375
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-376
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 256 |'
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 256 |'
- en: '| Range | 2 - 500 |'
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 2 - 500 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter is used to control the number of parallel scans that can be performed
    in the cluster. Each transaction coordinator can handle the number of parallel
    scans defined for this parameter. Each scan query is performed by scanning all
    partitions in parallel. Each partition scan uses a scan record in the node where
    the partition is located, the number of records being the value of this parameter
    times the number of nodes. The cluster should be able to sustain [`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)
    scans concurrently from all nodes in the cluster.
  id: totrans-380
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数用于控制集群中可以执行的并行扫描数量。每个事务协调器可以处理为此参数定义的并行扫描数量。每个扫描查询通过并行扫描所有分区来执行。每个分区扫描在包含分区的节点上使用扫描记录，记录数量为此参数值乘以节点数量。集群应能够同时从集群中的所有节点并行支持[`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)
    扫描。
- en: Scans are actually performed in two cases. The first of these cases occurs when
    no hash or ordered indexes exists to handle the query, in which case the query
    is executed by performing a full table scan. The second case is encountered when
    there is no hash index to support the query but there is an ordered index. Using
    the ordered index means executing a parallel range scan. The order is kept on
    the local partitions only, so it is necessary to perform the index scan on all
    partitions.
  id: totrans-381
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 实际上有两种情况下执行扫描。第一种情况发生在没有哈希或有序索引来处理查询时，此时通过执行全表扫描来执行查询。第二种情况是在没有哈希索引支持查询但存在有序索引时遇到的情况。使用有序索引意味着执行并行范围扫描。顺序仅在本地分区上保持，因此需要在所有分区上执行索引扫描。
- en: The default value of [`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)
    is 256\. The maximum value is 500.
  id: totrans-382
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentscans)
    的默认值为 256。最大值为 500。'
- en: '[`MaxNoOfLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocalscans)'
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfLocalScans`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooflocalscans)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-384
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-385
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 4 * MaxNoOfConcurrentScans * [# of data nodes] + 2 |'
  id: totrans-386
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4 * MaxNoOfConcurrentScans * [# of data nodes] + 2 |'
- en: '| Range | 32 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-387
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32 - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.19 |'
  id: totrans-388
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB
    Cluster的滚动重启")。（NDB 8.0.13） |'
- en: 'Specifies the number of local scan records if many scans are not fully parallelized.
    When the number of local scan records is not provided, it is calculated as shown
    here:'
  id: totrans-390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 指定如果许多扫描未完全并行化，则本地扫描记录的数量。当未提供本地扫描记录数量时，计算如下所示：
- en: '[PRE6]'
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This parameter is deprecated in NDB 8.0, and is subject to removal in a future
    NDB Cluster release. In addition, this parameter is incompatible with the [`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)
    parameter; if you try to set values for both parameters in the cluster configuration
    file (`config.ini`), the management server refuses to start.
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数在NDB 8.0中已弃用，并可能在将来的NDB Cluster版本中删除。此外，此参数与[`TransactionMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactionmemory)参数不兼容；如果您尝试在集群配置文件（`config.ini`）中为两个参数设置值，则管理服务器将拒绝启动。
- en: '[`MaxParallelCopyInstances`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxparallelcopyinstances)'
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxParallelCopyInstances`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxparallelcopyinstances)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-395
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 64 |'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 64 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB
    Cluster的滚动重启")。（NDB 8.0.13） |'
- en: This parameter sets the parallelization used in the copy phase of a node restart
    or system restart, when a node that is currently just starting is synchronised
    with a node that already has current data by copying over any changed records
    from the node that is up to date. Because full parallelism in such cases can lead
    to overload situations, `MaxParallelCopyInstances` provides a means to decrease
    it. This parameter's default value 0\. This value means that the effective parallelism
    is equal to the number of LDM instances in the node just starting as well as the
    node updating it.
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置了节点重启或系统重启的复制阶段中使用的并行化，当当前正在启动的节点与已经具有当前数据的节点同步时，通过从最新数据的节点复制任何更改的记录来实现。因为在这种情况下完全并行可能导致过载情况，`MaxParallelCopyInstances`提供了一种减少的方法。此参数的默认值为0。这个值意味着有效的并行性等于刚刚启动的节点中的LDM实例数以及更新它的节点中的LDM实例数。
- en: '[`MaxParallelScansPerFragment`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxparallelscansperfragment)'
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxParallelScansPerFragment`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxparallelscansperfragment)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-401
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 256 |'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 256 |'
- en: '| Range | 1 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-404
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB
    Cluster的滚动重启")。（NDB 8.0.13） |'
- en: It is possible to configure the maximum number of parallel scans ([`TUP`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtup.html)
    scans and [`TUX`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtux.html)
    scans) allowed before they begin queuing for serial handling. You can increase
    this to take advantage of any unused CPU when performing large number of scans
    in parallel and improve their performance.
  id: totrans-406
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以配置允许在开始排队进行串行处理之前允许的最大并行扫描数（[`TUP`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtup.html)扫描和[`TUX`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtux.html)扫描）。您可以增加此值以利用在并行执行大量扫描时未使用的CPU，并提高它们的性能。
- en: '[`MaxReorgBuildBatchSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxreorgbuildbatchsize)'
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxReorgBuildBatchSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxreorgbuildbatchsize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-408
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-409
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 64 |'
  id: totrans-410
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64 |'
- en: '| Range | 16 - 512 |'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 16 - 512 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-412
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Maximum scan batch size used for reorganization of table partitions. Increasing
    the value set for this parameter may speed up reorganization at the expense of
    greater impact to ongoing traffic.
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于重新组织表分区的最大扫描批量大小。增加此参数的设置值可能加快重新组织的速度，但会对正在进行的流量产生更大的影响。
- en: '[`MaxUIBuildBatchSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxuibuildbatchsize)'
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxUIBuildBatchSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxuibuildbatchsize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-416
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 64 |'
  id: totrans-417
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 64 |'
- en: '| Range | 16 - 512 |'
  id: totrans-418
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 16 - 512 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-419
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Maximum scan batch size used for building unique keys. Increasing the value
    set for this parameter may speed up such builds at the expense of greater impact
    to ongoing traffic.
  id: totrans-420
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于构建唯一键的最大扫描批量大小。增加此参数的设置值可能加快此类构建的速度，但会对正在进行的流量产生更大的影响。
- en: Memory Allocation
  id: totrans-421
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 内存分配
- en: '[`MaxAllocate`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxallocate)'
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: '[`MaxAllocate`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxallocate)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-423
  prefs: []
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-424
  prefs: []
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 32M |'
  id: totrans-425
  prefs: []
  type: TYPE_TB
  zh: '| 默认 | 32M |'
- en: '| Range | 1M - 1G |'
  id: totrans-426
  prefs: []
  type: TYPE_TB
  zh: '| 范围 | 1M - 1G |'
- en: '| Deprecated | NDB 8.0.27 |'
  id: totrans-427
  prefs: []
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.27 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-428
  prefs: []
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter was used in older versions of NDB Cluster, but has no effect
    in NDB 8.0\. It is deprecated as of NDB 8.0.27, and subject to removal in a future
    release.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 此参数在旧版本的 NDB 集群中使用，但在 NDB 8.0 中没有效果。自 NDB 8.0.27 起已弃用，并可能在将来的版本中删除。
- en: Multiple Transporters
  id: totrans-430
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 多个传输器
- en: Beginning with version 8.0.20, `NDB` allocates multiple transporters for communication
    between pairs of data nodes. The number of transporters so allocated can be influenced
    by setting an appropriate value for the `NodeGroupTransporters` parameter introduced
    in that release.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 从 8.0.20 版本开始，`NDB`为数据节点之间的通信分配了多个传输器。所分配的传输器数量可以通过在该版本中引入的`NodeGroupTransporters`参数设置适当的值来影响。
- en: '[`NodeGroupTransporters`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegrouptransporters)'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: '[`NodeGroupTransporters`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegrouptransporters)'
- en: '| Version (or later) | NDB 8.0.20 |'
  id: totrans-433
  prefs: []
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.20 |'
- en: '| Type or units | integer |'
  id: totrans-434
  prefs: []
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-435
  prefs: []
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 32 |'
  id: totrans-436
  prefs: []
  type: TYPE_TB
  zh: '| 范围 | 0 - 32 |'
- en: '| Added | NDB 8.0.20 |'
  id: totrans-437
  prefs: []
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.20 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-438
  prefs: []
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter determines the number of transporters used between nodes in the
    same node group. The default value (0) means that the number of transporters used
    is the same as the number of LDMs in the node. This should be sufficient for most
    use cases; thus it should seldom be necessary to change this value from its default.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 此参数确定在同一节点组中的节点之间使用的传输器数量。默认值（0）意味着使用的传输器数量与节点中的 LDM 数相同。这对于大多数用例应该足够了，因此很少需要从默认值更改此值。
- en: Setting `NodeGroupTransporters` to a number greater than the number of LDM threads
    or the number of TC threads, whichever is higher, causes `NDB` to use the maximum
    of these two numbers of threads. This means that a value greater than this is
    effectively ignored.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 将`NodeGroupTransporters`设置为大于 LDM 线程数或 TC 线程数中较高者的数字会导致`NDB`使用这两个数字中较大的线程数。这意味着大于此值的值实际上会被忽略。
- en: Hash Map Size
  id: totrans-441
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 哈希映射大小
- en: '[`DefaultHashMapSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-defaulthashmapsize)'
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: '[`DefaultHashMapSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-defaulthashmapsize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-443
  prefs: []
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | LDM threads |'
  id: totrans-444
  prefs: []
  type: TYPE_TB
  zh: '| 类型或单位 | LDM 线程 |'
- en: '| Default | 240 |'
  id: totrans-445
  prefs: []
  type: TYPE_TB
  zh: '| 默认值 | 240 |'
- en: '| Range | 0 - 3840 |'
  id: totrans-446
  prefs: []
  type: TYPE_TB
  zh: '| 范围 | 0 - 3840 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-447
  prefs: []
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13）'
- en: The original intended use for this parameter was to facilitate upgrades and
    especially downgrades to and from very old releases with differing default hash
    map sizes. This is not an issue when upgrading from NDB Cluster 7.3 (or later)
    to later versions.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 此参数的原始预期用途是促进升级，特别是从非常旧的版本升级和降级到具有不同默认哈希映射大小的版本。当从NDB Cluster 7.3（或更高版本）升级到更高版本时，这不是问题。
- en: Decreasing this parameter online after any tables have been created or modified
    with `DefaultHashMapSize` equal to 3840 is not currently supported.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何表使用`DefaultHashMapSize`等于3840创建或修改后在线减少此参数目前不受支持。
- en: '**Logging and checkpointing. ** The following `[ndbd]` parameters control log
    and checkpoint behavior.'
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: '**日志和检查点。** 以下的`[ndbd]`参数控制日志和检查点的行为。'
- en: '[`FragmentLogFileSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-fragmentlogfilesize)'
  id: totrans-451
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`FragmentLogFileSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-fragmentlogfilesize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-452
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-453
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 16M |'
  id: totrans-454
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 16M |'
- en: '| Range | 4M - 1G |'
  id: totrans-455
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 4M - 1G |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-456
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13）'
- en: Setting this parameter enables you to control directly the size of redo log
    files. This can be useful in situations when NDB Cluster is operating under a
    high load and it is unable to close fragment log files quickly enough before attempting
    to open new ones (only 2 fragment log files can be open at one time); increasing
    the size of the fragment log files gives the cluster more time before having to
    open each new fragment log file. The default value for this parameter is 16M.
  id: totrans-457
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置此参数使您能够直接控制重做日志文件的大小。在NDB Cluster在高负载下运行且在尝试打开新的片段日志文件之前无法快速关闭片段日志文件的情况下，增加片段日志文件的大小可以给集群更多时间在尝试打开每个新的片段日志文件之前。此参数的默认值为16M。
- en: For more information about fragment log files, see the description for [`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles).
  id: totrans-458
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关片段日志文件的更多信息，请参阅[`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles)的描述。
- en: '[`InitialNoOfOpenFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialnoofopenfiles)'
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`InitialNoOfOpenFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialnoofopenfiles)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-460
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | files |'
  id: totrans-461
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 文件 |'
- en: '| Default | 27 |'
  id: totrans-462
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 27 |'
- en: '| Range | 20 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-463
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 20 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-464
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13）'
- en: This parameter sets the initial number of internal threads to allocate for open
    files.
  id: totrans-465
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置要为打开文件分配的内部线程的初始数量。
- en: The default value is 27.
  id: totrans-466
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为27。
- en: '[`InitFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initfragmentlogfiles)'
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`InitFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initfragmentlogfiles)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-468
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | [see values] |'
  id: totrans-469
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | [查看值] |'
- en: '| Default | SPARSE |'
  id: totrans-470
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | SPARSE |'
- en: '| Range | SPARSE, FULL |'
  id: totrans-471
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | SPARSE, FULL |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-472
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13）'
- en: 'By default, fragment log files are created sparsely when performing an initial
    start of a data node—that is, depending on the operating system and file system
    in use, not all bytes are necessarily written to disk. However, it is possible
    to override this behavior and force all bytes to be written, regardless of the
    platform and file system type being used, by means of this parameter. [`InitFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initfragmentlogfiles)
    takes either of two values:'
  id: totrans-473
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认情况下，在数据节点进行初始启动时，片段日志文件会稀疏创建，也就是说，根据所使用的操作系统和文件系统，不一定所有字节都会写入磁盘。但是，可以通过这个参数来覆盖此行为，并强制写入所有字节，无论使用的平台和文件系统类型如何。[`InitFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initfragmentlogfiles)接受两个值：
- en: '`SPARSE`. Fragment log files are created sparsely. This is the default value.'
  id: totrans-474
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SPARSE`。片段日志文件会稀疏创建。这是默认值。'
- en: '`FULL`. Force all bytes of the fragment log file to be written to disk.'
  id: totrans-475
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FULL`。强制将片段日志文件的所有字节写入磁盘。'
- en: Depending on your operating system and file system, setting `InitFragmentLogFiles=FULL`
    may help eliminate I/O errors on writes to the redo log.
  id: totrans-476
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据您的操作系统和文件系统，设置`InitFragmentLogFiles=FULL`可能有助于消除写入重做日志时的I/O错误。
- en: '[`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)'
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-478
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-479
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | true |'
  id: totrans-480
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | true |'
- en: '| Range | ... |'
  id: totrans-481
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-482
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13）'
- en: 'When `true`, enable partial local checkpoints: This means that each LCP records
    only part of the full database, plus any records containing rows changed since
    the last LCP; if no rows have changed, the LCP updates only the LCP control file
    and does not update any data files.'
  id: totrans-483
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当为`true`时，启用部分本地检查点：这意味着每个LCP仅记录部分完整数据库，以及自上次LCP以来更改的任何记录；如果没有更改行，则LCP仅更新LCP控制文件，而不更新任何数据文件。
- en: If `EnablePartialLcp` is disabled (`false`), each LCP uses only a single file
    and writes a full checkpoint; this requires the least amount of disk space for
    LCPs, but increases the write load for each LCP. The default value is enabled
    (`true`). The proportion of space used by partial LCPS can be modified by the
    setting for the [`RecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-recoverywork)
    configuration parameter.
  id: totrans-484
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果`EnablePartialLcp`被禁用（`false`），每个LCP只使用一个文件并写入完整的检查点；这需要最少的LCP磁盘空间，但会增加每个LCP的写入负载。默认值为启用（`true`）。部分LCPS使用的空间比例可以通过[`RecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-recoverywork)配置参数的设置进行修改。
- en: For more information about files and directories used for full and partial LCPs,
    see [NDB Cluster Data Node File System Directory](/doc/ndb-internals/en/ndb-internals-ndbd-filesystemdir-files.html).
  id: totrans-485
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关用于完整和部分LCP的文件和目录的更多信息，请参阅[NDB集群数据节点文件系统目录](/doc/ndb-internals/en/ndb-internals-ndbd-filesystemdir-files.html)。
- en: Setting this parameter to `false` also disables the calculation of disk write
    speed used by the adaptive LCP control mechanism.
  id: totrans-486
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置为`false`还会禁用自适应LCP控制机制使用的磁盘写入速度的计算。
- en: '[`LcpScanProgressTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lcpscanprogresstimeout)'
  id: totrans-487
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LcpScanProgressTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lcpscanprogresstimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-488
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | second |'
  id: totrans-489
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 60 |'
  id: totrans-490
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 60 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-491
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-492
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.19 |'
- en: '| Type or units | second |'
  id: totrans-493
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 180 |'
  id: totrans-494
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 180 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-495
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-496
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13）'
- en: A local checkpoint fragment scan watchdog checks periodically for no progress
    in each fragment scan performed as part of a local checkpoint, and shuts down
    the node if there is no progress after a given amount of time has elapsed. This
    interval can be set using the [`LcpScanProgressTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lcpscanprogresstimeout)
    data node configuration parameter, which sets the maximum time for which the local
    checkpoint can be stalled before the LCP fragment scan watchdog shuts down the
    node.
  id: totrans-497
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 本地检查点片段扫描看门狗定期检查每个本地检查点中执行的片段扫描是否没有进展，并在经过一定时间后没有进展时关闭节点。可以使用[`LcpScanProgressTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lcpscanprogresstimeout)数据节点配置参数设置此间隔，该参数设置了本地检查点在LCP片段扫描看门狗关闭节点之前可以停滞的最长时间。
- en: The default value is 60 seconds (providing compatibility with previous releases).
    Setting this parameter to 0 disables the LCP fragment scan watchdog altogether.
  id: totrans-498
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为60秒（与先前版本兼容）。将此参数设置为0会完全禁用LCP片段扫描看门狗。
- en: '[`MaxNoOfOpenFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofopenfiles)'
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfOpenFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofopenfiles)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-500
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-501
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 0 |'
  id: totrans-502
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 20 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-503
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 20 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-504
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter sets a ceiling on how many internal threads to allocate for open
    files. *Any situation requiring a change in this parameter should be reported
    as a bug*.
  id: totrans-505
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置了为打开文件分配的内部线程的上限。*任何需要更改此参数的情况都应报告为错误*。
- en: The default value is 0\. However, the minimum value to which this parameter
    can be set is 20.
  id: totrans-506
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为0。但是，此参数可以设置的最小值为20。
- en: '[`MaxNoOfSavedMessages`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsavedmessages)'
  id: totrans-507
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfSavedMessages`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsavedmessages)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-508
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-509
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 25 |'
  id: totrans-510
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 25 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-511
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-512
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter sets the maximum number of errors written in the error log as
    well as the maximum number of trace files that are kept before overwriting the
    existing ones. Trace files are generated when, for whatever reason, the node crashes.
  id: totrans-513
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置了在错误日志中写入的最大错误数以及在覆盖现有文件之前保留的最大跟踪文件数。当节点崩溃时会生成跟踪文件。
- en: The default is 25, which sets these maximums to 25 error messages and 25 trace
    files.
  id: totrans-514
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为25，这将设置这些最大值为25个错误消息和25个跟踪文件。
- en: '[`MaxLCPStartDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxlcpstartdelay)'
  id: totrans-515
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxLCPStartDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxlcpstartdelay)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-516
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | seconds |'
  id: totrans-517
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 0 |'
  id: totrans-518
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 600 |'
  id: totrans-519
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 600 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-520
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: In parallel data node recovery, only table data is actually copied and synchronized
    in parallel; synchronization of metadata such as dictionary and checkpoint information
    is done in a serial fashion. In addition, recovery of dictionary and checkpoint
    information cannot be executed in parallel with performing of local checkpoints.
    This means that, when starting or restarting many data nodes concurrently, data
    nodes may be forced to wait while a local checkpoint is performed, which can result
    in longer node recovery times.
  id: totrans-521
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在并行数据节点恢复中，只有表数据实际上是并行复制和同步的；词典和检查点信息等元数据的同步是串行进行的。此外，词典和检查点信息的恢复不能与执行本地检查点并行执行。这意味着，当同时启动或重新启动许多数据节点时，数据节点可能被迫等待本地检查点的执行，这可能导致更长的节点恢复时间。
- en: It is possible to force a delay in the local checkpoint to permit more (and
    possibly all) data nodes to complete metadata synchronization; once each data
    node's metadata synchronization is complete, all of the data nodes can recover
    table data in parallel, even while the local checkpoint is being executed. To
    force such a delay, set [`MaxLCPStartDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxlcpstartdelay),
    which determines the number of seconds the cluster can wait to begin a local checkpoint
    while data nodes continue to synchronize metadata. This parameter should be set
    in the `[ndbd default]` section of the `config.ini` file, so that it is the same
    for all data nodes. The maximum value is 600; the default is 0.
  id: totrans-522
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以强制延迟本地检查点，以允许更多（甚至可能所有）数据节点完成元数据同步；一旦每个数据节点的元数据同步完成，所有数据节点都可以并行恢复表数据，即使本地检查点正在执行。要强制这样的延迟，请设置[`MaxLCPStartDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxlcpstartdelay)，该参数确定集群在数据节点继续同步元数据的同时等待开始本地检查点的秒数。此参数应设置在`config.ini`文件的`[ndbd
    default]`部分中，以便所有数据节点都相同。最大值为600；默认值为0。
- en: '[`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles)'
  id: totrans-523
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-524
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-525
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 16 |'
  id: totrans-526
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 16 |'
- en: '| Range | 3 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-527
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 3 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-528
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: This parameter sets the number of REDO log files for the node, and thus the
    amount of space allocated to REDO logging. Because the REDO log files are organized
    in a ring, it is extremely important that the first and last log files in the
    set (sometimes referred to as the “head” and “tail” log files, respectively) do
    not meet. When these approach one another too closely, the node begins aborting
    all transactions encompassing updates due to a lack of room for new log records.
  id: totrans-529
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置节点的REDO日志文件数量，从而分配给REDO日志记录的空间量。由于REDO日志文件是以环形方式组织的，因此非常重要的是集合中的第一个和最后一个日志文件（有时分别称为“头”和“尾”日志文件）不要相遇。当这些文件彼此靠近时，由于没有足够的空间来存储新的日志记录，节点开始中止所有涵盖更新的事务。
- en: A `REDO` log record is not removed until both required local checkpoints have
    been completed since that log record was inserted. Checkpointing frequency is
    determined by its own set of configuration parameters discussed elsewhere in this
    chapter.
  id: totrans-530
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 直到插入该日志记录时所需的两个本地检查点都已完成，`REDO`日志记录才会被删除。检查点频率由本章其他地方讨论的一组配置参数确定。
- en: The default parameter value is 16, which by default means 16 sets of 4 16MB
    files for a total of 1024MB. The size of the individual log files is configurable
    using the [`FragmentLogFileSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-fragmentlogfilesize)
    parameter. In scenarios requiring a great many updates, the value for [`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles)
    may need to be set as high as 300 or even higher to provide sufficient space for
    REDO logs.
  id: totrans-531
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认参数值为16，默认情况下表示16组4个16MB文件，总共1024MB。可以使用[`FragmentLogFileSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-fragmentlogfilesize)参数配置单个日志文件的大小。在需要大量更新的情况下，[`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles)的值可能需要设置得更高，甚至高达300或更高，以提供足够的REDO日志空间。
- en: If the checkpointing is slow and there are so many writes to the database that
    the log files are full and the log tail cannot be cut without jeopardizing recovery,
    all updating transactions are aborted with internal error code 410 (`Out of log
    file space temporarily`). This condition prevails until a checkpoint has completed
    and the log tail can be moved forward.
  id: totrans-532
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果检查点速度慢，数据库写入太多，日志文件已满且无法裁剪日志尾部而不危及恢复，所有更新事务都将中止，并显示内部错误代码410（`Out of log file
    space temporarily`）。这种情况会持续，直到检查点完成并且日志尾部可以向前移动。
- en: Important
  id: totrans-533
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: This parameter cannot be changed “on the fly”; you must restart the node using
    `--initial`. If you wish to change this value for all data nodes in a running
    cluster, you can do so using a rolling node restart (using `--initial` when starting
    each data node).
  id: totrans-534
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 无法“即时”更改此参数；您必须使用`--initial`重新启动节点。如果您希望为运行中的集群中的所有数据节点更改此值，可以使用滚动节点重新启动（在启动每个数据节点时使用`--initial`）。
- en: '[`RecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-recoverywork)'
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-recoverywork)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-536
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-537
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 60 |'
  id: totrans-538
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 60 |'
- en: '| Range | 25 - 100 |'
  id: totrans-539
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 25 - 100 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-540
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **节点重新启动：** 需要进行[滚动重新启动](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重新启动")（NDB 8.0.13） |'
- en: 'Percentage of storage overhead for LCP files. This parameter has an effect
    only when [`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)
    is true, that is, only when partial local checkpoints are enabled. A higher value
    means:'
  id: totrans-541
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: LCP文件的存储开销百分比。此参数仅在[`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)为true时有效，即仅在启用部分本地检查点时有效。较高的值意味着：
- en: Fewer records are written for each LCP, LCPs use more space
  id: totrans-542
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个LCP写入更少记录，LCP使用更多空间
- en: More work is needed during restarts
  id: totrans-543
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重新启动期间需要更多工作
- en: 'A lower value for `RecoveryWork` means:'
  id: totrans-544
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`RecoveryWork`的较低值意味着：'
- en: More records are written during each LCP, but LCPs require less space on disk.
  id: totrans-545
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个LCP写入更多记录，但LCP在磁盘上占用的空间更少。
- en: Less work during restart and thus faster restarts, at the expense of more work
    during normal operations
  id: totrans-546
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重新启动期间的工作量减少，因此重新启动更快，但在正常操作期间需要更多工作
- en: For example, setting `RecoveryWork` to 60 means that the total size of an LCP
    is roughly 1 + 0.6 = 1.6 times the size of the data to be checkpointed. This means
    that 60% more work is required during the restore phase of a restart compared
    to the work done during a restart that uses full checkpoints. (This is more than
    compensated for during other phases of the restart such that the restart as a
    whole is still faster when using partial LCPs than when using full LCPs.) In order
    not to fill up the redo log, it is necessary to write at 1 + (1 / `RecoveryWork`)
    times the rate of data changes during checkpoints—thus, when `RecoveryWork` =
    60, it is necessary to write at approximately 1 + (1 / 0.6 ) = 2.67 times the
    change rate. In other words, if changes are being written at 10 MByte per second,
    the checkpoint needs to be written at roughly 26.7 MByte per second.
  id: totrans-547
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 例如，将`RecoveryWork`设置为60意味着LCP的总大小大约是数据要检查点的大小的1 + 0.6 = 1.6倍。这意味着与使用完整检查点进行重新启动期间所需的工作相比，使用部分LCP进行重新启动期间需要多60％的工作（在重新启动的其他阶段进行了更多的补偿，使得整体重新启动速度仍然比使用完整LCP时更快）。为了不填满重做日志，需要以1
    +（1 / `RecoveryWork`）倍的数据更改速率写入检查点—因此，当`RecoveryWork` = 60时，需要以大约1 +（1 / 0.6）=
    2.67倍的变化速率进行写入。换句话说，如果更改速率为每秒10兆字节，那么检查点需要以大约每秒26.7兆字节的速度写入。
- en: Setting `RecoveryWork` = 40 means that only 1.4 times the total LCP size is
    needed (and thus the restore phase takes 10 to 15 percent less time. In this case,
    the checkpoint write rate is 3.5 times the rate of change.
  id: totrans-548
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置`RecoveryWork` = 40意味着只需要总LCP大小的1.4倍（因此恢复阶段需要的时间减少了10到15％）。在这种情况下，检查点写入速率是变化速率的3.5倍。
- en: 'The NDB source distribution includes a test program for simulating LCPs. `lcp_simulator.cc`
    can be found in `storage/ndb/src/kernel/blocks/backup/`. To compile and run it
    on Unix platforms, execute the commands shown here:'
  id: totrans-549
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: NDB源代码分发包含用于模拟LCP的测试程序。`lcp_simulator.cc`可以在`storage/ndb/src/kernel/blocks/backup/`中找到。要在Unix平台上编译和运行它，请执行以下命令：
- en: '[PRE7]'
  id: totrans-550
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This program has no dependencies other than `stdio.h`, and does not require
    a connection to an NDB cluster or a MySQL server. By default, it simulates 300
    LCPs (three sets of 100 LCPs, each consisting of inserts, updates, and deletes,
    in turn), reporting the size of the LCP after each one. You can alter the simulation
    by changing the values of `recovery_work`, `insert_work`, and `delete_work` in
    the source and recompiling. For more information, see the source of the program.
  id: totrans-551
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此程序除了`stdio.h`之外没有任何依赖项，并且不需要连接到NDB集群或MySQL服务器。默认情况下，它模拟300个LCP（三组100个LCP，每个LCP由插入、更新和删除组成，依次报告每个LCP的大小）。您可以通过更改源代码中的`recovery_work`、`insert_work`和`delete_work`的值并重新编译来更改模拟。有关更多信息，请参阅程序的源代码。
- en: '[`InsertRecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-insertrecoverywork)'
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`InsertRecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-insertrecoverywork)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-553
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-554
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 40 |'
  id: totrans-555
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 40 |'
- en: '| Range | 0 - 70 |'
  id: totrans-556
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 70 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-557
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: Percentage of [`RecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-recoverywork)
    used for inserted rows. A higher value increases the number of writes during a
    local checkpoint, and decreases the total size of the LCP. A lower value decreases
    the number of writes during an LCP, but results in more space being used for the
    LCP, which means that recovery takes longer. This parameter has an effect only
    when [`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)
    is true, that is, only when partial local checkpoints are enabled.
  id: totrans-558
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于插入行的[`RecoveryWork`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-recoverywork)百分比。较高的值会增加本地检查点期间的写入次数，并减少
    LCP 的总大小。较低的值会减少本地检查点期间的写入次数，但会导致更多的空间用于 LCP，这意味着恢复时间更长。此参数仅在[`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)为
    true 时生效，即仅在启用部分本地检查点时生效。
- en: '[`EnableRedoControl`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enableredocontrol)'
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`EnableRedoControl`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enableredocontrol)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-560
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-561
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-562
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | ... |'
  id: totrans-563
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Version (or later) | NDB 8.0.1 |'
  id: totrans-564
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.1 |'
- en: '| Type or units | boolean |'
  id: totrans-565
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | true |'
  id: totrans-566
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | true |'
- en: '| Range | ... |'
  id: totrans-567
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-568
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: Enable adaptive checkpointing speed for controlling redo log usage.
  id: totrans-569
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用自适应检查点速度以控制重做日志使用情况。
- en: When enabled (the default), `EnableRedoControl` allows the data nodes greater
    flexibility with regard to the rate at which they write LCPs to disk. More specifically,
    enabling this parameter means that higher write rates can be employed, so that
    LCPs can complete and redo logs be trimmed more quickly, thereby reducing recovery
    time and disk space requirements. This functionality allows data nodes to make
    better use of the higher rate of I/O and greater bandwidth available from modern
    solid-state storage devices and protocols, such as solid-state drives (SSDs) using
    Non-Volatile Memory Express (NVMe).
  id: totrans-570
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用（默认情况下），`EnableRedoControl` 允许数据节点更灵活地写入 LCP 到磁盘的速率。更具体地说，启用此参数意味着可以使用更高的写入速率，以便
    LCP 可以更快完成并修剪重做日志，从而减少恢复时间和磁盘空间需求。此功能允许数据节点更好地利用现代固态存储设备和协议（例如使用非易失性内存表达式（NVMe）的固态驱动器（SSD））提供的更高
    I/O 速率和更大带宽。
- en: When `NDB` is deployed on systems whose I/O or bandwidth is constrained relative
    to those employing solid-state technology, such as those using conventional hard
    disks (HDDs), the `EnableRedoControl` mechanism can easily cause the I/O subsystem
    to become saturated, increasing wait times for data node input and output. In
    particular, this can cause issues with NDB Disk Data tables which have tablespaces
    or log file groups sharing a constrained I/O subsystem with data node LCP and
    redo log files; such problems potentially include node or cluster failure due
    to GCP stop errors. Set `EnableRedoControl` to `false` to disable it in such situations.
    Setting [`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)
    to `false` also disables the adaptive calculation.
  id: totrans-571
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当`NDB`部署在 I/O 或带宽相对受限的系统上，相对于使用固态技术的系统，例如使用传统硬盘（HDD）的系统时，`EnableRedoControl`
    机制很容易导致 I/O 子系统饱和，增加数据节点输入和输出的等待时间。特别是，这可能会导致 NDB Disk Data 表出现问题，这些表的表空间或日志文件组与数据节点
    LCP 和重做日志文件共享受限的 I/O 子系统；这些问题可能包括由于 GCP 停止错误而导致节点或集群故障。在这种情况下将 `EnableRedoControl`
    设置为 `false` 以禁用它。将[`EnablePartialLcp`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-enablepartiallcp)设置为
    `false` 也会禁用自适应计算。
- en: '**Metadata objects. ** The next set of `[ndbd]` parameters defines pool sizes
    for metadata objects, used to define the maximum number of attributes, tables,
    indexes, and trigger objects used by indexes, events, and replication between
    clusters.'
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: '**元数据对象。** 下一组`[ndbd]`参数定义了用于定义属性、表、索引和触发器对象的池大小的元数据对象的最大数量，这些对象用于索引、事件和集群之间的复制。'
- en: Note
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: These act merely as “suggestions” to the cluster, and any that are not specified
    revert to the default values shown.
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
  zh: 这些仅仅是对集群的“建议”，任何未指定的值都会恢复到显示的默认值。
- en: '[`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)'
  id: totrans-575
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-576
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-577
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 1000 |'
  id: totrans-578
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1000 |'
- en: '| Range | 32 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-579
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-580
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter sets a suggested maximum number of attributes that can be defined
    in the cluster; like [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables),
    it is not intended to function as a hard upper limit.
  id: totrans-581
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置了集群中可以定义的建议最大属性数量；与[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)一样，它并不打算作为一个硬性上限。
- en: (In older NDB Cluster releases, this parameter was sometimes treated as a hard
    limit for certain operations. This caused problems with NDB Cluster Replication,
    when it was possible to create more tables than could be replicated, and sometimes
    led to confusion when it was possible [or not possible, depending on the circumstances]
    to create more than `MaxNoOfAttributes` attributes.)
  id: totrans-582
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (在旧版NDB集群中，这个参数有时被视为某些操作的硬性限制。这在NDB集群复制时会导致问题，当可以创建的表多于可以复制的表时，有时会导致混乱，有时会导致[或不会导致，取决于情况]可以创建超过`MaxNoOfAttributes`属性。)
- en: The default value is 1000, with the minimum possible value being 32\. The maximum
    is 4294967039\. Each attribute consumes around 200 bytes of storage per node due
    to the fact that all metadata is fully replicated on the servers.
  id: totrans-583
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为1000，最小可能值为32。最大值为4294967039。每个属性消耗大约200字节的存储空间，因为所有元数据都完全复制在服务器上。
- en: When setting [`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes),
    it is important to prepare in advance for any [`ALTER TABLE`](alter-table.html
    "15.1.9 ALTER TABLE Statement") statements that you might want to perform in the
    future. This is due to the fact, during the execution of [`ALTER TABLE`](alter-table.html
    "15.1.9 ALTER TABLE Statement") on a Cluster table, 3 times the number of attributes
    as in the original table are used, and a good practice is to permit double this
    amount. For example, if the NDB Cluster table having the greatest number of attributes
    (*`greatest_number_of_attributes`*) has 100 attributes, a good starting point
    for the value of [`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)
    would be `6 * *`greatest_number_of_attributes`* = 600`.
  id: totrans-584
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在设置[`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)时，重要的是提前准备好你可能想要在未来执行的任何[`ALTER
    TABLE`](alter-table.html "15.1.9 ALTER TABLE语句")语句。这是因为，在对Cluster表执行[`ALTER TABLE`](alter-table.html
    "15.1.9 ALTER TABLE语句")时，使用的属性数量是原始表中属性数量的3倍，一个良好的做法是允许这个数量的两倍。例如，如果具有最多属性数量的NDB集群表（*`greatest_number_of_attributes`*）有100个属性，那么[`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)的一个良好起点将是`6
    * *`greatest_number_of_attributes`* = 600`。
- en: You should also estimate the average number of attributes per table and multiply
    this by [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables).
    If this value is larger than the value obtained in the previous paragraph, you
    should use the larger value instead.
  id: totrans-585
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你还应该估算每个表的平均属性数量，并将其乘以[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)。如果这个值大于前一段中获得的值，则应该使用较大的值。
- en: Assuming that you can create all desired tables without any problems, you should
    also verify that this number is sufficient by trying an actual [`ALTER TABLE`](alter-table.html
    "15.1.9 ALTER TABLE Statement") after configuring the parameter. If this is not
    successful, increase [`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)
    by another multiple of [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)
    and test it again.
  id: totrans-586
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 假设您可以无问题地创建所有所需的表，还应通过在配置参数后尝试实际的[`ALTER TABLE`](alter-table.html "15.1.9 ALTER
    TABLE语句")来验证此数字是否足够。如果不成功，请再次增加[`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)的倍数，并再次测试。
- en: '[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)'
  id: totrans-587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-588
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-589
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 128 |'
  id: totrans-590
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 128 |'
- en: '| Range | 8 - 20320 |'
  id: totrans-591
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 8 - 20320 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-592
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB
    Cluster的滚动重启")。 （NDB 8.0.13） |'
- en: A table object is allocated for each table and for each unique hash index in
    the cluster. This parameter sets a suggested maximum number of table objects for
    the cluster as a whole; like [`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes),
    it is not intended to function as a hard upper limit.
  id: totrans-593
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为每个表和集群中每个唯一的哈希索引分配一个表对象。此参数设置了集群作为整体的建议最大表对象数；与[`MaxNoOfAttributes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofattributes)一样，它并不打算作为一个硬性上限。
- en: (In older NDB Cluster releases, this parameter was sometimes treated as a hard
    limit for certain operations. This caused problems with NDB Cluster Replication,
    when it was possible to create more tables than could be replicated, and sometimes
    led to confusion when it was possible [or not possible, depending on the circumstances]
    to create more than `MaxNoOfTables` tables.)
  id: totrans-594
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: （在旧版NDB Cluster中，此参数有时被视为某些操作的硬性限制。这导致NDB Cluster复制出现问题，当可以创建的表多于可复制的表时，有时会导致混乱，有时会导致[根据情况]无法创建超过`MaxNoOfTables`表。）
- en: For each attribute that has a [`BLOB`](blob.html "13.3.4 The BLOB and TEXT Types")
    data type an extra table is used to store most of the [`BLOB`](blob.html "13.3.4 The
    BLOB and TEXT Types") data. These tables also must be taken into account when
    defining the total number of tables.
  id: totrans-595
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于每个具有[`BLOB`](blob.html "13.3.4 BLOB和TEXT类型")数据类型的属性，额外使用一个表来存储大部分[`BLOB`](blob.html
    "13.3.4 BLOB和TEXT类型")数据。在定义总表数时，这些表也必须考虑在内。
- en: The default value of this parameter is 128\. The minimum is 8 and the maximum
    is 20320\. Each table object consumes approximately 20KB per node.
  id: totrans-596
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为128。最小值为8，最大值为20320。每个表对象在每个节点上大约消耗20KB。
- en: Note
  id: totrans-597
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: The sum of [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables),
    [`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes),
    and [`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)
    must not exceed `2^(32) − 2` (4294967294).
  id: totrans-598
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)、[`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)和[`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)的总和不得超过`2^(32)
    − 2`（4294967294）。'
- en: '[`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)'
  id: totrans-599
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-600
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-601
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 128 |'
  id: totrans-602
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 128 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-603
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039（0xFFFFFEFF） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-604
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB
    Cluster的滚动重启")。 （NDB 8.0.13） |'
- en: For each ordered index in the cluster, an object is allocated describing what
    is being indexed and its storage segments. By default, each index so defined also
    defines an ordered index. Each unique index and primary key has both an ordered
    index and a hash index. [`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)
    sets the total number of ordered indexes that can be in use in the system at any
    one time.
  id: totrans-605
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于集群中的每个有序索引，都会分配一个描述正在索引的内容及其存储段的对象。默认情况下，每个这样定义的索引也定义了一个有序索引。每个唯一索引和主键都有一个有序索引和一个哈希索引。[`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)设置了系统中可以同时使用的有序索���的总数。
- en: The default value of this parameter is 128\. Each index object consumes approximately
    10KB of data per node.
  id: totrans-606
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为128。每个索引对象每个节点大约消耗10KB的数据。
- en: Note
  id: totrans-607
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: The sum of [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables),
    [`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes),
    and [`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)
    must not exceed `2^(32) − 2` (4294967294).
  id: totrans-608
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)、[`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)和[`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)的总和不能超过`2^(32)
    − 2`（4294967294）。'
- en: '[`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)'
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-610
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-611
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 64 |'
  id: totrans-612
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-613
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-614
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13） |'
- en: For each unique index that is not a primary key, a special table is allocated
    that maps the unique key to the primary key of the indexed table. By default,
    an ordered index is also defined for each unique index. To prevent this, you must
    specify the `USING HASH` option when defining the unique index.
  id: totrans-615
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于每个不是主键的唯一索引，都会分配一个特殊表，将唯一键映射到索引表的主键。默认情况下，每个唯一索引也定义了一个有序索引。要防止这种情况，必须在定义唯一索引时指定`USING
    HASH`选项。
- en: The default value is 64\. Each index consumes approximately 15KB per node.
  id: totrans-616
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为64。每个索引大约消耗15KB每个节点。
- en: Note
  id: totrans-617
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: The sum of [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables),
    [`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes),
    and [`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)
    must not exceed `2^(32) − 2` (4294967294).
  id: totrans-618
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)、[`MaxNoOfOrderedIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooforderedindexes)和[`MaxNoOfUniqueHashIndexes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofuniquehashindexes)的总和不能超过`2^(32)
    − 2`（4294967294）。'
- en: '[`MaxNoOfTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftriggers)'
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfTriggers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftriggers)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-620
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-621
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 768 |'
  id: totrans-622
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 768 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-623
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-624
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13） |'
- en: Internal update, insert, and delete triggers are allocated for each unique hash
    index. (This means that three triggers are created for each unique hash index.)
    However, an *ordered* index requires only a single trigger object. Backups also
    use three trigger objects for each normal table in the cluster.
  id: totrans-625
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个唯一哈希索引都分配了内部更新、插入和删除触发器。（这意味着每个唯一哈希索引都创建了三个触发器。）然而，*有序*索引只需要一个触发器对象。备份还为集群中的每个普通表使用三个触发器对象。
- en: Replication between clusters also makes use of internal triggers.
  id: totrans-626
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 集群之间的复制也使用内部触发器。
- en: This parameter sets the maximum number of trigger objects in the cluster.
  id: totrans-627
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置了集群中触发器对象的最大数量。
- en: The default value is 768.
  id: totrans-628
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为768。
- en: '[`MaxNoOfSubscriptions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscriptions)'
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfSubscriptions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscriptions)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-630
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-631
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 0 |'
  id: totrans-632
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-633
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-634
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：**需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Each [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB Cluster 8.0") table in
    an NDB Cluster requires a subscription in the NDB kernel. For some NDB API applications,
    it may be necessary or desirable to change this parameter. However, for normal
    usage with MySQL servers acting as SQL nodes, there is not any need to do so.
  id: totrans-635
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: NDB 集群中的每个 [`NDB`](mysql-cluster.html "第 25 章 MySQL NDB 集群 8.0") 表都需要在 NDB 内核中进行订阅。对于一些
    NDB API 应用程序，可能需要或希望更改此参数。但是，对于正常使用 MySQL 服务器作为 SQL 节点的情况，没有必要这样做。
- en: The default value for [`MaxNoOfSubscriptions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscriptions)
    is 0, which is treated as equal to [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables).
    Each subscription consumes 108 bytes.
  id: totrans-636
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MaxNoOfSubscriptions`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscriptions)
    的默认值为 0，被视为等于 [`MaxNoOfTables`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnooftables)。每个订阅者消耗
    108 字节。'
- en: '[`MaxNoOfSubscribers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscribers)'
  id: totrans-637
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfSubscribers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscribers)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-638
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-639
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 0 |'
  id: totrans-640
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-641
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-642
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：**需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter is of interest only when using NDB Cluster Replication. The default
    value is 0\. Prior to NDB 8.0.26, this was treated as `2 * MaxNoOfTables`; beginning
    with NDB 8.0.26, it is treated as `2 * MaxNoOfTables + 2 * [number of API nodes]`.
    There is one subscription per [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB
    Cluster 8.0") table for each of two MySQL servers (one acting as the replication
    source and the other as the replica). Each subscriber uses 16 bytes of memory.
  id: totrans-643
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用 NDB 集群复制时，此参数才有意义。默认值为 0。在 NDB 8.0.26 之前，此值被视为 `2 * MaxNoOfTables`；从 NDB
    8.0.26 开始，它被视为 `2 * MaxNoOfTables + 2 * [API 节点数]`。每个 MySQL 服务器（一个作为复制源，另一个作为副本）的每个
    [`NDB`](mysql-cluster.html "第 25 章 MySQL NDB 集群 8.0") 表都有一个订阅者，每个订阅者使用 16 字节的内存。
- en: When using circular replication, multi-source replication, and other replication
    setups involving more than 2 MySQL servers, you should increase this parameter
    to the number of [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") processes
    included in replication (this is often, but not always, the same as the number
    of clusters). For example, if you have a circular replication setup using three
    NDB Clusters, with one [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server")
    attached to each cluster, and each of these [**mysqld**](mysqld.html "6.3.1 mysqld
    — The MySQL Server") processes acts as a source and as a replica, you should set
    [`MaxNoOfSubscribers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscribers)
    equal to `3 * MaxNoOfTables`.
  id: totrans-644
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在使用循环复制、多源复制和涉及超过 2 个 MySQL 服务器的其他复制设置时，应将此参数增加到包含在复制中的 [**mysqld**](mysqld.html
    "6.3.1 mysqld — MySQL 服务器") 进程的数量（通常与集群数量相同，但并非总是如此）。例如，如果您有一个使用三个 NDB 集群的循环复制设置，每个集群附加一个
    [**mysqld**](mysqld.html "6.3.1 mysqld — MySQL 服务器")，并且每个 [**mysqld**](mysqld.html
    "6.3.1 mysqld — MySQL 服务器") 进程既是源又是副本，则应将 [`MaxNoOfSubscribers`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofsubscribers)
    设置为 `3 * MaxNoOfTables`。
- en: For more information, see [Section 25.7, “NDB Cluster Replication”](mysql-cluster-replication.html
    "25.7 NDB Cluster Replication").
  id: totrans-645
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 欲了解更多信息，请参阅[第 25.7 节“NDB 集群复制”](mysql-cluster-replication.html "25.7 NDB 集群复制")。
- en: '[`MaxNoOfConcurrentSubOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentsuboperations)'
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxNoOfConcurrentSubOperations`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxnoofconcurrentsuboperations)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-647
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-648
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 256 |'
  id: totrans-649
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 256 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-650
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-651
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 NDB
    Cluster 的滚动重启")。 （NDB 8.0.13） |'
- en: This parameter sets a ceiling on the number of operations that can be performed
    by all API nodes in the cluster at one time. The default value (256) is sufficient
    for normal operations, and might need to be adjusted only in scenarios where there
    are a great many API nodes each performing a high volume of operations concurrently.
  id: totrans-652
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置了集群中所有 API 节点可以同时执行的操作数量上限。默认值（256）对于正常操作已经足够，只有在有很多 API 节点同时执行大量操作的情况下才需要调整。
- en: '**Boolean parameters. ** The behavior of data nodes is also affected by a set
    of `[ndbd]` parameters taking on boolean values. These parameters can each be
    specified as `TRUE` by setting them equal to `1` or `Y`, and as `FALSE` by setting
    them equal to `0` or `N`.'
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: '**布尔参数。** 数据节点的行为也受到一组取布尔值的 `[ndbd]` 参数的影响。这些参数可以通过将它们设置为 `1` 或 `Y` 来指定为 `TRUE`，通过将它们设置为
    `0` 或 `N` 来指定为 `FALSE`。'
- en: '[`CompressedLCP`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-compressedlcp)'
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CompressedLCP`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-compressedlcp)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-655
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-656
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-657
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-658
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-659
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 NDB
    Cluster 的滚动重启")。 （NDB 8.0.13） |'
- en: Setting this parameter to `1` causes local checkpoint files to be compressed.
    The compression used is equivalent to **gzip --fast**, and can save 50% or more
    of the space required on the data node to store uncompressed checkpoint files.
    Compressed LCPs can be enabled for individual data nodes, or for all data nodes
    (by setting this parameter in the `[ndbd default]` section of the `config.ini`
    file).
  id: totrans-660
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置为 `1` 会导致本地检查点文件被压缩。所使用的压缩方式等同于 **gzip --fast**，可以节省数据节点上存储未压缩检查点文件所需空间的
    50% 或更多。可以为单个数据节点启用压缩的 LCP，也可以为所有数据节点启用（通过在 `config.ini` 文件的 `[ndbd default]`
    部分设置此参数）。
- en: Important
  id: totrans-661
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: You cannot restore a compressed local checkpoint to a cluster running a MySQL
    version that does not support this feature.
  id: totrans-662
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不能将压缩的本地检查点还原到不支持此功能的 MySQL 版本的集群中运行。
- en: The default value is `0` (disabled).
  id: totrans-663
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为 `0`（禁用）。
- en: Prior to NDB 8.0.29, this parameter had no effect on Windows platforms (BUG#106075,
    BUG#33727690).
  id: totrans-664
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 NDB 8.0.29 之前，此参数在 Windows 平台上没有效果（BUG#106075，BUG#33727690）。
- en: '[`CrashOnCorruptedTuple`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-crashoncorruptedtuple)'
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CrashOnCorruptedTuple`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-crashoncorruptedtuple)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-666
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-667
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | true |'
  id: totrans-668
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | true |'
- en: '| Range | true, false |'
  id: totrans-669
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-670
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 NDB
    Cluster 的滚动重启")。 （NDB 8.0.13） |'
- en: When this parameter is enabled (the default), it forces a data node to shut
    down whenever it encounters a corrupted tuple.
  id: totrans-671
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用此参数（默认情况下），当数据节点遇到损坏的元组时，它会强制关闭。
- en: '[`Diskless`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskless)'
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Diskless`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskless)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-673
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | true&#124;false (1&#124;0) |'
  id: totrans-674
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | true&#124;false (1&#124;0) |'
- en: '| Default | false |'
  id: totrans-675
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-676
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Initial System Restart:** Requires a complete shutdown of
    the cluster, wiping and restoring the cluster file system from a [backup](mysql-cluster-backup.html
    "25.6.8 Online Backup of NDB Cluster"), and then restarting the cluster. (NDB
    8.0.13) |'
  id: totrans-677
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始系统重启：** 需要完全关闭集群，从[备份](mysql-cluster-backup.html "25.6.8 NDB Cluster
    的在线备份")中擦除和恢复集群文件系统，然后重新启动集群。（NDB 8.0.13） |'
- en: It is possible to specify NDB Cluster tables as diskless, meaning that tables
    are not checkpointed to disk and that no logging occurs. Such tables exist only
    in main memory. A consequence of using diskless tables is that neither the tables
    nor the records in those tables survive a crash. However, when operating in diskless
    mode, it is possible to run [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd
    — The NDB Cluster Data Node Daemon") on a diskless computer.
  id: totrans-678
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以将 NDB 集群表指定为无磁盘，这意味着表不会被检查点到磁盘，也不会发生日志记录。这些表仅存在于主内存中。使用无磁盘表的一个后果是，表和表中的记录在崩溃时都不会存活。但是，在无磁盘模式下，可以在无磁盘计算机上运行[**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — NDB 集群数据节点守护程序")。
- en: Important
  id: totrans-679
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: This feature causes the *entire* cluster to operate in diskless mode.
  id: totrans-680
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此功能导致整个集群以无磁盘模式运行。
- en: When this feature is enabled, NDB Cluster online backup is disabled. In addition,
    a partial start of the cluster is not possible.
  id: totrans-681
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用此功能后，NDB 集群在线备份将被禁用。此外，无法进行集群的部分启动。
- en: '[`Diskless`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskless) is
    disabled by default.'
  id: totrans-682
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认情况下，[`无磁盘`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskless) 是禁用的。
- en: '[`EncryptedFileSystem`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-encryptedfilesystem)'
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`加密文件系统`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-encryptedfilesystem)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-684
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-685
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 0 |'
  id: totrans-686
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 1 |'
  id: totrans-687
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 1 |'
- en: '| Added | NDB 8.0.29 |'
  id: totrans-688
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.29 |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-689
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")；每个数据节点必须使用 [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)
    重新启动。（NDB 8.0.13） |'
- en: Encrypt LCP and tablespace files, including undo logs and redo logs. Disabled
    by default (`0`); set to `1` to enable.
  id: totrans-690
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 加密 LCP 和表空间文件，包括撤销日志和重做日志。默认情况下禁用（`0`）；设置为 `1` 以启用。
- en: Important
  id: totrans-691
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: When file system encryption is enabled, you must supply a password to each data
    node when starting it, using one of the options [`--filesystem-password`](mysql-cluster-programs-ndbd.html#option_ndbd_filesystem-password)
    or [`--filesystem-password-from-stdin`](mysql-cluster-programs-ndbd.html#option_ndbd_filesystem-password-from-stdin).
    Otherwise, the data node cannot start.
  id: totrans-692
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用文件系统加密时，您必须在启动每个数据节点时提供密码，可以使用 [`--filesystem-password`](mysql-cluster-programs-ndbd.html#option_ndbd_filesystem-password)
    或 [`--filesystem-password-from-stdin`](mysql-cluster-programs-ndbd.html#option_ndbd_filesystem-password-from-stdin)
    选项之一。否则，数据节点无法启动。
- en: For more information, see [Section 25.6.14, “File System Encryption for NDB
    Cluster”](mysql-cluster-tde.html "25.6.14 File System Encryption for NDB Cluster").
  id: totrans-693
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更多信息，请参阅[第 25.6.14 节，“NDB 集群的文件系统加密”](mysql-cluster-tde.html "25.6.14 NDB 集群的文件系统加密")。
- en: '[`LateAlloc`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-latealloc)'
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`延迟分配`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-latealloc)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-695
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-696
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 1 |'
  id: totrans-697
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1 |'
- en: '| Range | 0 - 1 |'
  id: totrans-698
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 1 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-699
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: Allocate memory for this data node after a connection to the management server
    has been established. Enabled by default.
  id: totrans-700
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在与管理服务器建立连接后为此数据节点分配内存。默认情况下启用。
- en: '[`LockPagesInMainMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockpagesinmainmemory)'
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`锁定主内存中的页面`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockpagesinmainmemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-702
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-703
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 0 |'
  id: totrans-704
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 2 |'
  id: totrans-705
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 2 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-706
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: For a number of operating systems, including Solaris and Linux, it is possible
    to lock a process into memory and so avoid any swapping to disk. This can be used
    to help guarantee the cluster's real-time characteristics.
  id: totrans-707
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于许多操作系统，包括Solaris和Linux，可以将进程锁定到内存中，从而避免任何交换到磁盘。这可以用来帮助保证集群的实时特性。
- en: 'This parameter takes one of the integer values `0`, `1`, or `2`, which act
    as shown in the following list:'
  id: totrans-708
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数接受整数值`0`、`1`或`2`，其作用如下所示：
- en: '`0`: Disables locking. This is the default value.'
  id: totrans-709
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`0`: 禁用锁定。这是默认值。'
- en: '`1`: Performs the lock after allocating memory for the process.'
  id: totrans-710
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`1`: 在为进程分配内存后执行锁定。'
- en: '`2`: Performs the lock before memory for the process is allocated.'
  id: totrans-711
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`2`: 在为进程分配内存之前执行锁定。'
- en: If the operating system is not configured to permit unprivileged users to lock
    pages, then the data node process making use of this parameter may have to be
    run as system root. ([`LockPagesInMainMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockpagesinmainmemory)
    uses the `mlockall` function. From Linux kernel 2.6.9, unprivileged users can
    lock memory as limited by `max locked memory`. For more information, see **ulimit
    -l** and [http://linux.die.net/man/2/mlock](http://linux.die.net/man/2/mlock)).
  id: totrans-712
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果操作系统未配置为允许非特权用户锁定页面，则使用此参数的数据节点进程可能必须以系统根用户身份运行。([`LockPagesInMainMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockpagesinmainmemory)使用`mlockall`函数。从Linux内核2.6.9开始，非特权用户可以锁定内存，受`max
    locked memory`限制。有关更多信息，请参见**ulimit -l**和[http://linux.die.net/man/2/mlock](http://linux.die.net/man/2/mlock)。)
- en: Note
  id: totrans-713
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: In older NDB Cluster releases, this parameter was a Boolean. `0` or `false`
    was the default setting, and disabled locking. `1` or `true` enabled locking of
    the process after its memory was allocated. NDB Cluster 8.0 treats `true` or `false`
    for the value of this parameter as an error.
  id: totrans-714
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在旧版NDB Cluster中，此参数是一个布尔值。`0`或`false`是默认设置，禁用锁定。`1`或`true`启用在为进程分配内存后锁定进程。NDB
    Cluster 8.0将此参数的值视为错误。
- en: Important
  id: totrans-715
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: Beginning with `glibc` 2.10, `glibc` uses per-thread arenas to reduce lock contention
    on a shared pool, which consumes real memory. In general, a data node process
    does not need per-thread arenas, since it does not perform any memory allocation
    after startup. (This difference in allocators does not appear to affect performance
    significantly.)
  id: totrans-716
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从`glibc` 2.10开始，`glibc`使用每个线程的竞技场来减少共享池上的锁争用，这会消耗实际内存。一般来说，数据节点进程在启动后不需要每个线程的竞技场，因为它在启动后不执行任何内存分配。（这种分配器的差异似乎不会显著影响性能。）
- en: 'The `glibc` behavior is intended to be configurable via the `MALLOC_ARENA_MAX`
    environment variable, but a bug in this mechanism prior to `glibc` 2.16 meant
    that this variable could not be set to less than 8, so that the wasted memory
    could not be reclaimed. (Bug #15907219; see also [http://sourceware.org/bugzilla/show_bug.cgi?id=13137](http://sourceware.org/bugzilla/show_bug.cgi?id=13137)
    for more information concerning this issue.)'
  id: totrans-717
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`glibc`的行为应通过`MALLOC_ARENA_MAX`环境变量进行配置，但在`glibc` 2.16之前的机制中存在一个错误，这意味着无法将此变量设置为小于8，因此无法回收浪费的内存。（Bug
    #15907219；另请参阅[http://sourceware.org/bugzilla/show_bug.cgi?id=13137](http://sourceware.org/bugzilla/show_bug.cgi?id=13137)以获取有关此问题的更多信息。)'
- en: One possible workaround for this problem is to use the `LD_PRELOAD` environment
    variable to preload a `jemalloc` memory allocation library to take the place of
    that supplied with `glibc`.
  id: totrans-718
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个可能的解决方法是使用`LD_PRELOAD`环境变量预加载`jemalloc`内存分配库，以取代`glibc`提供的库。
- en: '[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect)'
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-720
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-721
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-722
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | false |'
- en: '| Range | true, false |'
  id: totrans-723
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-724
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB
    Cluster的滚动重启")。 (NDB 8.0.13) |'
- en: Enabling this parameter causes [`NDB`](mysql-cluster.html "Chapter 25 MySQL
    NDB Cluster 8.0") to attempt using `O_DIRECT` writes for LCP, backups, and redo
    logs, often lowering **kswapd** and CPU usage. When using NDB Cluster on Linux,
    enable [`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect) if
    you are using a 2.6 or later kernel.
  id: totrans-725
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用此参数会导致[`NDB`](mysql-cluster.html "第 25 章 MySQL NDB 集群 8.0")尝试使用`O_DIRECT`写入进行
    LCP、备份和重做日志，通常降低**kswapd**和 CPU 使用率。在 Linux 上使用 NDB Cluster 时，如果使用的是 2.6 或更高版本的内核，请启���[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect)。
- en: '[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect) is disabled
    by default.'
  id: totrans-726
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect) 默认情况下被禁用。'
- en: '[`ODirectSyncFlag`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirectsyncflag)'
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ODirectSyncFlag`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirectsyncflag)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-728
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-729
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-730
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-731
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-732
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: 'When this parameter is enabled, redo log writes are performed such that each
    completed file system write is handled as a call to `fsync`. The setting for this
    parameter is ignored if at least one of the following conditions is true:'
  id: totrans-733
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用此参数时，重做日志写入是这样执行的，即每个完成的文件系统写入被处理为调用`fsync`。如果以下条件之一为真，则忽略此参数的设置：
- en: '[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect) is not
    enabled.'
  id: totrans-734
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect)未被启用。'
- en: '`InitFragmentLogFiles` is set to `SPARSE`.'
  id: totrans-735
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`InitFragmentLogFiles`设置为`SPARSE`。'
- en: Disabled by default.
  id: totrans-736
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认情况下被禁用。
- en: '[`RestartOnErrorInsert`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-restartonerrorinsert)'
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RestartOnErrorInsert`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-restartonerrorinsert)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-738
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | error code |'
  id: totrans-739
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 错误代码 |'
- en: '| Default | 2 |'
  id: totrans-740
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 2 |'
- en: '| Range | 0 - 4 |'
  id: totrans-741
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-742
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: This feature is accessible only when building the debug version where it is
    possible to insert errors in the execution of individual blocks of code as part
    of testing.
  id: totrans-743
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该功能仅在构建调试版本时可访问，可以在测试中将错误插入到代码块的执行中。
- en: This feature is disabled by default.
  id: totrans-744
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该功能默认情况下被禁用。
- en: '[`StopOnError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stoponerror)'
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StopOnError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stoponerror)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-746
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-747
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | 1 |'
  id: totrans-748
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1 |'
- en: '| Range | 0, 1 |'
  id: totrans-749
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0, 1 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-750
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: This parameter specifies whether a data node process should exit or perform
    an automatic restart when an error condition is encountered.
  id: totrans-751
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数指定当遇到错误条件时，数据节点进程应退出还是执行自动重启。
- en: This parameter's default value is 1; this means that, by default, an error causes
    the data node process to halt.
  id: totrans-752
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为 1；这意味着，默认情况下，错误会导致数据节点进程停止。
- en: When an error is encountered and `StopOnError` is 0, the data node process is
    restarted.
  id: totrans-753
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当遇到错误并且`StopOnError`为0时，数据节点进程将被重启。
- en: Users of MySQL Cluster Manager should note that, when `StopOnError` equals 1,
    this prevents the MySQL Cluster Manager agent from restarting any data nodes after
    it has performed its own restart and recovery. See [Starting and Stopping the
    Agent on Linux](/doc/mysql-cluster-manager/8.0/en/mcm-using-start-stop-agent-linux.html),
    for more information.
  id: totrans-754
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: MySQL Cluster Manager的用户应注意，当`StopOnError`等于1时，这会阻止MySQL Cluster Manager代理在执行自身的重启和恢复后重新启动任何数据节点。有关更多信息，请参阅[在
    Linux 上启动和停止代理](/doc/mysql-cluster-manager/8.0/en/mcm-using-start-stop-agent-linux.html)。
- en: '[`UseShm`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-useshm)'
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`UseShm`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-useshm)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-756
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-757
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-758
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-759
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-760
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: Enable a shared memory connection between this data node and the API node also
    running on this host. Set to 1 to enable.
  id: totrans-761
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在此数据节点和在同一主机上运行的 API 节点之间启用共享内存连接。设置为1以启用。
- en: Controlling Timeouts, Intervals, and Disk Paging
  id: totrans-762
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 控制超时、间隔和磁盘分页
- en: There are a number of `[ndbd]` parameters specifying timeouts and intervals
    between various actions in Cluster data nodes. Most of the timeout values are
    specified in milliseconds. Any exceptions to this are mentioned where applicable.
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: 集群数据节点中有许多 `[ndbd]` 参数指定了各种操作之间的超时和间隔时间。大多数超时值以毫秒为单位指定。任何例外情况都会在适用时提到。
- en: '[`TimeBetweenWatchDogCheck`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheck)'
  id: totrans-764
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenWatchDogCheck`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheck)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-765
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-766
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 6000 |'
  id: totrans-767
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 6000 |'
- en: '| Range | 70 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-768
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 70 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-769
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: To prevent the main thread from getting stuck in an endless loop at some point,
    a “watchdog” thread checks the main thread. This parameter specifies the number
    of milliseconds between checks. If the process remains in the same state after
    three checks, the watchdog thread terminates it.
  id: totrans-770
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了防止主线程在某个时刻陷入无限循环，一个“看门狗”线程会监视主线程。该参数指定了每次检查之间的毫秒数。如果进程在三次检查后仍处于相同状态，则看门狗线程将终止它。
- en: This parameter can easily be changed for purposes of experimentation or to adapt
    to local conditions. It can be specified on a per-node basis although there seems
    to be little reason for doing so.
  id: totrans-771
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个参数可以很容易地进行更改以进行实验或适应本地条件。虽然可以按节点指定，但似乎没有太多理由这样做。
- en: The default timeout is 6000 milliseconds (6 seconds).
  id: totrans-772
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认超时时间为6000毫秒（6秒）。
- en: '[`TimeBetweenWatchDogCheckInitial`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial)'
  id: totrans-773
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenWatchDogCheckInitial`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-774
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-775
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 6000 |'
  id: totrans-776
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 6000 |'
- en: '| Range | 70 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-777
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 70 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-778
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: This is similar to the [`TimeBetweenWatchDogCheck`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheck)
    parameter, except that [`TimeBetweenWatchDogCheckInitial`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial)
    controls the amount of time that passes between execution checks inside a storage
    node in the early start phases during which memory is allocated.
  id: totrans-779
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这与 [`TimeBetweenWatchDogCheck`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheck)
    参数类似，不同之处在于 [`TimeBetweenWatchDogCheckInitial`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial)
    控制了在存储节点的早期启动阶段内存分配时执行检查之间经过的时间。
- en: The default timeout is 6000 milliseconds (6 seconds).
  id: totrans-780
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认超时时间为6000毫秒（6秒）。
- en: '[`StartPartialTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartialtimeout)'
  id: totrans-781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StartPartialTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartialtimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-782
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-783
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 30000 |'
  id: totrans-784
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 30000 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-785
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-786
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: This parameter specifies how long the Cluster waits for all data nodes to come
    up before the cluster initialization routine is invoked. This timeout is used
    to avoid a partial Cluster startup whenever possible.
  id: totrans-787
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定集群在调用集群初始化程序之前等待所有数据节点启动的时间。此超时用于尽可能避免部分集群启动。
- en: This parameter is overridden when performing an initial start or initial restart
    of the cluster.
  id: totrans-788
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在执行集群的初始启动或初始重启时，此参数将被覆盖。
- en: The default value is 30000 milliseconds (30 seconds). 0 disables the timeout,
    in which case the cluster may start only if all nodes are available.
  id: totrans-789
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为30000毫秒（30秒）。0禁用超时，此时只有在所有节点可用时集群才能启动。
- en: '[`StartPartitionedTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartitionedtimeout)'
  id: totrans-790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StartPartitionedTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartitionedtimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-791
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-792
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 0 |'
  id: totrans-793
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-794
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-795
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: If the cluster is ready to start after waiting for [`StartPartialTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartialtimeout)
    milliseconds but is still possibly in a partitioned state, the cluster waits until
    this timeout has also passed. If [`StartPartitionedTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartitionedtimeout)
    is set to 0, the cluster waits indefinitely (2^(32)−1 ms, or approximately 49.71
    days).
  id: totrans-796
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果集群在等待[`StartPartialTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartialtimeout)毫秒后准备启动，但仍可能处于分区状态，则集群会等待直到此超时也过去。如果[`StartPartitionedTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startpartitionedtimeout)设置为0，则集群会无限期等待（2^(32)−1
    毫秒，约为49.71天）。
- en: This parameter is overridden when performing an initial start or initial restart
    of the cluster.
  id: totrans-797
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在执行集群的初始启动或初始重启时，此参数将被覆盖。
- en: '[`StartFailureTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailuretimeout)'
  id: totrans-798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StartFailureTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailuretimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-799
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-800
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 0 |'
  id: totrans-801
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-802
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-803
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: If a data node has not completed its startup sequence within the time specified
    by this parameter, the node startup fails. Setting this parameter to 0 (the default
    value) means that no data node timeout is applied.
  id: totrans-804
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果数据节点在此参数指定的时间内未完成启动序列，则节点启动失败。将此参数设置为0（默认值）意味着不应用任何数据节点超时。
- en: For nonzero values, this parameter is measured in milliseconds. For data nodes
    containing extremely large amounts of data, this parameter should be increased.
    For example, in the case of a data node containing several gigabytes of data,
    a period as long as 10−15 minutes (that is, 600000 to 1000000 milliseconds) might
    be required to perform a node restart.
  id: totrans-805
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于非零值，此参数以毫秒为单位。对于包含大量数据的数据节点，应增加此参数。例如，在数据节点包含数千兆字节数据的情况下，可能需要长达10−15分钟（即600000至1000000毫秒）的时间来执行节点重启。
- en: '[`StartNoNodeGroupTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startnonodegrouptimeout)'
  id: totrans-806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StartNoNodeGroupTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startnonodegrouptimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-807
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-808
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 15000 |'
  id: totrans-809
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 15000 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-810
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-811
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: When a data node is configured with [`Nodegroup = 65536`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup),
    is regarded as not being assigned to any node group. When that is done, the cluster
    waits `StartNoNodegroupTimeout` milliseconds, then treats such nodes as though
    they had been added to the list passed to the [`--nowait-nodes`](mysql-cluster-programs-ndbd.html#option_ndbd_nowait-nodes)
    option, and starts. The default value is `15000` (that is, the management server
    waits 15 seconds). Setting this parameter equal to `0` means that the cluster
    waits indefinitely.
  id: totrans-812
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当数据节点配置为[`Nodegroup = 65536`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nodegroup)时，被视为未分配到任何节点组。完成此操作后，集群等待`StartNoNodegroupTimeout`毫秒，然后将这些节点视为已添加到传递给[`--nowait-nodes`](mysql-cluster-programs-ndbd.html#option_ndbd_nowait-nodes)选项的列表中，并启动。默认值为`15000`（即，管理服务器等待15秒）。将此参数设置为`0`意味着集群无限期等待。
- en: '`StartNoNodegroupTimeout` must be the same for all data nodes in the cluster;
    for this reason, you should always set it in the `[ndbd default]` section of the
    `config.ini` file, rather than for individual data nodes.'
  id: totrans-813
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`StartNoNodegroupTimeout`必须对集群中的所有数据节点相同；因此，您应始终在`config.ini`文件的`[ndbd default]`部分中设置它，而不是为单独的数据节点设置。'
- en: See [Section 25.6.7, “Adding NDB Cluster Data Nodes Online”](mysql-cluster-online-add-node.html
    "25.6.7 Adding NDB Cluster Data Nodes Online"), for more information.
  id: totrans-814
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 查看[第25.6.7节，“在线添加NDB集群数据节点”](mysql-cluster-online-add-node.html "25.6.7 添加NDB集群数据节点")，获取更多信息。
- en: '[`HeartbeatIntervalDbDb`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbdb)'
  id: totrans-815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`HeartbeatIntervalDbDb`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbdb)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-816
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-817
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 5000 |'
  id: totrans-818
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 5000 |'
- en: '| Range | 10 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-819
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 10 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-820
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: One of the primary methods of discovering failed nodes is by the use of heartbeats.
    This parameter states how often heartbeat signals are sent and how often to expect
    to receive them. Heartbeats cannot be disabled.
  id: totrans-821
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 发现故障节点的主要方法之一是使用心跳。此参数说明心跳信号发送的频率以及预期接收它们的频率。无法禁用心跳。
- en: After missing four heartbeat intervals in a row, the node is declared dead.
    Thus, the maximum time for discovering a failure through the heartbeat mechanism
    is five times the heartbeat interval.
  id: totrans-822
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 连续错过四个心跳间隔后，节点被宣布死亡。因此，通过心跳机制发现故障的最长时间是心跳间隔的五倍。
- en: The default heartbeat interval is 5000 milliseconds (5 seconds). This parameter
    must not be changed drastically and should not vary widely between nodes. If one
    node uses 5000 milliseconds and the node watching it uses 1000 milliseconds, obviously
    the node is declared dead very quickly. This parameter can be changed during an
    online software upgrade, but only in small increments.
  id: totrans-823
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认心跳间隔为5000毫秒（5秒）。此参数不应大幅更改，并且在节点之间不应有很大差异。如果一个节点使用5000毫秒，而监视它的节点使用1000毫秒，显然该节点会很快被宣布死亡。此参数可以在在线软件升级期间进行更改，但只能小幅增加。
- en: See also [Network communication and latency](mysql-cluster-overview-requirements.html#mysql-cluster-network-latency-issues
    "Network communication and latency"), as well as the description of the [`ConnectCheckIntervalDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-connectcheckintervaldelay)
    configuration parameter.
  id: totrans-824
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 另请参阅[网络通信和延迟](mysql-cluster-overview-requirements.html#mysql-cluster-network-latency-issues
    "网络通信和延迟")以及[`ConnectCheckIntervalDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-connectcheckintervaldelay)配置参数的描述。
- en: '[`HeartbeatIntervalDbApi`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbapi)'
  id: totrans-825
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`HeartbeatIntervalDbApi`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbapi)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-826
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-827
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 1500 |'
  id: totrans-828
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1500 |'
- en: '| Range | 100 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-829
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 100 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-830
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: Each data node sends heartbeat signals to each MySQL server (SQL node) to ensure
    that it remains in contact. If a MySQL server fails to send a heartbeat in time
    it is declared “dead,” in which case all ongoing transactions are completed and
    all resources released. The SQL node cannot reconnect until all activities initiated
    by the previous MySQL instance have been completed. The three-heartbeat criteria
    for this determination are the same as described for [`HeartbeatIntervalDbDb`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbdb).
  id: totrans-831
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个数据节点向每个MySQL服务器（SQL节点）发送心跳信号，以确保保持联系。如果某个MySQL服务器未能及时发送心跳，则被声明为“死亡”，在这种情况下，所有正在进行的事务将被完成，所有资源将被释放。直到前一个MySQL实例启动的所有活动都完成后，SQL节点才能重新连接。用于此确定的三个心跳标准与[`HeartbeatIntervalDbDb`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbdb)中描述的相同。
- en: The default interval is 1500 milliseconds (1.5 seconds). This interval can vary
    between individual data nodes because each data node watches the MySQL servers
    connected to it, independently of all other data nodes.
  id: totrans-832
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认间隔为1500毫秒（1.5秒）。此间隔可能因为每个数据节点独立监视连接到其上的MySQL服务器而在各个数据节点之间有所不同，与其他所有数据节点无关。
- en: For more information, see [Network communication and latency](mysql-cluster-overview-requirements.html#mysql-cluster-network-latency-issues
    "Network communication and latency").
  id: totrans-833
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更多信息，请参见[网络通信和延迟](mysql-cluster-overview-requirements.html#mysql-cluster-network-latency-issues
    "网络通信和延迟")。
- en: '[`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)'
  id: totrans-834
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-835
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-836
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 0 |'
  id: totrans-837
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 65535 |'
  id: totrans-838
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 65535 |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-839
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重新启动集群。（NDB 8.0.13） |'
- en: Data nodes send heartbeats to one another in a circular fashion whereby each
    data node monitors the previous one. If a heartbeat is not detected by a given
    data node, this node declares the previous data node in the circle “dead” (that
    is, no longer accessible by the cluster). The determination that a data node is
    dead is done globally; in other words; once a data node is declared dead, it is
    regarded as such by all nodes in the cluster.
  id: totrans-840
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据节点以循环方式向彼此发送心跳，每个数据节点监视前一个数据节点。如果某个数据节点未检测到心跳，则该节点将声明循环中的前一个数据节点“死亡”（即，集群不再能访问）。确定数据节点死亡是全局性的；换句话说，一旦某个数据节点被声明为死亡，所有集群中的节点都将这样认为。
- en: It is possible for heartbeats between data nodes residing on different hosts
    to be too slow compared to heartbeats between other pairs of nodes (for example,
    due to a very low heartbeat interval or temporary connection problem), such that
    a data node is declared dead, even though the node can still function as part
    of the cluster. .
  id: totrans-841
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可能存在数据节点之间的心跳速度与其他节点对之间的心跳速度过慢（例如，由于非常低的心跳间隔或临时连接问题），导致某个数据节点被声明为死亡，尽管该节点仍可作为集群的一部分运行。
- en: In this type of situation, it may be that the order in which heartbeats are
    transmitted between data nodes makes a difference as to whether or not a particular
    data node is declared dead. If this declaration occurs unnecessarily, this can
    in turn lead to the unnecessary loss of a node group and as thus to a failure
    of the cluster.
  id: totrans-842
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这种情况下，数据节点之间传输心跳的顺序可能会影响某个特定数据节点是否被声明为死亡。如果此声明是不必要的，这反过来可能导致节点组的不必要丢失，从而导致集群的失败。
- en: 'Consider a setup where there are 4 data nodes A, B, C, and D running on 2 host
    computers `host1` and `host2`, and that these data nodes make up 2 node groups,
    as shown in the following table:'
  id: totrans-843
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 考虑一种设置，其中有4个数据节点 A、B、C 和 D 分别运行在2台主机 `host1` 和 `host2` 上，并且这些数据节点组成了2个节点组，如下表所示：
- en: '**Table 25.10 Four data nodes A, B, C, D running on two host computers host1,
    host2; each data node belongs to one of two node groups.**'
  id: totrans-844
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**表 25.10 四个数据节点 A、B、C、D 分别运行在两台主机 host1、host2 上；每个数据节点属于两个节点组中的一个。**'
- en: '| Node Group | Nodes Running on `host1` | Nodes Running on `host2` |'
  id: totrans-845
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 节点组 | 运行在 `host1` 上的节点 | 运行在 `host2` 上的节点 |'
- en: '| Node Group 0: | Node A | Node B |'
  id: totrans-846
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 节点组 0: | 节点 A | 节点 B |'
- en: '| Node Group 1: | Node C | Node D |'
  id: totrans-847
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 节点组 1: | 节点 C | 节点 D |'
- en: Suppose the heartbeats are transmitted in the order A->B->C->D->A. In this case,
    the loss of the heartbeat between the hosts causes node B to declare node A dead
    and node C to declare node B dead. This results in loss of Node Group 0, and so
    the cluster fails. On the other hand, if the order of transmission is A->B->D->C->A
    (and all other conditions remain as previously stated), the loss of the heartbeat
    causes nodes A and D to be declared dead; in this case, each node group has one
    surviving node, and the cluster survives.
  id: totrans-848
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 假设心跳以顺序 A->B->C->D->A 传输。在这种情况下，主机之间心跳丢失导致节点 B 宣布节点 A 死亡，节点 C 宣布节点 B 死亡。这导致节点组
    0 的丢失，因此集群失败。另一方面，如果传输顺序为 A->B->D->C->A（并且所有其他条件保持不变），心跳丢失导致节点 A 和 D 被宣布死亡；在这种情况下，每个节点组都有一个存活节点，集群可以继续运行。
- en: 'The [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    configuration parameter makes the order of heartbeat transmission user-configurable.
    The default value for [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    is zero; allowing the default value to be used on all data nodes causes the order
    of heartbeat transmission to be determined by `NDB`. If this parameter is used,
    it must be set to a nonzero value (maximum 65535) for every data node in the cluster,
    and this value must be unique for each data node; this causes the heartbeat transmission
    to proceed from data node to data node in the order of their [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    values from lowest to highest (and then directly from the data node having the
    highest [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    to the data node having the lowest value, to complete the circle). The values
    need not be consecutive. For example, to force the heartbeat transmission order
    A->B->D->C->A in the scenario outlined previously, you could set the [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    values as shown here:'
  id: totrans-849
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    配置参数使心跳传输顺序可由用户配置。[`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    的默认值为零；允许在所有数据节点上使用默认值会导致心跳传输顺序由 `NDB` 决定。如果使用此参数，必须为集群中的每个数据节点设置为非零值（最大 65535），并且每个数据节点的值必须是唯一的；这将导致心跳传输按照它们的
    [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    值从最低到最高的顺序进行（然后直接从具有最高 [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    值的数据节点到具有最低值的数据节点，以完成循环）。这些值不需要连续。例如，在前面概述的情况下强制心跳传输顺序为 A->B->D->C->A，您可以设置如下的
    [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    值：'
- en: '**Table 25.11 HeartbeatOrder values to force a heartbeat transition order of
    A->B->D->C->A.**'
  id: totrans-850
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**表 25.11 HeartbeatOrder 值，用于强制心跳传输顺序为 A->B->D->C->A。**'
- en: '| Node | `HeartbeatOrder` Value |'
  id: totrans-851
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 节点 | `HeartbeatOrder` 值 |'
- en: '| A | 10 |'
  id: totrans-852
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| A | 10 |'
- en: '| B | 20 |'
  id: totrans-853
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| B | 20 |'
- en: '| C | 30 |'
  id: totrans-854
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| C | 30 |'
- en: '| D | 25 |'
  id: totrans-855
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| D | 25 |'
- en: 'To use this parameter to change the heartbeat transmission order in a running
    NDB Cluster, you must first set [`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)
    for each data node in the cluster in the global configuration (`config.ini`) file
    (or files). To cause the change to take effect, you must perform either of the
    following:'
  id: totrans-856
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要在运行中的 NDB 集群中使用此参数来更改心跳传输顺序，您必须首先在全局配置（`config.ini`）文件（或文件）中为集群中的每个数据节点设置[`HeartbeatOrder`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatorder)。要使更改生效，您必须执行以下操作之一：
- en: A complete shutdown and restart of the entire cluster.
  id: totrans-857
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整个集群的完全关闭和重启。
- en: 2 rolling restarts of the cluster in succession. *All nodes must be restarted
    in the same order in both rolling restarts*.
  id: totrans-858
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连续 2 次滚动重启集群。*所有节点必须按相同顺序在两次滚动重启中重启*。
- en: You can use [`DUMP 908`](/doc/ndb-internals/en/dump-command-908.html) to observe
    the effect of this parameter in the data node logs.
  id: totrans-859
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以使用[`DUMP 908`](/doc/ndb-internals/en/dump-command-908.html)来观察此参数在数据节点日志中的效果。
- en: '[`ConnectCheckIntervalDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-connectcheckintervaldelay)'
  id: totrans-860
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ConnectCheckIntervalDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-connectcheckintervaldelay)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-861
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-862
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 0 |'
  id: totrans-863
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-864
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-865
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter enables connection checking between data nodes after one of them
    has failed heartbeat checks for 5 intervals of up to [`HeartbeatIntervalDbDb`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbdb)
    milliseconds.
  id: totrans-866
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数在一个数据节点在未通过5个[`HeartbeatIntervalDbDb`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-heartbeatintervaldbdb)毫秒的心跳检查后启用数据节点之间的连接检查。
- en: Such a data node that further fails to respond within an interval of `ConnectCheckIntervalDelay`
    milliseconds is considered suspect, and is considered dead after two such intervals.
    This can be useful in setups with known latency issues.
  id: totrans-867
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果某个数据节点在`ConnectCheckIntervalDelay`毫秒的间隔内仍未响应，则被视为可疑，并在两个这样的间隔后被视为死亡。这在存在已知延迟问题的设置中可能很有用。
- en: The default value for this parameter is 0 (disabled).
  id: totrans-868
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数的默认值为0（禁用）。
- en: '[`TimeBetweenLocalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenlocalcheckpoints)'
  id: totrans-869
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenLocalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenlocalcheckpoints)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-870
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | number of 4-byte words, as base-2 logarithm |'
  id: totrans-871
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 4字节字数，以2为底的对数 |'
- en: '| Default | 20 |'
  id: totrans-872
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 20 |'
- en: '| Range | 0 - 31 |'
  id: totrans-873
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 31 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-874
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter is an exception in that it does not specify a time to wait before
    starting a new local checkpoint; rather, it is used to ensure that local checkpoints
    are not performed in a cluster where relatively few updates are taking place.
    In most clusters with high update rates, it is likely that a new local checkpoint
    is started immediately after the previous one has been completed.
  id: totrans-875
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数是一个例外，因为它不指定在开始新的本地检查点之前等待的时间；相反，它用于确保在相对更新较少的集群中不执行本地检查点。在大多数更新速率较高的集群中，很可能在上一个本地检查点完成后立即开始新的本地检查点。
- en: The size of all write operations executed since the start of the previous local
    checkpoints is added. This parameter is also exceptional in that it is specified
    as the base-2 logarithm of the number of 4-byte words, so that the default value
    20 means 4MB (4 × 2^(20)) of write operations, 21 would mean 8MB, and so on up
    to a maximum value of 31, which equates to 8GB of write operations.
  id: totrans-876
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自上一个本地检查点开始执行的所有写操作的大小被累加。该参数也是一个例外，因为它被指定为4字节字数的以2为底的对数，所以默认值20意味着4MB（4 × 2^(20))的写操作，21意味着8MB，依此类推，最大值为31，相当于8GB的写操作。
- en: All the write operations in the cluster are added together. Setting [`TimeBetweenLocalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenlocalcheckpoints)
    to 6 or less means that local checkpoints are executed continuously without pause,
    independent of the cluster's workload.
  id: totrans-877
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所有集群中的写操作都会被累加。将[`TimeBetweenLocalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenlocalcheckpoints)设置为6或更少意味着本地检查点会持续执行，而不受集群工作负载的影响。
- en: '[`TimeBetweenGlobalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints)'
  id: totrans-878
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenGlobalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-879
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-880
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 2000 |'
  id: totrans-881
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 2000 |'
- en: '| Range | 20 - 32000 |'
  id: totrans-882
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 20 - 32000 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-883
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: When a transaction is committed, it is committed in main memory in all nodes
    on which the data is mirrored. However, transaction log records are not flushed
    to disk as part of the commit. The reasoning behind this behavior is that having
    the transaction safely committed on at least two autonomous host machines should
    meet reasonable standards for durability.
  id: totrans-884
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当事务提交时，在所有数据被镜像的节点的主内存中提交。然而，事务日志记录不会作为提交的一部分刷新到磁盘。这种行为背后的理由是，在至少两台自主主机上安全提交事务应该符合合理的耐久性标准。
- en: It is also important to ensure that even the worst of cases—a complete crash
    of the cluster—is handled properly. To guarantee that this happens, all transactions
    taking place within a given interval are put into a global checkpoint, which can
    be thought of as a set of committed transactions that has been flushed to disk.
    In other words, as part of the commit process, a transaction is placed in a global
    checkpoint group. Later, this group's log records are flushed to disk, and then
    the entire group of transactions is safely committed to disk on all computers
    in the cluster.
  id: totrans-885
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要的是要确保即使在最糟糕的情况下——集群完全崩溃时也能正确处理。为了保证这一点，所有在给定时间间隔内发生的事务都被放入一个全局检查点中，可以将其视为已刷新到磁盘的一组已提交事务。换句话说，在提交过程中，事务被放入一个全局检查点组中。稍后，该组的日志记录被刷新到磁盘，然后整个事务组被安全地提交到集群中所有计算机的磁盘上。
- en: In NDB 8.0, we recommended when you are using solid-state disks (especially
    those employing NVMe) with Disk Data tables that you reduce this value. In such
    cases, you should also ensure that [`MaxDiskDataLatency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskdatalatency)
    is set to a proper level.
  id: totrans-886
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在使用固态硬盘（特别是采用NVMe的硬盘）与磁盘数据表时，我们建议在NDB 8.0中减少此值。在这种情况下，您还应确保[`MaxDiskDataLatency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskdatalatency)设置为适当的水平。
- en: This parameter defines the interval between global checkpoints. The default
    is 2000 milliseconds.
  id: totrans-887
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数定义全局检查点之间的间隔。默认值为2000毫秒。
- en: '[`TimeBetweenGlobalCheckpointsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpointstimeout)'
  id: totrans-888
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenGlobalCheckpointsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpointstimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-889
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-890
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 120000 |'
  id: totrans-891
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 120000 |'
- en: '| Range | 10 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-892
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 10 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-893
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter defines the minimum timeout between global checkpoints. The default
    is 120000 milliseconds.
  id: totrans-894
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数定义全局检查点之间的最小超时时间。默认值为120000毫秒。
- en: '[`TimeBetweenEpochs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs)'
  id: totrans-895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenEpochs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-896
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-897
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 100 |'
  id: totrans-898
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 100 |'
- en: '| Range | 0 - 32000 |'
  id: totrans-899
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 32000 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-900
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter defines the interval between synchronization epochs for NDB Cluster
    Replication. The default value is 100 milliseconds.
  id: totrans-901
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数定义NDB集群复制的同步时期之间的间隔。默认值为100毫秒。
- en: '[`TimeBetweenEpochs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs)
    is part of the implementation of “micro-GCPs”, which can be used to improve the
    performance of NDB Cluster Replication.'
  id: totrans-902
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`TimeBetweenEpochs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochs)
    是“微型GCPs”的实现的一部分，可用于改善NDB集群复制的性能。'
- en: '[`TimeBetweenEpochsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochstimeout)'
  id: totrans-903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenEpochsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochstimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-904
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-905
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 0 |'
  id: totrans-906
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 256000 |'
  id: totrans-907
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 256000 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-908
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **节点重新启动：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter defines a timeout for synchronization epochs for NDB Cluster
    Replication. If a node fails to participate in a global checkpoint within the
    time determined by this parameter, the node is shut down. The default value is
    0; in other words, the timeout is disabled.
  id: totrans-909
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数为NDB集群复制的同步时期定义了一个超时。如果节点未能在此参数确定的时间内参与全局检查点，则关闭该节点。默认值为0；换句话说，超时已禁用。
- en: '[`TimeBetweenEpochsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochstimeout)
    is part of the implementation of “micro-GCPs”, which can be used to improve the
    performance of NDB Cluster Replication.'
  id: totrans-910
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`TimeBetweenEpochsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochstimeout)
    是“微型GCPs”的实现的一部分，可用于改善NDB集群复制的性能。'
- en: The current value of this parameter and a warning are written to the cluster
    log whenever a GCP save takes longer than 1 minute or a GCP commit takes longer
    than 10 seconds.
  id: totrans-911
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每当GCP保存时间超过1分钟或GCP提交时间超过10秒时，当前此参数的值和警告都会写入集群日志。
- en: Setting this parameter to zero has the effect of disabling GCP stops caused
    by save timeouts, commit timeouts, or both. The maximum possible value for this
    parameter is 256000 milliseconds.
  id: totrans-912
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置为零会禁用由保存超时、提交超时或两者引起的GCP停止。此参数的最大可能值为256000毫秒。
- en: '[`MaxBufferedEpochs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxbufferedepochs)'
  id: totrans-913
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxBufferedEpochs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxbufferedepochs)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-914
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | epochs |'
  id: totrans-915
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 时期数 |'
- en: '| Default | 100 |'
  id: totrans-916
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 100 |'
- en: '| Range | 0 - 100000 |'
  id: totrans-917
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 100000 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-918
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **节点重新启动：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The number of unprocessed epochs by which a subscribing node can lag behind.
    Exceeding this number causes a lagging subscriber to be disconnected.
  id: totrans-919
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 订阅节点可以滞后的未处理时期数。超过此数字会导致滞后的订阅者被断开连接。
- en: The default value of 100 is sufficient for most normal operations. If a subscribing
    node does lag enough to cause disconnections, it is usually due to network or
    scheduling issues with regard to processes or threads. (In rare circumstances,
    the problem may be due to a bug in the [`NDB`](mysql-cluster.html "Chapter 25 MySQL
    NDB Cluster 8.0") client.) It may be desirable to set the value lower than the
    default when epochs are longer.
  id: totrans-920
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值100对于大多数正常操作已经足够。如果订阅节点滞后足够导致断开连接，则通常是由于与进程或线程相关的网络或调度问题。 （在极少情况下，问题可能是由于[`NDB`](mysql-cluster.html
    "第 25 章 MySQL NDB 集群 8.0")客户端中的错误引起的。）当时期较长时，可能希望将值设置为低于默认值。
- en: Disconnection prevents client issues from affecting the data node service, running
    out of memory to buffer data, and eventually shutting down. Instead, only the
    client is affected as a result of the disconnect (by, for example gap events in
    the binary log), forcing the client to reconnect or restart the process.
  id: totrans-921
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 断开连接可以防止客户端问题影响数据节点服务，导致内存不足以缓冲数据，最终关闭。相反，只有客户端受到断开连接的影响（例如二进制日志中的间隙事件），迫使客户端重新连接或重新启动进程。
- en: '[`MaxBufferedEpochBytes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxbufferedepochbytes)'
  id: totrans-922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxBufferedEpochBytes`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxbufferedepochbytes)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-923
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-924
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 26214400 |'
  id: totrans-925
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 26214400 |'
- en: '| Range | 26214400 (0x01900000) - 4294967039 (0xFFFFFEFF) |'
  id: totrans-926
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 26214400 (0x01900000) - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-927
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **节点重新启动：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The total number of bytes allocated for buffering epochs by this node.
  id: totrans-928
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由此节点分配用于缓冲时期的总字节数。
- en: '[`TimeBetweenInactiveTransactionAbortCheck`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweeninactivetransactionabortcheck)'
  id: totrans-929
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TimeBetweenInactiveTransactionAbortCheck`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweeninactivetransactionabortcheck)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-930
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-931
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 1000 |'
  id: totrans-932
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1000 |'
- en: '| Range | 1000 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-933
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1000 - 4294967039（0xFFFFFEFF） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-934
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: Timeout handling is performed by checking a timer on each transaction once for
    every interval specified by this parameter. Thus, if this parameter is set to
    1000 milliseconds, every transaction is checked for timing out once per second.
  id: totrans-935
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 超时处理通过检查每个事务的计时器来执行，每隔由此参数指定的时间间隔检查一次。因此，如果将此参数设置为1000毫秒，则每个事务每秒检查一次超时。
- en: The default value is 1000 milliseconds (1 second).
  id: totrans-936
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为1000毫秒（1秒）。
- en: '[`TransactionInactiveTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactioninactivetimeout)'
  id: totrans-937
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TransactionInactiveTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactioninactivetimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-938
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-939
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 4294967039 (0xFFFFFEFF) |'
  id: totrans-940
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4294967039（0xFFFFFEFF） |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-941
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039（0xFFFFFEFF） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-942
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: This parameter states the maximum time that is permitted to lapse between operations
    in the same transaction before the transaction is aborted.
  id: totrans-943
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数规定了在同一事务中的操作之间允许经过的最长时间。
- en: The default for this parameter is `4G` (also the maximum). For a real-time database
    that needs to ensure that no transaction keeps locks for too long, this parameter
    should be set to a relatively small value. Setting it to 0 means that the application
    never times out. The unit is milliseconds.
  id: totrans-944
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为`4G`（也是最大值）。对于需要确保没有事务保持锁定时间过长的实时数据库，应将此参数设置为相对较小的值。将其设置为0意味着应用程序永不超时。单位为毫秒。
- en: '[`TransactionDeadlockDetectionTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout)'
  id: totrans-945
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TransactionDeadlockDetectionTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-946
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-947
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 1200 |'
  id: totrans-948
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1200 |'
- en: '| Range | 50 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-949
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 50 - 4294967039（0xFFFFFEFF） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-950
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: When a node executes a query involving a transaction, the node waits for the
    other nodes in the cluster to respond before continuing. This parameter sets the
    amount of time that the transaction can spend executing within a data node, that
    is, the time that the transaction coordinator waits for each data node participating
    in the transaction to execute a request.
  id: totrans-951
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当节点执行涉及事务的查询时，节点在继续之前等待集群中的其他节点响应。此参数设置了事务在数据节点内执行的时间，即事务协调器等待每个参与事务的数据节点执行请求的时间。
- en: 'A failure to respond can occur for any of the following reasons:'
  id: totrans-952
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 未响应可能出现的原因包括：
- en: The node is “dead”
  id: totrans-953
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点已“死亡”
- en: The operation has entered a lock queue
  id: totrans-954
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作已进入锁定队列
- en: The node requested to perform the action could be heavily overloaded.
  id: totrans-955
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请求执行操作的节点可能负载过重。
- en: This timeout parameter states how long the transaction coordinator waits for
    query execution by another node before aborting the transaction, and is important
    for both node failure handling and deadlock detection.
  id: totrans-956
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此超时参数规定了事务协调器在中止事务之前等待另一个节点的查询执行的时间，并且对于节点故障处理和死锁检测都很重要。
- en: The default timeout value is 1200 milliseconds (1.2 seconds).
  id: totrans-957
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认超时值为1200毫秒（1.2秒）。
- en: The minimum for this parameter is 50 milliseconds.
  id: totrans-958
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个参数的最小值为50毫秒。
- en: '[`DiskSyncSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-disksyncsize)'
  id: totrans-959
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DiskSyncSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-disksyncsize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-960
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-961
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 4M |'
  id: totrans-962
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4M |'
- en: '| Range | 32K - 4294967039 (0xFFFFFEFF) |'
  id: totrans-963
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32K - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-964
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **节点重新启动：** 需要[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")集群。（NDB 8.0.13） |'
- en: This is the maximum number of bytes to store before flushing data to a local
    checkpoint file. This is done to prevent write buffering, which can impede performance
    significantly. This parameter is *not* intended to take the place of [`TimeBetweenLocalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenlocalcheckpoints).
  id: totrans-965
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是在将数据刷新到本地检查点文件之前存储的最大字节数。 这样做是为了防止写入缓冲，这可能会显著影响性能。 此参数*不*旨在取代[`TimeBetweenLocalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenlocalcheckpoints)。
- en: Note
  id: totrans-966
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: When [`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect) is
    enabled, it is not necessary to set [`DiskSyncSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-disksyncsize);
    in fact, in such cases its value is simply ignored.
  id: totrans-967
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用[`ODirect`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-odirect)时，不需要设置[`DiskSyncSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-disksyncsize)；实际上，在这种情况下，其值会被简单地忽略。
- en: The default value is 4M (4 megabytes).
  id: totrans-968
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为 4M（4兆字节）。
- en: '[`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed)'
  id: totrans-969
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-970
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-971
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 20M |'
  id: totrans-972
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 20M |'
- en: '| Range | 1M - 1024G |'
  id: totrans-973
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 1024G |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-974
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **系统重新启动：** 需要完全关闭和重新启动集群。（NDB 8.0.13） |'
- en: Set the maximum rate for writing to disk, in bytes per second, by local checkpoints
    and backup operations when no restarts (by this data node or any other data node)
    are taking place in this NDB Cluster.
  id: totrans-975
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置本 NDB 集群中没有重新启动（由此数据节点或任何其他数据节点）正在进行时，本地检查点和备份操作写入磁盘的最大速率，单位为字节每秒。
- en: For setting the maximum rate of disk writes allowed while this data node is
    restarting, use [`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart).
    For setting the maximum rate of disk writes allowed while other data nodes are
    restarting, use [`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart).
    The minimum speed for disk writes by all LCPs and backup operations can be adjusted
    by setting [`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed).
  id: totrans-976
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 若要设置数据节点重新启动时允许的磁盘写入速率上限，请使用[`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart)。
    若要设置其他数据节点重新启动时允许的磁盘写入速率上限，请使用[`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart)。
    可通过设置[`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)来调整所有
    LCP 和备份操作的磁盘写入的最小速度。
- en: '[`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart)'
  id: totrans-977
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-978
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-979
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数字 |'
- en: '| Default | 50M |'
  id: totrans-980
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 50M |'
- en: '| Range | 1M - 1024G |'
  id: totrans-981
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 1024G |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-982
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重新启动类型 | **系统重新启动：** 需要完全关闭和重新启动集群。（NDB 8.0.13） |'
- en: Set the maximum rate for writing to disk, in bytes per second, by local checkpoints
    and backup operations when one or more data nodes in this NDB Cluster are restarting,
    other than this node.
  id: totrans-983
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置本 NDB 集群中的一个或多个数据节点重新启动时，本地检查点和备份操作写入磁盘的最大速率，单位为字节每秒。
- en: For setting the maximum rate of disk writes allowed while this data node is
    restarting, use [`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart).
    For setting the maximum rate of disk writes allowed when no data nodes are restarting
    anywhere in the cluster, use [`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed).
    The minimum speed for disk writes by all LCPs and backup operations can be adjusted
    by setting [`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed).
  id: totrans-984
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要设置数据节点重新启动时允许的最大磁盘写入速率，请使用[`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart)。要设置在集群中没有任何数据节点重新启动时允许的最大磁盘写入速率，请使用[`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed)。可以通过设置[`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)来调整所有LCP和备份操作的最小磁盘写入速度。
- en: '[`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart)'
  id: totrans-985
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-986
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-987
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 200M |'
  id: totrans-988
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 200M |'
- en: '| Range | 1M - 1024G |'
  id: totrans-989
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 1024G |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-990
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重启集群。（NDB 8.0.13） |'
- en: Set the maximum rate for writing to disk, in bytes per second, by local checkpoints
    and backup operations while this data node is restarting.
  id: totrans-991
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置数据节点重新启动时本地检查点和备份操作写入磁盘的最大速率，单位为每秒字节数。
- en: For setting the maximum rate of disk writes allowed while other data nodes are
    restarting, use [`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart).
    For setting the maximum rate of disk writes allowed when no data nodes are restarting
    anywhere in the cluster, use [`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed).
    The minimum speed for disk writes by all LCPs and backup operations can be adjusted
    by setting [`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed).
  id: totrans-992
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要设置其他数据节点重新启动时允许的最大磁盘写入速率，请使用[`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart)。要设置在集群中没有任何数据节点重新启动时允许的最大磁盘写入速率，请使用[`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed)。可以通过设置[`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)来调整所有LCP和备份操作的最小磁盘写入速度。
- en: '[`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)'
  id: totrans-993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-994
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-995
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 10M |'
  id: totrans-996
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 10M |'
- en: '| Range | 1M - 1024G |'
  id: totrans-997
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 1024G |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-998
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重启集群。（NDB 8.0.13） |'
- en: Set the minimum rate for writing to disk, in bytes per second, by local checkpoints
    and backup operations.
  id: totrans-999
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置本地检查点和备份操作写入磁盘的最小速率，单位为每秒字节数。
- en: The maximum rates of disk writes allowed for LCPs and backups under various
    conditions are adjustable using the parameters [`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed),
    [`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart),
    and [`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart).
    See the descriptions of these parameters for more information.
  id: totrans-1000
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以使用参数[`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed)、[`MaxDiskWriteSpeedOwnRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedownrestart)和[`MaxDiskWriteSpeedOtherNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart)来调整各种条件下LCP和备份的最大磁盘写入速率。有关更多信息，请参阅这些参数的描述。
- en: '[`ArbitrationTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitrationtimeout)'
  id: totrans-1001
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ArbitrationTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitrationtimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1002
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | milliseconds |'
  id: totrans-1003
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 7500 |'
  id: totrans-1004
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 7500 |'
- en: '| Range | 10 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1005
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 10 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1006
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: This parameter specifies how long data nodes wait for a response from the arbitrator
    to an arbitration message. If this is exceeded, the network is assumed to have
    split.
  id: totrans-1007
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定数据节点等待仲裁器对仲裁消息的响应的时间。如果超过此时间，网络将被视为已分裂。
- en: The default value is 7500 milliseconds (7.5 seconds).
  id: totrans-1008
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为7500毫秒（7.5秒）。
- en: '[`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)'
  id: totrans-1009
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1010
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | enumeration |'
  id: totrans-1011
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 枚举 |'
- en: '| Default | Default |'
  id: totrans-1012
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 默认 |'
- en: '| Range | Default, Disabled, WaitExternal |'
  id: totrans-1013
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 默认，禁用，WaitExternal |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1014
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: 'The [`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)
    parameter enables a choice of arbitration schemes, corresponding to one of 3 possible
    values for this parameter:'
  id: totrans-1015
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)参数使得可以选择仲裁方案，对应于此参数的3个可能值之一：'
- en: '**Default. ** This enables arbitration to proceed normally, as determined by
    the `ArbitrationRank` settings for the management and API nodes. This is the default
    value.'
  id: totrans-1016
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**默认。** 这使得仲裁可以按照管理和 API 节点的`ArbitrationRank`设置正常进行。这是默认值。'
- en: '**Disabled. ** Setting `Arbitration = Disabled` in the `[ndbd default]` section
    of the `config.ini` file to accomplishes the same task as setting `ArbitrationRank`
    to 0 on all management and API nodes. When `Arbitration` is set in this way, any
    `ArbitrationRank` settings are ignored.'
  id: totrans-1017
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**禁用。** 在`config.ini`文件的`[ndbd default]`部分设置`Arbitration = Disabled`可以完成与在所有管理和
    API 节点上设置`ArbitrationRank`为0相同的任务。当以这种方式设置`Arbitration`时，任何`ArbitrationRank`设置都将被忽略。'
- en: '**WaitExternal. ** The [`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)
    parameter also makes it possible to configure arbitration in such a way that the
    cluster waits until after the time determined by [`ArbitrationTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitrationtimeout)
    has passed for an external cluster manager application to perform arbitration
    instead of handling arbitration internally. This can be done by setting `Arbitration
    = WaitExternal` in the `[ndbd default]` section of the `config.ini` file. For
    best results with the `WaitExternal` setting, it is recommended that [`ArbitrationTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitrationtimeout)
    be 2 times as long as the interval required by the external cluster manager to
    perform arbitration.'
  id: totrans-1018
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WaitExternal。** [`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)参数还可以配置仲裁，使得集群等待直到外部集群管理应用程序在[`ArbitrationTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitrationtimeout)确定的时间之后执行仲裁，而不是在内部处理仲裁。这可以通过在`config.ini`文件的`[ndbd
    default]`部分中设置`Arbitration = WaitExternal`来实现。对于`WaitExternal`设置，建议[`ArbitrationTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitrationtimeout)的时间间隔是外部集群管理器执行仲裁所需时间的2倍，以获得最佳效果。'
- en: Important
  id: totrans-1019
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: This parameter should be used only in the `[ndbd default]` section of the cluster
    configuration file. The behavior of the cluster is unspecified when [`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)
    is set to different values for individual data nodes.
  id: totrans-1020
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数应仅在集群配置文件的`[ndbd default]`部分中使用。当对单个数据节点设置[`Arbitration`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-arbitration)的值不同时，集群的行为是未指定的。
- en: '[`RestartSubscriberConnectTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-restartsubscriberconnecttimeout)'
  id: totrans-1021
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RestartSubscriberConnectTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-restartsubscriberconnecttimeout)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1022
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | ms |'
  id: totrans-1023
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 12000 |'
  id: totrans-1024
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 12000 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1025
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1026
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: This parameter determines the time that a data node waits for subscribing API
    nodes to connect. Once this timeout expires, any “missing” API nodes are disconnected
    from the cluster. To disable this timeout, set `RestartSubscriberConnectTimeout`
    to 0.
  id: totrans-1027
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定数据节点等待订阅 API 节点连接的时间。一旦超时，任何“丢失”的 API 节点将从集群中断开连接。要禁用此超时，请将 `RestartSubscriberConnectTimeout`
    设置为 0。
- en: While this parameter is specified in milliseconds, the timeout itself is resolved
    to the next-greatest whole second.
  id: totrans-1028
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虽然此参数以毫秒为单位，但超时本身会解析为下一个最大的整秒。
- en: '[`KeepAliveSendInterval`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-keepalivesendinterval)'
  id: totrans-1029
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`KeepAliveSendInterval`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-keepalivesendinterval)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1030
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1031
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 60000 |'
  id: totrans-1032
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 60000 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1033
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Added | NDB 8.0.27 |'
  id: totrans-1034
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.27 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1035
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行集群的[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB Cluster 的滚动重启")。（NDB 8.0.13） |'
- en: Beginning with NDB 8.0.27, it is possible to enable and control the interval
    between keep-alive signals sent between data nodes by setting this parameter.
    The default for `KeepAliveSendInterval` is 60000 milliseconds (one minute); setting
    it to 0 disables keep-alive signals. Values between 1 and 10 inclusive are treated
    as 10.
  id: totrans-1036
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从 NDB 8.0.27 开始，可以通过设置此参数来启用和控制数据节点之间发送的保持活动信号的间隔。`KeepAliveSendInterval` 的默认值为
    60000 毫秒（一分钟）；将其设置为 0 可禁用保持活动信号。介于 1 和 10 之间的值被视为 10。
- en: This parameter may prove useful in environments which monitor and disconnect
    idle TCP connections, possibly causing unnecessary data node failures when the
    cluster is idle.
  id: totrans-1037
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在监视和断开空闲 TCP 连接的环境中，此参数可能会证明其有用，可能会在集群空闲时导致不必要的数据节点故障。
- en: The heartbeat interval between management nodes and data nodes is always 100
    milliseconds, and is not configurable.
  id: totrans-1038
  prefs: []
  type: TYPE_NORMAL
  zh: 管理节点和数据节点之间的心跳间隔始终为 100 毫秒，不可配置。
- en: '**Buffering and logging. ** Several `[ndbd]` configuration parameters enable
    the advanced user to have more control over the resources used by node processes
    and to adjust various buffer sizes at need.'
  id: totrans-1039
  prefs: []
  type: TYPE_NORMAL
  zh: '**缓冲和日志记录。** 几个 `[ndbd]` 配置参数使高级用户能够更好地控制节点进程使用的资源，并根据需要调整各种缓冲区大小。'
- en: These buffers are used as front ends to the file system when writing log records
    to disk. If the node is running in diskless mode, these parameters can be set
    to their minimum values without penalty due to the fact that disk writes are “faked”
    by the [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB Cluster 8.0") storage
    engine's file system abstraction layer.
  id: totrans-1040
  prefs: []
  type: TYPE_NORMAL
  zh: 当将日志记录写入磁盘时，这些缓冲区用作文件系统的前端。如果节点在无磁盘模式下运行，这些参数可以设置为最小值而不会受到惩罚，因为磁盘写入由 [`NDB`](mysql-cluster.html
    "第 25 章 MySQL NDB Cluster 8.0") 存储引擎的文件系统抽象层“伪造”。
- en: '[`UndoIndexBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-undoindexbuffer)'
  id: totrans-1041
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`UndoIndexBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-undoindexbuffer)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1042
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-1043
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 2M |'
  id: totrans-1044
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 2M |'
- en: '| Range | 1M - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1045
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.27 |'
  id: totrans-1046
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.27 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1047
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行集群的[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB Cluster 的滚动重启")。（NDB 8.0.13） |'
- en: This parameter formerly set the size of the undo index buffer, but has no effect
    in current versions of NDB Cluster.
  id: totrans-1048
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数曾经设置撤销索引缓冲区的大小，但在当前版本的 NDB Cluster 中不起作用。
- en: In NDB 8.0.27 and later, the use of this parameter in the cluster configuration
    file raises a deprecation warning; you should expect it to be removed in a future
    NDB Cluster release.
  id: totrans-1049
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 NDB 8.0.27 及更高版本中，将此参数用于集群配置文件会引发弃用警告；您应该期望它在未来的 NDB Cluster 版本中被移除。
- en: '[`UndoDataBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-undodatabuffer)'
  id: totrans-1050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`UndoDataBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-undodatabuffer)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1051
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-1052
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 16M |'
  id: totrans-1053
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 16M |'
- en: '| Range | 1M - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1054
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | NDB 8.0.27 |'
  id: totrans-1055
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | NDB 8.0.27 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1056
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重启")。（NDB 8.0.13） |'
- en: This parameter formerly set the size of the undo data buffer, but has no effect
    in current versions of NDB Cluster.
  id: totrans-1057
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数以前设置了撤销数据缓冲区的大小，但在当前版本的NDB Cluster中没有任何效果。
- en: In NDB 8.0.27 and later, the use of this parameter in the cluster configuration
    file raises a deprecation warning; you should expect it to be removed in a future
    NDB Cluster release.
  id: totrans-1058
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0.27及更高版本中，集群配置文件中使用此参数会引发弃用警告；您应该期望它在未来的NDB Cluster版本中被移除。
- en: '[`RedoBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redobuffer)'
  id: totrans-1059
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RedoBuffer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redobuffer)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1060
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1061
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 32M |'
  id: totrans-1062
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 32M |'
- en: '| Range | 1M - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1063
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1M - 4294967039（0xFFFFFEFF） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1064
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重启")。（NDB 8.0.13） |'
- en: All update activities also need to be logged. The REDO log makes it possible
    to replay these updates whenever the system is restarted. The NDB recovery algorithm
    uses a “fuzzy” checkpoint of the data together with the UNDO log, and then applies
    the REDO log to play back all changes up to the restoration point.
  id: totrans-1065
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所有更新活动也需要被记录。REDO日志使得在系统重新启动时可以重放这些更新。NDB恢复算法使用数据的“模糊”检查点以及UNDO日志，然后应用REDO日志以回放所有更改直到恢复点。
- en: '`RedoBuffer` sets the size of the buffer in which the REDO log is written.
    The default value is 32MB; the minimum value is 1MB.'
  id: totrans-1066
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`RedoBuffer`设置了写入REDO日志的缓冲区的大小。默认值为32MB；最小值为1MB。'
- en: If this buffer is too small, the [`NDB`](mysql-cluster.html "Chapter 25 MySQL
    NDB Cluster 8.0") storage engine issues error code 1221 (REDO log buffers overloaded).
    For this reason, you should exercise care if you attempt to decrease the value
    of `RedoBuffer` as part of an online change in the cluster's configuration.
  id: totrans-1067
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果此缓冲区太小，[`NDB`](mysql-cluster.html "第25章 MySQL NDB Cluster 8.0") 存储引擎会发出错误代码1221（REDO日志缓冲区超载）。因此，如果您尝试在集群配置的在线更改中减少`RedoBuffer`的值，应该谨慎操作。
- en: '[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The NDB Cluster
    Data Node Daemon (Multi-Threaded)") allocates a separate buffer for each LDM thread
    (see [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)).
    For example, with 4 LDM threads, an [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") data node
    actually has 4 buffers and allocates `RedoBuffer` bytes to each one, for a total
    of `4 * RedoBuffer` bytes.'
  id: totrans-1068
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — NDB集群数据节点守护程序（多线程）")
    为每个LDM线程分配一个单独的缓冲区（参见[`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)）。例如，使用4个LDM线程，一个[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB集群数据节点守护程序（多线程)") 数据节点实际上有4个缓冲区，并为每个缓冲区分配`RedoBuffer`字节，总共为`4
    * RedoBuffer`字节。'
- en: '[`EventLogBufferSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-eventlogbuffersize)'
  id: totrans-1069
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`EventLogBufferSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-eventlogbuffersize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1070
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1071
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 8192 |'
  id: totrans-1072
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 8192 |'
- en: '| Range | 0 - 64K |'
  id: totrans-1073
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 64K |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-1074
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重新启动集群。（NDB 8.0.13） |'
- en: Controls the size of the circular buffer used for NDB log events within data
    nodes.
  id: totrans-1075
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 控制数据节点内用于NDB日志事件的循环缓冲区的大小。
- en: '**Controlling log messages. ** In managing the cluster, it is very important
    to be able to control the number of log messages sent for various event types
    to `stdout`. For each event category, there are 16 possible event levels (numbered
    0 through 15). Setting event reporting for a given event category to level 15
    means all event reports in that category are sent to `stdout`; setting it to 0
    means that no event reports in that category are made.'
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: '**控制日志消息。** 在管理集群时，能够控制发送到`stdout`的各种事件类型的日志消息数量非常重要。对于每个事件类别，有16个可能的事件级别（编号为0到15）。将给定事件类别的事件报告设置为级别15意味着该类别中的所有事件报告都会发送到`stdout`；将其设置为0意味着该类别中不会产生任何事件报告。'
- en: By default, only the startup message is sent to `stdout`, with the remaining
    event reporting level defaults being set to 0\. The reason for this is that these
    messages are also sent to the management server's cluster log.
  id: totrans-1077
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，只有启动消息发送到`stdout`，其余事件报告级别默认设置为0。原因是这些消息也发送到管理服务器的集群日志中。
- en: An analogous set of levels can be set for the management client to determine
    which event levels to record in the cluster log.
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: 可以为管理客户端设置类似的级别，以确定在集群日志中记录哪些事件级别。
- en: '[`LogLevelStartup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelstartup)'
  id: totrans-1079
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelStartup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelstartup)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1080
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1081
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 1 |'
  id: totrans-1082
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 1 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1083
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1084
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The reporting level for events generated during startup of the process.
  id: totrans-1085
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 进程启动期间生成的事件的报告级别。
- en: The default level is 1.
  id: totrans-1086
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为1。
- en: '[`LogLevelShutdown`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelshutdown)'
  id: totrans-1087
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelShutdown`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelshutdown)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1088
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1089
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1090
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1091
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1092
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The reporting level for events generated as part of graceful shutdown of a node.
  id: totrans-1093
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 作为节点优雅关闭的一部分生成的事件的报告级别。
- en: The default level is 0.
  id: totrans-1094
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelStatistic`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelstatistic)'
  id: totrans-1095
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelStatistic`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelstatistic)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1096
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1097
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1098
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1099
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1100
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The reporting level for statistical events such as number of primary key reads,
    number of updates, number of inserts, information relating to buffer usage, and
    so on.
  id: totrans-1101
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 统计事件的报告级别，例如主键读取次数、更新次数、插入次数、缓冲区使用情况等。
- en: The default level is 0.
  id: totrans-1102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelCheckpoint`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelcheckpoint)'
  id: totrans-1103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelCheckpoint`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelcheckpoint)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1104
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | log level |'
  id: totrans-1105
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 日志级别 |'
- en: '| Default | 0 |'
  id: totrans-1106
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1107
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1108
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The reporting level for events generated by local and global checkpoints.
  id: totrans-1109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 本地和全局检查点生成的事件的报告级别。
- en: The default level is 0.
  id: totrans-1110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelnoderestart)'
  id: totrans-1111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelNodeRestart`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelnoderestart)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1112
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1113
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1114
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1115
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1116
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: The reporting level for events generated during node restart.
  id: totrans-1117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 节点重启期间生成的事件的报告级别。
- en: The default level is 0.
  id: totrans-1118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelConnection`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelconnection)'
  id: totrans-1119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelConnection`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelconnection)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1120
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1121
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1122
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1123
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1124
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: The reporting level for events generated by connections between cluster nodes.
  id: totrans-1125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 集群节点之间连接生成的事件的报告级别。
- en: The default level is 0.
  id: totrans-1126
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelerror)'
  id: totrans-1127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelerror)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1128
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1129
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1130
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1131
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1132
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: The reporting level for events generated by errors and warnings by the cluster
    as a whole. These errors do not cause any node failure but are still considered
    worth reporting.
  id: totrans-1133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 集群整体生成的错误和警告的事件的报告级别。这些错误不会导致任何节点故障，但仍被认为值得报告。
- en: The default level is 0.
  id: totrans-1134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelCongestion`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelcongestion)'
  id: totrans-1135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelCongestion`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelcongestion)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1136
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | level |'
  id: totrans-1137
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 级别 |'
- en: '| Default | 0 |'
  id: totrans-1138
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1139
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1140
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: The reporting level for events generated by congestion. These errors do not
    cause node failure but are still considered worth reporting.
  id: totrans-1141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 拥塞生成的事件的报告级别。这些错误不会导致节点故障，但仍被认为值得报告。
- en: The default level is 0.
  id: totrans-1142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`LogLevelInfo`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelinfo)'
  id: totrans-1143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LogLevelInfo`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-loglevelinfo)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1144
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1145
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1146
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 15 |'
  id: totrans-1147
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 15 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1148
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: The reporting level for events generated for information about the general state
    of the cluster.
  id: totrans-1149
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 集群一般状态的信息生成的事件的报告级别。
- en: The default level is 0.
  id: totrans-1150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认级别为0。
- en: '[`MemReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-memreportfrequency)'
  id: totrans-1151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MemReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-memreportfrequency)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1152
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-1153
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 0 |'
  id: totrans-1154
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1155
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1156
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter controls how often data node memory usage reports are recorded
    in the cluster log; it is an integer value representing the number of seconds
    between reports.
  id: totrans-1157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数控制数据节点内存使用报告在集群日志中记录的频率；它是一个整数值，表示报告之间的秒数。
- en: 'Each data node''s data memory and index memory usage is logged as both a percentage
    and a number of 32 KB pages of [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory),
    as set in the `config.ini` file. For example, if [`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)
    is equal to 100 MB, and a given data node is using 50 MB for data memory storage,
    the corresponding line in the cluster log might look like this:'
  id: totrans-1158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个数据节点的数据内存和索引内存使用情况都以[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)中设置的32
    KB页面的百分比和数量记录在日志中，如`config.ini`文件中所示。例如，如果[`DataMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-datamemory)等于100
    MB，并且给定数据节点使用50 MB进行数据内存存储，则集群日志中的相应行可能如下所示：
- en: '[PRE8]'
  id: totrans-1159
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[`MemReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-memreportfrequency)
    is not a required parameter. If used, it can be set for all cluster data nodes
    in the `[ndbd default]` section of `config.ini`, and can also be set or overridden
    for individual data nodes in the corresponding `[ndbd]` sections of the configuration
    file. The minimum value—which is also the default value—is 0, in which case memory
    reports are logged only when memory usage reaches certain percentages (80%, 90%,
    and 100%), as mentioned in the discussion of statistics events in [Section 25.6.3.2,
    “NDB Cluster Log Events”](mysql-cluster-log-events.html "25.6.3.2 NDB Cluster
    Log Events").'
  id: totrans-1160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`MemReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-memreportfrequency)不是必需的参数。如果使用，可以在`config.ini`的`[ndbd
    default]`部分为所有集群数据节点设置，并且也可以在配置文件的相应`[ndbd]`部分为单个数据节点设置或覆盖。最小值（也是默认值）为0，此时仅在内存使用达到一定百分比（80％、90％和100％）时才记录内存报告，如[Section 25.6.3.2,
    “NDB Cluster Log Events”](mysql-cluster-log-events.html "25.6.3.2 NDB Cluster
    Log Events")中所述的统计事件讨论中提到的。'
- en: '[`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)'
  id: totrans-1161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1162
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | seconds |'
  id: totrans-1163
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 0 |'
  id: totrans-1164
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1165
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1166
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")（NDB 8.0.13） |'
- en: 'When a data node is started with the [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial),
    it initializes the redo log file during Start Phase 4 (see [Section 25.6.4, “Summary
    of NDB Cluster Start Phases”](mysql-cluster-start-phases.html "25.6.4 Summary
    of NDB Cluster Start Phases")). When very large values are set for [`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles),
    [`FragmentLogFileSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-fragmentlogfilesize),
    or both, this initialization can take a long time. You can force reports on the
    progress of this process to be logged periodically, by means of the [`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)
    configuration parameter. In this case, progress is reported in the cluster log,
    in terms of both the number of files and the amount of space that have been initialized,
    as shown here:'
  id: totrans-1167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)启动数据节点时，在启动阶段4期间初始化重做日志文件（参见[Section 25.6.4,
    “Summary of NDB Cluster Start Phases”](mysql-cluster-start-phases.html "25.6.4 Summary
    of NDB Cluster Start Phases")）。当为[`NoOfFragmentLogFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-nooffragmentlogfiles)、[`FragmentLogFileSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-fragmentlogfilesize)或两者设置非常大的值时，此初始化可能需要很长时间。您可以通过[`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)配置参数强制定期记录此过程的进度报告。在这种情况下，进度将在集群日志中报告，显示已初始化的文件数量和空间量，如下所示：
- en: '[PRE9]'
  id: totrans-1168
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: These reports are logged each [`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)
    seconds during Start Phase 4\. If [`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)
    is 0 (the default), then reports are written to the cluster log only when at the
    beginning and at the completion of the redo log file initialization process.
  id: totrans-1169
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些报告在启动阶段4期间每隔[`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)秒记录一次。如果[`StartupStatusReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startupstatusreportfrequency)为0（默认值），则仅在重做日志文件初始化过程的开始和完成时将报告写入集群日志中。
- en: Data Node Debugging Parameters
  id: totrans-1170
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据节点调试参数
- en: The following parameters are intended for use during testing or debugging of
    data nodes, and not for use in production.
  id: totrans-1171
  prefs: []
  type: TYPE_NORMAL
  zh: 以下参数仅用于数据节点的测试或调试，不适用于生产环境。
- en: '[`DictTrace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-dicttrace)'
  id: totrans-1172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DictTrace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-dicttrace)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1173
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1174
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | undefined |'
  id: totrans-1175
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 未定义 |'
- en: '| Range | 0 - 100 |'
  id: totrans-1176
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 100 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1177
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: It is possible to cause logging of traces for events generated by creating and
    dropping tables using `DictTrace`. This parameter is useful only in debugging
    NDB kernel code. `DictTrace` takes an integer value. 0 is the default, and means
    no logging is performed; 1 enables trace logging, and 2 enables logging of additional
    [`DBDICT`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbdict.html) debugging
    output.
  id: totrans-1178
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以通过使用 `DictTrace` 导致为创建和删除表生成的事件进行跟踪记录。此参数仅在调试 NDB 内核代码时有用。`DictTrace` 接受一个整数值。默认值为
    0，表示不执行任何记录；1 启用跟踪记录，2 启用额外的[`DBDICT`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbdict.html)调试输出的记录。
- en: '[`WatchdogImmediateKill`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-watchdogimmediatekill)'
  id: totrans-1179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`WatchdogImmediateKill`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-watchdogimmediatekill)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1180
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-1181
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-1182
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | false |'
- en: '| Range | true, false |'
  id: totrans-1183
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1184
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: You can cause threads to be killed immediately whenever watchdog issues occur
    by enabling the `WatchdogImmediateKill` data node configuration parameter. This
    parameter should be used only when debugging or troubleshooting, to obtain trace
    files reporting exactly what was occurring the instant that execution ceased.
  id: totrans-1185
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通过启用 `WatchdogImmediateKill` 数据节点配置参数，可以在发生看门狗问题时立即终止线程。此参数仅在调试或故障排除时使用，以获取报告执行停止时发生的确切情况的跟踪文件。
- en: '**Backup parameters. ** The `[ndbd]` parameters discussed in this section define
    memory buffers set aside for execution of online backups.'
  id: totrans-1186
  prefs: []
  type: TYPE_NORMAL
  zh: '**备份参数。** 本节讨论的 `[ndbd]` 参数定义了用于执行在线备份的内存缓冲区。'
- en: '[`BackupDataBufferSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatabuffersize)'
  id: totrans-1187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupDataBufferSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatabuffersize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1188
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1189
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 16M |'
  id: totrans-1190
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 16M |'
- en: '| Range | 512K - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1191
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 512K - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | Yes (in NDB 7.6) |'
  id: totrans-1192
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 废弃 | 是（在 NDB 7.6 中） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1193
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: In creating a backup, there are two buffers used for sending data to the disk.
    The backup data buffer is used to fill in data recorded by scanning a node's tables.
    Once this buffer has been filled to the level specified as [`BackupWriteSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupwritesize),
    the pages are sent to disk. While flushing data to disk, the backup process can
    continue filling this buffer until it runs out of space. When this happens, the
    backup process pauses the scan and waits until some disk writes have completed
    freeing up memory so that scanning may continue.
  id: totrans-1194
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在创建备份时，有两个用于将数据发送到磁盘的缓冲区。备份数据缓冲区用于填充通过扫描节点表记录的数据。一旦此缓冲区填满到指定的[`BackupWriteSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupwritesize)级别，页面将被发送到磁盘。在将数据刷新到磁盘时，备份过程可以继续填充此缓冲区，直到空间用尽。当发生这种情况时，备份过程会暂停扫描并等待一些磁盘写入完成，释放内存以便扫描可以继续。
- en: The default value for this parameter is 16MB. The minimum is 512K.
  id: totrans-1195
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为 16MB。最小值为 512K。
- en: '[`BackupDiskWriteSpeedPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdiskwritespeedpct)'
  id: totrans-1196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupDiskWriteSpeedPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdiskwritespeedpct)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1197
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | percent |'
  id: totrans-1198
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 百分比 |'
- en: '| Default | 50 |'
  id: totrans-1199
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 50 |'
- en: '| Range | 0 - 90 |'
  id: totrans-1200
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 90 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1201
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行 NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: '`BackupDiskWriteSpeedPct` applies only when a backup is single-threaded. With
    the introduction of multi-threaded backups in NDB 8.0.16, it is usually no longer
    necessary to adjust this parameter, which has no effect in the multi-threaded
    case. The discussion that follows is specific to single-threaded backups.'
  id: totrans-1202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`BackupDiskWriteSpeedPct` 仅适用于单线程备份。随着 NDB 8.0.16 引入多线程备份，通常不再需要调整此参数，因为在多线程情况下没有影响。接下来的讨论特定于单线程备份。'
- en: During normal operation, data nodes attempt to maximize the disk write speed
    used for local checkpoints and backups while remaining within the bounds set by
    [`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)
    and [`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed).
    Disk write throttling gives each LDM thread an equal share of the total budget.
    This allows parallel LCPs to take place without exceeding the disk I/O budget.
    Because a backup is executed by only one LDM thread, this effectively caused a
    budget cut, resulting in longer backup completion times, and—if the rate of change
    is sufficiently high—in failure to complete the backup when the backup log buffer
    fill rate is higher than the achievable write rate.
  id: totrans-1203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在正常操作期间，数据节点尝试最大化用于本地检查点和备份的磁盘写入速度，同时保持在 [`MinDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-mindiskwritespeed)
    和 [`MaxDiskWriteSpeed`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskwritespeed)
    设置的范围内。磁盘写入限速使每个 LDM 线程均等分享总预算。这允许并行 LCP 在不超出磁盘 I/O 预算的情况下进行。因为备份仅由一个 LDM 线程执行，这实际上导致预算削减，导致备份完成时间更长，并且
    - 如果变化速率足够高 - 在备份日志缓冲区填充速率高于可实现的写入速率时无法完成备份。
- en: This problem can be addressed by using the `BackupDiskWriteSpeedPct` configuration
    parameter, which takes a value in the range 0-90 (inclusive) which is interpreted
    as the percentage of the node's maximum write rate budget that is reserved prior
    to sharing out the remainder of the budget among LDM threads for LCPs. The LDM
    thread running the backup receives the whole write rate budget for the backup,
    plus its (reduced) share of the write rate budget for local checkpoints.
  id: totrans-1204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可通过使用 `BackupDiskWriteSpeedPct` 配置参数来解决此问题，该参数的取值范围为 0-90（包括边界），解释为在将剩余预算分配给
    LCP 线程之前，保留节点最大写入速率预算的百分比。运行备份的 LDM 线程接收备份的整个写入速率预算，以及本地检查点的写入速率预算的（减少的）份额。
- en: The default value for this parameter is 50 (interpreted as 50%).
  id: totrans-1205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为 50（解释为 50%）。
- en: '[`BackupLogBufferSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backuplogbuffersize)'
  id: totrans-1206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupLogBufferSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backuplogbuffersize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1207
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1208
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 16M |'
  id: totrans-1209
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 16M |'
- en: '| Range | 2M - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1210
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 2M - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1211
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: The backup log buffer fulfills a role similar to that played by the backup data
    buffer, except that it is used for generating a log of all table writes made during
    execution of the backup. The same principles apply for writing these pages as
    with the backup data buffer, except that when there is no more space in the backup
    log buffer, the backup fails. For that reason, the size of the backup log buffer
    must be large enough to handle the load caused by write activities while the backup
    is being made. See [Section 25.6.8.3, “Configuration for NDB Cluster Backups”](mysql-cluster-backup-configuration.html
    "25.6.8.3 Configuration for NDB Cluster Backups").
  id: totrans-1212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 备份日志缓冲区的作用类似于备份数据缓冲区，不同之处在于它用于生成在执行备份期间进行的所有表写入的日志。写入这些页面的原则与备份数据缓冲区相同，不同之处在于当备份日志缓冲区没有更多空间时，备份将失败。因此，备份日志缓冲区的大小必须足够大，以处理备份过程中写入活动造成的负载。参见
    [Section 25.6.8.3, “NDB 集群备份配置”](mysql-cluster-backup-configuration.html "25.6.8.3 NDB
    集群备份配置")。
- en: The default value for this parameter should be sufficient for most applications.
    In fact, it is more likely for a backup failure to be caused by insufficient disk
    write speed than it is for the backup log buffer to become full. If the disk subsystem
    is not configured for the write load caused by applications, the cluster is unlikely
    to be able to perform the desired operations.
  id: totrans-1213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于大多数应用程序来说，默认值应该足够了。实际上，备份失败更可能是由于磁盘写入速度不足而不是备份日志缓冲区变满。如果磁盘子系统未配置为处理应用程序引起的写入负载，那么集群可能无法执行所需的操作。
- en: It is preferable to configure cluster nodes in such a manner that the processor
    becomes the bottleneck rather than the disks or the network connections.
  id: totrans-1214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最好配置集群节点，使处理器成为瓶颈，而不是磁盘或网络连接。
- en: The default value for this parameter is 16MB.
  id: totrans-1215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为16MB。
- en: '[`BackupMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupmemory)'
  id: totrans-1216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupmemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1217
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1218
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 32M |'
  id: totrans-1219
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 32M |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1220
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | Yes (in NDB 7.4) |'
  id: totrans-1221
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | 是（在 NDB 7.4 中） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1222
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: This parameter is deprecated, and subject to removal in a future version of
    NDB Cluster. Any setting made for it is ignored.
  id: totrans-1223
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数已弃用，并可能在将来的 NDB 集群版本中删除。对其进行的任何设置都将被忽略。
- en: '[`BackupReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupreportfrequency)'
  id: totrans-1224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupreportfrequency)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1225
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | seconds |'
  id: totrans-1226
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 0 |'
  id: totrans-1227
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1228
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1229
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: This parameter controls how often backup status reports are issued in the management
    client during a backup, as well as how often such reports are written to the cluster
    log (provided cluster event logging is configured to permit it—see [Logging and
    checkpointing](mysql-cluster-ndbd-definition.html#mysql-cluster-logging-and-checkpointing
    "Logging and checkpointing")). [`BackupReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupreportfrequency)
    represents the time in seconds between backup status reports.
  id: totrans-1230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数控制备份状态报告在备份期间在管理客户端中发出的频率，以及这些报告写入集群日志的频率（前提是集群事件日志记录已配置允许—参见[日志记录和检查点](mysql-cluster-ndbd-definition.html#mysql-cluster-logging-and-checkpointing
    "日志记录和检查点")）。[`BackupReportFrequency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupreportfrequency)表示备份状态报告之间的时间间隔（以秒为单位）。
- en: The default value is 0.
  id: totrans-1231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为0。
- en: '[`BackupWriteSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupwritesize)'
  id: totrans-1232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupWriteSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupwritesize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1233
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1234
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 256K |'
  id: totrans-1235
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 256K |'
- en: '| Range | 32K - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1236
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 32K - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | Yes (in NDB 7.6) |'
  id: totrans-1237
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | 是（在 NDB 7.6 中） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1238
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）|'
- en: This parameter specifies the default size of messages written to disk by the
    backup log and backup data buffers.
  id: totrans-1239
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定备份日志和备份数据缓冲区写入磁盘的消息的默认大小。
- en: The default value for this parameter is 256KB.
  id: totrans-1240
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为256KB。
- en: '[`BackupMaxWriteSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupmaxwritesize)'
  id: totrans-1241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BackupMaxWriteSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupmaxwritesize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1242
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1243
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 1M |'
  id: totrans-1244
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 1M |'
- en: '| Range | 256K - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1245
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 256K - 4294967039 (0xFFFFFEFF) |'
- en: '| Deprecated | Yes (in NDB 7.6) |'
  id: totrans-1246
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | 是（在 NDB 7.6 中） |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1247
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This parameter specifies the maximum size of messages written to disk by the
    backup log and backup data buffers.
  id: totrans-1248
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定备份日志和备份数据缓冲区写入磁盘的消息的最大大小。
- en: The default value for this parameter is 1MB.
  id: totrans-1249
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为1MB。
- en: '[`CompressedBackup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-compressedbackup)'
  id: totrans-1250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`CompressedBackup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-compressedbackup)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1251
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-1252
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-1253
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-1254
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1255
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: Enabling this parameter causes backup files to be compressed. The compression
    used is equivalent to **gzip --fast**, and can save 50% or more of the space required
    on the data node to store uncompressed backup files. Compressed backups can be
    enabled for individual data nodes, or for all data nodes (by setting this parameter
    in the `[ndbd default]` section of the `config.ini` file).
  id: totrans-1256
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用此参数会导致备份文件被压缩。所使用的压缩方式等同于**gzip --fast**，可以节省数据节点上存储未压缩备份文件所需空间的50%或更多。可以为单个数据节点或所有数据节点启用压缩备份（通过在`config.ini`文件的`[ndbd
    default]`部分设置此参数）。
- en: Important
  id: totrans-1257
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要
- en: You cannot restore a compressed backup to a cluster running a MySQL version
    that does not support this feature.
  id: totrans-1258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 无法将压缩备份还原到不支持此功能的 MySQL 版本的集群中运行。
- en: The default value is `0` (disabled).
  id: totrans-1259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为`0`（禁用）。
- en: '[`RequireEncryptedBackup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-requireencryptedbackup)'
  id: totrans-1260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RequireEncryptedBackup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-requireencryptedbackup)'
- en: '| Version (or later) | NDB 8.0.22 |'
  id: totrans-1261
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.22 |'
- en: '| Type or units | integer |'
  id: totrans-1262
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1263
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 1 |'
  id: totrans-1264
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 1 |'
- en: '| Added | NDB 8.0.22 |'
  id: totrans-1265
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.22 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1266
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: If set to 1, backups must be encrypted. While it is possible to set this parameter
    for each data node individually, it is recommended that you set it in the `[ndbd
    default]` section of the `config.ini` global configuration file. For more information
    about performing encrypted backups, see [Section 25.6.8.2, “Using The NDB Cluster
    Management Client to Create a Backup”](mysql-cluster-backup-using-management-client.html
    "25.6.8.2 Using The NDB Cluster Management Client to Create a Backup").
  id: totrans-1267
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果设置为1，则备份必须加密。虽然可以为每个数据节点单独设置此参数，但建议在全局配置文件`config.ini`的`[ndbd default]`部分中设置它。有关执行加密备份的更多信息，请参阅[第
    25.6.8.2 节，“使用 NDB 集群管理客户端创建备份”](mysql-cluster-backup-using-management-client.html
    "25.6.8.2 使用 NDB 集群管理客户端创建备份")。
- en: Added in NDB 8.0.22.
  id: totrans-1268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 添加于 NDB 8.0.22。
- en: Note
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The location of the backup files is determined by the [`BackupDataDir`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatadir)
    data node configuration parameter.
  id: totrans-1270
  prefs: []
  type: TYPE_NORMAL
  zh: 备份文件的位置由[`BackupDataDir`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-backupdatadir)数据节点配置参数确定。
- en: '**Additional requirements. ** When specifying these parameters, the following
    relationships must hold true. Otherwise, the data node cannot start.'
  id: totrans-1271
  prefs: []
  type: TYPE_NORMAL
  zh: '**额外要求。** 在指定这些参数时，以下关系必须成立。否则，数据节点无法启动。'
- en: '`BackupDataBufferSize >= BackupWriteSize + 188KB`'
  id: totrans-1272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BackupDataBufferSize >= BackupWriteSize + 188KB`'
- en: '`BackupLogBufferSize >= BackupWriteSize + 16KB`'
  id: totrans-1273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BackupLogBufferSize >= BackupWriteSize + 16KB`'
- en: '`BackupMaxWriteSize >= BackupWriteSize`'
  id: totrans-1274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`BackupMaxWriteSize >= BackupWriteSize`'
- en: NDB Cluster Realtime Performance Parameters
  id: totrans-1275
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: NDB 集群实时性能参数
- en: The `[ndbd]` parameters discussed in this section are used in scheduling and
    locking of threads to specific CPUs on multiprocessor data node hosts.
  id: totrans-1276
  prefs: []
  type: TYPE_NORMAL
  zh: 本节讨论的`[ndbd]`参数用于在多处理器数据节点主机上将线程调度和锁定到特定 CPU 上。
- en: Note
  id: totrans-1277
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: To make use of these parameters, the data node process must be run as system
    root.
  id: totrans-1278
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用这些参数，数据节点进程必须以系统根用户身份运行。
- en: '[`BuildIndexThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-buildindexthreads)'
  id: totrans-1279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`BuildIndexThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-buildindexthreads)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1280
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-1281
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 128 |'
  id: totrans-1282
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 128 |'
- en: '| Range | 0 - 128 |'
  id: totrans-1283
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 128 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1284
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: This parameter determines the number of threads to create when rebuilding ordered
    indexes during a system or node start, as well as when running [**ndb_restore**](mysql-cluster-programs-ndb-restore.html
    "25.5.23 ndb_restore — Restore an NDB Cluster Backup") [`--rebuild-indexes`](mysql-cluster-programs-ndb-restore.html#option_ndb_restore_rebuild-indexes).
    It is supported only when there is more than one fragment for the table per data
    node (for example, when `COMMENT="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_LDM_X_2"`
    is used with [`CREATE TABLE`](create-table.html "15.1.20 CREATE TABLE Statement")).
  id: totrans-1285
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定在系统或节点启动期间重建有序索引时要创建的线程数，以及在运行[**ndb_restore**](mysql-cluster-programs-ndb-restore.html
    "25.5.23 ndb_restore — 恢复 NDB 集群备份") [`--rebuild-indexes`](mysql-cluster-programs-ndb-restore.html#option_ndb_restore_rebuild-indexes)时要创建的线程数。仅在每个数据节点的表有多个片段时支持此参数（例如，当使用[`CREATE
    TABLE`](create-table.html "15.1.20 CREATE TABLE 语句")中的`COMMENT="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_LDM_X_2"`时）。
- en: Setting this parameter to 0 (the default) disables multithreaded building of
    ordered indexes.
  id: totrans-1286
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置为0（默认值）会禁用有序索引的多线程构建。
- en: This parameter is supported when using [**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon") or [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)").
  id: totrans-1287
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用[**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — NDB 集群数据节点守护程序")或[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB 集群数据节点守护程序（多线程）")时支持此参数。
- en: You can enable multithreaded builds during data node initial restarts by setting
    the [`TwoPassInitialNodeRestartCopy`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-twopassinitialnoderestartcopy)
    data node configuration parameter to `TRUE`.
  id: totrans-1288
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在数据节点初始重启期间，通过将[`TwoPassInitialNodeRestartCopy`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-twopassinitialnoderestartcopy)数据节点配置参数设置为`TRUE`，可以启用多线程构建。
- en: '[`LockExecuteThreadToCPU`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockexecutethreadtocpu)'
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LockExecuteThreadToCPU`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockexecutethreadtocpu)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1290
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | set of CPU IDs |'
  id: totrans-1291
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | CPU ID 集合 |'
- en: '| Default | 0 |'
  id: totrans-1292
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | ... |'
  id: totrans-1293
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1294
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")（NDB 8.0.13） |'
- en: When used with [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The
    NDB Cluster Data Node Daemon"), this parameter (now a string) specifies the ID
    of the CPU assigned to handle the [`NDBCLUSTER`](mysql-cluster.html "Chapter 25 MySQL
    NDB Cluster 8.0") execution thread. When used with [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)"), the value
    of this parameter is a comma-separated list of CPU IDs assigned to handle execution
    threads. Each CPU ID in the list should be an integer in the range 0 to 65535
    (inclusive).
  id: totrans-1295
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当与[**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — NDB 集群数据节点守护程序")一起使用时，此参数（现在是一个字符串）指定分配给处理[`NDBCLUSTER`](mysql-cluster.html
    "第 25 章 MySQL NDB 集群 8.0")执行线程的 CPU 的 ID。当与[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB 集群数据节点守护程序（多线程）")一起使用时，此参数的值是一个逗号分隔的 CPU ID 列表，用于处理执行线程。列表中的每个
    CPU ID 应为范围在 0 到 65535（包括）的整数。
- en: The number of IDs specified should match the number of execution threads determined
    by [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads).
    However, there is no guarantee that threads are assigned to CPUs in any given
    order when using this parameter. You can obtain more finely-grained control of
    this type using [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig).
  id: totrans-1296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 指定的 ID 数量应与由[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)确定的执行线程数量相匹配。但是，使用此参数时不能保证线程按任何给定顺序分配到
    CPU。您可以使用[`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)更精细地控制此类型。
- en: '[`LockExecuteThreadToCPU`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockexecutethreadtocpu)
    has no default value.'
  id: totrans-1297
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`LockExecuteThreadToCPU`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockexecutethreadtocpu)没有默认值。'
- en: '[`LockMaintThreadsToCPU`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockmaintthreadstocpu)'
  id: totrans-1298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`LockMaintThreadsToCPU`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-lockmaintthreadstocpu)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1299
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | CPU ID |'
  id: totrans-1300
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | CPU ID |'
- en: '| Default | 0 |'
  id: totrans-1301
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 64K |'
  id: totrans-1302
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 64K |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1303
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: This parameter specifies the ID of the CPU assigned to handle [`NDBCLUSTER`](mysql-cluster.html
    "Chapter 25 MySQL NDB Cluster 8.0") maintenance threads.
  id: totrans-1304
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定分配给处理[`NDBCLUSTER`](mysql-cluster.html "第25章 MySQL NDB 集群 8.0")维护线程的 CPU
    的 ID。
- en: The value of this parameter is an integer in the range 0 to 65535 (inclusive).
    *There is no default value*.
  id: totrans-1305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的值为0到65535（包括0和65535）之间的整数。*没有默认值*。
- en: '[`Numa`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-numa)'
  id: totrans-1306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Numa`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-numa)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1307
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-1308
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 1 |'
  id: totrans-1309
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1 |'
- en: '| Range | ... |'
  id: totrans-1310
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1311
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: This parameter determines whether Non-Uniform Memory Access (NUMA) is controlled
    by the operating system or by the data node process, whether the data node uses
    [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB Cluster Data
    Node Daemon") or [**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd
    — The NDB Cluster Data Node Daemon (Multi-Threaded)"). By default, `NDB` attempts
    to use an interleaved NUMA memory allocation policy on any data node where the
    host operating system provides NUMA support.
  id: totrans-1312
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定非均匀内存访问（NUMA）是由操作系统还是数据节点进程控制，数据节点是否使用[**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — NDB 集群数据节点守护程序")或[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB 集群数据节点守护程序（多线程）")。默认情况下，`NDB`尝试在任何提供NUMA支持的数据节点上使用交错的NUMA内存分配策略。
- en: Setting `Numa = 0` means that the datanode process does not itself attempt to
    set a policy for memory allocation, and permits this behavior to be determined
    by the operating system, which may be further guided by the separate **numactl**
    tool. That is, `Numa = 0` yields the system default behavior, which can be customised
    by **numactl**. For many Linux systems, the system default behavior is to allocate
    socket-local memory to any given process at allocation time. This can be problematic
    when using [**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The
    NDB Cluster Data Node Daemon (Multi-Threaded)"); this is because **nbdmtd** allocates
    all memory at startup, leading to an imbalance, giving different access speeds
    for different sockets, especially when locking pages in main memory.
  id: totrans-1313
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置`Numa = 0`意味着数据节点进程本身不会尝试设置内存分配策略，并允许操作系统确定此行为，操作系统可能进一步由单独的**numactl**工具指导。也就是说，`Numa
    = 0`会产生系统默认行为，可以通过**numactl**进行自定义。对于许多Linux系统，系统默认行为是在分配时将套接字本地内存分配给任何给定的进程。当使用[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — NDB 集群数据节点守护程序（多线程）")时，这可能会有问题；这是因为**nbdmtd**在启动时分配所有内存，导致不平衡，给不同套接字提供不同的访问速度，尤其是在将页面锁定在主内存中时。
- en: Setting `Numa = 1` means that the data node process uses `libnuma` to request
    interleaved memory allocation. (This can also be accomplished manually, on the
    operating system level, using **numactl**.) Using interleaved allocation in effect
    tells the data node process to ignore non-uniform memory access but does not attempt
    to take any advantage of fast local memory; instead, the data node process tries
    to avoid imbalances due to slow remote memory. If interleaved allocation is not
    desired, set `Numa` to 0 so that the desired behavior can be determined on the
    operating system level.
  id: totrans-1314
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置`Numa = 1`意味着数据节点进程使用`libnuma`请求交错内存分配。（这也可以在操作系统级别手动完成，使用**numactl**。）使用交错分配实际上告诉数据节点进程忽略非均匀内存访问，但不尝试利用快速本地内存的任何优势；相反，数据节点进程试图避免由于慢远程内存导致的不平衡。如果不希望使用交错分配，请将`Numa`设置为0，以便在操作系统级别确定所需的行为。
- en: The `Numa` configuration parameter is supported only on Linux systems where
    `libnuma.so` is available.
  id: totrans-1315
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`Numa`配置参数仅在具有`libnuma.so`的Linux系统上受支持。'
- en: '[`RealtimeScheduler`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-realtimescheduler)'
  id: totrans-1316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RealtimeScheduler`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-realtimescheduler)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1317
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-1318
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-1319
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-1320
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1321
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: Setting this parameter to 1 enables real-time scheduling of data node threads.
  id: totrans-1322
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置为1可实现数据节点线程的实时调度。
- en: The default is 0 (scheduling disabled).
  id: totrans-1323
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为0（禁用调度）。
- en: '[`SchedulerExecutionTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerexecutiontimer)'
  id: totrans-1324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SchedulerExecutionTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerexecutiontimer)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1325
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | µs |'
  id: totrans-1326
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 微秒 |'
- en: '| Default | 50 |'
  id: totrans-1327
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 50 |'
- en: '| Range | 0 - 11000 |'
  id: totrans-1328
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 11000 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1329
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: This parameter specifies the time in microseconds for threads to be executed
    in the scheduler before being sent. Setting it to 0 minimizes the response time;
    to achieve higher throughput, you can increase the value at the expense of longer
    response times.
  id: totrans-1330
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定线程在调度器中执行的时间（以微秒为单位）后发送。将其设置为0可最小化响应时间；为了实现更高的吞吐量，可以增加值以延长响应时间。
- en: The default is 50 μsec, which our testing shows to increase throughput slightly
    in high-load cases without materially delaying requests.
  id: totrans-1331
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为50微秒，我们的测试显示在高负载情况下略微增加吞吐量而不会实质性延迟请求。
- en: '[`SchedulerResponsiveness`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerresponsiveness)'
  id: totrans-1332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SchedulerResponsiveness`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerresponsiveness)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1333
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1334
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 5 |'
  id: totrans-1335
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 5 |'
- en: '| Range | 0 - 10 |'
  id: totrans-1336
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 10 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1337
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: Set the balance in the `NDB` scheduler between speed and throughput. This parameter
    takes an integer whose value is in the range 0-10 inclusive, with 5 as the default.
    Higher values provide better response times relative to throughput. Lower values
    provide increased throughput at the expense of longer response times.
  id: totrans-1338
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置`NDB`调度器在速度和吞吐量之间的平衡。此参数接受一个整数，其值在0-10的范围内，5为默认值。较高的值相对于吞吐量提供更好的响应时间。较低的值提供增加吞吐量的同时延长响应时间。
- en: '[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)'
  id: totrans-1339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1340
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | µs |'
  id: totrans-1341
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 微秒 |'
- en: '| Default | 0 |'
  id: totrans-1342
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 500 |'
  id: totrans-1343
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 500 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1344
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: This parameter specifies the time in microseconds for threads to be executed
    in the scheduler before sleeping.
  id: totrans-1345
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数指定线程在调度程序中执行之前睡眠的时间（以微秒为单位）。
- en: Starting with NDB 8.0.20, if [`SpinMethod`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-spinmethod)
    is set, any setting for this parameter is ignored.
  id: totrans-1346
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从NDB 8.0.20开始，如果设置了[`SpinMethod`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-spinmethod)，则忽略对此参数的任何设置。
- en: '[`SpinMethod`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-spinmethod)'
  id: totrans-1347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SpinMethod`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-spinmethod)'
- en: '| Version (or later) | NDB 8.0.20 |'
  id: totrans-1348
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.20 |'
- en: '| Type or units | enumeration |'
  id: totrans-1349
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 枚举 |'
- en: '| Default | StaticSpinning |'
  id: totrans-1350
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | StaticSpinning |'
- en: '| Range | CostBasedSpinning, LatencyOptimisedSpinning, DatabaseMachineSpinning,
    StaticSpinning |'
  id: totrans-1351
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | CostBasedSpinning, LatencyOptimisedSpinning, DatabaseMachineSpinning,
    StaticSpinning |'
- en: '| Added | NDB 8.0.20 |'
  id: totrans-1352
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.20 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1353
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: 'This parameter is present beginning in NDB 8.0.20, but has no effect prior
    to NDB 8.0.24\. It provides a simple interface to control adaptive spinning on
    data nodes, with four possible values furnishing presets for spin parameter values,
    as shown in the following list:'
  id: totrans-1354
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该参数从NDB 8.0.20开始存在，但在NDB 8.0.24之前没有任何效果。它提供了一个简单的界面来控制数据节点上的自适应旋转，有四个可能的值提供了旋转参数值的预设值，如下列表所示：
- en: '`StaticSpinning` (default): Sets `EnableAdaptiveSpinning` to `false` and [`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)
    to 0\. (`SetAllowedSpinOverhead` is not relevant in this case.)'
  id: totrans-1355
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`StaticSpinning`（默认）：将`EnableAdaptiveSpinning`设置为`false`，将[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)设置为0。在这种情况下，`SetAllowedSpinOverhead`不相关。'
- en: '`CostBasedSpinning`: Sets `EnableAdaptiveSpinning` to `true`, [`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)
    to 100, and `SetAllowedSpinOverhead` to 200.'
  id: totrans-1356
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`CostBasedSpinning`：将`EnableAdaptiveSpinning`设置为`true`，将[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)设置为100，将`SetAllowedSpinOverhead`设置为200。'
- en: '`LatencyOptimisedSpinning`: Sets `EnableAdaptiveSpinning` to `true`, [`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)
    to 200, and `SetAllowedSpinOverhead` to 1000.'
  id: totrans-1357
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`LatencyOptimisedSpinning`：将`EnableAdaptiveSpinning`设置为`true`，将[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)设置为200，将`SetAllowedSpinOverhead`设置为1000。'
- en: '`DatabaseMachineSpinning`: Sets `EnableAdaptiveSpinning` to `true`, [`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)
    to 500, and `SetAllowedSpinOverhead` to 10000\. This is intended for use in cases
    where threads own their own CPUs.'
  id: totrans-1358
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`DatabaseMachineSpinning`：将`EnableAdaptiveSpinning`设置为`true`，将[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)设置为500，将`SetAllowedSpinOverhead`设置为10000。这适用于线程拥有自己的CPU的情况。'
- en: 'The spin parameters modified by [`SpinMethod`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-spinmethod)
    are described in the following list:'
  id: totrans-1359
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由[`SpinMethod`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-spinmethod)修改的旋转参数如下所述：
- en: '[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer):
    This is the same as the data node configuration parameter of that name. The setting
    applied to this parameter by `SpinMethod` overrides any value set in the `config.ini`
    file.'
  id: totrans-1360
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)：这与具有相同名称的数据节点配置参数相同。`SpinMethod`对此参数的设置会覆盖`config.ini`文件中设置的任何值。'
- en: '`EnableAdaptiveSpinning`: Enables or disables adaptive spinning. Disabling
    it causes spinning to be performed without making any checks for CPU resources.
    This parameter cannot be set directly in the cluster configuration file, and under
    most circumstances should not need to be, but can be enabled directly using [`DUMP
    104004 1`](/doc/ndb-internals/en/dump-command-104004.html) or disabled with [`DUMP
    104004 0`](/doc/ndb-internals/en/dump-command-104004.html) in the [**ndb_mgm**](mysql-cluster-programs-ndb-mgm.html
    "25.5.5 ndb_mgm — The NDB Cluster Management Client") management client.'
  id: totrans-1361
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`EnableAdaptiveSpinning`: 启用或禁用自适应自旋。禁用它会导致自旋在不进行任何CPU资源检查的情况下执行。此参数不能直接在集群配置文件中设置，在大多数情况下也不需要设置，但可以通过在[**ndb_mgm**](mysql-cluster-programs-ndb-mgm.html
    "25.5.5 ndb_mgm — NDB集群管理客户端")管理客户端中使用[`DUMP 104004 1`](/doc/ndb-internals/en/dump-command-104004.html)启用或使用[`DUMP
    104004 0`](/doc/ndb-internals/en/dump-command-104004.html)禁用。'
- en: '`SetAllowedSpinOverhead`: Sets the amount of CPU time to allow for gaining
    latency. This parameter cannot be set directly in the `config.ini` file. In most
    cases, the setting applied by SpinMethod should be satisfactory, but if it is
    necessary to change it directly, you can use [`DUMP 104002 *`overhead`*`](/doc/ndb-internals/en/dump-command-104002.html)
    to do so, where *`overhead`* is a value ranging from 0 to 10000, inclusive; see
    the description of the indicated `DUMP` command for details.'
  id: totrans-1362
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SetAllowedSpinOverhead`: 设置允许用于获得延迟的CPU时间量。此参数不能直接在`config.ini`文件中设置。在大多数情况下，由SpinMethod应用的设置应该是令人满意的，但如果有必要直接更改它，您可以使用[`DUMP
    104002 *`overhead`*`](/doc/ndb-internals/en/dump-command-104002.html)来进行设置，其中*`overhead`*是一个从0到10000（包括）的值；有关详细信息，请参阅指定`DUMP`命令的描述。'
- en: On platforms lacking usable spin instructions, such as PowerPC and some SPARC
    platforms, spin time is set to 0 in all situations, and values for `SpinMethod`
    other than `StaticSpinning` are ignored.
  id: totrans-1363
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在缺乏可用自旋指令的平台上，例如PowerPC和一些SPARC平台，自旋时间在所有情况下都设置为0，并且`SpinMethod`的值为`StaticSpinning`以外的值将被忽略。
- en: '[`TwoPassInitialNodeRestartCopy`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-twopassinitialnoderestartcopy)'
  id: totrans-1364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TwoPassInitialNodeRestartCopy`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-twopassinitialnoderestartcopy)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1365
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | boolean |'
  id: totrans-1366
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | true |'
  id: totrans-1367
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | true |'
- en: '| Range | true, false |'
  id: totrans-1368
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1369
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: Multithreaded building of ordered indexes can be enabled for initial restarts
    of data nodes by setting this configuration parameter to `true` (the default value),
    which enables two-pass copying of data during initial node restarts.
  id: totrans-1370
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以通过将此配置参数设置为`true`（默认值）来启用有序索引的多线程构建，从而在数据节点的初始重启时进行两遍复制数据。
- en: You must also set [`BuildIndexThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-buildindexthreads)
    to a nonzero value.
  id: totrans-1371
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你还必须将[`BuildIndexThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-buildindexthreads)设置为非零值。
- en: '**Multi-Threading Configuration Parameters (ndbmtd). ** [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") runs by default
    as a single-threaded process and must be configured to use multiple threads, using
    either of two methods, both of which require setting configuration parameters
    in the `config.ini` file. The first method is simply to set an appropriate value
    for the [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    configuration parameter. A second method makes it possible to set up more complex
    rules for [**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The
    NDB Cluster Data Node Daemon (Multi-Threaded)") multithreading using [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig).
    The next few paragraphs provide information about these parameters and their use
    with multithreaded data nodes.'
  id: totrans-1372
  prefs: []
  type: TYPE_NORMAL
  zh: '**多线程配置参数（ndbmtd）。** [**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd
    — NDB 集群数据节点守护程序（多线程）") 默认情况下作为单线程进程运行，必须配置为使用多个线程，可以使用两种方法之一，两种方法都需要在 `config.ini`
    文件中设置配置参数。第一种方法是简单地为 [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    配置参数设置适当的值。第二种方法可以通过 [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)
    设置更复杂的规则，用于设置[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd —
    NDB 集群数据节点守护程序（多线程）")多线程。接下来的几段提供有关这些参数及其在多线程数据节点中的使用的信息。'
- en: Note
  id: totrans-1373
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: A backup using parallelism on the data nodes requires that multiple LDMs are
    in use on all data nodes in the cluster prior to taking the backup. For more information,
    see [Section 25.6.8.5, “Taking an NDB Backup with Parallel Data Nodes”](mysql-cluster-backup-parallel-data-nodes.html
    "25.6.8.5 Taking an NDB Backup with Parallel Data Nodes"), as well as [Section 25.5.23.3,
    “Restoring from a backup taken in parallel”](ndb-restore-parallel-data-node-backup.html
    "25.5.23.3 Restoring from a backup taken in parallel").
  id: totrans-1374
  prefs: []
  type: TYPE_NORMAL
  zh: 在数据节点上使用并行性进行备份需要在备份之前确保集群中的所有数据节点上都使用了多个LDM。有关更多信息，请参见[第 25.6.8.5 节，“使用并行数据节点进行
    NDB 备份”](mysql-cluster-backup-parallel-data-nodes.html "25.6.8.5 使用并行数据节点进行 NDB
    备份")，以及[第 25.5.23.3 节，“从并行备份中恢复”](ndb-restore-parallel-data-node-backup.html "25.5.23.3 从并行备份中恢复")。
- en: '[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)'
  id: totrans-1375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)'
- en: '| Version (or later) | NDB 8.0.23 |'
  id: totrans-1376
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.23 |'
- en: '| Type or units | boolean |'
  id: totrans-1377
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | false |'
  id: totrans-1378
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | false |'
- en: '| Range | true, false |'
  id: totrans-1379
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Added | NDB 8.0.23 |'
  id: totrans-1380
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.23 |'
- en: '| Restart Type | **Initial System Restart:** Requires a complete shutdown of
    the cluster, wiping and restoring the cluster file system from a [backup](mysql-cluster-backup.html
    "25.6.8 Online Backup of NDB Cluster"), and then restarting the cluster. (NDB
    8.0.13) |'
  id: totrans-1381
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始系统重启：** 需要完全关闭集群，从[备份](mysql-cluster-backup.html "25.6.8 NDB 集群的在线备份")中擦除和恢复集群文件系统，然后重新启动集群。（NDB
    8.0.13） |'
- en: When set to 1, enables automatic thread configuration employing the number of
    CPUs available to a data node taking into account any limits set by `taskset`,
    `numactl`, virtual machines, Docker, and other such means of controlling which
    CPUs are available to a given application (on Windows platforms, automatic thread
    configuration uses all CPUs which are online); alternatively, you can set [`NumCPUs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-numcpus)
    to the desired number of CPUs (up to 1024, the maximum number of CPUs that can
    be handled by automatic thread configuration). Any settings for [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)
    and [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    are ignored. In addition, enabling this parameter automatically disables [`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation).
  id: totrans-1382
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当设置为 1 时，启用自动线程配置，利用数据节点可用的 CPU 数量，考虑到 `taskset`、`numactl`、虚拟机、Docker 和其他控制应用程序可用
    CPU 的方式的任何限制（在 Windows 平台上，自动线程配置使用所有在线的 CPU）；或者，您可以将 [`NumCPUs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-numcpus)
    设置为所需的 CPU 数量（最多 1024，自动线程配置可以处理的最大 CPU 数量）。任何对 [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)
    和 [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    的设置都将被忽略。此外，启用此参数会自动禁用 [`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)。
- en: '[`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)'
  id: totrans-1383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)'
- en: '| Version (or later) | NDB 8.0.23 |'
  id: totrans-1384
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.23 |'
- en: '| Type or units | boolean |'
  id: totrans-1385
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | true |'
  id: totrans-1386
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | true |'
- en: '| Range | true, false |'
  id: totrans-1387
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | true, false |'
- en: '| Added | NDB 8.0.23 |'
  id: totrans-1388
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.23 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1389
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13） |'
- en: When enabled (set to `true`), `NDB` distributes fragments among LDMs in the
    manner always used by `NDB` prior to NDB 8.0.23; that is, the default number of
    partitions per node is equal to the minimum number of local data manager (LDM)
    threads per data node.
  id: totrans-1390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用（设置为`true`）时，`NDB`以NDB 8.0.23之前始终使用的方式在LDM之间分发片段；也就是说，每个节点的默认分区数等于每个数据节点的最小本地数据管理器（LDM）线程数。
- en: For new clusters for which a downgrade to NDB 8.0.22 or earlier is never expected
    to occur, setting `ClassicFragmentation` to `false` when first setting up the
    cluster is preferable; doing so causes the number of partitions per node to be
    equal to the value of [`PartitionsPerNode`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-partitionspernode),
    ensuring that all partitions are spread out evenly between all LDMs.
  id: totrans-1391
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于新集群，不会降级到NDB 8.0.22或更早版本的情况，首次设置集群时将`ClassicFragmentation`设置为`false`是更可取的；这样做会导致每个节点的分区数等于[`PartitionsPerNode`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-partitionspernode)的值，确保所有分区均匀分布在所有LDM之间。
- en: This parameter and [`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)
    are mutually exclusive; enabling `AutomaticThreadConfig` automatically disables
    `ClassicFragmentation`.
  id: totrans-1392
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数和[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)是互斥的；启用`AutomaticThreadConfig`会自动禁用`ClassicFragmentation`。
- en: '`EnableMultithreadedBackup`'
  id: totrans-1393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`EnableMultithreadedBackup`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1394
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-1395
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号整数 |'
- en: '| Default | 1 |'
  id: totrans-1396
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 1 |'
- en: '| Range | 0 - 1 |'
  id: totrans-1397
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 1 |'
- en: '| Added | NDB 8.0.16 |'
  id: totrans-1398
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.16 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1399
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。（NDB
    8.0.13） |'
- en: Enables multi-threaded backup. If each data node has at least 2 LDMs, all LDM
    threads participate in the backup, which is created using one subdirectory per
    LDM thread, and each subdirectory containing `.ctl`, `.Data`, and `.log` backup
    files.
  id: totrans-1400
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用多线程备份。如果每个数据节点至少有2个LDM，所有LDM线程都参与备份，使用每个LDM线程一个子目录创建备份，每个子目录包含`.ctl`、`.Data`和`.log`备份文件。
- en: This parameter is normally enabled (set to 1) for [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)"). To force
    a single-threaded backup that can be restored easily using older versions of [**ndb_restore**](mysql-cluster-programs-ndb-restore.html
    "25.5.23 ndb_restore — Restore an NDB Cluster Backup"), disable multi-threaded
    backup by setting this parameter to 0\. This must be done for each data node in
    the cluster.
  id: totrans-1401
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通常情况下，此参数对于[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd —
    NDB集群数据节点守护程序（多线程）")是启用的（设置为1）。要强制进行可以使用旧版本[**ndb_restore**](mysql-cluster-programs-ndb-restore.html
    "25.5.23 ndb_restore — 恢复NDB集群备份")轻松恢复的单线程备份，请通过将此参数设置为0来禁用多线程备份。必须对集群中的每个数据节点执行此操作。
- en: See [Section 25.6.8.5, “Taking an NDB Backup with Parallel Data Nodes”](mysql-cluster-backup-parallel-data-nodes.html
    "25.6.8.5 Taking an NDB Backup with Parallel Data Nodes"), and [Section 25.5.23.3,
    “Restoring from a backup taken in parallel”](ndb-restore-parallel-data-node-backup.html
    "25.5.23.3 Restoring from a backup taken in parallel"), for more information.
  id: totrans-1402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关更多信息，请参见[第25.6.8.5节，“使用并行数据节点进行NDB备份”](mysql-cluster-backup-parallel-data-nodes.html
    "25.6.8.5 使用并行数据节点进行NDB备份")，以及[第25.5.23.3节，“从并行备份中恢复”](ndb-restore-parallel-data-node-backup.html
    "25.5.23.3 从并行备份中恢复")。
- en: '`MaxNoOfExecutionThreads`'
  id: totrans-1403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MaxNoOfExecutionThreads`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1404
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1405
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 2 |'
  id: totrans-1406
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 2 |'
- en: '| Range | 2 - 72 |'
  id: totrans-1407
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 2 - 72 |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-1408
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭和重启集群。（NDB 8.0.13） |'
- en: This parameter directly controls the number of execution threads used by [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)"), up to a
    maximum of 72\. Although this parameter is set in `[ndbd]` or `[ndbd default]`
    sections of the `config.ini` file, it is exclusive to [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") and does
    not apply to [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB
    Cluster Data Node Daemon").
  id: totrans-1409
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数直接控制[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The
    NDB Cluster Data Node Daemon (Multi-Threaded)")使用的执行线程数，最多为 72。虽然此参数设置在 `config.ini`
    文件的 `[ndbd]` 或 `[ndbd default]` 部分，但它专属于[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)")，不适用于[**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon")。
- en: Enabling [`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)
    causes any setting for this parameter to be ignored.
  id: totrans-1410
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)会导致忽略此参数的任何设置。
- en: Setting `MaxNoOfExecutionThreads` sets the number of threads for each type as
    determined by a matrix in the file `storage/ndb/src/common/mt_thr_config.cpp`.
    (Prior to NDB 8.0.30, this was `storage/ndb/src/kernel/vm/mt_thr_config.cpp`.)
    This table shows these numbers of threads for possible values of `MaxNoOfExecutionThreads`.
  id: totrans-1411
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置`MaxNoOfExecutionThreads`会根据文件`storage/ndb/src/common/mt_thr_config.cpp`中的矩阵确定每种类型的线程数。（在
    NDB 8.0.30 之前，这是`storage/ndb/src/kernel/vm/mt_thr_config.cpp`。）此表显示了可能的`MaxNoOfExecutionThreads`值对应的这些线程数。
- en: '**Table 25.12 MaxNoOfExecutionThreads values and the corresponding number of
    threads by thread type (LQH, TC, Send, Receive).**'
  id: totrans-1412
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**表 25.12 MaxNoOfExecutionThreads 值及相应的线程数（LQH、TC、发送、接收）。**'
- en: '| `MaxNoOfExecutionThreads` Value | LDM Threads | TC Threads | Send Threads
    | Receive Threads |'
  id: totrans-1413
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `MaxNoOfExecutionThreads` 值 | LDM 线程 | TC 线程 | 发送线程 | 接收线程 |'
- en: '| 0 .. 3 | 1 | 0 | 0 | 1 |'
  id: totrans-1414
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 0 .. 3 | 1 | 0 | 0 | 1 |'
- en: '| 4 .. 6 | 2 | 0 | 0 | 1 |'
  id: totrans-1415
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 .. 6 | 2 | 0 | 0 | 1 |'
- en: '| 7 .. 8 | 4 | 0 | 0 | 1 |'
  id: totrans-1416
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 .. 8 | 4 | 0 | 0 | 1 |'
- en: '| 9 | 4 | 2 | 0 | 1 |'
  id: totrans-1417
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 | 4 | 2 | 0 | 1 |'
- en: '| 10 | 4 | 2 | 1 | 1 |'
  id: totrans-1418
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 | 4 | 2 | 1 | 1 |'
- en: '| 11 | 4 | 3 | 1 | 1 |'
  id: totrans-1419
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 11 | 4 | 3 | 1 | 1 |'
- en: '| 12 | 6 | 2 | 1 | 1 |'
  id: totrans-1420
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 12 | 6 | 2 | 1 | 1 |'
- en: '| 13 | 6 | 3 | 1 | 1 |'
  id: totrans-1421
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 13 | 6 | 3 | 1 | 1 |'
- en: '| 14 | 6 | 3 | 1 | 2 |'
  id: totrans-1422
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 14 | 6 | 3 | 1 | 2 |'
- en: '| 15 | 6 | 3 | 2 | 2 |'
  id: totrans-1423
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 15 | 6 | 3 | 2 | 2 |'
- en: '| 16 | 8 | 3 | 1 | 2 |'
  id: totrans-1424
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 16 | 8 | 3 | 1 | 2 |'
- en: '| 17 | 8 | 4 | 1 | 2 |'
  id: totrans-1425
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 17 | 8 | 4 | 1 | 2 |'
- en: '| 18 | 8 | 4 | 2 | 2 |'
  id: totrans-1426
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 18 | 8 | 4 | 2 | 2 |'
- en: '| 19 | 8 | 5 | 2 | 2 |'
  id: totrans-1427
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 19 | 8 | 5 | 2 | 2 |'
- en: '| 20 | 10 | 4 | 2 | 2 |'
  id: totrans-1428
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 20 | 10 | 4 | 2 | 2 |'
- en: '| 21 | 10 | 5 | 2 | 2 |'
  id: totrans-1429
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 21 | 10 | 5 | 2 | 2 |'
- en: '| 22 | 10 | 5 | 2 | 3 |'
  id: totrans-1430
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 22 | 10 | 5 | 2 | 3 |'
- en: '| 23 | 10 | 6 | 2 | 3 |'
  id: totrans-1431
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 23 | 10 | 6 | 2 | 3 |'
- en: '| 24 | 12 | 5 | 2 | 3 |'
  id: totrans-1432
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 24 | 12 | 5 | 2 | 3 |'
- en: '| 25 | 12 | 6 | 2 | 3 |'
  id: totrans-1433
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 25 | 12 | 6 | 2 | 3 |'
- en: '| 26 | 12 | 6 | 3 | 3 |'
  id: totrans-1434
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 26 | 12 | 6 | 3 | 3 |'
- en: '| 27 | 12 | 7 | 3 | 3 |'
  id: totrans-1435
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 27 | 12 | 7 | 3 | 3 |'
- en: '| 28 | 12 | 7 | 3 | 4 |'
  id: totrans-1436
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 28 | 12 | 7 | 3 | 4 |'
- en: '| 29 | 12 | 8 | 3 | 4 |'
  id: totrans-1437
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 29 | 12 | 8 | 3 | 4 |'
- en: '| 30 | 12 | 8 | 4 | 4 |'
  id: totrans-1438
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 30 | 12 | 8 | 4 | 4 |'
- en: '| 31 | 12 | 9 | 4 | 4 |'
  id: totrans-1439
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 31 | 12 | 9 | 4 | 4 |'
- en: '| 32 | 16 | 8 | 3 | 3 |'
  id: totrans-1440
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 32 | 16 | 8 | 3 | 3 |'
- en: '| 33 | 16 | 8 | 3 | 4 |'
  id: totrans-1441
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 33 | 16 | 8 | 3 | 4 |'
- en: '| 34 | 16 | 8 | 4 | 4 |'
  id: totrans-1442
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 34 | 16 | 8 | 4 | 4 |'
- en: '| 35 | 16 | 9 | 4 | 4 |'
  id: totrans-1443
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 35 | 16 | 9 | 4 | 4 |'
- en: '| 36 | 16 | 10 | 4 | 4 |'
  id: totrans-1444
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 36 | 16 | 10 | 4 | 4 |'
- en: '| 37 | 16 | 10 | 4 | 5 |'
  id: totrans-1445
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 37 | 16 | 10 | 4 | 5 |'
- en: '| 38 | 16 | 11 | 4 | 5 |'
  id: totrans-1446
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 38 | 16 | 11 | 4 | 5 |'
- en: '| 39 | 16 | 11 | 5 | 5 |'
  id: totrans-1447
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 39 | 16 | 11 | 5 | 5 |'
- en: '| 40 | 20 | 10 | 4 | 4 |'
  id: totrans-1448
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 40 | 20 | 10 | 4 | 4 |'
- en: '| 41 | 20 | 10 | 4 | 5 |'
  id: totrans-1449
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 41 | 20 | 10 | 4 | 5 |'
- en: '| 42 | 20 | 11 | 4 | 5 |'
  id: totrans-1450
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 42 | 20 | 11 | 4 | 5 |'
- en: '| 43 | 20 | 11 | 5 | 5 |'
  id: totrans-1451
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 43 | 20 | 11 | 5 | 5 |'
- en: '| 44 | 20 | 12 | 5 | 5 |'
  id: totrans-1452
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 44 | 20 | 12 | 5 | 5 |'
- en: '| 45 | 20 | 12 | 5 | 6 |'
  id: totrans-1453
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 45 | 20 | 12 | 5 | 6 |'
- en: '| 46 | 20 | 13 | 5 | 6 |'
  id: totrans-1454
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 46 | 20 | 13 | 5 | 6 |'
- en: '| 47 | 20 | 13 | 6 | 6 |'
  id: totrans-1455
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 47 | 20 | 13 | 6 | 6 |'
- en: '| 48 | 24 | 12 | 5 | 5 |'
  id: totrans-1456
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 48 | 24 | 12 | 5 | 5 |'
- en: '| 49 | 24 | 12 | 5 | 6 |'
  id: totrans-1457
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 49 | 24 | 12 | 5 | 6 |'
- en: '| 50 | 24 | 13 | 5 | 6 |'
  id: totrans-1458
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 50 | 24 | 13 | 5 | 6 |'
- en: '| 51 | 24 | 13 | 6 | 6 |'
  id: totrans-1459
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 51 | 24 | 13 | 6 | 6 |'
- en: '| 52 | 24 | 14 | 6 | 6 |'
  id: totrans-1460
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 52 | 24 | 14 | 6 | 6 |'
- en: '| 53 | 24 | 14 | 6 | 7 |'
  id: totrans-1461
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 53 | 24 | 14 | 6 | 7 |'
- en: '| 54 | 24 | 15 | 6 | 7 |'
  id: totrans-1462
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 54 | 24 | 15 | 6 | 7 |'
- en: '| 55 | 24 | 15 | 7 | 7 |'
  id: totrans-1463
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 55 | 24 | 15 | 7 | 7 |'
- en: '| 56 | 24 | 16 | 7 | 7 |'
  id: totrans-1464
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 56 | 24 | 16 | 7 | 7 |'
- en: '| 57 | 24 | 16 | 7 | 8 |'
  id: totrans-1465
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 57 | 24 | 16 | 7 | 8 |'
- en: '| 58 | 24 | 17 | 7 | 8 |'
  id: totrans-1466
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 58 | 24 | 17 | 7 | 8 |'
- en: '| 59 | 24 | 17 | 8 | 8 |'
  id: totrans-1467
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 59 | 24 | 17 | 8 | 8 |'
- en: '| 60 | 24 | 18 | 8 | 8 |'
  id: totrans-1468
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 60 | 24 | 18 | 8 | 8 |'
- en: '| 61 | 24 | 18 | 8 | 9 |'
  id: totrans-1469
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 61 | 24 | 18 | 8 | 9 |'
- en: '| 62 | 24 | 19 | 8 | 9 |'
  id: totrans-1470
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 62 | 24 | 19 | 8 | 9 |'
- en: '| 63 | 24 | 19 | 9 | 9 |'
  id: totrans-1471
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 63 | 24 | 19 | 9 | 9 |'
- en: '| 64 | 32 | 16 | 7 | 7 |'
  id: totrans-1472
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 64 | 32 | 16 | 7 | 7 |'
- en: '| 65 | 32 | 16 | 7 | 8 |'
  id: totrans-1473
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 65 | 32 | 16 | 7 | 8 |'
- en: '| 66 | 32 | 17 | 7 | 8 |'
  id: totrans-1474
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 66 | 32 | 17 | 7 | 8 |'
- en: '| 67 | 32 | 17 | 8 | 8 |'
  id: totrans-1475
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 67 | 32 | 17 | 8 | 8 |'
- en: '| 68 | 32 | 18 | 8 | 8 |'
  id: totrans-1476
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 68 | 32 | 18 | 8 | 8 |'
- en: '| 69 | 32 | 18 | 8 | 9 |'
  id: totrans-1477
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 69 | 32 | 18 | 8 | 9 |'
- en: '| 70 | 32 | 19 | 8 | 9 |'
  id: totrans-1478
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 70 | 32 | 19 | 8 | 9 |'
- en: '| 71 | 32 | 20 | 8 | 9 |'
  id: totrans-1479
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 71 | 32 | 20 | 8 | 9 |'
- en: '| 72 | 32 | 20 | 8 | 10 |'
  id: totrans-1480
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 72 | 32 | 20 | 8 | 10 |'
- en: '| `MaxNoOfExecutionThreads` Value | LDM Threads | TC Threads | Send Threads
    | Receive Threads |'
  id: totrans-1481
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `MaxNoOfExecutionThreads`值 | LDM线程 | TC线程 | 发送线程 | 接收线程 |'
- en: There is always one SUMA (replication) thread.
  id: totrans-1482
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 总是存在一个SUMA（复制）线程。
- en: '[`NoOfFragmentLogParts`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-nooffragmentlogparts)
    should be set equal to the number of LDM threads used by [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)"), as determined
    by the setting for this parameter. This ratio should not be any greater than 4:1;
    a configuration in which this is the case is specifically disallowed.'
  id: totrans-1483
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`NoOfFragmentLogParts`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-nooffragmentlogparts)应设置为[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)")使用的LDM线程数，由此参数的设置确定。这个比率不应大于4:1；明确禁止这种情况的配置。'
- en: The number of LDM threads also determines the number of partitions used by an
    `NDB` table that is not explicitly partitioned; this is the number of LDM threads
    times the number of data nodes in the cluster. (If [**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon") is used on the data nodes rather
    than [**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The NDB
    Cluster Data Node Daemon (Multi-Threaded)"), then there is always a single LDM
    thread; in this case, the number of partitions created automatically is simply
    equal to the number of data nodes. See [Section 25.2.2, “NDB Cluster Nodes, Node
    Groups, Fragment Replicas, and Partitions”](mysql-cluster-nodes-groups.html "25.2.2 NDB
    Cluster Nodes, Node Groups, Fragment Replicas, and Partitions"), for more information.
  id: totrans-1484
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: LDM线程的数量还确定了未明确分区的`NDB`表使用的分区数；这是LDM线程数乘以集群中的数据节点数。（如果在数据节点上使用[**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon")而不是[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)")，那么始终存在一个单独的LDM线程；在这种情况下，自动创建的分区数简单地等于数据节点数。有关更多信息，请参见[第25.2.2节，“NDB
    Cluster节点、节点组、片副本和分区”](mysql-cluster-nodes-groups.html "25.2.2 NDB Cluster Nodes,
    Node Groups, Fragment Replicas, and Partitions")。
- en: Adding large tablespaces for Disk Data tables when using more than the default
    number of LDM threads may cause issues with resource and CPU usage if the disk
    page buffer is insufficiently large; see the description of the [`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)
    configuration parameter, for more information.
  id: totrans-1485
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用超出默认LDM线程数量时为磁盘数据表添加大表空间可能会导致资源和CPU使用问题，如果磁盘页缓冲区不够大，请参阅[`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)配置参数的描述以获取更多信息。
- en: The thread types are described later in this section (see [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)).
  id: totrans-1486
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 线程类型在本节稍后描述（参见[`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)）。
- en: 'Setting this parameter outside the permitted range of values causes the management
    server to abort on startup with the error Error line *`number`*: Illegal value
    *`value`* for parameter MaxNoOfExecutionThreads.'
  id: totrans-1487
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将此参数设置在允许范围之外的值会导致管理服务器在启动时中止，并显示错误行*`number`*：参数MaxNoOfExecutionThreads的值*`value`*非法。
- en: For `MaxNoOfExecutionThreads`, a value of 0 or 1 is rounded up internally by
    [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB Cluster 8.0") to 2, so that 2
    is considered this parameter's default and minimum value.
  id: totrans-1488
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于`MaxNoOfExecutionThreads`，值为0或1会被[`NDB`](mysql-cluster.html "第25章 MySQL NDB
    Cluster 8.0")内部四舍五入为2，因此2被视为此参数的默认和最小值。
- en: '`MaxNoOfExecutionThreads` is generally intended to be set equal to the number
    of CPU threads available, and to allocate a number of threads of each type suitable
    to typical workloads. It does not assign particular threads to specified CPUs.
    For cases where it is desirable to vary from the settings provided, or to bind
    threads to CPUs, you should use [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)
    instead, which allows you to allocate each thread directly to a desired type,
    CPU, or both.'
  id: totrans-1489
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`MaxNoOfExecutionThreads`通常应设置为可用CPU线程的数量，并为典型工作负载分配适当数量的每种类型线程。它不会将特定线程分配给指定的CPU。对于希望从提供的设置中变化或将线程绑定到CPU的情况，应使用[`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)，它允许您直接将每个线程分配给所需类型、CPU或两者。'
- en: 'The multithreaded data node process always spawns, at a minimum, the threads
    listed here:'
  id: totrans-1490
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 多线程数据节点进程始终至少生成以下线程：
- en: 1 local query handler (LDM) thread
  id: totrans-1491
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1个本地查询处理程序（LDM）线程
- en: 1 receive thread
  id: totrans-1492
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 个接收线程
- en: 1 subscription manager (SUMA or replication) thread
  id: totrans-1493
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 个订阅管理器（SUMA 或复制）线程
- en: For a `MaxNoOfExecutionThreads` value of 8 or less, no TC threads are created,
    and TC handling is instead performed by the main thread.
  id: totrans-1494
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于 `MaxNoOfExecutionThreads` 值为 8 或更低时，不会创建 TC 线程，而是由主线程执行 TC 处理。
- en: 'Changing the number of LDM threads normally requires a system restart, whether
    it is changed using this parameter or [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig),
    but it is possible to effect the change using a node initial restart (*NI*) provided
    the following two conditions are met:'
  id: totrans-1495
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 改变 LDM 线程数通常需要系统重启，无论是使用此参数还是 [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)
    进行更改，但可以通过节点初始重启（*NI*）来实现改变，前提是满足以下两个条件：
- en: Each LDM thread handles a maximum of 8 fragments, and
  id: totrans-1496
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个 LDM 线程处理最多 8 个片段，以及
- en: The total number of table fragments is an integer multiple of the number of
    LDM threads.
  id: totrans-1497
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表片段的总数是 LDM 线程数的整数倍。
- en: In NDB 8.0, an initial restart is *not* required to effect a change in this
    parameter, as it was in some older versions of NDB Cluster.
  id: totrans-1498
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 NDB 8.0 中，不需要初始重启来改变此参数，这与一些旧版本的 NDB Cluster 不同。
- en: '`MaxSendDelay`'
  id: totrans-1499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MaxSendDelay`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1500
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | microseconds |'
  id: totrans-1501
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 微秒 |'
- en: '| Default | 0 |'
  id: totrans-1502
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 11000 |'
  id: totrans-1503
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 11000 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1504
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB Cluster 的滚动重启")。（NDB 8.0.13） |'
- en: This parameter can be used to cause data nodes to wait momentarily before sending
    data to API nodes; in some circumstances, described in the following paragraphs,
    this can result in more efficient sending of larger volumes of data and higher
    overall throughput.
  id: totrans-1505
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数可使数据节点在发送数据给 API 节点之前稍作等待；在某些情况下，描述如下，这可以导致更有效地发送更大量的数据和更高的总吞吐量。
- en: '`MaxSendDelay` can be useful when there are a great many API nodes at saturation
    point or close to it, which can result in waves of increasing and decreasing performance.
    This occurs when the data nodes are able to send results back to the API nodes
    relatively quickly, with many small packets to process, which can take longer
    to process per byte compared to large packets, thus slowing down the API nodes;
    later, the data nodes start sending larger packets again.'
  id: totrans-1506
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当有很多 API 节点达到饱和点或接近饱和点时，`MaxSendDelay` 可能会很有用，这可能导致性能的波动。当数据节点能够相对快速地将结果发送回
    API 节点时，有许多小数据包需要处理，这可能比大数据包每字节处理时间更长，从而减慢 API 节点的速度；随后，数据节点再次开始发送较大的数据包。
- en: To handle this type of scenario, you can set `MaxSendDelay` to a nonzero value,
    which helps to ensure that responses are not sent back to the API nodes so quickly.
    When this is done, responses are sent immediately when there is no other competing
    traffic, but when there is, setting `MaxSendDelay` causes the data nodes to wait
    long enough to ensure that they send larger packets. In effect, this introduces
    an artificial bottleneck into the send process, which can actually improve throughput
    significantly.
  id: totrans-1507
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为处理这种情况，您可以将 `MaxSendDelay` 设置为非零值，这有助于确保响应不会太快地发送回 API 节点。这样做时，当没有其他竞争流量时，响应会立即发送，但当有竞争流量时，设置
    `MaxSendDelay` 会导致数据节点等待足够长的时间以确保它们发送更大的数据包。实际上，这在发送过程中引入了一个人为的瓶颈，这实际上可以显著提高吞吐量。
- en: '`NoOfFragmentLogParts`'
  id: totrans-1508
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NoOfFragmentLogParts`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1509
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-1510
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 4 |'
  id: totrans-1511
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 4 |'
- en: '| Range | 4, 6, 8, 10, 12, 16, 20, 24, 32 |'
  id: totrans-1512
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 4, 6, 8, 10, 12, 16, 20, 24, 32 |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1513
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB Cluster 的滚动重启")；每个数据节点必须使用 [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)
    重新启动。（NDB 8.0.13） |'
- en: Set the number of log file groups for redo logs belonging to this [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)"). The value
    of this parameter should be set equal to the number of LDM threads used by [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") as determined
    by the setting for [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads).
    A configuration using more than 4 redo log parts per LDM is disallowed.
  id: totrans-1514
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置属于此[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The NDB
    Cluster Data Node Daemon (Multi-Threaded)")的重做日志的日志文件组数。此参数的值应设置为由[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)的设置确定的[**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)")使用的LDM线程数。不允许使用超过每个LDM的4个重做日志部分的配置。
- en: See the description of [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    for more information.
  id: totrans-1515
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关更多信息，请参阅[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)的描述。
- en: '[`NumCPUs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-numcpus)'
  id: totrans-1516
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`NumCPUs`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-numcpus)'
- en: '| Version (or later) | NDB 8.0.23 |'
  id: totrans-1517
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.23 |'
- en: '| Type or units | integer |'
  id: totrans-1518
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1519
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 1024 |'
  id: totrans-1520
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 1024 |'
- en: '| Added | NDB 8.0.23 |'
  id: totrans-1521
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.23 |'
- en: '| Restart Type | **Initial System Restart:** Requires a complete shutdown of
    the cluster, wiping and restoring the cluster file system from a [backup](mysql-cluster-backup.html
    "25.6.8 Online Backup of NDB Cluster"), and then restarting the cluster. (NDB
    8.0.13) |'
  id: totrans-1522
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始系统重启：** 需要完全关闭集群，从[备份](mysql-cluster-backup.html "25.6.8 Online
    Backup of NDB Cluster")中擦除和恢复集群文件系统，然后重新启动集群。（NDB 8.0.13） |'
- en: Cause automatic thread configuration to use only this many CPUs. Has no effect
    if [`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)
    is not enabled.
  id: totrans-1523
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使自动线程配置仅使用这么多个 CPU。如果未启用[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)，则无效。
- en: '[`PartitionsPerNode`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-partitionspernode)'
  id: totrans-1524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`PartitionsPerNode`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-partitionspernode)'
- en: '| Version (or later) | NDB 8.0.23 |'
  id: totrans-1525
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.23 |'
- en: '| Type or units | integer |'
  id: totrans-1526
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 2 |'
  id: totrans-1527
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 2 |'
- en: '| Range | 1 - 32 |'
  id: totrans-1528
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 32 |'
- en: '| Added | NDB 8.0.23 |'
  id: totrans-1529
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.23 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1530
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")。（NDB 8.0.13） |'
- en: Sets the number of partitions used on each node when creating a new `NDB` table.
    This makes it possible to avoid splitting up tables into an excessive number of
    partitions when the number of local data managers (LDMs) grows high.
  id: totrans-1531
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在创建新的`NDB`表时设置每个节点上使用的分区数。当本地数据管理器（LDMs）的数量增加时，这样可以避免将表分割成过多的分区。
- en: While it is possible to set this parameter to different values on different
    data nodes and there are no known issues with doing so, this is also not likely
    to be of any advantage; for this reason, it is recommended simply to set it once,
    for all data nodes, in the `[ndbd default]` section of the global `config.ini`
    file.
  id: totrans-1532
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虽然可以在不同的数据节点上将此参数设置为不同的值，并且这样做没有已知问题，但这也不太可能带来任何优势；因此，建议只需在全局`config.ini`文件的`[ndbd
    default]`部分中为所有数据节点设置一次。
- en: If [`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)
    is enabled, any setting for this parameter is ignored. (Remember that enabling
    [`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)
    disables `ClassicFragmentation`.)
  id: totrans-1533
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果启用[`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)，则忽略此参数的任何设置。（请记住，启用[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)会禁用`ClassicFragmentation`。）
- en: '`ThreadConfig`'
  id: totrans-1534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ThreadConfig`'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1535
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | string |'
  id: totrans-1536
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字符串 |'
- en: '| Default | '''' |'
  id: totrans-1537
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | '''' |'
- en: '| Range | ... |'
  id: totrans-1538
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-1539
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重新启动集群。（NDB 8.0.13） |'
- en: 'This parameter is used with [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") to assign
    threads of different types to different CPUs. Its value is a string whose format
    has the following syntax:'
  id: totrans-1540
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数与[**ndbmtd**](mysql-cluster-programs-ndbmtd.html "25.5.3 ndbmtd — The NDB
    Cluster Data Node Daemon (Multi-Threaded)")一起使用，将不同类型的线程分配给不同的CPU。其值是一个字符串，其格式具有以下语法：
- en: '[PRE10]'
  id: totrans-1541
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The curly braces (`{`...`}`) surrounding the list of parameters are required,
    even if there is only one parameter in the list.
  id: totrans-1542
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 大括号（`{`...`}`）围绕参数列表是必需的，即使列表中只有一个参数。
- en: 'A *`param`* (parameter) specifies any or all of the following information:'
  id: totrans-1543
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*`param`*（参数）指定以下任意或所有信息：'
- en: The number of threads of the given type (`count`).
  id: totrans-1544
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 给定类型的线程数量（`count`）。
- en: The set of CPUs to which the threads of the given type are to be nonexclusively
    bound. This is determined by either one of `cpubind` or `cpuset`). `cpubind` causes
    each thread to be bound (nonexclusively) to a CPU in the set; `cpuset` means that
    each thread is bound (nonexclusively) to the set of CPUs specified.
  id: totrans-1545
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要将给定类型的线程绑定到的非独占CPU集。这由`cpubind`或`cpuset`中的一个确定。`cpubind`导致每个线程（非独占）绑定到集合中的一个CPU；`cpuset`意味着每个线程（非独占）绑定到指定的CPU集。
- en: On Solaris, you can instead specify a set of CPUs to which the threads of the
    given type are to be bound exclusively. `cpubind_exclusive` causes each thread
    to be bound exclusively to a CPU in the set; `cpuset_exclsuive` means that each
    thread is bound exclusively to the set of CPUs specified.
  id: totrans-1546
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在Solaris上，您可以指定一组要将给定类型的线程专门绑定到的CPU。`cpubind_exclusive`导致每个线程专门绑定到集合中的一个CPU；`cpuset_exclusive`意味着每个线程专门绑定到指定的CPU集合。
- en: Only one of `cpubind`, `cpuset`, `cpubind_exclusive`, or `cpuset_exclusive`
    can be provided in a single configuration.
  id: totrans-1547
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在单个配置中只能提供`cpubind`、`cpuset`、`cpubind_exclusive`或`cpuset_exclusive`中的一个。
- en: '`spintime` determines the wait time in microseconds the thread spins before
    going to sleep.'
  id: totrans-1548
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spintime`确定线程在进入睡眠状态之前旋转的等待时间（以微秒为单位）。'
- en: The default value for `spintime` is the value of the [`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)
    data node configuration parameter.
  id: totrans-1549
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`spintime`的默认值是[`SchedulerSpinTimer`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-schedulerspintimer)数据节点配置参数的值。'
- en: '`spintime` does not apply to I/O threads, watchdog, or offline index build
    threads, and so cannot be set for these thread types.'
  id: totrans-1550
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`spintime`不适用于I/O线程、看门狗或离线索引构建线程，因此无法为这些线程类型设置。'
- en: '`realtime` can be set to 0 or 1\. If it is set to 1, the threads run with real-time
    priority. This also means that `thread_prio` cannot be set.'
  id: totrans-1551
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`realtime`可以设置为0或1。如果设置为1，则线程以实时优先级运行。这也意味着无法设置`thread_prio`。'
- en: The `realtime` parameter is set by default to the value of the [`RealtimeScheduler`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-realtimescheduler)
    data node configuration parameter.
  id: totrans-1552
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`realtime`参数默认设置为[`RealtimeScheduler`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-realtimescheduler)数据节点配置参数的值。'
- en: '`realtime` cannot be set for offline index build threads.'
  id: totrans-1553
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 无法为离线索引构建线程设置`realtime`。
- en: By setting `nosend` to 1, you can prevent a `main`, `ldm`, `rep`, or `tc` thread
    from assisting the send threads. This parameter is 0 by default, and cannot be
    used with other types of threads.
  id: totrans-1554
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过将`nosend`设置为1，您可以阻止`main`、`ldm`、`rep`或`tc`线程协助发送线程。此参数默认为0，并且不能与其他类型的线程一起使用。
- en: '`thread_prio` is a thread priority level that can be set from 0 to 10, with
    10 representing the greatest priority. The default is 5\. The precise effects
    of this parameter are platform-specific, and are described later in this section.'
  id: totrans-1555
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`thread_prio`是可以从0到10设置的线程优先级级别，其中10表示最高优先级。默认值为5。此参数的确切影响是特定于平台的，并在本节后面描述。'
- en: The thread priority level cannot be set for offline index build threads.
  id: totrans-1556
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 无法为离线索引构建线程设置线程优先级级别。
- en: '**thread_prio settings and effects by platform. ** The implementation of `thread_prio`
    differs between Linux/FreeBSD, Solaris, and Windows. In the following list, we
    discuss its effects on each of these platforms in turn:'
  id: totrans-1557
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**不同平台上的thread_prio设置和效果。** `thread_prio`的实现在Linux/FreeBSD、Solaris和Windows之间有所不同。在以下列表中，我们依次讨论其对每个平台的影响：'
- en: '*Linux and FreeBSD*: We map `thread_prio` to a value to be supplied to the
    `nice` system call. Since a lower niceness value for a process indicates a higher
    process priority, increasing `thread_prio` has the effect of lowering the `nice`
    value.'
  id: totrans-1558
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Linux 和 FreeBSD*: 我们将 `thread_prio` 映射到要提供给 `nice` 系统调用的值。由于进程的较低 niceness
    值表示较高的进程优先级，增加 `thread_prio` 会降低 `nice` 值。'
- en: '**Table 25.13 Mapping of thread_prio to nice values on Linux and FreeBSD**'
  id: totrans-1559
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**表 25.13 thread_prio 在 Linux 和 FreeBSD 上的 nice 值映射**'
- en: '| `thread_prio` value | `nice` value |'
  id: totrans-1560
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| `thread_prio` 值 | `nice` 值 |'
- en: '| 0 | 19 |'
  id: totrans-1561
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 0 | 19 |'
- en: '| 1 | 16 |'
  id: totrans-1562
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 1 | 16 |'
- en: '| 2 | 12 |'
  id: totrans-1563
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 | 12 |'
- en: '| 3 | 8 |'
  id: totrans-1564
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 3 | 8 |'
- en: '| 4 | 4 |'
  id: totrans-1565
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 | 4 |'
- en: '| 5 | 0 |'
  id: totrans-1566
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 5 | 0 |'
- en: '| 6 | -4 |'
  id: totrans-1567
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 | -4 |'
- en: '| 7 | -8 |'
  id: totrans-1568
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 | -8 |'
- en: '| 8 | -12 |'
  id: totrans-1569
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 | -12 |'
- en: '| 9 | -16 |'
  id: totrans-1570
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 | -16 |'
- en: '| 10 | -20 |'
  id: totrans-1571
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 | -20 |'
- en: '| `thread_prio` value | `nice` value |'
  id: totrans-1572
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| `thread_prio` 值 | `nice` 值 |'
- en: Some operating systems may provide for a maximum process niceness level of 20,
    but this is not supported by all targeted versions; for this reason, we choose
    19 as the maximum `nice` value that can be set.
  id: totrans-1573
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '一些操作系统可能提供最大进程 niceness 等级为 20，但并非所有目标版本都支持；因此，我们选择 19 作为可设置的最大 `nice` 值。 '
- en: '*Solaris*: Setting `thread_prio` on Solaris sets the Solaris FX priority, with
    mappings as shown in the following table:'
  id: totrans-1574
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Solaris*: 在 Solaris 上设置 `thread_prio` 会设置 Solaris FX 优先级，映射如下表所示：'
- en: '**Table 25.14 Mapping of thread_prio to FX priority on Solaris**'
  id: totrans-1575
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**表 25.14 thread_prio 到 Solaris FX 优先级的映射**'
- en: '| `thread_prio` value | Solaris `FX` priority |'
  id: totrans-1576
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| `thread_prio` 值 | Solaris `FX` 优先级 |'
- en: '| 0 | 15 |'
  id: totrans-1577
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 0 | 15 |'
- en: '| 1 | 20 |'
  id: totrans-1578
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 1 | 20 |'
- en: '| 2 | 25 |'
  id: totrans-1579
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 | 25 |'
- en: '| 3 | 30 |'
  id: totrans-1580
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 3 | 30 |'
- en: '| 4 | 35 |'
  id: totrans-1581
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 | 35 |'
- en: '| 5 | 40 |'
  id: totrans-1582
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 5 | 40 |'
- en: '| 6 | 45 |'
  id: totrans-1583
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 | 45 |'
- en: '| 7 | 50 |'
  id: totrans-1584
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 | 50 |'
- en: '| 8 | 55 |'
  id: totrans-1585
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 | 55 |'
- en: '| 9 | 59 |'
  id: totrans-1586
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 | 59 |'
- en: '| 10 | 60 |'
  id: totrans-1587
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 | 60 |'
- en: '| `thread_prio` value | Solaris `FX` priority |'
  id: totrans-1588
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| `thread_prio` 值 | Solaris `FX` 优先级 |'
- en: A `thread_prio` setting of 9 is mapped on Solaris to the special FX priority
    value 59, which means that the operating system also attempts to force the thread
    to run alone on its own CPU core.
  id: totrans-1589
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 Solaris 上，将 `thread_prio` 设置为 9 会映射到特殊的 FX 优先级值 59，这意味着操作系统还会尝试强制线程独立在自己的
    CPU 核心上运行。
- en: '*Windows*: We map `thread_prio` to a Windows thread priority value passed to
    the Windows API `SetThreadPriority()` function. This mapping is shown in the following
    table:'
  id: totrans-1590
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Windows*: 我们将 `thread_prio` 映射到传递给 Windows API `SetThreadPriority()` 函数的 Windows
    线程优先级值。该映射如下表所示：'
- en: '**Table 25.15 Mapping of thread_prio to Windows thread priority**'
  id: totrans-1591
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**表 25.15 thread_prio 到 Windows 线程优先级的映射**'
- en: '| `thread_prio` value | Windows thread priority |'
  id: totrans-1592
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| `thread_prio` 值 | Windows 线程优先级 |'
- en: '| 0 - 1 | `THREAD_PRIORITY_LOWEST` |'
  id: totrans-1593
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 0 - 1 | `THREAD_PRIORITY_LOWEST` |'
- en: '| 2 - 3 | `THREAD_PRIORITY_BELOW_NORMAL` |'
  id: totrans-1594
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 - 3 | `THREAD_PRIORITY_BELOW_NORMAL` |'
- en: '| 4 - 5 | `THREAD_PRIORITY_NORMAL` |'
  id: totrans-1595
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 - 5 | `THREAD_PRIORITY_NORMAL` |'
- en: '| 6 - 7 | `THREAD_PRIORITY_ABOVE_NORMAL` |'
  id: totrans-1596
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 - 7 | `THREAD_PRIORITY_ABOVE_NORMAL` |'
- en: '| 8 - 10 | `THREAD_PRIORITY_HIGHEST` |'
  id: totrans-1597
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 - 10 | `THREAD_PRIORITY_HIGHEST` |'
- en: 'The *`type`* attribute represents an NDB thread type. The thread types supported,
    and the range of permitted `count` values for each, are provided in the following
    list:'
  id: totrans-1598
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*`type`* 属性表示一个 NDB 线程类型。支持的线程类型以及每个类型允许的 `count` 值范围在以下列表中提供：'
- en: '`ldm`: Local query handler ([`DBLQH`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dblqh.html)
    kernel block) that handles data. The more LDM threads that are used, the more
    highly partitioned the data becomes. (Beginning with NDB 8.0.23, when [`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)
    is set to 0, the number of partitions is independent of the number of LDM threads,
    and depends on the value of [`PartitionsPerNode`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-partitionspernode)
    instead.) Each LDM thread maintains its own sets of data and index partitions,
    as well as its own redo log. Prior to NDB 8.0.23, the value set for `ldm` must
    be one of the values 1, 2, 4, 6, 8, 12, 16, 24, or 32\. In NDB 8.0.23 and later,
    it is possible to set `ldm` to any value in the range 1 to 332 inclusive; it also
    becomes possible to set it to 0, provided that `main`, `rep`, and `tc` are also
    0, and that `recv` is set to 1; doing this causes [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") to emulate
    [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB Cluster Data
    Node Daemon").'
  id: totrans-1599
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ldm`: 处理数据的本地查询处理程序（[`DBLQH`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dblqh.html)
    内核块）。使用的 LDM 线程越多，数据就会变得更加分区化。（从 NDB 8.0.23 开始，当 [`ClassicFragmentation`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-classicfragmentation)
    设置为 0 时，分区的数量不再取决于 LDM 线程的数量，而是取决于 [`PartitionsPerNode`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-partitionspernode)
    的值。）每个 LDM 线程维护自己的数据和索引分区集，以及自己的重做日志。在 NDB 8.0.23 之前，为 `ldm` 设置的值必须是 1、2、4、6、8、12、16、24
    或 32 中的一个。在 NDB 8.0.23 及更高版本中，可以将 `ldm` 设置为范围在 1 到 332 之间的任何值；还可以将其设置为 0，前提是 `main`、`rep`
    和 `tc` 也为 0，并且 `recv` 设置为 1；这将导致 [**ndbmtd**](mysql-cluster-programs-ndbmtd.html
    "25.5.3 ndbmtd — The NDB Cluster Data Node Daemon (Multi-Threaded)") 模拟 [**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon")。'
- en: Each LDM thread is normally grouped with 1 query thread to form an LDM group.
    A set of 4 to 8 LDM groups is grouped into a round robin groups. Each LDM thread
    can be assisted in execution by any query or threads in the same round robin group.
    `NDB` attempts to form round robin groups such that all threads in each round
    robin group are locked to CPUs that are attached to the same L3 cache, within
    the limits of the range stated for a round robin group's size.
  id: totrans-1600
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个 LDM 线程通常与 1 个查询线程组成一个 LDM 组。4 到 8 个 LDM 组被组合成一个轮询组。每个 LDM 线程可以在同一轮询组中的任何查询或线程的协助下执行。`NDB`
    试图形成轮询组，以确保每个轮询组中的所有线程都锁定到附加到同一 L3 缓存的 CPU 上，范围限定在轮询组大小的范围内。
- en: Changing the number of LDM threads normally requires a system restart to be
    effective and safe for cluster operations; this requirement is relaxed in certain
    cases, as explained later in this section. This is also true when this is done
    using [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads).
  id: totrans-1601
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通常需要系统重启才能有效且安全地更改 LDM 线程的数量，以确保集群操作正常；在某些情况下，可以放宽此要求，后文将详细解释。当使用 [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    进行更改时，同样需要系统重启。
- en: Adding large tablespaces (hundreds of gigabytes or more) for Disk Data tables
    when using more than the default number of LDMs may cause issues with resource
    and CPU usage if [`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)
    is not sufficiently large.
  id: totrans-1602
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用多于默认 LDM 数量时为磁盘数据表添加大型表空间（数百 GB 或更多）可能会导致资源和 CPU 使用问题，如果 [`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)
    不足够大。
- en: In NDB 8.0.30 (only), `ldm` must be included in the `ThreadConfig` value string.
    Beginning with NDB 8.0.31, if this is omitted, one `ldm` thread is created. These
    changes may affect upgrades from previous releases; see [Section 25.3.7, “Upgrading
    and Downgrading NDB Cluster”](mysql-cluster-upgrade-downgrade.html "25.3.7 Upgrading
    and Downgrading NDB Cluster"), for more information.
  id: totrans-1603
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 NDB 8.0.30（仅限）中，`ldm` 必须包含在 `ThreadConfig` 值字符串中。从 NDB 8.0.31 开始，如果省略此项，将创建一个
    `ldm` 线程。这些更改可能会影响从旧版本升级；有关更多信息，请参阅 [第 25.3.7 节，“NDB 集群的升级和降级”](mysql-cluster-upgrade-downgrade.html
    "25.3.7 Upgrading and Downgrading NDB Cluster")。
- en: '`query` (Added in NDB 8.0.23): A query thread is tied to an LDM and together
    with it forms an LDM group; acts only on [`READ COMMITTED`](innodb-transaction-isolation-levels.html#isolevel_read-committed)
    queries. The number of query threads must be set to 0, 1, 2, or 3 times the number
    of LDM threads. Query threads are not used, unless this is overridden by setting
    `query` to a nonzero value, or by enabling the [`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)
    parameter, in which case LDMs behave as they did prior to NDB 8.0.23.'
  id: totrans-1604
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`query`（自NDB 8.0.23起添加）：查询线程与LDM绑定，一起形成LDM组；仅对[`READ COMMITTED`](innodb-transaction-isolation-levels.html#isolevel_read-committed)查询进行操作。查询线程的数量必须设置为LDM线程数量的0、1、2或3倍。除非将`query`设置为非零值或启用[`AutomaticThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-automaticthreadconfig)参数，否则不使用查询线程，此时LDM的行为与NDB
    8.0.23之前相同。'
- en: A query thread also acts as a recovery thread (see next item), although the
    reverse is not true.
  id: totrans-1605
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 查询线程也充当恢复线程（见下一项），但反之则不成立。
- en: Changing the number of query threads requires a node restart.
  id: totrans-1606
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更改查询线程数量需要重新启动节点。
- en: '`recover` (Added in NDB 8.0.23): A recovery thread restores data from a fragment
    as part of an LCP.'
  id: totrans-1607
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`recover`（自NDB 8.0.23起添加）：恢复线程作为LCP的一部分从片段中恢复数据。'
- en: Changing the number of recovery threads requires a node restart.
  id: totrans-1608
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更改恢复线程数量需要重新启动节点。
- en: '`tc`: Transaction coordinator thread ([`DBTC`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtc.html)
    kernel block) containing the state of an ongoing transaction. In NDB 8.0.23 and
    later, the maximum number of TC threads is 128; previously, this was 32.'
  id: totrans-1609
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tc`：事务协调器线程（[`DBTC`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtc.html)内核块），包含正在进行的事务状态。在NDB
    8.0.23及更高版本中，TC线程的最大数量为128；之前为32。'
- en: Optimally, every new transaction can be assigned to a new TC thread. In most
    cases 1 TC thread per 2 LDM threads is sufficient to guarantee that this can happen.
    In cases where the number of writes is relatively small when compared to the number
    of reads, it is possible that only 1 TC thread per 4 LQH threads is required to
    maintain transaction states. Conversely, in applications that perform a great
    many updates, it may be necessary for the ratio of TC threads to LDM threads to
    approach 1 (for example, 3 TC threads to 4 LDM threads).
  id: totrans-1610
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最佳情况下，每个新事务可以分配给一个新的TC线程。在大多数情况下，每2个LDM线程需要1个TC线程就足以保证这一点。在写入数量相对较小而读取数量较多的情况下，可能只需要每4个LQH线程1个TC线程来维护事务状态。相反，在执行大量更新的应用程序中，可能需要将TC线程与LDM线程的比率接近1（例如，4个LDM线程对应3个TC线程）。
- en: Setting `tc` to 0 causes TC handling to be done by the main thread. In most
    cases, this is effectively the same as setting it to 1.
  id: totrans-1611
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`tc`设置为0会导致主线程处理TC。在大多数情况下，这与将其设置为1效果相同。
- en: 'Range: 0-64 (*NDB 8.0.22 and earlier*: 0 - 32)'
  id: totrans-1612
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：0-64（*NDB 8.0.22及更早版本*：0-32）
- en: '`main`: Data dictionary and transaction coordinator ([`DBDIH`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbdih.html)
    and [`DBTC`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtc.html) kernel
    blocks), providing schema management. Prior to NDB 8.0.23, this was always handled
    by a single dedicated thread, beginning with NDB 8.0.23, it is also possible to
    specify zero or two main threads.'
  id: totrans-1613
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`main`：数据字典和事务协调器（[`DBDIH`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbdih.html)和[`DBTC`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbtc.html)内核块），提供模式管理。在NDB
    8.0.23之前，这总是由一个专用线程处理，从NDB 8.0.23开始，也可以指定零个或两个主线程。'
- en: 'Range:'
  id: totrans-1614
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：
- en: '*NDB 8.0.22 and earlier*: 1 only.'
  id: totrans-1615
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.22及更早版本*：仅为1。'
- en: '*NDB 8.0.23 and later*: 0-2.'
  id: totrans-1616
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*NDB 8.0.23及更高版本*：0-2。'
- en: Setting `main` to 0 and `rep` to 1 causes the `main` blocks to be placed into
    the `rep` thread; the combined thread is shown in the [`ndbinfo.threads`](mysql-cluster-ndbinfo-threads.html
    "25.6.16.62 The ndbinfo threads Table") table as `main_rep`. This is effectively
    the same as setting `rep` equal to 1 and `main` equal to 0.
  id: totrans-1617
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`main`设置为0并将`rep`设置为1会导致`main`块放置到`rep`线程中；组合线程在[`ndbinfo.threads`](mysql-cluster-ndbinfo-threads.html
    "25.6.16.62 The ndbinfo threads Table")表中显示为`main_rep`。这与将`rep`设置为1且`main`设置为0效果相同。
- en: It is also possible to set both `main` and `rep` to 0, in which case both threads
    are placed in the first `recv` thread; the resulting combined thread is named
    `main_rep_recv` in the [`threads`](mysql-cluster-ndbinfo-threads.html "25.6.16.62 The
    ndbinfo threads Table") table.
  id: totrans-1618
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 还可以将`main`和`rep`都设置为0，此时两个线程都放置在第一个`recv`线程中；生成的组合线程在[`threads`](mysql-cluster-ndbinfo-threads.html
    "25.6.16.62 The ndbinfo threads Table")表中命名为`main_rep_recv`。
- en: In NDB 8.0.30 (only), `main` must be included in the `ThreadConfig` value string.
    Beginning with NDB 8.0.31, if this is omitted, one `main` thread is created. These
    changes may affect upgrades from previous releases; see [Section 25.3.7, “Upgrading
    and Downgrading NDB Cluster”](mysql-cluster-upgrade-downgrade.html "25.3.7 Upgrading
    and Downgrading NDB Cluster"), for more information.
  id: totrans-1619
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0.30（仅限）中，`main`必须包含在`ThreadConfig`值字符串中。从NDB 8.0.31开始，如果省略了这一点，将创建一个`main`线程。这些更改可能会影响从先前版本的升级；有关更多信息，请参见[第25.3.7节，“NDB集群升级和降级”](mysql-cluster-upgrade-downgrade.html
    "25.3.7 NDB集群升级和降级")。
- en: '`recv`: Receive thread ([`CMVMI`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-cmvmi.html)
    kernel block). Each receive thread handles one or more sockets for communicating
    with other nodes in an NDB Cluster, with one socket per node. NDB Cluster supports
    multiple receive threads; the maximum is 16 such threads.'
  id: totrans-1620
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`recv`: 接收线程（[`CMVMI`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-cmvmi.html)内核块）。每个接收线程处理一个或多个用于与NDB集群中其他节点通信的套接字，每个节点一个套接字。NDB集群支持多个接收线程；最多有16个这样的线程。'
- en: 'Range:'
  id: totrans-1621
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：
- en: '*NDB 8.0.22 and earlier*: 1 - 16'
  id: totrans-1622
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.22及更早版本*: 1 - 16'
- en: '*NDB 8.0.23 and later*: 1 - 64'
  id: totrans-1623
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.23及更高版本*: 1 - 64'
- en: In NDB 8.0.30 (only), `recv` must be included in the `ThreadConfig` value string.
    Beginning with NDB 8.0.31, if this is omitted, one `recv` thread is created. These
    changes may affect upgrades from previous releases; see [Section 25.3.7, “Upgrading
    and Downgrading NDB Cluster”](mysql-cluster-upgrade-downgrade.html "25.3.7 Upgrading
    and Downgrading NDB Cluster"), for more information.
  id: totrans-1624
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0.30（仅限）中，`recv`必须包含在`ThreadConfig`值字符串中。从NDB 8.0.31开始，如果省略了这一点，将创建一个`recv`线程。这些更改可能会影响从先前版本的升级；有关更多信息，请参见[第25.3.7节，“NDB集群升级和降级”](mysql-cluster-upgrade-downgrade.html
    "25.3.7 NDB集群升级和降级")。
- en: '`send`: Send thread ([`CMVMI`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-cmvmi.html)
    kernel block). To increase throughput, it is possible to perform sends from one
    or more separate, dedicated threads (maximum 8).'
  id: totrans-1625
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`send`: 发送线程（[`CMVMI`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-cmvmi.html)内核块）。为了增加吞吐量，可以从一个或多个单独的专用线程执行发送（最多8个）。'
- en: In NDB 8.0.20 and later, due to changes in the multithreading implementation,
    using many send threads can have an adverse effect on scalability.
  id: totrans-1626
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0.20及更高版本中，由于多线程实现的更改，使用许多发送线程可能会对可伸缩性产生不利影响。
- en: Previously, all threads handled their own sending directly; this can still be
    made to happen by setting the number of send threads to 0 (this also happens when
    [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    is set less than 10). While doing so can have an adverse impact on throughput,
    it can also in some cases provide decreased latency.
  id: totrans-1627
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前，所有线程直接处理自己的发送；通过将发送线程数设置为0（当[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)设置小于10时也会发生这种情况）。虽然这样做可能对吞吐量产生不利影响，但在某些情况下也可能提供降低的延迟。
- en: 'Range:'
  id: totrans-1628
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：
- en: '*NDB 8.0.22 and earlier*: 0 - 16'
  id: totrans-1629
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.22及更早版本*: 0 - 16'
- en: '*NDB 8.0.23 and later*: 0 - 64'
  id: totrans-1630
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.23及更高版本*: 0 - 64'
- en: '`rep`: Replication thread ([`SUMA`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-suma.html)
    kernel block). Prior to NDB 8.0.23, asynchronous replication operations are always
    handled by a single, dedicated thread. Beginning with NDB 8.0.23, this thread
    can be combined with the main thread (see range information).'
  id: totrans-1631
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rep`: 复制线程（[`SUMA`](/doc/ndb-internals/en/ndb-internals-kernel-blocks-suma.html)内核块）。在NDB
    8.0.23之前，异步复制操作始终由单个专用线程处理。从NDB 8.0.23开始��此线程可以与主线程合并（请参阅范围信息）。'
- en: 'Range:'
  id: totrans-1632
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：
- en: '*NDB 8.0.22 and earlier*: 1 only.'
  id: totrans-1633
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.22及更早版本*: 仅限1。'
- en: '*NDB 8.0.23 and later*: 0-1.'
  id: totrans-1634
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*NDB 8.0.23及更高版本*: 0-1。'
- en: Setting `rep` to 0 and `main` to 1 causes the `rep` blocks to be placed into
    the `main` thread; the combined thread is shown in the [`ndbinfo.threads`](mysql-cluster-ndbinfo-threads.html
    "25.6.16.62 The ndbinfo threads Table") table as `main_rep`. This is effectively
    the same as setting `main` equal to 1 and `rep` equal to 0.
  id: totrans-1635
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`rep`设置为0，`main`设置为1会导致`rep`块放置在`main`线程中；合并线程显示在[`ndbinfo.threads`](mysql-cluster-ndbinfo-threads.html
    "25.6.16.62 ndbinfo threads表")表中为`main_rep`。这实际上与将`main`设置为1，`rep`设置为0相同。
- en: It is also possible to set both `main` and `rep` to 0, in which case both threads
    are placed in the first `recv` thread; the resulting combined thread is named
    `main_rep_recv` in the [`threads`](mysql-cluster-ndbinfo-threads.html "25.6.16.62 The
    ndbinfo threads Table") table.
  id: totrans-1636
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 还可以将`main`和`rep`都设置为0，这样两个线程都放置在第一个`recv`线程中；生成的合并线程在[`threads`](mysql-cluster-ndbinfo-threads.html
    "25.6.16.62 ndbinfo threads表")表中命名为`main_rep_recv`。
- en: In NDB 8.0.30 (only), `rep` must be included in the `ThreadConfig` value string.
    Beginning with NDB 8.0.31, if this is omitted, one `rep` thread is created. These
    changes may affect upgrades from previous releases; see [Section 25.3.7, “Upgrading
    and Downgrading NDB Cluster”](mysql-cluster-upgrade-downgrade.html "25.3.7 Upgrading
    and Downgrading NDB Cluster"), for more information.
  id: totrans-1637
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 NDB 8.0.30（仅限）中，`rep` 必须包含在 `ThreadConfig` 值字符串中。从 NDB 8.0.31 开始，如果省略了此项，则会创建一个
    `rep` 线程。这些更改可能会影响从先前版本升级；有关更多信息，请参见 [第 25.3.7 节，“NDB 集群升级和降级”](mysql-cluster-upgrade-downgrade.html
    "25.3.7 Upgrading and Downgrading NDB Cluster")。
- en: '`io`: File system and other miscellaneous operations. These are not demanding
    tasks, and are always handled as a group by a single, dedicated I/O thread.'
  id: totrans-1638
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`io`：文件系统和其他杂项操作。这些不是要求严格的任务，总是由单独的专用 I/O 线程作为一组处理。'
- en: 'Range: 1 only.'
  id: totrans-1639
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：仅限 1。
- en: '`watchdog`: Parameters settings associated with this type are actually applied
    to several threads, each having a specific use. These threads include the `SocketServer`
    thread, which receives connection setups from other nodes; the `SocketClient`
    thread, which attempts to set up connections to other nodes; and the thread watchdog
    thread that checks that threads are progressing.'
  id: totrans-1640
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`watchdog`：与此类型相关的参数设置实际上应用于几个线程，每个线程都有特定的用途。这些线程包括 `SocketServer` 线程，用于接收其他节点的连接设置；`SocketClient`
    线程，尝试建立与其他节点的连接；以及检查线程进展的线程看门狗线程。'
- en: 'Range: 1 only.'
  id: totrans-1641
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：仅限 1。
- en: '`idxbld`: Offline index build threads. Unlike the other thread types listed
    previously, which are permanent, these are temporary threads which are created
    and used only during node or system restarts, or when running [**ndb_restore**](mysql-cluster-programs-ndb-restore.html
    "25.5.23 ndb_restore — Restore an NDB Cluster Backup") [`--rebuild-indexes`](mysql-cluster-programs-ndb-restore.html#option_ndb_restore_rebuild-indexes).
    They may be bound to CPU sets which overlap with CPU sets bound to permanent thread
    types.'
  id: totrans-1642
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`idxbld`：离线索引构建线程。与之前列出的其他线程类型不同，这些是临时线程，仅在节点或系统重启时创建和使用，或在运行 [**ndb_restore**](mysql-cluster-programs-ndb-restore.html
    "25.5.23 ndb_restore — Restore an NDB Cluster Backup") [`--rebuild-indexes`](mysql-cluster-programs-ndb-restore.html#option_ndb_restore_rebuild-indexes)
    时使用。它们可能绑定到与永久线程类型绑定的 CPU 集合重叠的 CPU 集合。'
- en: '`thread_prio`, `realtime`, and `spintime` values cannot be set for offline
    index build threads. In addition, `count` is ignored for this type of thread.'
  id: totrans-1643
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`thread_prio`、`realtime` 和 `spintime` 值不能用于离线索引构建线程。此类线程中 `count` 也会被忽略。'
- en: 'If `idxbld` is not specified, the default behavior is as follows:'
  id: totrans-1644
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果未指定 `idxbld`，则默认行为如下：
- en: Offline index build threads are not bound if the I/O thread is also not bound,
    and these threads use any available cores.
  id: totrans-1645
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 I/O 线程未绑定，则离线索引构建线程也不会被绑定，并且这些线程会使用任何可用的核心。
- en: If the I/O thread is bound, then the offline index build threads are bound to
    the entire set of bound threads, due to the fact that there should be no other
    tasks for these threads to perform.
  id: totrans-1646
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 I/O 线程已绑定，则离线索引构建线程将绑定到整个绑定线程集合，因为这些线程不应该有其他任务要执行。
- en: 'Range: 0 - 1.'
  id: totrans-1647
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 范围：0 - 1。
- en: 'Changing `ThreadCOnfig` normally requires a system initial restart, but this
    requirement can be relaxed under certain circumstances:'
  id: totrans-1648
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通常更改 `ThreadConfig` 需要系统初始重启，但在某些情况下可以放宽此要求：
- en: If, following the change, the number of LDM threads remains the same as before,
    nothing more than a simple node restart (rolling restart, or *N*) is required
    to implement the change.
  id: totrans-1649
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果更改后，LDM 线程数与之前相同，则只需要简单的节点重启（滚动重启，或 *N*）即可实施更改。
- en: 'Otherwise (that is, if the number of LDM threads changes), it is still possible
    to effect the change using a node initial restart (*NI*) provided the following
    two conditions are met:'
  id: totrans-1650
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则（即，如果 LDM 线程数发生变化），仍然可以使用节点初始重启（*NI*）来实现更改，前提是满足以下两个条件：
- en: Each LDM thread handles a maximum of 8 fragments, and
  id: totrans-1651
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个 LDM 线程最多处理 8 个片段，而且
- en: The total number of table fragments is an integer multiple of the number of
    LDM threads.
  id: totrans-1652
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 表片段的总数是 LDM 线程数的整数倍。
- en: In any other case, a system initial restart is needed to change this parameter.
  id: totrans-1653
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在其他任何情况下，需要系统初始重启才能更改此参数。
- en: '`NDB` can distinguish between thread types by both of the following criteria:'
  id: totrans-1654
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`NDB` 可以通过以下两个标准区分线程类型：'
- en: Whether the thread is an execution thread. Threads of type `main`, `ldm`, `query`
    (NDB 8.0.23 and later), `recv`, `rep`, `tc`, and `send` are execution threads;
    `io`, `recover` (NDB 8.0.23 and later), `watchdog`, and `idxbld` threads are not
    considered execution threads.
  id: totrans-1655
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 线程是否为执行线程。`main`、`ldm`、`query`（NDB 8.0.23及更高版本）、`recv`、`rep`、`tc`和`send`线程是执行线程；`io`、`recover`（NDB
    8.0.23及更高版本）、`watchdog`和`idxbld`线程不被视为执行线程。
- en: Whether the allocation of threads to a given task is permanent or temporary.
    Currently all thread types except `idxbld` are considered permanent; `idxbld`
    threads are regarded as temporary threads.
  id: totrans-1656
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 给定任务的线程分配是永久的还是临时的。目前除了`idxbld`线程外，所有线程类型都被视为永久的；`idxbld`线程被视为临时线程。
- en: 'Simple examples:'
  id: totrans-1657
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 简单示例：
- en: '[PRE11]'
  id: totrans-1658
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'It is usually desirable when configuring thread usage for a data node host
    to reserve one or more number of CPUs for operating system and other tasks. Thus,
    for a host machine with 24 CPUs, you might want to use 20 CPU threads (leaving
    4 for other uses), with 8 LDM threads, 4 TC threads (half the number of LDM threads),
    3 send threads, 3 receive threads, and 1 thread each for schema management, asynchronous
    replication, and I/O operations. (This is almost the same distribution of threads
    used when [`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)
    is set equal to 20.) The following `ThreadConfig` setting performs these assignments,
    additionally binding all of these threads to specific CPUs:'
  id: totrans-1659
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在为数据节点主机配置线程使用时，通常希望为操作系统和其他任务保留一个或多个CPU。因此，对于具有24个CPU的主机机器，您可能希望使用20个CPU线程（留出4个用于其他用途），其中包括8个LDM线程，4个TC线程（与LDM线程数量相同的一半），3个发送线程，3个接收线程，以及各1个用于模式管理、异步复制和I/O操作的线程。（当[`MaxNoOfExecutionThreads`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-maxnoofexecutionthreads)设置为20时，使用的线程分配几乎相同。）以下`ThreadConfig`设置执行这些分配，并将所有这些线程绑定到特定的CPU：
- en: '[PRE12]'
  id: totrans-1660
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: It should be possible in most cases to bind the main (schema management) thread
    and the I/O thread to the same CPU, as we have done in the example just shown.
  id: totrans-1661
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在大多数情况下，应该可以将主线程（模式管理）和I/O线程绑定到同一个CPU上，就像我们刚刚展示的示例中所做的那样。
- en: The following example incorporates groups of CPUs defined using both `cpuset`
    and `cpubind`, as well as use of thread prioritization.
  id: totrans-1662
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下示例结合了使用`cpuset`和`cpubind`定义的CPU组以及线程优先级的使用。
- en: '[PRE13]'
  id: totrans-1663
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: In this case we create two LDM groups; the first uses `cpubind` and the second
    uses `cpuset`. `thread_prio` and `spintime` are set to the same values for each
    group. This means there are eight LDM threads in total. (You should ensure that
    [`NoOfFragmentLogParts`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-nooffragmentlogparts)
    is also set to 8.) The four TC threads use only two CPUs; it is possible when
    using `cpuset` to specify fewer CPUs than threads in the group. (This is not true
    for `cpubind`.) The send threads use two threads using `cpubind` to bind these
    threads to CPUs 10 and 11\. The main and rep threads can reuse these CPUs.
  id: totrans-1664
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这种情况下，我们创建了两个LDM组；第一个使用`cpubind`，第二个使用`cpuset`。每个组的`thread_prio`和`spintime`设置为相同的值。这意味着总共有8个LDM线程。（您应确保[`NoOfFragmentLogParts`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-nooffragmentlogparts)也设置为8。）四个TC线程仅使用两个CPU；使用`cpuset`时可以指定比组中线程更少的CPU。
    （对于`cpubind`不适用。）发送线程使用两个线程，使用`cpubind`将这些线程绑定到CPU 10和11。主线程和rep线程可以重复使用这些CPU。
- en: 'This example shows how `ThreadConfig` and `NoOfFragmentLogParts` might be set
    up for a 24-CPU host with hyperthreading, leaving CPUs 10, 11, 22, and 23 available
    for operating system functions and interrupts:'
  id: totrans-1665
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 本示例展示了如何为具有超线程的24-CPU主机设置`ThreadConfig`和`NoOfFragmentLogParts`，留出CPU 10、11、22和23供操作系统功能和中断使用：
- en: '[PRE14]'
  id: totrans-1666
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The next few examples include settings for `idxbld`. The first two of these
    demonstrate how a CPU set defined for `idxbld` can overlap those specified for
    other (permanent) thread types, the first using `cpuset` and the second using
    `cpubind`:'
  id: totrans-1667
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来的几个示例包括`idxbld`的设置。其中前两个示例演示了为`idxbld`定义的CPU集合如何与其他（永久）线程类型重叠，第一个使用`cpuset`，第二个使用`cpubind`：
- en: '[PRE15]'
  id: totrans-1668
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The next example specifies a CPU for the I/O thread, but not for the index
    build threads:'
  id: totrans-1669
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 下一个示例为I/O线程指定了一个CPU，但未为索引构建线程指定：
- en: '[PRE16]'
  id: totrans-1670
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Since the `ThreadConfig` setting just shown locks threads to eight cores numbered
    1 through 8, it is equivalent to the setting shown here:'
  id: totrans-1671
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于刚刚展示的`ThreadConfig`设置将线程锁定到编号为1至8的八个核心，因此等同于此处显示的设置：
- en: '[PRE17]'
  id: totrans-1672
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: In order to take advantage of the enhanced stability that the use of `ThreadConfig`
    offers, it is necessary to insure that CPUs are isolated, and that they not subject
    to interrupts, or to being scheduled for other tasks by the operating system.
    On many Linux systems, you can do this by setting `IRQBALANCE_BANNED_CPUS` in
    `/etc/sysconfig/irqbalance` to `0xFFFFF0`, and by using the `isolcpus` boot option
    in `grub.conf`. For specific information, see your operating system or platform
    documentation.
  id: totrans-1673
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了利用`ThreadConfig`提供的增强稳定性，有必要确保CPU被隔离，并且不受中断或被操作系统调度为其他任务的影响。在许多Linux系统上，您可以通过在`/etc/sysconfig/irqbalance`中设置`IRQBALANCE_BANNED_CPUS`为`0xFFFFF0`，并在`grub.conf`中使用`isolcpus`引导选项来实现这一点。有关具体信息，请参阅您的操作系统或平台文档。
- en: '**Disk Data Configuration Parameters. ** Configuration parameters affecting
    Disk Data behavior include the following:'
  id: totrans-1674
  prefs: []
  type: TYPE_NORMAL
  zh: '**磁盘数据配置参数。** 影响磁盘数据行为的配置参数包括以下内容：'
- en: '[`DiskPageBufferEntries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebufferentries)'
  id: totrans-1675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DiskPageBufferEntries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebufferentries)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1676
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | 32K pages |'
  id: totrans-1677
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 32K页 |'
- en: '| Default | 10 |'
  id: totrans-1678
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 10 |'
- en: '| Range | 1 - 1000 |'
  id: totrans-1679
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 1000 |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-1680
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.19 |'
- en: '| Type or units | bytes |'
  id: totrans-1681
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 64MB |'
  id: totrans-1682
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64MB |'
- en: '| Range | 4MB - 16TB |'
  id: totrans-1683
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 4MB - 16TB |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1684
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This is the number of page entries (page references) to allocate. It is specified
    as a number of 32K pages in [`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory).
    The default is sufficient for most cases but you may need to increase the value
    of this parameter if you encounter problems with very large transactions on Disk
    Data tables. Each page entry requires approximately 100 bytes.
  id: totrans-1685
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是要分配的页面条目（页面引用）的数量。它被指定为[`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)中的32K页数。默认值对大多数情况足够，但如果在磁盘数据表上遇到非常大的事务问题，可能需要增加此参数的值。每个页面条目大约需要100字节。
- en: '[`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)'
  id: totrans-1686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1687
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1688
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 64M |'
  id: totrans-1689
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64M |'
- en: '| Range | 4M - 1T |'
  id: totrans-1690
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 4M - 1T |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-1691
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.19 |'
- en: '| Type or units | bytes |'
  id: totrans-1692
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 64M |'
  id: totrans-1693
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 64M |'
- en: '| Range | 4M - 16T |'
  id: totrans-1694
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 4M - 16T |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1695
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。 (NDB 8.0.13) |'
- en: This determines the amount of space used for caching pages on disk, and is set
    in the `[ndbd]` or `[ndbd default]` section of the `config.ini` file.
  id: totrans-1696
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这确定了在磁盘上用于缓存页面的空间量，并在`config.ini`文件的`[ndbd]`或`[ndbd default]`部分中设置。
- en: Note
  id: totrans-1697
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: Previously, this parameter was specified as a number of 32 KB pages. In NDB
    8.0, it is specified as a number of bytes.
  id: totrans-1698
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以前，此参数被指定为32 KB页数。在NDB 8.0中，它被指定为字节数。
- en: If the value for `DiskPageBufferMemory` is set too low in conjunction with using
    more than the default number of LDM threads in [`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)
    (for example `{ldm=6...}`), problems can arise when trying to add a large (for
    example 500G) data file to a disk-based `NDB` table, wherein the process takes
    indefinitely long while occupying one of the CPU cores.
  id: totrans-1699
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果`DiskPageBufferMemory`的值设置得太低，并且与在[`ThreadConfig`](mysql-cluster-ndbd-definition.html#ndbparam-ndbmtd-threadconfig)中使用超过默认数量的LDM线程（例如`{ldm=6...}`）一起使用，当尝试向基于磁盘的`NDB`表添加一个大（例如500G）数据文件时，可能会出现问题，此过程需要无限长的时间，同时占用一个CPU核心。
- en: This is due to the fact that, as part of adding a data file to a tablespace,
    extent pages are locked into memory in an extra PGMAN worker thread, for quick
    metadata access. When adding a large file, this worker has insufficient memory
    for all of the data file metadata. In such cases, you should either increase `DiskPageBufferMemory`,
    or add smaller tablespace files. You may also need to adjust [`DiskPageBufferEntries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebufferentries).
  id: totrans-1700
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是因为，在向表空间添加数据文件的过程中，扩展页会在额外的 PGMAN 工作线程中锁定到内存中，以便快速访问元数据。当添加大文件时，此工作线程的内存不足以存储所有数据文件的元数据。在这种情况下，您应该增加
    `DiskPageBufferMemory`，或者添加较小的表空间文件。您可能还需要调整[`DiskPageBufferEntries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebufferentries)。
- en: You can query the [`ndbinfo.diskpagebuffer`](mysql-cluster-ndbinfo-diskpagebuffer.html
    "25.6.16.30 The ndbinfo diskpagebuffer Table") table to help determine whether
    the value for this parameter should be increased to minimize unnecessary disk
    seeks. See [Section 25.6.16.30, “The ndbinfo diskpagebuffer Table”](mysql-cluster-ndbinfo-diskpagebuffer.html
    "25.6.16.30 The ndbinfo diskpagebuffer Table"), for more information.
  id: totrans-1701
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以查询[`ndbinfo.diskpagebuffer`](mysql-cluster-ndbinfo-diskpagebuffer.html "25.6.16.30 ndbinfo
    diskpagebuffer 表")表，以帮助确定是否应增加此参数的值，以最小化不必要的磁盘查找。有关更多信息，请参见[第 25.6.16.30 节，“ndbinfo
    diskpagebuffer 表”](mysql-cluster-ndbinfo-diskpagebuffer.html "25.6.16.30 ndbinfo
    diskpagebuffer 表")。
- en: '[`SharedGlobalMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-sharedglobalmemory)'
  id: totrans-1702
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`SharedGlobalMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-sharedglobalmemory)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1703
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1704
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 128M |'
  id: totrans-1705
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 128M |'
- en: '| Range | 0 - 64T |'
  id: totrans-1706
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 64T |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1707
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: This parameter determines the amount of memory that is used for log buffers,
    disk operations (such as page requests and wait queues), and metadata for tablespaces,
    log file groups, `UNDO` files, and data files. The shared global memory pool also
    provides memory used for satisfying the memory requirements of the `UNDO_BUFFER_SIZE`
    option used with [`CREATE LOGFILE GROUP`](create-logfile-group.html "15.1.16 CREATE
    LOGFILE GROUP Statement") and [`ALTER LOGFILE GROUP`](alter-logfile-group.html
    "15.1.6 ALTER LOGFILE GROUP Statement") statements, including any default value
    implied for this options by the setting of the [`InitialLogFileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)
    data node configuration parameter. `SharedGlobalMemory` can be set in the `[ndbd]`
    or `[ndbd default]` section of the `config.ini` configuration file, and is measured
    in bytes.
  id: totrans-1708
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定用于日志缓冲区、磁盘操作（如页面请求和等待队列）、表空间、日志文件组、`UNDO` 文件和数据文件的元数据的内存量。共享全局内存池还提供用于满足与[`CREATE
    LOGFILE GROUP`](create-logfile-group.html "15.1.16 CREATE LOGFILE GROUP 语句")和[`ALTER
    LOGFILE GROUP`](alter-logfile-group.html "15.1.6 ALTER LOGFILE GROUP 语句")语句中使用的`UNDO_BUFFER_SIZE`选项的内存需求，包括通过设置[`InitialLogFileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)数据节点配置参数隐含的此选项的任何默认值。`SharedGlobalMemory`
    可以在 `config.ini` 配置文件的 `[ndbd]` 或 `[ndbd default]` 部分中设置，以字节为单位。
- en: The default value is `128M`.
  id: totrans-1709
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 默认值为 `128M`。
- en: '[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)'
  id: totrans-1710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1711
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | threads |'
  id: totrans-1712
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 线程 |'
- en: '| Default | 2 |'
  id: totrans-1713
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 2 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1714
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1715
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: This parameter determines the number of unbound threads used for Disk Data file
    access. Before [`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)
    was introduced, exactly one thread was spawned for each Disk Data file, which
    could lead to performance issues, particularly when using very large data files.
    With [`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool),
    you can—for example—access a single large data file using several threads working
    in parallel.
  id: totrans-1716
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数确定用于磁盘数据文件访问的未绑定线程数。在引入[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)之前，每个磁盘数据文件都会生成一个线程，这可能会导致性能问题，特别是在使用非常大的数据文件时。使用[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)，您可以例如使用多个线程并行访问单个大数据文件。
- en: This parameter applies to Disk Data I/O threads only.
  id: totrans-1717
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数仅适用于磁盘数据I/O线程。
- en: 'The optimum value for this parameter depends on your hardware and configuration,
    and includes these factors:'
  id: totrans-1718
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的最佳值取决于您的硬件和配置，包括以下因素：
- en: '**Physical distribution of Disk Data files. ** You can obtain better performance
    by placing data files, undo log files, and the data node file system on separate
    physical disks. If you do this with some or all of these sets of files, then you
    can (and should) set [`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)
    higher to enable separate threads to handle the files on each disk.'
  id: totrans-1719
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁盘数据文件的物理分布。** 通过将数据文件、撤销日志文件和数据节点文件系统放置在不同的物理磁盘上，可以获得更好的性能。如果对这些文件集中的一些或全部执行此操作，则可以（也应该）将[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)设置得更高，以便启用单独的线程来处理每个磁盘上的文件。'
- en: In NDB 8.0, you should also disable [`DiskDataUsingSameDisk`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskdatausingsamedisk)
    when using a separate disk or disks for Disk Data files; this increases the rate
    at which checkpoints of Disk Data tablespaces can be performed.
  id: totrans-1720
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在NDB 8.0中，当使用单独的磁盘或磁盘存储磁盘数据文件时，还应禁用[`DiskDataUsingSameDisk`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskdatausingsamedisk)；这将增加磁盘数据表空间检查点的执行速率。
- en: '**Disk performance and types. ** The number of threads that can be accommodated
    for Disk Data file handling is also dependent on the speed and throughput of the
    disks. Faster disks and higher throughput allow for more disk I/O threads. Our
    test results indicate that solid-state disk drives can handle many more disk I/O
    threads than conventional disks, and thus higher values for [`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool).'
  id: totrans-1721
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁盘性能和类型。** 可容纳用于处理磁盘数据文件的线程数量也取决于磁盘的速度和吞吐量。更快的磁盘和更高的吞吐量允许更多的磁盘I/O线程。我们的测试结果表明，固态硬盘驱动器可以处理比传统硬盘更多的磁盘I/O线程，因此可以使用更高的[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)值。'
- en: Decreasing [`TimeBetweenGlobalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints)
    is also recommended when using solid-state disk drives, in particular those using
    NVMe. See also [Disk Data latency parameters](mysql-cluster-ndbd-definition.html#mysql-cluster-ndbd-definition-disk-data-latency-parameters
    "Disk Data latency parameters").
  id: totrans-1722
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用固态硬盘驱动器，特别是使用NVMe的固态硬盘驱动器时，建议减少[`TimeBetweenGlobalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints)。另请参阅[磁盘数据延迟参数](mysql-cluster-ndbd-definition.html#mysql-cluster-ndbd-definition-disk-data-latency-parameters
    "磁盘数据延迟参数")。
- en: The default value for this parameter is 2.
  id: totrans-1723
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数的默认值为2。
- en: '**Disk Data file system parameters. ** The parameters in the following list
    make it possible to place NDB Cluster Disk Data files in specific directories
    without the need for using symbolic links.'
  id: totrans-1724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁盘数据文件系统参数。** 下面列表中的参数使得可以将NDB集群磁盘数据文件放置在特定目录中，而无需使用符号链接。'
- en: '[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)'
  id: totrans-1725
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1726
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | filename |'
  id: totrans-1727
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 文件名 |'
- en: '| Default | FileSystemPath |'
  id: totrans-1728
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | FileSystemPath |'
- en: '| Range | ... |'
  id: totrans-1729
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1730
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: If this parameter is specified, then NDB Cluster Disk Data data files and undo
    log files are placed in the indicated directory. This can be overridden for data
    files, undo log files, or both, by specifying values for [`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles),
    [`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles),
    or both, as explained for these parameters. It can also be overridden for data
    files by specifying a path in the `ADD DATAFILE` clause of a [`CREATE TABLESPACE`](create-tablespace.html
    "15.1.21 CREATE TABLESPACE Statement") or [`ALTER TABLESPACE`](alter-tablespace.html
    "15.1.10 ALTER TABLESPACE Statement") statement, and for undo log files by specifying
    a path in the `ADD UNDOFILE` clause of a [`CREATE LOGFILE GROUP`](create-logfile-group.html
    "15.1.16 CREATE LOGFILE GROUP Statement") or [`ALTER LOGFILE GROUP`](alter-logfile-group.html
    "15.1.6 ALTER LOGFILE GROUP Statement") statement. If [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    is not specified, then [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)
    is used.
  id: totrans-1731
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果指定了此参数，则NDB集群磁盘数据数据文件和撤销日志文件将放置在指定目录中。可以通过为[`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)和[`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)指定值来覆盖数据文件、撤销日志文件或两者，如这些参数所述。也可以通过在[`CREATE
    TABLESPACE`](create-tablespace.html "15.1.21 CREATE TABLESPACE Statement")或[`ALTER
    TABLESPACE`](alter-tablespace.html "15.1.10 ALTER TABLESPACE Statement")语句的`ADD
    DATAFILE`子句中指定路径，以及通过在[`CREATE LOGFILE GROUP`](create-logfile-group.html "15.1.16 CREATE
    LOGFILE GROUP Statement")或[`ALTER LOGFILE GROUP`](alter-logfile-group.html "15.1.6 ALTER
    LOGFILE GROUP Statement")语句的`ADD UNDOFILE`子句中指定路径来覆盖数据文件和撤销日志文件。如果未指定[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)，则使用[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)。
- en: If a [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    directory is specified for a given data node (including the case where the parameter
    is specified in the `[ndbd default]` section of the `config.ini` file), then starting
    that data node with `--initial` causes all files in the directory to be deleted.
  id: totrans-1732
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果为给定数据节点指定了[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)目录（包括在`config.ini`文件的`[ndbd
    default]`部分中指定参数的情况），那么使用`--initial`启动该数据节点将导致删除该目录中的所有文件。
- en: '[`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)'
  id: totrans-1733
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1734
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | filename |'
  id: totrans-1735
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 文件名 |'
- en: '| Default | FileSystemPathDD |'
  id: totrans-1736
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | FileSystemPathDD |'
- en: '| Range | ... |'
  id: totrans-1737
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1738
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13）|'
- en: If this parameter is specified, then NDB Cluster Disk Data data files are placed
    in the indicated directory. This overrides any value set for [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd).
    This parameter can be overridden for a given data file by specifying a path in
    the `ADD DATAFILE` clause of a [`CREATE TABLESPACE`](create-tablespace.html "15.1.21 CREATE
    TABLESPACE Statement") or [`ALTER TABLESPACE`](alter-tablespace.html "15.1.10 ALTER
    TABLESPACE Statement") statement used to create that data file. If [`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)
    is not specified, then [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    is used (or [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath),
    if [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    has also not been set).
  id: totrans-1739
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果指定了此参数，则NDB集群磁盘数据数据文件将放置在指定的目录中。这将覆盖为[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)设置的任何值。可以通过在用于创建该数据文件的[`CREATE
    TABLESPACE`](create-tablespace.html "15.1.21 CREATE TABLESPACE Statement")或[`ALTER
    TABLESPACE`](alter-tablespace.html "15.1.10 ALTER TABLESPACE Statement")语句的`ADD
    DATAFILE`子句中指定路径来覆盖给定数据文件的此参数。如果未指定[`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)，则使用[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)（或者如果也未设置[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)，则使用[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)）。
- en: If a [`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)
    directory is specified for a given data node (including the case where the parameter
    is specified in the `[ndbd default]` section of the `config.ini` file), then starting
    that data node with `--initial` causes all files in the directory to be deleted.
  id: totrans-1740
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果为给定数据节点指定了[`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)目录（包括在`config.ini`文件的`[ndbd
    default]`部分中指定参数的情况），那么使用`--initial`启动该数据节点将导致删除目录中的所有文件。
- en: '[`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)'
  id: totrans-1741
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1742
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | filename |'
  id: totrans-1743
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 文件名 |'
- en: '| Default | FileSystemPathDD |'
  id: totrans-1744
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | FileSystemPathDD |'
- en: '| Range | ... |'
  id: totrans-1745
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1746
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 Performing
    a Rolling Restart of an NDB Cluster")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: If this parameter is specified, then NDB Cluster Disk Data undo log files are
    placed in the indicated directory. This overrides any value set for [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd).
    This parameter can be overridden for a given data file by specifying a path in
    the `ADD UNDO` clause of a [`CREATE LOGFILE GROUP`](create-logfile-group.html
    "15.1.16 CREATE LOGFILE GROUP Statement") or [`ALTER LOGFILE GROUP`](alter-logfile-group.html
    "15.1.6 ALTER LOGFILE GROUP Statement") statement used to create that data file.
    If [`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)
    is not specified, then [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    is used (or [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath),
    if [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    has also not been set).
  id: totrans-1747
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果指定了此参数，则NDB集群磁盘数据撤销日志文件将放置在指定的目录中。这将覆盖为[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)设置的任何值。可以通过在用于创建该数据文件的[`CREATE
    LOGFILE GROUP`](create-logfile-group.html "15.1.16 CREATE LOGFILE GROUP Statement")或[`ALTER
    LOGFILE GROUP`](alter-logfile-group.html "15.1.6 ALTER LOGFILE GROUP Statement")语句的`ADD
    UNDO`子句中指定路径来覆盖给定数据文件的此参数。如果未指定[`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)，则使用[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)（或者如果也未设置[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)，则使用[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)）。
- en: If a [`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)
    directory is specified for a given data node (including the case where the parameter
    is specified in the `[ndbd default]` section of the `config.ini` file), then starting
    that data node with `--initial` causes all files in the directory to be deleted.
  id: totrans-1748
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果为给定数据节点指定了[`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)目录（包括在`config.ini`文件的`[ndbd
    default]`部分中指定参数的情况），那么使用`--initial`启动该数据节点将导致删除目录中的所有文件。
- en: For more information, see [Section 25.6.11.1, “NDB Cluster Disk Data Objects”](mysql-cluster-disk-data-objects.html
    "25.6.11.1 NDB Cluster Disk Data Objects").
  id: totrans-1749
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 更多信息，请参阅[第 25.6.11.1 节，“NDB 集群磁盘数据对象”](mysql-cluster-disk-data-objects.html
    "25.6.11.1 NDB Cluster Disk Data Objects")。
- en: '**Disk Data object creation parameters. ** The next two parameters enable you—when
    starting the cluster for the first time—to cause a Disk Data log file group, tablespace,
    or both, to be created without the use of SQL statements.'
  id: totrans-1750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁盘数据对象创建参数。** 接下来的两个参数使您在首次启动集群时能够无需使用 SQL 语句创建磁盘数据日志文件组、表空间或两者之一。'
- en: '[`InitialLogFileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)'
  id: totrans-1751
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`InitialLogFileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1752
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | string |'
  id: totrans-1753
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字符串 |'
- en: '| Default | [see documentation] |'
  id: totrans-1754
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [查看文档] |'
- en: '| Range | ... |'
  id: totrans-1755
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-1756
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭和重启集群。（NDB 8.0.13） |'
- en: 'This parameter can be used to specify a log file group that is created when
    performing an initial start of the cluster. [`InitialLogFileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)
    is specified as shown here:'
  id: totrans-1757
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数可用于指定在执行集群的初始启动时创建的日志文件组。[`InitialLogFileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)的指定如下：
- en: '[PRE18]'
  id: totrans-1758
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The `name` of the log file group is optional and defaults to `DEFAULT-LG`. The
    `undo_buffer_size` is also optional; if omitted, it defaults to `64M`. Each *`file-specification`*
    corresponds to an undo log file, and at least one must be specified in the *`file-specification-list`*.
    Undo log files are placed according to any values that have been set for [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath),
    [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd),
    and [`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles),
    just as if they had been created as the result of a [`CREATE LOGFILE GROUP`](create-logfile-group.html
    "15.1.16 CREATE LOGFILE GROUP Statement") or [`ALTER LOGFILE GROUP`](alter-logfile-group.html
    "15.1.6 ALTER LOGFILE GROUP Statement") statement.
  id: totrans-1759
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 日志文件组的`name`是可选的，默认为`DEFAULT-LG`。`undo_buffer_size`也是可选的；如果省略，将默认为`64M`。每个*`file-specification`*对应一个撤销日志文件，必须在*`file-specification-list`*中指定至少一个。撤销日志文件将根据已设置的[`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)、[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)和[`FileSystemPathUndoFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathundofiles)的任何值放置，就好像它们是通过[`CREATE
    LOGFILE GROUP`](create-logfile-group.html "15.1.16 CREATE LOGFILE GROUP Statement")或[`ALTER
    LOGFILE GROUP`](alter-logfile-group.html "15.1.6 ALTER LOGFILE GROUP Statement")语句创建的一样。
- en: 'Consider the following:'
  id: totrans-1760
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 考虑以下内容：
- en: '[PRE19]'
  id: totrans-1761
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'This is equivalent to the following SQL statements:'
  id: totrans-1762
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这相当于以下 SQL 语句：
- en: '[PRE20]'
  id: totrans-1763
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: This logfile group is created when the data nodes are started with `--initial`.
  id: totrans-1764
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当数据节点使用`--initial`启动时，将创建此日志文件组。
- en: Resources for the initial log file group are added to the global memory pool
    along with those indicated by the value of [`SharedGlobalMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-sharedglobalmemory).
  id: totrans-1765
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 初始日志文件组的资源将与[`SharedGlobalMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-sharedglobalmemory)的值指示的资源一起添加到全局内存池中。
- en: This parameter, if used, should always be set in the `[ndbd default]` section
    of the `config.ini` file. The behavior of an NDB Cluster when different values
    are set on different data nodes is not defined.
  id: totrans-1766
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果使用此参数，应始终在`config.ini`文件的`[ndbd default]`部分中设置。当在不同数据节点上设置不同值时，NDB 集群的行为未定义。
- en: '[`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)'
  id: totrans-1767
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1768
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | string |'
  id: totrans-1769
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字符串 |'
- en: '| Default | [see documentation] |'
  id: totrans-1770
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | [查看文档] |'
- en: '| Range | ... |'
  id: totrans-1771
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Restart Type | **System Restart:** Requires a complete shutdown and restart
    of the cluster. (NDB 8.0.13) |'
  id: totrans-1772
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **系统重启：** 需要完全关闭并重启集群。（NDB 8.0.13）'
- en: 'This parameter can be used to specify an NDB Cluster Disk Data tablespace that
    is created when performing an initial start of the cluster. [`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)
    is specified as shown here:'
  id: totrans-1773
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数可用于指定在执行集群的初始启动时创建的 NDB 集群磁盘数据表空间。[`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)
    如下所示：
- en: '[PRE21]'
  id: totrans-1774
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: The `name` of the tablespace is optional and defaults to `DEFAULT-TS`. The `extent_size`
    is also optional; it defaults to `1M`. The *`file-specification-list`* uses the
    same syntax as shown with the [`InitialLogfileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)
    parameter, the only difference being that each *`file-specification`* used with
    [`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)
    corresponds to a data file. At least one must be specified in the *`file-specification-list`*.
    Data files are placed according to any values that have been set for [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath),
    [`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd),
    and [`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles),
    just as if they had been created as the result of a [`CREATE TABLESPACE`](create-tablespace.html
    "15.1.21 CREATE TABLESPACE Statement") or [`ALTER TABLESPACE`](alter-tablespace.html
    "15.1.10 ALTER TABLESPACE Statement") statement.
  id: totrans-1775
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表空间的 `name` 是可选的，默认为 `DEFAULT-TS`。`extent_size` 也是可选的；默认为 `1M`。*`file-specification-list`*
    使用与 [`InitialLogfileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)
    参数显示的相同语法，唯一的区别是，与 [`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)
    一起使用的每个 *`file-specification`* 对应一个数据文件。*`file-specification-list`* 中必须至少指定一个。数据文件根据已设置的任何值放置在
    [`FileSystemPath`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempath)、[`FileSystemPathDD`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdd)
    和 [`FileSystemPathDataFiles`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-filesystempathdatafiles)
    的值，就像它们是由 [`CREATE TABLESPACE`](create-tablespace.html "15.1.21 CREATE TABLESPACE
    Statement") 或 [`ALTER TABLESPACE`](alter-tablespace.html "15.1.10 ALTER TABLESPACE
    Statement") 语句创建的一样。
- en: 'For example, consider the following line specifying [`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)
    in the `[ndbd default]` section of the `config.ini` file (as with [`InitialLogfileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup),
    this parameter should always be set in the `[ndbd default]` section, as the behavior
    of an NDB Cluster when different values are set on different data nodes is not
    defined):'
  id: totrans-1776
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 例如，在 `config.ini` 文件的 `[ndbd default]` 部分中指定 [`InitialTablespace`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initialtablespace)
    的以下行（与 [`InitialLogfileGroup`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-initiallogfilegroup)
    一样，此参数应始终在 `[ndbd default]` 部分中设置，因为当在不同数据节点上设置不同值时，NDB 集群的行为未定义）：
- en: '[PRE22]'
  id: totrans-1777
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'This is equivalent to the following SQL statements:'
  id: totrans-1778
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这相当于以下 SQL 语句：
- en: '[PRE23]'
  id: totrans-1779
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: This tablespace is created when the data nodes are started with `--initial`,
    and can be used whenever creating NDB Cluster Disk Data tables thereafter.
  id: totrans-1780
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当数据节点使用 `--initial` 启动时，将创建此表空间，并且以后创建 NDB 集群磁盘数据表时都可以使用。
- en: '**Disk Data latency parameters. ** The two parameters listed here can be used
    to improve handling of latency issues with NDB Cluster Disk Data tables.'
  id: totrans-1781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁盘数据延迟参数。** 这里列出的两个参数可用于改善处理 NDB 集群磁盘数据表的延迟问题。'
- en: '[`MaxDiskDataLatency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskdatalatency)'
  id: totrans-1782
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxDiskDataLatency`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxdiskdatalatency)'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-1783
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.19 |'
- en: '| Type or units | ms |'
  id: totrans-1784
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 毫秒 |'
- en: '| Default | 0 |'
  id: totrans-1785
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认 | 0 |'
- en: '| Range | 0 - 8000 |'
  id: totrans-1786
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 8000 |'
- en: '| Added | NDB 8.0.19 |'
  id: totrans-1787
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1788
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13）'
- en: This parameter controls the maximum allowed mean latency for disk access (maximum
    8000 milliseconds). When this limit is reached, `NDB` begins to abort transactions
    in order to decrease pressure on the Disk Data I/O subsystem. Use `0` to disable
    the latency check.
  id: totrans-1789
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数控制磁盘访问的最大允许平均延迟（最大 8000 毫秒）。当达到此限制时，`NDB` 开始中止事务以减少对磁盘数据 I/O 子系统的压力。使用 `0`
    来禁用延迟检查。
- en: '[`DiskDataUsingSameDisk`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskdatausingsamedisk)'
  id: totrans-1790
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`DiskDataUsingSameDisk`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskdatausingsamedisk)'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-1791
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.19 |'
- en: '| Type or units | boolean |'
  id: totrans-1792
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 布尔值 |'
- en: '| Default | true |'
  id: totrans-1793
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | true |'
- en: '| Range | ... |'
  id: totrans-1794
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | ... |'
- en: '| Added | NDB 8.0.19 |'
  id: totrans-1795
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 添加 | NDB 8.0.19 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1796
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")（NDB
    8.0.13） |'
- en: Set this parameter to `false` if your Disk Data tablespaces use one or more
    separate disks. Doing so allows checkpoints to tablespaces to be executed at a
    higher rate than normally used for when disks are shared.
  id: totrans-1797
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您的磁盘数据表空间使用一个或多个单独的磁盘，请将此参数设置为`false`。这样做可以使表空间的检查点以比共享磁盘时通常使用的更高速率执行。
- en: When `DiskDataUsingSameDisk` is `true`, `NDB` decreases the rate of Disk Data
    checkpointing whenever an in-memory checkpoint is in progress to help ensure that
    disk load remains constant.
  id: totrans-1798
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当`DiskDataUsingSameDisk`为`true`时，`NDB`会在内存检查点进行时降低磁盘数据检查点的速率，以确保磁盘负载保持恒定。
- en: '**Disk Data and GCP Stop errors. ** Errors encountered when using Disk Data
    tables such as Node *`nodeid`* killed this node because GCP stop was detected
    (error 2303) are often referred to as “GCP stop errors”. Such errors occur when
    the redo log is not flushed to disk quickly enough; this is usually due to slow
    disks and insufficient disk throughput.'
  id: totrans-1799
  prefs: []
  type: TYPE_NORMAL
  zh: '**磁盘数据和GCP停止错误。** 当使用磁盘数据表时遇到的错误，例如节点*`nodeid`*因检测到GCP停止而被终止（错误2303），通常被称为“GCP停止错误”。这种错误发生在重做日志未能及时刷新到磁盘时；这通常是由于慢速磁盘和不足的磁盘吞吐量造成的。'
- en: You can help prevent these errors from occurring by using faster disks, and
    by placing Disk Data files on a separate disk from the data node file system.
    Reducing the value of [`TimeBetweenGlobalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints)
    tends to decrease the amount of data to be written for each global checkpoint,
    and so may provide some protection against redo log buffer overflows when trying
    to write a global checkpoint; however, reducing this value also permits less time
    in which to write the GCP, so this must be done with caution.
  id: totrans-1800
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过使用更快的磁盘，并将磁盘数据文件放在与数据节点文件系统不同的磁盘上来防止这些错误发生。减少[`TimeBetweenGlobalCheckpoints`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenglobalcheckpoints)的值往往会减少每个全局检查点要写入的数据量，因此在尝试写入全局检查点时可能会提供一些保护措施；然而，减少此值也会减少写入GCP的时间，因此必须谨慎操作。
- en: 'In addition to the considerations given for [`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)
    as explained previously, it is also very important that the [`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)
    configuration parameter be set correctly; having [`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)
    set too high is very likely to cause GCP stop errors (Bug #37227).'
  id: totrans-1801
  prefs: []
  type: TYPE_NORMAL
  zh: '除了之前解释的[`DiskPageBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskpagebuffermemory)的考虑因素外，正确设置[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)配置参数也非常重要；设置[`DiskIOThreadPool`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-diskiothreadpool)过高很可能会导致GCP停止错误（Bug
    #37227）。'
- en: GCP stops can be caused by save or commit timeouts; the [`TimeBetweenEpochsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochstimeout)
    data node configuration parameter determines the timeout for commits. However,
    it is possible to disable both types of timeouts by setting this parameter to
    0.
  id: totrans-1802
  prefs: []
  type: TYPE_NORMAL
  zh: GCP停止可能是由于保存或提交超时引起的；[`TimeBetweenEpochsTimeout`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-timebetweenepochstimeout)数据节点配置参数确定提交的超时时间。然而，通过将此参数设置为0，可以禁用这两种类型的超时。
- en: '**Parameters for configuring send buffer memory allocation. ** Send buffer
    memory is allocated dynamically from a memory pool shared between all transporters,
    which means that the size of the send buffer can be adjusted as necessary. (Previously,
    the NDB kernel used a fixed-size send buffer for every node in the cluster, which
    was allocated when the node started and could not be changed while the node was
    running.) The [`TotalSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-totalsendbuffermemory)
    and [`OverLoadLimit`](mysql-cluster-tcp-definition.html#ndbparam-tcp-overloadlimit)
    data node configuration parameters permit the setting of limits on this memory
    allocation. For more information about the use of these parameters (as well as
    [`SendBufferMemory`](mysql-cluster-tcp-definition.html#ndbparam-tcp-sendbuffermemory)),
    see [Section 25.4.3.14, “Configuring NDB Cluster Send Buffer Parameters”](mysql-cluster-config-send-buffers.html
    "25.4.3.14 Configuring NDB Cluster Send Buffer Parameters").'
  id: totrans-1803
  prefs: []
  type: TYPE_NORMAL
  zh: '**用于配置发送缓冲区内存分配的参数。** 发送缓冲区内存是动态从所有传输器之间共享的内存池中分配的，这意味着发送缓冲区的大小可以根据需要进行调整。（以前，NDB内核为集群中的每个节点使用固定大小的发送缓冲区，在节点启动时分配，而在节点运行时无法更改。）[`TotalSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-totalsendbuffermemory)和[`OverLoadLimit`](mysql-cluster-tcp-definition.html#ndbparam-tcp-overloadlimit)数据节点配置参数允许设置此内存分配的限制。有关使用这些参数（以及[`SendBufferMemory`](mysql-cluster-tcp-definition.html#ndbparam-tcp-sendbuffermemory)）的更多信息，请参见[第25.4.3.14节，“配置NDB集群发送缓冲区参数”](mysql-cluster-config-send-buffers.html
    "25.4.3.14 配置NDB集群发送缓冲区参数")。'
- en: '[`ExtraSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-extrasendbuffermemory)'
  id: totrans-1804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ExtraSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-extrasendbuffermemory)'
- en: This parameter specifies the amount of transporter send buffer memory to allocate
    in addition to any set using [`TotalSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-totalsendbuffermemory),
    [`SendBufferMemory`](mysql-cluster-tcp-definition.html#ndbparam-tcp-sendbuffermemory),
    or both.
  id: totrans-1805
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数指定要分配的传输器发送缓冲区内存量，除了使用[`TotalSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-totalsendbuffermemory)、[`SendBufferMemory`](mysql-cluster-tcp-definition.html#ndbparam-tcp-sendbuffermemory)或两者设置的内存量之外。
- en: '[`TotalSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-totalsendbuffermemory)'
  id: totrans-1806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`TotalSendBufferMemory`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-totalsendbuffermemory)'
- en: This parameter is used to determine the total amount of memory to allocate on
    this node for shared send buffer memory among all configured transporters.
  id: totrans-1807
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数用于确定要在此节点上为所有配置的传输器共享的发送缓冲区内存分配的总量。
- en: If this parameter is set, its minimum permitted value is 256KB; 0 indicates
    that the parameter has not been set. For more detailed information, see [Section 25.4.3.14,
    “Configuring NDB Cluster Send Buffer Parameters”](mysql-cluster-config-send-buffers.html
    "25.4.3.14 Configuring NDB Cluster Send Buffer Parameters").
  id: totrans-1808
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果设置了此参数，则其最小允许值为256KB；0表示未设置该参数。有关更详细信息，请参见[第25.4.3.14节，“配置NDB集群发送缓冲区参数”](mysql-cluster-config-send-buffers.html
    "25.4.3.14 配置NDB集群发送缓冲区参数")。
- en: See also [Section 25.6.7, “Adding NDB Cluster Data Nodes Online”](mysql-cluster-online-add-node.html
    "25.6.7 Adding NDB Cluster Data Nodes Online").
  id: totrans-1809
  prefs: []
  type: TYPE_NORMAL
  zh: 另请参见[第25.6.7节，“在线添加NDB集群数据节点”](mysql-cluster-online-add-node.html "25.6.7 添加NDB集群数据节点在线")。
- en: '**Redo log over-commit handling. ** It is possible to control a data node''s
    handling of operations when too much time is taken flushing redo logs to disk.
    This occurs when a given redo log flush takes longer than [`RedoOverCommitLimit`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitlimit)
    seconds, more than [`RedoOverCommitCounter`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitcounter)
    times, causing any pending transactions to be aborted. When this happens, the
    API node that sent the transaction can handle the operations that should have
    been committed either by queuing the operations and re-trying them, or by aborting
    them, as determined by [`DefaultOperationRedoProblemAction`](mysql-cluster-api-definition.html#ndbparam-api-defaultoperationredoproblemaction).
    The data node configuration parameters for setting the timeout and number of times
    it may be exceeded before the API node takes this action are described in the
    following list:'
  id: totrans-1810
  prefs: []
  type: TYPE_NORMAL
  zh: '**重做日志超额处理。** 当数据节点刷新重做日志到磁盘花费的时间过长时，可以控制数据节点处理操作的方式。当给定的重做日志刷新时间超过[`RedoOverCommitLimit`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitlimit)秒，超过[`RedoOverCommitCounter`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitcounter)次时，会导致任何待处理的事务被中止。发生这种情况时，发送事务的
    API 节点可以处理应该提交的操作，通过将操作排队并重试，或者中止它们，由[`DefaultOperationRedoProblemAction`](mysql-cluster-api-definition.html#ndbparam-api-defaultoperationredoproblemaction)决定。设置超时时间和超过次数后
    API 节点采取的操作的数据节点配置参数如下所示：'
- en: '[`RedoOverCommitCounter`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitcounter)'
  id: totrans-1811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RedoOverCommitCounter`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitcounter)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1812
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | numeric |'
  id: totrans-1813
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 3 |'
  id: totrans-1814
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 3 |'
- en: '| Range | 1 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1815
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 4294967039 (0xFFFFFEFF) |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-1816
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.19 |'
- en: '| Type or units | numeric |'
  id: totrans-1817
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 数值 |'
- en: '| Default | 3 |'
  id: totrans-1818
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 3 |'
- en: '| Range | 1 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1819
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1820
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: When [`RedoOverCommitLimit`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitlimit)
    is exceeded when trying to write a given redo log to disk this many times or more,
    any transactions that were not committed as a result are aborted, and an API node
    where any of these transactions originated handles the operations making up those
    transactions according to its value for [`DefaultOperationRedoProblemAction`](mysql-cluster-api-definition.html#ndbparam-api-defaultoperationredoproblemaction)
    (by either queuing the operations to be re-tried, or aborting them).
  id: totrans-1821
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当尝试将给定的重做日志写入磁盘超过[`RedoOverCommitLimit`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitlimit)次时，未提交的任何事务都会被中止，并且任何这些事务发起的
    API 节点会根据其[`DefaultOperationRedoProblemAction`](mysql-cluster-api-definition.html#ndbparam-api-defaultoperationredoproblemaction)的值处理组成这些事务的操作（通过将操作排队以便重试，或中止它们）。
- en: '[`RedoOverCommitLimit`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitlimit)'
  id: totrans-1822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`RedoOverCommitLimit`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitlimit)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1823
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.13 |'
- en: '| Type or units | seconds |'
  id: totrans-1824
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 20 |'
  id: totrans-1825
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 20 |'
- en: '| Range | 1 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1826
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 4294967039 (0xFFFFFEFF) |'
- en: '| Version (or later) | NDB 8.0.19 |'
  id: totrans-1827
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高版本） | NDB 8.0.19 |'
- en: '| Type or units | seconds |'
  id: totrans-1828
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 20 |'
  id: totrans-1829
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 20 |'
- en: '| Range | 1 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1830
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 1 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1831
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")。（NDB 8.0.13） |'
- en: This parameter sets an upper limit in seconds for trying to write a given redo
    log to disk before timing out. The number of times the data node tries to flush
    this redo log, but takes longer than `RedoOverCommitLimit`, is kept and compared
    with [`RedoOverCommitCounter`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitcounter),
    and when flushing takes too long more times than the value of that parameter,
    any transactions that were not committed as a result of the flush timeout are
    aborted. When this occurs, the API node where any of these transactions originated
    handles the operations making up those transactions according to its [`DefaultOperationRedoProblemAction`](mysql-cluster-api-definition.html#ndbparam-api-defaultoperationredoproblemaction)
    setting (it either queues the operations to be re-tried, or aborts them).
  id: totrans-1832
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此参数设置在尝试将给定重做日志写入磁盘之前的秒数上限。数据节点尝试刷新此重做日志的次数，但超过`RedoOverCommitLimit`，并与[`RedoOverCommitCounter`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-redoovercommitcounter)进行比较，当刷新花费的时间比该参数的值多次时，由于刷新超时而未提交的任何事务都将被中止。发生这种情况时，任何这些事务发起的API节点根据其[`DefaultOperationRedoProblemAction`](mysql-cluster-api-definition.html#ndbparam-api-defaultoperationredoproblemaction)设置处理组成这些事务的操作（它要么将操作排队以进行重试，要么中止它们）。
- en: '**Controlling restart attempts. ** It is possible to exercise finely-grained
    control over restart attempts by data nodes when they fail to start using the
    [`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)
    and [`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)
    data node configuration parameters.'
  id: totrans-1833
  prefs: []
  type: TYPE_NORMAL
  zh: '**控制重启尝试。** 通过数据节点配置参数[`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)和[`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)，可以对数据节点在启动失败时的重启尝试进行精细控制。'
- en: '[`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)
    limits the total number of retries made before giving up on starting the data
    node, [`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)
    sets the number of seconds between retry attempts. These parameters are listed
    here:'
  id: totrans-1834
  prefs: []
  type: TYPE_NORMAL
  zh: '[`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)限制在放弃启动数据节点之前所做的总重试次数，[`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)设置重试尝试之间的秒数。这些参数在此处列出：'
- en: '[`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)'
  id: totrans-1835
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1836
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-1837
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 0 |'
  id: totrans-1838
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1839
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1840
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: Use this parameter to set the number of seconds between restart attempts by
    the data node in the event on failure on startup. The default is 0 (no delay).
  id: totrans-1841
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用此参数设置数据节点在启动失败时的重启尝试之间的秒数。默认值为0（无延迟）。
- en: Both this parameter and [`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)
    are ignored unless [`StopOnError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stoponerror)
    is equal to 0.
  id: totrans-1842
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 除非[`StopOnError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stoponerror)等于0，否则此参数和[`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)都会被忽略。
- en: '[`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)'
  id: totrans-1843
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`MaxStartFailRetries`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-maxstartfailretries)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1844
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | unsigned |'
  id: totrans-1845
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 无符号 |'
- en: '| Default | 3 |'
  id: totrans-1846
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 3 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1847
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1848
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行NDB集群的滚动重启")。
    (NDB 8.0.13) |'
- en: Use this parameter to limit the number restart attempts made by the data node
    in the event that it fails on startup. The default is 3 attempts.
  id: totrans-1849
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用此参数限制数据节点在启动失败时的重启尝试次数。默认值为3次。
- en: Both this parameter and [`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)
    are ignored unless [`StopOnError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stoponerror)
    is equal to 0.
  id: totrans-1850
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 除非[`StopOnError`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-stoponerror)等于0，否则此参数和[`StartFailRetryDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-startfailretrydelay)都会被忽略。
- en: '**NDB index statistics parameters. ** The parameters in the following list
    relate to NDB index statistics generation.'
  id: totrans-1851
  prefs: []
  type: TYPE_NORMAL
  zh: '**NDB索引统计参数。** 以下列表中的参数与NDB索引统计生成相关。'
- en: '[`IndexStatAutoCreate`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatautocreate)'
  id: totrans-1852
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatAutoCreate`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatautocreate)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1853
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1854
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1855
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0, 1 |'
  id: totrans-1856
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0, 1 |'
- en: '| Version (or later) | NDB 8.0.27 |'
  id: totrans-1857
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.27 |'
- en: '| Type or units | integer |'
  id: totrans-1858
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 1 |'
  id: totrans-1859
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1 |'
- en: '| Range | 0, 1 |'
  id: totrans-1860
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0, 1 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1861
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重启")；（NDB 8.0.13） |'
- en: Enable (set equal to 1) or disable (set equal to 0) automatic statistics collection
    when indexes are created.
  id: totrans-1862
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用（设置为1）或禁用（设置为0）在创建索引时自动收集统计信息。
- en: '[`IndexStatAutoUpdate`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatautoupdate)'
  id: totrans-1863
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatAutoUpdate`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatautoupdate)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1864
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | integer |'
  id: totrans-1865
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 0 |'
  id: totrans-1866
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 0 |'
- en: '| Range | 0, 1 |'
  id: totrans-1867
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0, 1 |'
- en: '| Version (or later) | NDB 8.0.27 |'
  id: totrans-1868
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.27 |'
- en: '| Type or units | integer |'
  id: totrans-1869
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 整数 |'
- en: '| Default | 1 |'
  id: totrans-1870
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 1 |'
- en: '| Range | 0, 1 |'
  id: totrans-1871
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0, 1 |'
- en: '| Restart Type | **Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster. (NDB
    8.0.13) |'
  id: totrans-1872
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重启")；（NDB 8.0.13） |'
- en: Enable (set equal to 1) or disable (set equal to 0) monitoring of indexes for
    changes, and trigger automatic statistics updates when these are detected. The
    degree of change needed to trigger the updates are determined by the settings
    for the [`IndexStatTriggerPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerpct)
    and [`IndexStatTriggerScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerscale)
    options.
  id: totrans-1873
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 启用（设置为1）或禁用（设置为0）对索引进行更改的监视，并在检测到更改时触发自动统计更新。触发更新所需的更改程度由[`IndexStatTriggerPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerpct)和[`IndexStatTriggerScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerscale)选项的设置确定。
- en: '[`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)'
  id: totrans-1874
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1875
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | bytes |'
  id: totrans-1876
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 字节 |'
- en: '| Default | 32768 |'
  id: totrans-1877
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 32768 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1878
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1879
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 需要对集群进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5
    执行NDB集群的滚动重启")；每个数据节点都必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: Maximum space in bytes allowed for the saved statistics of any given index in
    the [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB Cluster 8.0") system tables
    and in the [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") memory
    cache.
  id: totrans-1880
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 允许在[`NDB`](mysql-cluster.html "第25章 MySQL NDB Cluster 8.0")系统表和[**mysqld**](mysqld.html
    "6.3.1 mysqld — MySQL服务器")内存缓存中保存的任何给定索引的统计信息的最大空间（以字节为单位）。
- en: At least one sample is always produced, regardless of any size limit. This size
    is scaled by [`IndexStatSaveScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavescale).
  id: totrans-1881
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 无论任何大小限制，始终会生成至少一个样本。此大小由[`IndexStatSaveScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavescale)进行缩放。
- en: The size specified by [`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)
    is scaled by the value of `IndexStatTriggerPct` for a large index, times 0.01\.
    This is further multiplied by the logarithm to the base 2 of the index size. Setting
    `IndexStatTriggerPct` equal to 0 disables the scaling effect.
  id: totrans-1882
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由[`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)指定的大小按照大索引的`IndexStatTriggerPct`值进行缩放，乘以0.01。这进一步乘以索引大小的以2为底的对数。将`IndexStatTriggerPct`设置为0会禁用缩放效果。
- en: '[`IndexStatSaveScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavescale)'
  id: totrans-1883
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatSaveScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavescale)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1884
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | percentage |'
  id: totrans-1885
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 百分比 |'
- en: '| Default | 100 |'
  id: totrans-1886
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 100 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1887
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1888
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：**需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: The size specified by [`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)
    is scaled by the value of `IndexStatTriggerPct` for a large index, times 0.01\.
    This is further multiplied by the logarithm to the base 2 of the index size. Setting
    `IndexStatTriggerPct` equal to 0 disables the scaling effect.
  id: totrans-1889
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由[`IndexStatSaveSize`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatsavesize)指定的大小按照大索引的`IndexStatTriggerPct`值进行缩放，乘以0.01。这进一步乘以索引大小的以2为底的对数。将`IndexStatTriggerPct`设置为0会禁用缩放效果。
- en: '[`IndexStatTriggerPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerpct)'
  id: totrans-1890
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatTriggerPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerpct)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1891
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | percentage |'
  id: totrans-1892
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 百分比 |'
- en: '| Default | 100 |'
  id: totrans-1893
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 100 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1894
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1895
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：**需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: Percentage change in updates that triggers an index statistics update. The value
    is scaled by [`IndexStatTriggerScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerscale).
    You can disable this trigger altogether by setting `IndexStatTriggerPct` to 0.
  id: totrans-1896
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 触发索引统计更新的更新百分比变化。该值由[`IndexStatTriggerScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerscale)进行缩放。您可以通过将`IndexStatTriggerPct`设置为0来完全禁用此触发器。
- en: '[`IndexStatTriggerScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerscale)'
  id: totrans-1897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatTriggerScale`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerscale)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1898
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | percentage |'
  id: totrans-1899
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 百分比 |'
- en: '| Default | 100 |'
  id: totrans-1900
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 100 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1901
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1902
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：**需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")；每个数据节点必须使用[`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)重新启动。（NDB
    8.0.13） |'
- en: Scale [`IndexStatTriggerPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerpct)
    by this amount times 0.01 for a large index. A value of 0 disables scaling.
  id: totrans-1903
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将[`IndexStatTriggerPct`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstattriggerpct)按照此数值乘以0.01进行大索引的缩放。值为0会禁用缩放。
- en: '[`IndexStatUpdateDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatupdatedelay)'
  id: totrans-1904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`IndexStatUpdateDelay`](mysql-cluster-ndbd-definition.html#ndbparam-ndbd-indexstatupdatedelay)'
- en: '| Version (or later) | NDB 8.0.13 |'
  id: totrans-1905
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 版本（或更高） | NDB 8.0.13 |'
- en: '| Type or units | seconds |'
  id: totrans-1906
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型或单位 | 秒 |'
- en: '| Default | 60 |'
  id: totrans-1907
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | 60 |'
- en: '| Range | 0 - 4294967039 (0xFFFFFEFF) |'
  id: totrans-1908
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 0 - 4294967039 (0xFFFFFEFF) |'
- en: '| Restart Type | **Initial Node Restart:** Requires a [rolling restart](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster") of the cluster; each
    data node must be restarted with [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial).
    (NDB 8.0.13) |'
  id: totrans-1909
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 重启类型 | **初始节点重启：** 集群需要进行[滚动重启](mysql-cluster-rolling-restart.html "25.6.5 执行
    NDB 集群的滚动重启")；每个数据节点都必须使用 [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)
    重新启动。（NDB 8.0.13） |'
- en: Minimum delay in seconds between automatic index statistics updates for a given
    index. Setting this variable to 0 disables any delay. The default is 60 seconds.
  id: totrans-1910
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于给定索引自动索引统计更新之间的最小延迟（以秒为单位）。将此变量设置为 0 可以禁用任何延迟。默认值为 60 秒。
- en: '**Restart types. ** Information about the restart types used by the parameter
    descriptions in this section is shown in the following table:'
  id: totrans-1911
  prefs: []
  type: TYPE_NORMAL
  zh: '**重启类型。** 本节中参数描述中使用的重启类型的信息如下表所示：'
- en: '**Table 25.16 NDB Cluster restart types**'
  id: totrans-1912
  prefs: []
  type: TYPE_NORMAL
  zh: '**表 25.16 NDB 集群重启类型**'
- en: '| Symbol | Restart Type | Description |'
  id: totrans-1913
  prefs: []
  type: TYPE_TB
  zh: '| 符号 | 重启类型 | 描述 |'
- en: '| N | Node | The parameter can be updated using a rolling restart (see [Section 25.6.5,
    “Performing a Rolling Restart of an NDB Cluster”](mysql-cluster-rolling-restart.html
    "25.6.5 Performing a Rolling Restart of an NDB Cluster")) |'
  id: totrans-1914
  prefs: []
  type: TYPE_TB
  zh: '| N | 节点 | 可以使用滚动重启（参见[第 25.6.5 节，“执行 NDB 集群的滚动重启”](mysql-cluster-rolling-restart.html
    "25.6.5 执行 NDB 集群的滚动重启")）更新参数 |'
- en: '| S | System | All cluster nodes must be shut down completely, then restarted,
    to effect a change in this parameter |'
  id: totrans-1915
  prefs: []
  type: TYPE_TB
  zh: '| S | 系统 | 所有集群节点必须完全关闭，然后重新启动，以实现对该参数的更改 |'
- en: '| I | Initial | Data nodes must be restarted using the [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)
    option |'
  id: totrans-1916
  prefs: []
  type: TYPE_TB
  zh: '| I | 初始 | 数据节点必须使用 [`--initial`](mysql-cluster-programs-ndbd.html#option_ndbd_initial)
    选项重新启动 |'
