- en: 1.5 How to Report Bugs or Problems
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.5 如何报告错误或问题
- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/bug-reports.html](https://dev.mysql.com/doc/refman/8.0/en/bug-reports.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/bug-reports.html](https://dev.mysql.com/doc/refman/8.0/en/bug-reports.html)
- en: 'Before posting a bug report about a problem, please try to verify that it is
    a bug and that it has not been reported already:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在报告关于问题的错误之前，请尝试验证它是否是一个错误，并且尚未被报告过：
- en: Start by searching the MySQL online manual at [https://dev.mysql.com/doc/](/doc/).
    We try to keep the manual up to date by updating it frequently with solutions
    to newly found problems. In addition, the release notes accompanying the manual
    can be particularly useful since it is quite possible that a newer version contains
    a solution to your problem. The release notes are available at the location just
    given for the manual.
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先在[https://dev.mysql.com/doc/](/doc/)上搜索MySQL在线手册。我们会经常更新手册，以解决新发现的问题。此外，手册附带的发布说明可能特别有用，因为很可能新版本包含了解决你问题的方法。发布说明可以在手册给出的位置找到。
- en: If you get a parse error for an SQL statement, please check your syntax closely.
    If you cannot find something wrong with it, it is extremely likely that your current
    version of MySQL Server doesn't support the syntax you are using. If you are using
    the current version and the manual doesn't cover the syntax that you are using,
    MySQL Server doesn't support your statement.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果对SQL语句出现解析错误，请仔细检查语法。如果你找不到任何问题，那么极有可能是你当前的MySQL服务器版本不支持你正在使用的语法。如果你正在使用当前版本且手册没有涵盖你正在使用的语法，那么MySQL服务器不支持你的语句。
- en: If the manual covers the syntax you are using, but you have an older version
    of MySQL Server, you should check the MySQL change history to see when the syntax
    was implemented. In this case, you have the option of upgrading to a newer version
    of MySQL Server.
  id: totrans-5
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果手册涵盖了你正在使用的语法，但你使用的是旧版本的MySQL服务器，你应该查看MySQL更改历史，看看语法是何时实现的。在这种情况下，你可以选择升级到较新版本的MySQL服务器。
- en: For solutions to some common problems, see [Section B.3, “Problems and Common
    Errors”](problems.html "B.3 Problems and Common Errors").
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于一些常见问题的解决方案，请参见[Section B.3, “Problems and Common Errors”](problems.html "B.3 Problems
    and Common Errors")。
- en: Search the bugs database at [http://bugs.mysql.com/](http://bugs.mysql.com/)
    to see whether the bug has been reported and fixed.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[http://bugs.mysql.com/](http://bugs.mysql.com/)的错误数据库中搜索，看看该错误是否已被报告并修复。
- en: You can also use [http://www.mysql.com/search/](http://www.mysql.com/search/)
    to search all the Web pages (including the manual) that are located at the MySQL
    website.
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你也可以使用[http://www.mysql.com/search/](http://www.mysql.com/search/)来搜索位于MySQL网站上的所有网页（包括手册）。
- en: If you cannot find an answer in the manual, the bugs database, or the mailing
    list archives, check with your local MySQL expert. If you still cannot find an
    answer to your question, please use the following guidelines for reporting the
    bug.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在手册、错误数据库或邮件列表存档中找不到答案，请咨询你当地的MySQL专家。如果你仍然找不到问题的答案，请使用以下报告错误的准则。
- en: The normal way to report bugs is to visit [http://bugs.mysql.com/](http://bugs.mysql.com/),
    which is the address for our bugs database. This database is public and can be
    browsed and searched by anyone. If you log in to the system, you can enter new
    reports.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 报告错误的常规方式是访问[http://bugs.mysql.com/](http://bugs.mysql.com/)，这是我们错误数据库的地址。这个数据库是公开的，任何人都可以浏览和搜索。如果你登录系统，你可以输入新的报告。
- en: Bugs posted in the bugs database at [http://bugs.mysql.com/](http://bugs.mysql.com/)
    that are corrected for a given release are noted in the release notes.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在[http://bugs.mysql.com/](http://bugs.mysql.com/)的错误数据库中，对于给定版本已经修正的错误会在发布说明中有所记录。
- en: 'If you find a security bug in MySQL Server, please let us know immediately
    by sending an email message to `<[secalert_us@oracle.com](mailto:secalert_us@oracle.com)>`.
    Exception: Support customers should report all problems, including security bugs,
    to Oracle Support at [http://support.oracle.com/](http://support.oracle.com/).'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你发现MySQL服务器中的安全漏洞，请立即通过电子邮件发送消息至`<[secalert_us@oracle.com](mailto:secalert_us@oracle.com)>`告知我们。例外：支持客户应将所有问题（包括安全漏洞）报告给Oracle支持团队，网址为[http://support.oracle.com/](http://support.oracle.com/)。
- en: To discuss problems with other users, you can use the [MySQL Community Slack](https://mysqlcommunity.slack.com/).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 要与其他用户讨论问题，你可以使用[MySQL社区Slack](https://mysqlcommunity.slack.com/)。
- en: Writing a good bug report takes patience, but doing it right the first time
    saves time both for us and for yourself. A good bug report, containing a full
    test case for the bug, makes it very likely that we will fix the bug in the next
    release. This section helps you write your report correctly so that you do not
    waste your time doing things that may not help us much or at all. Please read
    this section carefully and make sure that all the information described here is
    included in your report.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 撰写一个好的错误报告需要耐心，但第一次就做对可以为我们和您节省时间。一个好的错误报告，包含了错误的完整测试用例，使我们很有可能在下一个版本中修复错误。本节帮助您正确撰写报告，以便您不会浪费时间做一些可能对我们没有太大帮助或根本没有帮助的事情。请仔细阅读本节，并确保您的报告中包含了这里描述的所有信息。
- en: Preferably, you should test the problem using the latest production or development
    version of MySQL Server before posting. Anyone should be able to repeat the bug
    by just using `mysql test < script_file` on your test case or by running the shell
    or Perl script that you include in the bug report. Any bug that we are able to
    repeat has a high chance of being fixed in the next MySQL release.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 最好在发布之前使用最新的生产或开发版本的MySQL服务器测试问题。任何人都应该能够通过在您的测试用例上使用`mysql test < script_file`或运行您在错误报告中包含的shell或Perl脚本来重现错误。我们能够重复的任何错误都有很高的机会在下一个MySQL版本中修复。
- en: It is most helpful when a good description of the problem is included in the
    bug report. That is, give a good example of everything you did that led to the
    problem and describe, in exact detail, the problem itself. The best reports are
    those that include a full example showing how to reproduce the bug or problem.
    See [Section 7.9, “Debugging MySQL”](debugging-mysql.html "7.9 Debugging MySQL").
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 当错误报告中包含问题的良好描述时，这是最有帮助的。也就是说，给出导致问题的所有操作的良好示例，并详细描述问题本身。最好的报告是那些包含了展示如何重现错误或问题的完整示例的报告。请参阅[第7.9节，“调试MySQL”](debugging-mysql.html
    "7.9 调试MySQL")。
- en: Remember that it is possible for us to respond to a report containing too much
    information, but not to one containing too little. People often omit facts because
    they think they know the cause of a problem and assume that some details do not
    matter. A good principle to follow is that if you are in doubt about stating something,
    state it. It is faster and less troublesome to write a couple more lines in your
    report than to wait longer for the answer if we must ask you to provide information
    that was missing from the initial report.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，我们可以回应包含太多信息的报告，但无法回应包含太少信息的报告。人们经常省略事实，因为他们认为他们知道问题的原因，并假设一些细节并不重要。一个好的原则是，如果您对陈述某事感到犹豫，请陈述。在您的报告中写几行比等待更长时间以便我们要求您提供初始报告中缺少的信息更快且不麻烦。
- en: The most common errors made in bug reports are (a) not including the version
    number of the MySQL distribution that you use, and (b) not fully describing the
    platform on which the MySQL server is installed (including the platform type and
    version number). These are highly relevant pieces of information, and in 99 cases
    out of 100, the bug report is useless without them. Very often we get questions
    like, “Why doesn't this work for me?” Then we find that the feature requested
    wasn't implemented in that MySQL version, or that a bug described in a report
    has been fixed in newer MySQL versions. Errors often are platform-dependent. In
    such cases, it is next to impossible for us to fix anything without knowing the
    operating system and the version number of the platform.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在错误报告中最常见的错误是(a)没有包括您使用的MySQL发行版的版本号，以及(b)没有完全描述MySQL服务器安装在哪个平台上（包括平台类型和版本号）。这些是非常相关的信息，在100次中有99次，没有这些信息的错误报告是没有用的。我们经常收到类似的问题，“为什么这对我不起作用？”然后我们发现所请求的功能没有在那个MySQL版本中实现，或者报告中描述的错误已经在更新的MySQL版本中修复。错误通常是与平台相关的。在这种情况下，如果不知道操作系统和平台版本号，我们几乎不可能修复任何问题。
- en: If you compiled MySQL from source, remember also to provide information about
    your compiler if it is related to the problem. Often people find bugs in compilers
    and think the problem is MySQL-related. Most compilers are under development all
    the time and become better version by version. To determine whether your problem
    depends on your compiler, we need to know what compiler you used. Note that every
    compiling problem should be regarded as a bug and reported accordingly.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你从源代码编译 MySQL，请记得提供与问题相关的编译器信息。通常人们会在编译器中发现错误，并认为问题与 MySQL 相关。大多数编译器一直在不断发展，版本逐渐变得更好。为了确定你的问题是否取决于编译器，我们需要知道你使用的编译器是什么。请注意，每个编译问题都应视为错误并相应报告。
- en: If a program produces an error message, it is very important to include the
    message in your report. If we try to search for something from the archives, it
    is better that the error message reported exactly matches the one that the program
    produces. (Even the lettercase should be observed.) It is best to copy and paste
    the entire error message into your report. You should never try to reproduce the
    message from memory.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 如果程序产生了错误消息，将消息包含在报告中非常重要。如果我们尝试从存档中搜索某些内容，最好是错误消息与程序产生的消息完全匹配。 （甚至要注意大小写。）最好将整个错误消息复制粘贴到报告中。永远不要试图从记忆中重现消息。
- en: If you have a problem with Connector/ODBC (MyODBC), please try to generate a
    trace file and send it with your report. See [How to Report Connector/ODBC Problems
    or Bugs](/doc/connector-odbc/en/connector-odbc-support-bug-report.html).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在使用 Connector/ODBC（MyODBC）时遇到问题，请尝试生成一个跟踪文件并将其与报告一起发送。请参阅 [如何报告 Connector/ODBC
    问题或错误](/doc/connector-odbc/en/connector-odbc-support-bug-report.html)。
- en: If your report includes long query output lines from test cases that you run
    with the [**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")
    command-line tool, you can make the output more readable by using the [`--vertical`](mysql-command-options.html#option_mysql_vertical)
    option or the `\G` statement terminator. The [`EXPLAIN SELECT`](explain.html "15.8.2 EXPLAIN
    Statement") example later in this section demonstrates the use of `\G`.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的报告包含使用 [**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")
    命令行工具运行的测试用例的长查询输出行，你可以通过使用 [`--vertical`](mysql-command-options.html#option_mysql_vertical)
    选项或 `\G` 语句终止符使输出更易读。本节后面的 [`EXPLAIN SELECT`](explain.html "15.8.2 EXPLAIN Statement")
    示例演示了 `\G` 的使用。
- en: 'Please include the following information in your report:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 请在你的报告中包含以下信息：
- en: The version number of the MySQL distribution you are using (for example, MySQL
    5.7.10). You can find out which version you are running by executing [**mysqladmin
    version**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server Administration Program").
    The [**mysqladmin**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server Administration
    Program") program can be found in the `bin` directory under your MySQL installation
    directory.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你正在使用的 MySQL 发行版的版本号（例如，MySQL 5.7.10）。你可以通过执行 [**mysqladmin version**](mysqladmin.html
    "6.5.2 mysqladmin — A MySQL Server Administration Program") 来查看你正在运行的版本。[**mysqladmin**](mysqladmin.html
    "6.5.2 mysqladmin — A MySQL Server Administration Program") 程序可以在你的 MySQL 安装目录下的
    `bin` 目录中找到。
- en: The manufacturer and model of the machine on which you experience the problem.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你遇到问题的计算机的制造商和型号。
- en: The operating system name and version. If you work with Windows, you can usually
    get the name and version number by double-clicking your My Computer icon and pulling
    down the “Help/About Windows” menu. For most Unix-like operating systems, you
    can get this information by executing the command `uname -a`.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作系统的名称和版本。如果你使用 Windows，通常可以通过双击“我的电脑”图标并下拉“帮助/关于 Windows”菜单来获取名称和版本号。对于大多数类
    Unix 操作系统，你可以通过执行命令 `uname -a` 来获取这些信息。
- en: Sometimes the amount of memory (real and virtual) is relevant. If in doubt,
    include these values.
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有时内存（实际和虚拟）的数量是相关的。如果有疑问，请包含这些值。
- en: The contents of the `docs/INFO_BIN` file from your MySQL installation. This
    file contains information about how MySQL was configured and compiled.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`docs/INFO_BIN` 文件的内容来自于你的 MySQL 安装。这个文件包含了关于 MySQL 配置和编译的信息。'
- en: If you are using a source distribution of the MySQL software, include the name
    and version number of the compiler that you used. If you have a binary distribution,
    include the distribution name.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你使用 MySQL 软件的源代码发行版，请包含你使用的编译器的名称和版本号。如果你有一个二进制发行版，请包含发行版名称。
- en: If the problem occurs during compilation, include the exact error messages and
    also a few lines of context around the offending code in the file where the error
    occurs.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果问题发生在编译过程中，请包含确切的错误消息，以及出错代码周围的几行上下文，这些代码位于发生错误的文件中。
- en: If [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") died, you should
    also report the statement that caused [**mysqld**](mysqld.html "6.3.1 mysqld —
    The MySQL Server") to unexpectedly exit. You can usually get this information
    by running [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") with query
    logging enabled, and then looking in the log after [**mysqld**](mysqld.html "6.3.1 mysqld
    — The MySQL Server") exits. See [Section 7.9, “Debugging MySQL”](debugging-mysql.html
    "7.9 Debugging MySQL").
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果[**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server")崩溃，您还应报告导致[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server")意外退出的语句。通常可以通过启用查询日志运行[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server")，然后在[**mysqld**](mysqld.html "6.3.1 mysqld —
    The MySQL Server")退出后查看日志来获取此信息。请参阅[第7.9节“调试MySQL”](debugging-mysql.html "7.9 Debugging
    MySQL")。
- en: If a database table is related to the problem, include the output from the `SHOW
    CREATE TABLE *`db_name`*.*`tbl_name`*` statement in the bug report. This is a
    very easy way to get the definition of any table in a database. The information
    helps us create a situation matching the one that you have experienced.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果数据库表与问题有关，请在错误报告中包含`SHOW CREATE TABLE *`db_name`*.*`tbl_name`*`语句的输出。这是获取数据库中任何表定义的非常简单的方法。这些信息有助于我们创建与您经历的情况相匹配的情况。
- en: 'The SQL mode in effect when the problem occurred can be significant, so please
    report the value of the [`sql_mode`](server-system-variables.html#sysvar_sql_mode)
    system variable. For stored procedure, stored function, and trigger objects, the
    relevant [`sql_mode`](server-system-variables.html#sysvar_sql_mode) value is the
    one in effect when the object was created. For a stored procedure or function,
    the [`SHOW CREATE PROCEDURE`](show-create-procedure.html "15.7.7.9 SHOW CREATE
    PROCEDURE Statement") or [`SHOW CREATE FUNCTION`](show-create-function.html "15.7.7.8 SHOW
    CREATE FUNCTION Statement") statement shows the relevant SQL mode, or you can
    query `INFORMATION_SCHEMA` for the information:'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发生问题时的SQL模式可能很重要，请报告[`sql_mode`](server-system-variables.html#sysvar_sql_mode)系统变量的值。对于存储过程、存储函数和触发器对象，相关的[`sql_mode`](server-system-variables.html#sysvar_sql_mode)值是创建对象时有效的值。对于存储过程或函数，[`SHOW
    CREATE PROCEDURE`](show-create-procedure.html "15.7.7.9 SHOW CREATE PROCEDURE
    Statement")或[`SHOW CREATE FUNCTION`](show-create-function.html "15.7.7.8 SHOW
    CREATE FUNCTION Statement")语句显示相关的SQL模式，或者您可以查询`INFORMATION_SCHEMA`获取信息：
- en: '[PRE0]'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'For triggers, you can use this statement:'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于触发器，您可以使用以下语句：
- en: '[PRE1]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: For performance-related bugs or problems with [`SELECT`](select.html "15.2.13 SELECT
    Statement") statements, you should always include the output of `EXPLAIN SELECT
    ...`, and at least the number of rows that the [`SELECT`](select.html "15.2.13 SELECT
    Statement") statement produces. You should also include the output from `SHOW
    CREATE TABLE *`tbl_name`*` for each table that is involved. The more information
    you provide about your situation, the more likely it is that someone can help
    you.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于与性能相关的错误或[`SELECT`](select.html "15.2.13 SELECT Statement")语句的问题，您应该始终包含`EXPLAIN
    SELECT ...`的输出，以及[`SELECT`](select.html "15.2.13 SELECT Statement")语句产生的行数。您还应该包含每个涉及的表的`SHOW
    CREATE TABLE *`tbl_name`*`的输出。您提供的关于您情况的信息越多，别人就越有可能帮助您。
- en: The following is an example of a very good bug report. The statements are run
    using the [**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")
    command-line tool. Note the use of the `\G` statement terminator for statements
    that would otherwise provide very long output lines that are difficult to read.
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下是一个非常好的错误报告示例。这些语句是使用[**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line
    Client")命令行工具运行的。请注意对于本来会提供非常长的输出行且难以阅读的语句，使用`\G`语句终止符。
- en: '[PRE2]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: If a bug or problem occurs while running [**mysqld**](mysqld.html "6.3.1 mysqld
    — The MySQL Server"), try to provide an input script that reproduces the anomaly.
    This script should include any necessary source files. The more closely the script
    can reproduce your situation, the better. If you can make a reproducible test
    case, you should upload it to be attached to the bug report.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果在运行[**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server")时出现错误或问题，请尝试提供一个可重现异常的输入脚本。此脚本应包括任何必要的源文件。脚本能够更紧密地重现您的情况，效果就会更好。如果您能制作一个可重现的测试用例，应将其上传以附加到错误报告。
- en: If you cannot provide a script, you should at least include the output from
    [**mysqladmin variables extended-status processlist**](mysqladmin.html "6.5.2 mysqladmin
    — A MySQL Server Administration Program") in your report to provide some information
    on how your system is performing.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您无法提供脚本，至少应在报告中包含[**mysqladmin variables extended-status processlist**](mysqladmin.html
    "6.5.2 mysqladmin — A MySQL Server Administration Program")的输出，以提供有关系统性能的一些信息。
- en: If you cannot produce a test case with only a few rows, or if the test table
    is too big to be included in the bug report (more than 10 rows), you should dump
    your tables using [**mysqldump**](mysqldump.html "6.5.4 mysqldump — A Database
    Backup Program") and create a `README` file that describes your problem. Create
    a compressed archive of your files using **tar** and **gzip** or **zip**. After
    you initiate a bug report for our bugs database at [http://bugs.mysql.com/](http://bugs.mysql.com/),
    click the Files tab in the bug report for instructions on uploading the archive
    to the bugs database.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您无法仅使用少量行生成测试用例，或者测试表太大而无法包含在错误报告中（超过10行），则应使用[**mysqldump**](mysqldump.html
    "6.5.4 mysqldump — A Database Backup Program")转储您的表，并创建一个描述问题的`README`文件。使用**tar**和**gzip**或**zip**创建您文件的压缩存档。在[http://bugs.mysql.com/](http://bugs.mysql.com/)为我们的错误数据库启动错误报告后，在错误报告中单击“文件”选项卡以获取有关将存档上传到错误数据库的说明。
- en: If you believe that the MySQL server produces a strange result from a statement,
    include not only the result, but also your opinion of what the result should be,
    and an explanation describing the basis for your opinion.
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您认为MySQL服务器从一个语句中产生了奇怪的结果，请不仅包括结果，还包括您认为结果应该是什么以及解释描述您观点基础的说明。
- en: When you provide an example of the problem, it is better to use the table names,
    variable names, and so forth that exist in your actual situation than to come
    up with new names. The problem could be related to the name of a table or variable.
    These cases are rare, perhaps, but it is better to be safe than sorry. After all,
    it should be easier for you to provide an example that uses your actual situation,
    and it is by all means better for us. If you have data that you do not want to
    be visible to others in the bug report, you can upload it using the Files tab
    as previously described. If the information is really top secret and you do not
    want to show it even to us, go ahead and provide an example using other names,
    but please regard this as the last choice.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当您提供问题示例时，最好使用实际情况中存在的表名、变量名等，而不是想出新名称。问题可能与表名或变量名有关。这种情况可能很少，但安全起见总是好过后悔。毕竟，您提供一个使用实际情况的示例应该更容易，对我们来说也更好。如果您有不希望在错误报告中对其他人可见的数据，可以按照之前描述的方法使用“文件”选项卡上传它。如果信息真的是绝密的，甚至您也不想向我们展示，那就使用其他名称提供一个示例，但请将其视为最后选择。
- en: Include all the options given to the relevant programs, if possible. For example,
    indicate the options that you use when you start the [**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server") server, as well as the options that you use
    to run any MySQL client programs. The options to programs such as [**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server") and [**mysql**](mysql.html "6.5.1 mysql — The
    MySQL Command-Line Client"), and to the **configure** script, are often key to
    resolving problems and are very relevant. It is never a bad idea to include them.
    If your problem involves a program written in a language such as Perl or PHP,
    please include the language processor's version number, as well as the version
    for any modules that the program uses. For example, if you have a Perl script
    that uses the `DBI` and `DBD::mysql` modules, include the version numbers for
    Perl, `DBI`, and `DBD::mysql`.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽可能包含给相关程序的所有选项。例如，指示您启动[**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server")服务器时使用的选项，以及运行任何MySQL客户端程序时使用的选项。对于诸如[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server")和[**mysql**](mysql.html "6.5.1 mysql — The MySQL
    Command-Line Client")以及**configure**脚本等程序的选项通常是解决问题的关键，并且非常相关。包含它们从来不是一个坏主意。如果您的问题涉及使用Perl或PHP等语言编写的程序，请包括语言处理器的版本号，以及程序使用的任何模块的版本。例如，如果您有一个使用`DBI`和`DBD::mysql`模块的Perl脚本，请包括Perl、`DBI`和`DBD::mysql`的版本号。
- en: If your question is related to the privilege system, please include the output
    of [**mysqladmin reload**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server
    Administration Program"), and all the error messages you get when trying to connect.
    When you test your privileges, you should execute [**mysqladmin reload version**](mysqladmin.html
    "6.5.2 mysqladmin — A MySQL Server Administration Program") and try to connect
    with the program that gives you trouble.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您的问题与权限系统有关，请包含[**mysqladmin reload**](mysqladmin.html "6.5.2 mysqladmin —
    A MySQL Server Administration Program")的输出，以及尝试连接时收到的所有错误消息。在测试权限时，您应该执行[**mysqladmin
    reload version**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server Administration
    Program")并尝试使用导致问题的程序进行连接。
- en: If you have a patch for a bug, do include it. But do not assume that the patch
    is all we need, or that we can use it, if you do not provide some necessary information
    such as test cases showing the bug that your patch fixes. We might find problems
    with your patch or we might not understand it at all. If so, we cannot use it.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您有一个用于修复错误的补丁，请包含它。但不要假设补丁是我们需要的全部，或者如果您没有提供一些必要信息，比如显示您的补丁修复的错误的测试用例。我们可能会发现您的补丁存在问题，或者我们可能根本无法理解它。如果是这样，我们无法使用它。
- en: If we cannot verify the exact purpose of the patch, we will not use it. Test
    cases help us here. Show that the patch handles all the situations that may occur.
    If we find a borderline case (even a rare one) where the patch will not work,
    it may be useless.
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果我们无法验证补丁的确切目的，我们将不使用它。测试用例在这里对我们有帮助。展示补丁处理可能发生的所有情况。如果我们发现边界情况（即使是罕见的情况）补丁无法工作，那么它可能是无用的。
- en: Guesses about what the bug is, why it occurs, or what it depends on are usually
    wrong. Even the MySQL team cannot guess such things without first using a debugger
    to determine the real cause of a bug.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 猜测错误是什么，为什么会发生，或者它依赖于什么通常是错误的。即使MySQL团队也不能在使用调试器确定错误的真正原因之前猜测这些事情。
- en: Indicate in your bug report that you have checked the reference manual and mail
    archive so that others know you have tried to solve the problem yourself.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在您的错误报告中指出您已经检查了参考手册和邮件存档，以便其他人知道您已经尝试自己解决问题。
- en: 'If your data appears corrupt or you get errors when you access a particular
    table, first check your tables with [`CHECK TABLE`](check-table.html "15.7.3.2 CHECK
    TABLE Statement"). If that statement reports any errors:'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您的数据看起来损坏或者在访问特定表格时出现错误，请首先使用[`CHECK TABLE`](check-table.html "15.7.3.2 CHECK
    TABLE Statement")检查您的表格。如果该语句报告任何错误：
- en: The `InnoDB` crash recovery mechanism handles cleanup when the server is restarted
    after being killed, so in typical operation there is no need to “repair” tables.
    If you encounter an error with `InnoDB` tables, restart the server and see whether
    the problem persists, or whether the error affected only cached data in memory.
    If data is corrupted on disk, consider restarting with the [`innodb_force_recovery`](innodb-parameters.html#sysvar_innodb_force_recovery)
    option enabled so that you can dump the affected tables.
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`InnoDB` 崩溃恢复机制在服务器被杀死后重新启动时处理清理工作，因此在典型操作中不需要“修复”表格。如果遇到`InnoDB`表格错误，请重新启动服务器并查看问题是否仍然存在，或者错误是否仅影响内存中的缓存数据。如果磁盘上的数据损坏，请考虑启用[`innodb_force_recovery`](innodb-parameters.html#sysvar_innodb_force_recovery)选项重新启动，以便您可以转储受影响的表格。'
- en: For non-transactional tables, try to repair them with [`REPAIR TABLE`](repair-table.html
    "15.7.3.5 REPAIR TABLE Statement") or with [**myisamchk**](myisamchk.html "6.6.4 myisamchk
    — MyISAM Table-Maintenance Utility"). See [Chapter 7, *MySQL Server Administration*](server-administration.html
    "Chapter 7 MySQL Server Administration").
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于非事务性表格，请尝试使用[`REPAIR TABLE`](repair-table.html "15.7.3.5 REPAIR TABLE Statement")或[**myisamchk**](myisamchk.html
    "6.6.4 myisamchk — MyISAM Table-Maintenance Utility")进行修复。参见[第7章，*MySQL服务器管理*](server-administration.html
    "第7章 MySQL服务器管理")。
- en: If you are running Windows, please verify the value of [`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    using the `SHOW VARIABLES LIKE 'lower_case_table_names'` statement. This variable
    affects how the server handles lettercase of database and table names. Its effect
    for a given value should be as described in [Section 11.2.3, “Identifier Case
    Sensitivity”](identifier-case-sensitivity.html "11.2.3 Identifier Case Sensitivity").
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您正在运行Windows，请使用`SHOW VARIABLES LIKE 'lower_case_table_names'`语句验证[`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)的值。此变量影响服务器处理数据库和表格名称的大小写。对于给定值的影响应如[第11.2.3节，“标识符大小写敏感性”](identifier-case-sensitivity.html
    "11.2.3 标识符大小写敏感性")中描述的那样。
- en: If you often get corrupted tables, you should try to find out when and why this
    happens. In this case, the error log in the MySQL data directory may contain some
    information about what happened. (This is the file with the `.err` suffix in the
    name.) See [Section 7.4.2, “The Error Log”](error-log.html "7.4.2 The Error Log").
    Please include any relevant information from this file in your bug report. Normally
    [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") should *never* corrupt
    a table if nothing killed it in the middle of an update. If you can find the cause
    of [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") dying, it is much
    easier for us to provide you with a fix for the problem. See [Section B.3.1, “How
    to Determine What Is Causing a Problem”](what-is-crashing.html "B.3.1 How to Determine
    What Is Causing a Problem").
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你经常遇到损坏的表格，你应该尝试找出这种情况发生的时间和原因。在这种情况下，MySQL数据目录中的错误日志可能包含一些关于发生了什么的信息（这是带有`.err`后缀的文件）。请在您的错误报告中包含来自此文件的任何相关信息。通常情况下，如果没有被中断更新的情况，[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server") *永远*不应该损坏表格。如果你能找到[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server")死亡的原因，那么我们就能更容易地为你提供解决问题的方法。参见[Section B.3.1,
    “How to Determine What Is Causing a Problem”](what-is-crashing.html "B.3.1 How
    to Determine What Is Causing a Problem")。
- en: If possible, download and install the most recent version of MySQL Server and
    check whether it solves your problem. All versions of the MySQL software are thoroughly
    tested and should work without problems. We believe in making everything as backward-compatible
    as possible, and you should be able to switch MySQL versions without difficulty.
    See [Section 2.1.2, “Which MySQL Version and Distribution to Install”](which-version.html
    "2.1.2 Which MySQL Version and Distribution to Install").
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果可能的话，请下载并安装最新版本的MySQL服务器，并检查是否解决了你的问题。所有版本的MySQL软件都经过了彻底测试，应该可以正常工作。我们相信尽可能使一切向后兼容，你应该能够轻松切换MySQL版本。参见[Section 2.1.2,
    “Which MySQL Version and Distribution to Install”](which-version.html "2.1.2 Which
    MySQL Version and Distribution to Install")。
