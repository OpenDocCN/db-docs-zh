- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/mysql-shell-tutorial-javascript-collections-add.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-shell-tutorial-javascript-collections-add.html)
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/mysql-shell-tutorial-javascript-collections-add.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-shell-tutorial-javascript-collections-add.html)
- en: 22.3.3.2 Working with Collections
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 22.3.3.2 与集合一起工作
- en: To work with the collections in a schema, use the `db` global object to access
    the current schema. In this example we are using the `world_x` schema imported
    previously, and the `countryinfo` collection. Therefore, the format of the operations
    you issue is `db.*`collection_name`*.operation`, where *`collection_name`* is
    the name of the collection which the operation is executed against. In the following
    examples, the operations are executed against the `countryinfo` collection.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 要在模式中使用集合，请使用`db`全局对象访问当前模式。在此示例中，我们使用之前导入的`world_x`模式和`countryinfo`集合。因此，您发出的操作格式为`db.*`collection_name`*.operation`，其中*`collection_name`*是执行操作的集合的名称。在以下示例中，操作是针对`countryinfo`集合执行的。
- en: Add a Document
  id: totrans-3
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 添加文档
- en: Use the `add()` method to insert one document or a list of documents into an
    existing collection. Insert the following document into the `countryinfo` collection.
    As this is multi-line content, press **Enter** twice to insert the document.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`add()`方法将一个文档或文档列表插入到现有集合中。将以下文档插入到`countryinfo`集合中。由于这是多行内容，请按两次**Enter**键以插入文档。
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The method returns the status of the operation. You can verify the operation
    by searching for the document. For example:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法返回操作的状态。您可以通过搜索文档来验证操作。例如：
- en: '[PRE1]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note that in addition to the fields specified when the document was added, there
    is one more field, the `_id`. Each document requires an identifier field called
    `_id`. The value of the `_id` field must be unique among all documents in the
    same collection. In MySQL 8.0.11 and higher, document IDs are generated by the
    server, not the client, so MySQL Shell does not automatically set an `_id` value.
    A MySQL server at 8.0.11 or higher sets an `_id` value if the document does not
    contain the `_id` field. A MySQL server at an earlier 8.0 release or at 5.7 does
    not set an `_id` value in this situation, so you must specify it explicitly. If
    you do not, MySQL Shell returns error 5115 Document is missing a required field.
    For more information see [Understanding Document IDs](/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，除了在添加文档时指定的字段之外，还有一个字段，即`_id`。每个文档都需要一个名为`_id`的标识符字段。`_id`字段的值在同一集合中的所有文档中必须是唯一的。在MySQL
    8.0.11及更高版本中，文档ID由服务器生成，而不是客户端生成，因此MySQL Shell不会自动设置`_id`值。如果文档不包含`_id`字段，MySQL
    8.0.11或更高版本的服务器会设置`_id`值。在较早的8.0版本或5.7版本的MySQL服务器中，在这种情况下不会设置`_id`值，因此您必须明确指定它。如果不指定，MySQL
    Shell将返回错误5115文档缺少必需字段。有关更多信息，请参见[理解文档ID](/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html)。
- en: Related Information
  id: totrans-9
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 相关信息
- en: See [CollectionAddFunction](/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionaddfunction)
    for the full syntax definition.
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看[CollectionAddFunction](/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionaddfunction)以获取完整的语法定义。
- en: See [Understanding Document IDs](/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html).
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看[理解文档ID](/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html)。
