- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/firewall-reference.html](https://dev.mysql.com/doc/refman/8.0/en/firewall-reference.html)
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/firewall-reference.html](https://dev.mysql.com/doc/refman/8.0/en/firewall-reference.html)
- en: 8.4.7.4 MySQL Enterprise Firewall Reference
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 8.4.7.4 MySQL企业防火墙参考
- en: 'The following sections provide a reference to MySQL Enterprise Firewall elements:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 以下各节提供了MySQL企业防火墙元素的参考：
- en: '[MySQL Enterprise Firewall Tables](firewall-reference.html#firewall-tables
    "MySQL Enterprise Firewall Tables")'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL企业防火墙表](firewall-reference.html#firewall-tables "MySQL企业防火墙表")'
- en: '[MySQL Enterprise Firewall Stored Procedures](firewall-reference.html#firewall-stored-routines
    "MySQL Enterprise Firewall Stored Procedures")'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL企业防火墙存储过程](firewall-reference.html#firewall-stored-routines "MySQL企业防火墙存储过程")'
- en: '[MySQL Enterprise Firewall Administrative Functions](firewall-reference.html#firewall-functions
    "MySQL Enterprise Firewall Administrative Functions")'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL企业防火墙管理功能](firewall-reference.html#firewall-functions "MySQL企业防火墙管理功能")'
- en: '[MySQL Enterprise Firewall System Variables](firewall-reference.html#firewall-system-variables
    "MySQL Enterprise Firewall System Variables")'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL企业防火墙系统变量](firewall-reference.html#firewall-system-variables "MySQL企业防火墙系统变量")'
- en: '[MySQL Enterprise Firewall Status Variables](firewall-reference.html#firewall-status-variables
    "MySQL Enterprise Firewall Status Variables")'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL企业防火墙状态变量](firewall-reference.html#firewall-status-variables "MySQL企业防火墙状态变量")'
- en: MySQL Enterprise Firewall Tables
  id: totrans-8
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL企业防火墙表
- en: MySQL Enterprise Firewall maintains profile information on a per-group and per-account
    basis. It uses tables in the `mysql` system database for persistent storage and
    `INFORMATION_SCHEMA` or Performance Schema tables to provide views into in-memory
    cached data. When enabled, the firewall bases operational decisions on the cached
    data.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL企业防火墙根据组和帐户的基础信息维护配置文件信息。它使用`mysql`系统数据库中的表进行持久存储，并使用`INFORMATION_SCHEMA`或Performance
    Schema表提供对内存中缓存数据的视图。启用后，防火墙基于缓存数据做出操作决策。
- en: '[Firewall Group Profile Tables](firewall-reference.html#firewall-tables-group
    "Firewall Group Profile Tables")'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙组配置文件表](firewall-reference.html#firewall-tables-group "防火墙组配置文件表")'
- en: '[Firewall Account Profile Tables](firewall-reference.html#firewall-tables-account
    "Firewall Account Profile Tables")'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙帐户配置文件表](firewall-reference.html#firewall-tables-account "防火墙帐户配置文件表")'
- en: Firewall Group Profile Tables
  id: totrans-12
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙组配置文件表
- en: As of MySQL 8.0.23, MySQL Enterprise Firewall maintains group profile information
    using tables in the `mysql` system database for persistent storage and Performance
    Schema tables to provide views into in-memory cached data.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.23，MySQL企业防火墙使用`mysql`系统数据库中的表来维护组配置文件信息以进行持久存储，并使用Performance Schema表提供对内存中缓存数据的视图。
- en: Each system and Performance Schema table is accessible only by accounts that
    have the [`SELECT`](privileges-provided.html#priv_select) privilege for it.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 每个系统和Performance Schema表只能由具有相应[`SELECT`](privileges-provided.html#priv_select)权限的帐户访问。
- en: 'The `mysql.firewall_groups` table lists names and operational modes of registered
    firewall group profiles. The table has the following columns (with the corresponding
    Performance Schema [`firewall_groups`](performance-schema-firewall-groups-table.html
    "29.12.17.1 The firewall_groups Table") table having similar but not necessarily
    identical columns):'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql.firewall_groups`表列出了注册的防火墙组配置文件的名称和操作模式。该表具有以下列（相应的Performance Schema
    [`firewall_groups`](performance-schema-firewall-groups-table.html "29.12.17.1 firewall_groups表")表具有类似但不一定相同的列）：'
- en: '`NAME`'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NAME`'
- en: The group profile name.
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 组配置文件名称。
- en: '`MODE`'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MODE`'
- en: The current operational mode for the profile. Permitted mode values are `OFF`,
    `DETECTING`, `PROTECTING`, and `RECORDING`. For details about their meanings,
    see [Firewall Concepts](firewall-usage.html#firewall-concepts "Firewall Concepts").
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 配置文件的当前操作模式。允许的模式值为`OFF`、`DETECTING`、`PROTECTING`和`RECORDING`。有关它们含义的详细信息，请参见[防火墙概念](firewall-usage.html#firewall-concepts
    "防火墙概念")。
- en: '`USERHOST`'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`USERHOST`'
- en: 'The training account for the group profile, to be used when the profile is
    in `RECORDING` mode. The value is `NULL`, or a non-`NULL` account that has the
    format `*`user_name`*@*`host_name`*`:'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 组配置文件的训练帐户，在配置文件处于`RECORDING`模式时使用。该值为`NULL`，或具有格式`*`user_name`*@*`host_name`*`的非`NULL`帐户：
- en: If the value is `NULL`, the firewall records allowlist rules for statements
    received from any account that is a member of the group.
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果值为`NULL`，防火墙将记录来自组成员的任何帐户接收到的allowlist规则。
- en: If the value is non-`NULL`, the firewall records allowlist rules only for statements
    received from the named account (which should be a member of the group).
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果值为非`NULL`，防火墙仅记录来自指定帐户（应为组的成员）接收的语句的允许列表规则。
- en: 'The `mysql.firewall_group_allowlist` table lists allowlist rules of registered
    firewall group profiles. The table has the following columns (with the corresponding
    Performance Schema [`firewall_group_allowlist`](performance-schema-firewall-group-allowlist-table.html
    "29.12.17.2 The firewall_group_allowlist Table") table having similar but not
    necessarily identical columns):'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql.firewall_group_allowlist`表列出了注册的防火墙组配置文件的允许列表规则。该表具有以下列（相应的性能模式[`firewall_group_allowlist`](performance-schema-firewall-group-allowlist-table.html
    "29.12.17.2 The firewall_group_allowlist Table")表具有类似但不一定相同的列）：'
- en: '`NAME`'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NAME`'
- en: The group profile name.
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 组配置文件名称。
- en: '`RULE`'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RULE`'
- en: A normalized statement indicating an acceptable statement pattern for the profile.
    A profile allowlist is the union of its rules.
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表示配置文件可接受语句模式的规范化语句。配置文件允许列表是其规则的并集。
- en: '`ID`'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ID`'
- en: An integer column that is a primary key for the table.
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于表的主键的整数列。
- en: 'The `mysql.firewall_membership` table lists the members (accounts) of registered
    firewall group profiles. The table has the following columns (with the corresponding
    Performance Schema [`firewall_membership`](performance-schema-firewall-membership-table.html
    "29.12.17.3 The firewall_membership Table") table having similar but not necessarily
    identical columns):'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql.firewall_membership`表列出了注册的防火墙组配置文件的成员（帐户）。该表具有以下列（相应的性能模式[`firewall_membership`](performance-schema-firewall-membership-table.html
    "29.12.17.3 The firewall_membership Table")表具有类似但不一定相同的列）：'
- en: '`GROUP_ID`'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`GROUP_ID`'
- en: The group profile name.
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 组配置文件名称。
- en: '`MEMBER_ID`'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MEMBER_ID`'
- en: The name of an account that is a member of the profile.
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是配置文件成员的帐户名称。
- en: Firewall Account Profile Tables
  id: totrans-36
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙帐户配置表
- en: MySQL Enterprise Firewall maintains account profile information using tables
    in the `mysql` system database for persistent storage and `INFORMATION_SCHEMA`
    tables to provide views into in-memory cached data.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL企业防火墙使用`mysql`系统数据库中的表进行持久存储的帐户配置文件信息，并使用`INFORMATION_SCHEMA`表提供对内存中缓存数据的视图。
- en: Each `mysql` system database table is accessible only by accounts that have
    the [`SELECT`](privileges-provided.html#priv_select) privilege for it. The `INFORMATION_SCHEMA`
    tables are accessible by anyone.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 每个`mysql`系统数据库表只能被具有相应[`SELECT`](privileges-provided.html#priv_select)权限的帐户访问。`INFORMATION_SCHEMA`表可被任何人访问。
- en: As of MySQL 8.0.26, these tables are deprecated and subject to removal in a
    future MySQL version. See [Migrating Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.26，这些表已被弃用，并可能在未来的MySQL版本中被移除。请参阅[Migrating Account Profiles to
    Group Profiles](firewall-usage.html#firewall-account-profile-migration "Migrating
    Account Profiles to Group Profiles")。
- en: 'The `mysql.firewall_users` table lists names and operational modes of registered
    firewall account profiles. The table has the following columns (with the corresponding
    [`MYSQL_FIREWALL_USERS`](information-schema-mysql-firewall-users-table.html "28.7.2 The
    INFORMATION_SCHEMA MYSQL_FIREWALL_USERS Table") table having similar but not necessarily
    identical columns):'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql.firewall_users`表列出了注册的防火墙帐户配置文件的名称和操作模式。该表具有以下列（相应的[`MYSQL_FIREWALL_USERS`](information-schema-mysql-firewall-users-table.html
    "28.7.2 The INFORMATION_SCHEMA MYSQL_FIREWALL_USERS Table")表具有类似但不一定相同的列）：'
- en: '`USERHOST`'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`USERHOST`'
- en: The account profile name. Each account name has the format `*`user_name`*@*`host_name`*`.
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 帐户配置文件名称。每个帐户名称的格式为`*`user_name`*@*`host_name`*`。
- en: '`MODE`'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`MODE`'
- en: The current operational mode for the profile. Permitted mode values are `OFF`,
    `DETECTING`, `PROTECTING`, `RECORDING`, and `RESET`. For details about their meanings,
    see [Firewall Concepts](firewall-usage.html#firewall-concepts "Firewall Concepts").
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 配置文件的当前操作模式。允许的模式值为`OFF`、`DETECTING`、`PROTECTING`、`RECORDING`和`RESET`。有关其含义的详细信息，请参阅[Firewall
    Concepts](firewall-usage.html#firewall-concepts "Firewall Concepts")。
- en: 'The `mysql.firewall_whitelist` table lists allowlist rules of registered firewall
    account profiles. The table has the following columns (with the corresponding
    [`MYSQL_FIREWALL_WHITELIST`](information-schema-mysql-firewall-whitelist-table.html
    "28.7.3 The INFORMATION_SCHEMA MYSQL_FIREWALL_WHITELIST Table") table having similar
    but not necessarily identical columns):'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '`mysql.firewall_whitelist`表列出了已注册的防火墙帐户配置文件的允许列表规则。该表具有以下列（相应的[`MYSQL_FIREWALL_WHITELIST`](information-schema-mysql-firewall-whitelist-table.html
    "28.7.3 INFORMATION_SCHEMA MYSQL_FIREWALL_WHITELIST表")表具有类似但不一定相同的列）:'
- en: '`USERHOST`'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`USERHOST`'
- en: The account profile name. Each account name has the format `*`user_name`*@*`host_name`*`.
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 帐户配置文件名称。每个帐户名称的格式为`*`user_name`*@*`host_name`*`。
- en: '`RULE`'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RULE`'
- en: A normalized statement indicating an acceptable statement pattern for the profile.
    A profile allowlist is the union of its rules.
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表示配置文件的可接受语句模式的规范化语句。配置文件的允许列表是其规则的并集。
- en: '`ID`'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ID`'
- en: An integer column that is a primary key for the table. This column was added
    in MySQL 8.0.12.
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 表的主键是整数列。此列在MySQL 8.0.12中添加。
- en: MySQL Enterprise Firewall Stored Procedures
  id: totrans-52
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL企业防火墙存储过程
- en: MySQL Enterprise Firewall stored procedures perform tasks such as registering
    profiles with the firewall, establishing their operational mode, and managing
    transfer of firewall data between the cache and persistent storage. These procedures
    invoke administrative functions that provide an API for lower-level tasks.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL企业防火墙存储过程执行诸如向防火墙注册配置文件、建立其操作模式以及管理防火墙数据在缓存和持久存储之间传输等任务。这些存储过程调用提供用于低级任务的API的管理函数。
- en: 'Firewall stored procedures are created in the `mysql` system database. To invoke
    a firewall stored procedure, either do so while `mysql` is the default database,
    or qualify the procedure name with the database name. For example:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '防火墙存储过程在`mysql`系统数据库中创建。要调用防火墙存储过程，可以在`mysql`是默认数据库时执行，或者使用数据库名称限定过程名称。例如:'
- en: '[PRE0]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[Firewall Group Profile Stored Procedures](firewall-reference.html#firewall-stored-routines-group
    "Firewall Group Profile Stored Procedures")'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙组配置文件存储过程](firewall-reference.html#firewall-stored-routines-group "防火墙组配置文件存储过程")'
- en: '[Firewall Account Profile Stored Procedures](firewall-reference.html#firewall-stored-routines-account
    "Firewall Account Profile Stored Procedures")'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙帐户配置文件存储过程](firewall-reference.html#firewall-stored-routines-account "防火墙帐户配置文件存储过程")'
- en: '[Firewall Miscellaneous Stored Procedures](firewall-reference.html#firewall-stored-routines-miscellaneous
    "Firewall Miscellaneous Stored Procedures")'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙杂项存储过程](firewall-reference.html#firewall-stored-routines-miscellaneous
    "防火墙杂项存储过程")'
- en: Firewall Group Profile Stored Procedures
  id: totrans-59
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙组配置文件存储过程
- en: 'These stored procedures perform management operations on firewall group profiles:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '这些存储过程在防火墙组配置文件上执行管理操作:'
- en: '`sp_firewall_group_delist(*`group`*, *`user`*)`'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_firewall_group_delist(*`group`*, *`user`*)`'
- en: This stored procedure removes an account from a firewall group profile.
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程从防火墙组配置文件中删除一个帐户。
- en: If the call succeeds, the change in group membership is made to both the in-memory
    cache and persistent storage.
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果调用成功，则组成员身份的更改将同时应用于内存缓存和持久存储。
- en: 'Arguments:'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '参数:'
- en: '*`group`*: The name of the affected group profile.'
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`group`*: 受影响的组配置文件的名称。'
- en: '*`user`*: The account to remove, as a string in `*`user_name`*@*`host_name`*`
    format.'
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`user`*: 要移除的帐户，格式为`*`user_name`*@*`host_name`*`。'
- en: 'Example:'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '例子:'
- en: '[PRE1]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This procedure was added in MySQL 8.0.23.
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在MySQL 8.0.23中添加。
- en: '`sp_firewall_group_enlist(*`group`*, *`user`*)`'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_firewall_group_enlist(*`group`*, *`user`*)`'
- en: This stored procedure adds an account to a firewall group profile. It is not
    necessary to register the account itself with the firewall before adding the account
    to the group.
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程将一个帐户添加到防火墙组配置文件中。在将帐户添加到组之前，不需要将帐户本身注册到防火墙。
- en: If the call succeeds, the change in group membership is made to both the in-memory
    cache and persistent storage.
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果调用成功，则组成员身份的更改将同时应用于内存缓存和持久存储。
- en: 'Arguments:'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '参数:'
- en: '*`group`*: The name of the affected group profile.'
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`group`*: 受影响的组配置文件的名称。'
- en: '*`user`*: The account to add, as a string in `*`user_name`*@*`host_name`*`
    format.'
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`user`*: 要添加的帐户，格式为`*`user_name`*@*`host_name`*`。'
- en: 'Example:'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '例子:'
- en: '[PRE2]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This procedure was added in MySQL 8.0.23.
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在MySQL 8.0.23中添加。
- en: '`sp_reload_firewall_group_rules(*`group`*)`'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_reload_firewall_group_rules(*`group`*)`'
- en: This stored procedure provides control over firewall operation for individual
    group profiles. The procedure uses firewall administrative functions to reload
    the in-memory rules for a group profile from the rules stored in the `mysql.firewall_group_allowlist`
    table.
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程为各个组配置文件提供防火墙操作控制。该过程使用防火墙管理函数从`mysql.firewall_group_allowlist`表中重新加载组配置文件的内存规则。
- en: 'Arguments:'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数：
- en: '*`group`*: The name of the affected group profile.'
  id: totrans-82
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`group`*：受影响的组配置文件的名称。'
- en: 'Example:'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE3]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Warning
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 警告
- en: This procedure clears the group profile in-memory allowlist rules before reloading
    them from persistent storage, and sets the profile mode to `OFF`. If the profile
    mode was not `OFF` prior to the `sp_reload_firewall_group_rules()` call, use `sp_set_firewall_group_mode()`
    to restore its previous mode after reloading the rules. For example, if the profile
    was in `PROTECTING` mode, that is no longer true after calling `sp_reload_firewall_group_rules()`
    and you must set it to `PROTECTING` again explicitly.
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在重新加载持久存储中的组配置文件的允许规则之前清除组配置文件的内存中的允许规则，并将配置文件模式设置为`OFF`。如果在调用`sp_reload_firewall_group_rules()`之前配置文件模式不是`OFF`，则在重新加载规则后使用`sp_set_firewall_group_mode()`将其恢复为先前的模式。例如，如果配置文件处于`PROTECTING`模式，则在调用`sp_reload_firewall_group_rules()`后不再有效，必须显式将其设置为`PROTECTING`。
- en: This procedure was added in MySQL 8.0.23.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在MySQL 8.0.23中添加。
- en: '`sp_set_firewall_group_mode(*`group`*, *`mode`*)`'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_set_firewall_group_mode(*`group`*, *`mode`*)`'
- en: This stored procedure establishes the operational mode for a firewall group
    profile, after registering the profile with the firewall if it was not already
    registered. The procedure also invokes firewall administrative functions as necessary
    to transfer firewall data between the cache and persistent storage. This procedure
    may be called even if the `mysql_firewall_mode` system variable is `OFF`, although
    setting the mode for a profile has no operational effect until the firewall is
    enabled.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在将配置文件注册到防火墙后，为防火墙组配置文件建立操作模式，如果尚未注册，则调用防火墙管理函数以在缓存和持久存储之间传输防火墙数据。即使`mysql_firewall_mode`系统变量为`OFF`，也可以调用此存储过程，尽管在启用防火墙之前，为配置文件设置模式不会产生操作效果。
- en: If the profile previously existed, any recording limitation for it remains unchanged.
    To set or clear the limitation, call `sp_set_firewall_group_mode_and_user()` instead.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果配置文件之前存在，则其任何记录限制保持不变。要设置或清除限制，请改为调用`sp_set_firewall_group_mode_and_user()`。
- en: 'Arguments:'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数：
- en: '*`group`*: The name of the affected group profile.'
  id: totrans-92
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`group`*：受影响的组配置文件的名称。'
- en: '*`mode`*: The operational mode for the profile, as a string. Permitted mode
    values are `OFF`, `DETECTING`, `PROTECTING`, and `RECORDING`. For details about
    their meanings, see [Firewall Concepts](firewall-usage.html#firewall-concepts
    "Firewall Concepts").'
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`mode`*：配置文件的操作模式，以字符串形式表示。允许的模式值为`OFF`、`DETECTING`、`PROTECTING`和`RECORDING`。有关它们的含义的详细信息，请参见[防火墙概念](firewall-usage.html#firewall-concepts
    "防火墙概念")。'
- en: 'Example:'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE4]'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This procedure was added in MySQL 8.0.23.
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在MySQL 8.0.23中添加。
- en: '`sp_set_firewall_group_mode_and_user(*`group`*, *`mode`*, *`user`*)`'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_set_firewall_group_mode_and_user(*`group`*, *`mode`*, *`user`*)`'
- en: This stored procedure registers a group with the firewall and establishes its
    operational mode, similar to `sp_set_firewall_group_mode()`, but also specifies
    the training account to be used when the group is in `RECORDING` mode.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程向防火墙注册一个组并建立其操作模式，类似于`sp_set_firewall_group_mode()`，但还指定了在组处于`RECORDING`模式时要使用的训练帐户。
- en: 'Arguments:'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数：
- en: '*`group`*: The name of the affected group profile.'
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`group`*：受影响的组配置文件的名称。'
- en: '*`mode`*: The operational mode for the profile, as a string. Permitted mode
    values are `OFF`, `DETECTING`, `PROTECTING`, and `RECORDING`. For details about
    their meanings, see [Firewall Concepts](firewall-usage.html#firewall-concepts
    "Firewall Concepts").'
  id: totrans-101
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`mode`*：配置文件的操作模式，以字符串形式表示。允许的模式值为`OFF`、`DETECTING`、`PROTECTING`和`RECORDING`。有关它们的含义的详细信息，请参见[防火墙概念](firewall-usage.html#firewall-concepts
    "防火墙概念")。'
- en: '*`user`*: The training account for the group profile, to be used when the profile
    is in `RECORDING` mode. The value is `NULL`, or a non-`NULL` account that has
    the format `*`user_name`*@*`host_name`*`:'
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`user`*：组配置文件的训练帐户，在配置文件处于`RECORDING`模式时使用。该值为`NULL`，或具有格式`*`user_name`*@*`host_name`*`的非`NULL`帐户：'
- en: If the value is `NULL`, the firewall records allowlist rules for statements
    received from any account that is a member of the group.
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果数值为`NULL`，防火墙将记录来自任何属于该组的帐户接收到的语句的允许规则。
- en: If the value is non-`NULL`, the firewall records allowlist rules only for statements
    received from the named account (which should be a member of the group).
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果值为非`NULL`，则防火墙记录仅允许来自指定账户（应为组的成员）的语句。
- en: 'Example:'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE5]'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: This procedure was added in MySQL 8.0.23.
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此过程是在MySQL 8.0.23中添加的。
- en: Firewall Account Profile Stored Procedures
  id: totrans-108
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙账户配置文件存储过程
- en: 'These stored procedures perform management operations on firewall account profiles:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这些存储过程执行防火墙账户配置文件的管理操作：
- en: '`sp_reload_firewall_rules(*`user`*)`'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_reload_firewall_rules(*`user`*)`'
- en: This stored procedure provides control over firewall operation for individual
    account profiles. The procedure uses firewall administrative functions to reload
    the in-memory rules for an account profile from the rules stored in the `mysql.firewall_whitelist`
    table.
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程为个别账户配置文件提供防火墙操作控制。该过程使用防火墙管理函数从`mysql.firewall_whitelist`表中存储的规则重新加载账户配置文件的内存中规则。
- en: 'Arguments:'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数：
- en: '*`user`*: The name of the affected account profile, as a string in `*`user_name`*@*`host_name`*`
    format.'
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`user`*: 受影响的账户配置文件的名称，以`*`user_name`*@*`host_name`*`格式的字符串表示。'
- en: 'Example:'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE6]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Warning
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 警告
- en: This procedure clears the account profile in-memory allowlist rules before reloading
    them from persistent storage, and sets the profile mode to `OFF`. If the profile
    mode was not `OFF` prior to the `sp_reload_firewall_rules()` call, use `sp_set_firewall_mode()`
    to restore its previous mode after reloading the rules. For example, if the profile
    was in `PROTECTING` mode, that is no longer true after calling `sp_reload_firewall_rules()`
    and you must set it to `PROTECTING` again explicitly.
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此过程在重新加载持久存储中的账户配置文件内存中的允许列表规则之前清除它们，并将配置文件模式设置为`OFF`。如果在调用`sp_reload_firewall_rules()`之前配置文件模式不是`OFF`，则在重新加载规则后使用`sp_set_firewall_mode()`将其恢复为先前的模式。例如，如果配置文件处于`PROTECTING`模式，则在调用`sp_reload_firewall_rules()`后不再有效，必须显式将其设置为`PROTECTING`。
- en: As of MySQL 8.0.26, this procedure is deprecated and subject to removal in a
    future MySQL version. See [Migrating Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从MySQL 8.0.26开始，此存储过程已弃用，并可能在将来的MySQL版本中删除。请参见[将账户配置文件迁移到组配置文件](firewall-usage.html#firewall-account-profile-migration
    "将账户配置文件迁移到组配置文件")。
- en: '`sp_set_firewall_mode(*`user`*, *`mode`*)`'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_set_firewall_mode(*`user`*, *`mode`*)`'
- en: This stored procedure establishes the operational mode for a firewall account
    profile, after registering the profile with the firewall if it was not already
    registered. The procedure also invokes firewall administrative functions as necessary
    to transfer firewall data between the cache and persistent storage. This procedure
    may be called even if the `mysql_firewall_mode` system variable is `OFF`, although
    setting the mode for a profile has no operational effect until the firewall is
    enabled.
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此存储过程在注册配置文件到防火墙后，为防火墙账户配置文件建立操作模式。必要时，该过程还调用防火墙管理函数以在缓存和持久存储之间传输防火墙数据。即使`mysql_firewall_mode`系统变量为`OFF`，也可以调用此过程，尽管在启用防火墙之前，为配置文件设置模式不会产生操作效果。
- en: 'Arguments:'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数：
- en: '*`user`*: The name of the affected account profile, as a string in `*`user_name`*@*`host_name`*`
    format.'
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`user`*: 受影响的账户配置文件的名称，以`*`user_name`*@*`host_name`*`格式的字符串表示。'
- en: '*`mode`*: The operational mode for the profile, as a string. Permitted mode
    values are `OFF`, `DETECTING`, `PROTECTING`, `RECORDING`, and `RESET`. For details
    about their meanings, see [Firewall Concepts](firewall-usage.html#firewall-concepts
    "Firewall Concepts").'
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`mode`*: 该配置文件的操作模式，以字符串形式表示。允许的模式值为`OFF`、`DETECTING`、`PROTECTING`、`RECORDING`和`RESET`。有关它们含义的详细信息，请参见[防火墙概念](firewall-usage.html#firewall-concepts
    "防火墙概念")。'
- en: Switching an account profile to any mode but `RECORDING` synchronizes its firewall
    cache data to the `mysql` system database tables that provide persistent underlying
    storage. Switching the mode from `OFF` to `RECORDING` reloads the allowlist from
    the `mysql.firewall_whitelist` table into the cache.
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将账户配置文件切换到任何模式，但`RECORDING`会将其防火墙缓存数据同步到提供持久底层存储的`mysql`系统数据库表中。将模式从`OFF`切换到`RECORDING`会将允许列表从`mysql.firewall_whitelist`表重新加载到缓存中。
- en: 'If an account profile has an empty allowlist, its mode cannot be set to `PROTECTING`
    because the profile would reject every statement, effectively prohibiting the
    account from executing statements. In response to such a mode-setting attempt,
    the firewall produces a diagnostic message that is returned as a result set rather
    than as an SQL error:'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果一个账户配置具有空的允许列表，其模式不能设置为`PROTECTING`，因为该配置将拒绝每个语句，实际上会禁止该账户执行语句。针对这种模式设置尝试，防火墙会生成一条诊断消息，该消息作为结果集返回，而不是作为SQL错误：
- en: '[PRE7]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: As of MySQL 8.0.26, this procedure is deprecated and subject to removal in a
    future MySQL version. See [Migrating Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从MySQL 8.0.26开始，此过程已被弃用，并可能在未来的MySQL版本中移除。请参阅[Migrating Account Profiles to
    Group Profiles](firewall-usage.html#firewall-account-profile-migration "将账户配置迁移到组配置")。
- en: Firewall Miscellaneous Stored Procedures
  id: totrans-128
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙杂项存储过程
- en: These stored procedures perform miscellaneous firewall management operations.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 这些存储过程执行杂项防火墙管理操作。
- en: '`sp_migrate_firewall_user_to_group(*`user`*, *`group`*)`'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sp_migrate_firewall_user_to_group(*`user`*, *`group`*)`'
- en: As of MySQL 8.0.26, account profiles are deprecated because group profiles can
    do anything account profiles can do. The `sp_migrate_firewall_user_to_group()`
    stored procedure converts a firewall account profile to a group profile with the
    account as its single enlisted member. Run the `firewall_profile_migration.sql`
    script to install it. The conversion procedure is discussed in [Migrating Account
    Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从MySQL 8.0.26开始，账户配置已被弃用，因为组配置可以执行账户配置可以执行的任何操作。`sp_migrate_firewall_user_to_group()`存储过程将防火墙账户配置转换为以该账户为唯一成员的组配置。运行`firewall_profile_migration.sql`脚本进行安装。转换过程在[Migrating
    Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "将账户配置迁移到组配置")中讨论。
- en: This routine requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege.
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此例程需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限。
- en: 'Arguments:'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数：
- en: '*`user`*: The name of the account profile to convert to a group profile, as
    a string in `*`user_name`*@*`host_name`*` format. The account profile must exist,
    and must not currently be in `RECORDING` mode.'
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`user`*: 要转换为组配置的账户配置的名称，以`*`user_name`*@*`host_name`*`格式的字符串。账户配置必须存在，并且不能当前处于`RECORDING`模式。'
- en: '*`group`*: The name of the new group profile, which must not already exist.
    The new group profile has the named account as its single enlisted member, and
    that member is set as the group training account. The group profile operational
    mode is taken from the account profile operational mode.'
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`group`*: 新组配置的名称，该名称不能已存在。新组配置以命名账户作为其唯一成员，并且该成员被设置为组培训账户。组配置操作模式取自账户配置操作模式。'
- en: 'Example:'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE8]'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This procedure was added in MySQL 8.0.26.
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此过程已添加到MySQL 8.0.26中。
- en: MySQL Enterprise Firewall Administrative Functions
  id: totrans-139
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL企业防火墙管理功能
- en: MySQL Enterprise Firewall administrative functions provide an API for lower-level
    tasks such as synchronizing the firewall cache with the underlying system tables.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL企业防火墙管理功能提供了一个API，用于执行诸如将防火墙缓存与底层系统表同步等较低级别任务。
- en: '*Under normal operation, these functions are invoked by the firewall stored
    procedures, not directly by users.* For that reason, these function descriptions
    do not include details such as information about their arguments and return types.'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '*在正常操作中，这些功能由防火墙存储过程调用，而不是直接由用户调用。*因此，这些功能描述不包括有关其参数和返回类型的详细信息。'
- en: '[Firewall Group Profile Functions](firewall-reference.html#firewall-functions-group
    "Firewall Group Profile Functions")'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙组配置功能](firewall-reference.html#firewall-functions-group "防火墙组配置功能")'
- en: '[Firewall Account Profile Functions](firewall-reference.html#firewall-functions-account
    "Firewall Account Profile Functions")'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙账户配置功能](firewall-reference.html#firewall-functions-account "防火墙账户配置功能")'
- en: '[Firewall Miscellaneous Functions](firewall-reference.html#firewall-functions-miscellaneous
    "Firewall Miscellaneous Functions")'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[防火墙杂项功能](firewall-reference.html#firewall-functions-miscellaneous "防火墙杂项功能")'
- en: Firewall Group Profile Functions
  id: totrans-145
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙组配置功能
- en: 'These functions perform management operations on firewall group profiles:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这些功能执行防火墙组配置的管理操作：
- en: '[`firewall_group_delist(*`group`*, *`user`*)`](firewall-reference.html#function_firewall-group-delist)'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`firewall_group_delist(*`group`*, *`user`*)`](firewall-reference.html#function_firewall-group-delist)'
- en: This function removes an account from a group profile. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege.
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数从组配置文件中删除帐户。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限。
- en: 'Example:'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE9]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This function was added in MySQL 8.0.23.
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数在MySQL 8.0.23中添加。
- en: '[`firewall_group_enlist(*`group`*, *`user`*)`](firewall-reference.html#function_firewall-group-enlist)'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`firewall_group_enlist(*`group`*, *`user`*)`](firewall-reference.html#function_firewall-group-enlist)'
- en: This function adds an account to a group profile. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege.
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数将帐户添加到组配置文件中。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限。
- en: It is not necessary to register the account itself with the firewall before
    adding the account to the group.
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在将帐户添加到组之前，不需要将帐户本身注册到防火墙。
- en: 'Example:'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE10]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: This function was added in MySQL 8.0.23.
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数在MySQL 8.0.23中添加。
- en: '[`read_firewall_group_allowlist(*`group`*, *`rule`*)`](firewall-reference.html#function_read-firewall-group-allowlist)'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_firewall_group_allowlist(*`group`*, *`rule`*)`](firewall-reference.html#function_read-firewall-group-allowlist)'
- en: This aggregate function updates the recorded-statement cache for the named group
    profile through a [`SELECT`](select.html "15.2.13 SELECT Statement") statement
    on the `mysql.firewall_group_allowlist` table. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege.
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此聚合函数通过对`mysql.firewall_group_allowlist`表上的[`SELECT`](select.html "15.2.13 SELECT
    Statement")语句更新了命名组配置文件的记录语句缓存。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限。
- en: 'Example:'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE11]'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This function was added in MySQL 8.0.23.
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数在MySQL 8.0.23中添加。
- en: '[`read_firewall_groups(*`group`*, *`mode`*, *`user`*)`](firewall-reference.html#function_read-firewall-groups)'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_firewall_groups(*`group`*, *`mode`*, *`user`*)`](firewall-reference.html#function_read-firewall-groups)'
- en: This aggregate function updates the firewall group profile cache through a [`SELECT`](select.html
    "15.2.13 SELECT Statement") statement on the `mysql.firewall_groups` table. It
    requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege.
  id: totrans-164
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此聚合函数通过对`mysql.firewall_groups`表上的[`SELECT`](select.html "15.2.13 SELECT Statement")语句更新了防火墙组配置文件缓存。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限。
- en: 'Example:'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE12]'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This function was added in MySQL 8.0.23.
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数在MySQL 8.0.23中添加。
- en: '[`set_firewall_group_mode(*`group`*, *`mode`*[, *`user`*])`](firewall-reference.html#function_set-firewall-group-mode)'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`set_firewall_group_mode(*`group`*, *`mode`*[, *`user`*])`](firewall-reference.html#function_set-firewall-group-mode)'
- en: This function manages the group profile cache, establishes the profile operational
    mode, and optionally specifies the profile training account. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege.
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数管理组配置文件缓存，建立配置文件操作模式，并可选择指定配置文件训练帐户。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限。
- en: If the optional *`user`* argument is not given, any previous *`user`* setting
    for the profile remains unchanged. To change the setting, call the function with
    a third argument.
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果未提供可选的*`user`*参数，则配置文件的先前*`user`*设置保持不变。要更改设置，请使用第三个参数调用该函数。
- en: 'If the optional *`user`* argument is given, it specifies the training account
    for the group profile, to be used when the profile is in `RECORDING` mode. The
    value is `NULL`, or a non-`NULL` account that has the format `*`user_name`*@*`host_name`*`:'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果提供了可选的*`user`*参数，则指定组配置文件的训练帐户，用于配置文件处于`RECORDING`模式时使用。该值为`NULL`，或具有格式`*`user_name`*@*`host_name`*`的非`NULL`帐户：
- en: If the value is `NULL`, the firewall records allowlist rules for statements
    received from any account that is a member of the group.
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果值为`NULL`，防火墙记录允许列表规则用于接收来自任何属于该组的帐户的语句。
- en: If the value is non-`NULL`, the firewall records allowlist rules only for statements
    received from the named account (which should be a member of the group).
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果值为非`NULL`，则防火墙仅记录来自命名帐户（应为组成员）的语句的允许列表规则。
- en: 'Example:'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE13]'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: This function was added in MySQL 8.0.23.
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数在MySQL 8.0.23中添加。
- en: Firewall Account Profile Functions
  id: totrans-177
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙帐户配置文件函数
- en: 'These functions perform management operations on firewall account profiles:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这些函数执行防火墙帐户配置文件的管理操作：
- en: '[`read_firewall_users(*`user`*, *`mode`*)`](firewall-reference.html#function_read-firewall-users)'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_firewall_users(*`user`*, *`mode`*)`](firewall-reference.html#function_read-firewall-users)'
- en: This aggregate function updates the firewall account profile cache through a
    `SELECT` statement on the `mysql.firewall_users` table. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege.
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此聚合函数通过对`mysql.firewall_users`表上的`SELECT`语句更新防火墙帐户配置文件缓存。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限或已弃用的[`SUPER`](privileges-provided.html#priv_super)权限。
- en: 'Example:'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE14]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: As of MySQL 8.0.26, this function is deprecated and subject to removal in a
    future MySQL version. See [Migrating Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.26版本，此函数已被弃用，并可能在未来的MySQL版本中被移除。请参阅[将帐户配置文件迁移到组配置文件](firewall-usage.html#firewall-account-profile-migration
    "将帐户配置文件迁移到组配置文件")。
- en: '[`read_firewall_whitelist(*`user`*, *`rule`*)`](firewall-reference.html#function_read-firewall-whitelist)'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`read_firewall_whitelist(*`user`*, *`rule`*)`](firewall-reference.html#function_read-firewall-whitelist)'
- en: This aggregate function updates the recorded-statement cache for the named account
    profile through a `SELECT` statement on the `mysql.firewall_whitelist` table.
    It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege.
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此聚合函数通过对`mysql.firewall_whitelist`表上的`SELECT`语句更新命名帐户配置文件的记录语句缓存。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限或已弃用的[`SUPER`](privileges-provided.html#priv_super)权限。
- en: 'Example:'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE15]'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: As of MySQL 8.0.26, this function is deprecated and subject to removal in a
    future MySQL version. See [Migrating Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.26版本，此函数已被弃用，并可能在未来的MySQL版本中被移除。请参阅[将帐户配置文件迁移到组配置文件](firewall-usage.html#firewall-account-profile-migration
    "将帐户配置文件迁移到组配置文件")。
- en: '[`set_firewall_mode(*`user`*, *`mode`*)`](firewall-reference.html#function_set-firewall-mode)'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`set_firewall_mode(*`user`*, *`mode`*)`](firewall-reference.html#function_set-firewall-mode)'
- en: This function manages the account profile cache and establishes the profile
    operational mode. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege.
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数管理帐户配置文件缓存并建立配置文件操作模式。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限或已弃用的[`SUPER`](privileges-provided.html#priv_super)权限。
- en: 'Example:'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE16]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: As of MySQL 8.0.26, this function is deprecated and subject to removal in a
    future MySQL version. See [Migrating Account Profiles to Group Profiles](firewall-usage.html#firewall-account-profile-migration
    "Migrating Account Profiles to Group Profiles").
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.26版本，此函数已被弃用，并可能在未来的MySQL版本中被移除。请参阅[将帐户配置文件迁移到组配置文件](firewall-usage.html#firewall-account-profile-migration
    "将帐户配置文件迁移到组配置文件")。
- en: Firewall Miscellaneous Functions
  id: totrans-194
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 防火墙杂项函数
- en: 'These functions perform miscellaneous firewall operations:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '这些函数执行各种防火墙操作:'
- en: '[`mysql_firewall_flush_status()`](firewall-reference.html#function_mysql-firewall-flush-status)'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`mysql_firewall_flush_status()`](firewall-reference.html#function_mysql-firewall-flush-status)'
- en: 'This function resets several firewall status variables to 0:'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数将多个防火墙状态变量重置为0：
- en: '[`Firewall_access_denied`](firewall-reference.html#statvar_Firewall_access_denied)'
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_access_denied`](firewall-reference.html#statvar_Firewall_access_denied)'
- en: '[`Firewall_access_granted`](firewall-reference.html#statvar_Firewall_access_granted)'
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_access_granted`](firewall-reference.html#statvar_Firewall_access_granted)'
- en: '[`Firewall_access_suspicious`](firewall-reference.html#statvar_Firewall_access_suspicious)'
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_access_suspicious`](firewall-reference.html#statvar_Firewall_access_suspicious)'
- en: This function requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege.
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限或已弃用的[`SUPER`](privileges-provided.html#priv_super)权限。
- en: 'Example:'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE17]'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '[`normalize_statement(*`stmt`*)`](firewall-reference.html#function_normalize-statement)'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`normalize_statement(*`stmt`*)`](firewall-reference.html#function_normalize-statement)'
- en: This function normalizes an SQL statement into the digest form used for allowlist
    rules. It requires the [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)
    privilege or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege.
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数将SQL语句规范化为用于允许列表规则的摘要形式。它需要[`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin)权限或已弃用的[`SUPER`](privileges-provided.html#priv_super)权限。
- en: 'Example:'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE18]'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Note
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: The same digest functionality is available outside firewall context using the
    [`STATEMENT_DIGEST_TEXT()`](encryption-functions.html#function_statement-digest-text)
    SQL function.
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 相同的摘要功能在防火墙上下文之外使用[`STATEMENT_DIGEST_TEXT()`](encryption-functions.html#function_statement-digest-text)
    SQL函数可用。
- en: MySQL Enterprise Firewall System Variables
  id: totrans-210
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL企业防火墙系统变量
- en: MySQL Enterprise Firewall supports the following system variables. Use them
    to configure firewall operation. These variables are unavailable unless the firewall
    is installed (see [Section 8.4.7.2, “Installing or Uninstalling MySQL Enterprise
    Firewall”](firewall-installation.html "8.4.7.2 Installing or Uninstalling MySQL
    Enterprise Firewall")).
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL企业防火墙支持以下系统变量。使用它们来配置防火墙操作。除非安装了防火墙（参见[第8.4.7.2节，“安装或卸载MySQL企业防火墙”](firewall-installation.html
    "8.4.7.2 安装或卸载MySQL企业防火墙")），否则这些变量不可用。
- en: '[`mysql_firewall_mode`](firewall-reference.html#sysvar_mysql_firewall_mode)'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`mysql_firewall_mode`](firewall-reference.html#sysvar_mysql_firewall_mode)'
- en: '| Command-Line Format | `--mysql-firewall-mode[={OFF&#124;ON}]` |'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--mysql-firewall-mode[={OFF&#124;ON}]` |'
- en: '| System Variable | `[mysql_firewall_mode](firewall-reference.html#sysvar_mysql_firewall_mode)`
    |'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[mysql_firewall_mode](firewall-reference.html#sysvar_mysql_firewall_mode)`
    |'
- en: '| Scope | Global |'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法")提示适用
    | 否 |'
- en: '| Type | Boolean |'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔值 |'
- en: '| Default Value | `ON` |'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `ON` |'
- en: Whether MySQL Enterprise Firewall is enabled (the default) or disabled.
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: MySQL企业防火墙是否启用（默认情况下）或禁用。
- en: '[`mysql_firewall_trace`](firewall-reference.html#sysvar_mysql_firewall_trace)'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`mysql_firewall_trace`](firewall-reference.html#sysvar_mysql_firewall_trace)'
- en: '| Command-Line Format | `--mysql-firewall-trace[={OFF&#124;ON}]` |'
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--mysql-firewall-trace[={OFF&#124;ON}]` |'
- en: '| System Variable | `[mysql_firewall_trace](firewall-reference.html#sysvar_mysql_firewall_trace)`
    |'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[mysql_firewall_trace](firewall-reference.html#sysvar_mysql_firewall_trace)`
    |'
- en: '| Scope | Global |'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法")提示适用
    | 否 |'
- en: '| Type | Boolean |'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔值 |'
- en: '| Default Value | `OFF` |'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `OFF` |'
- en: Whether the MySQL Enterprise Firewall trace is enabled or disabled (the default).
    When [`mysql_firewall_trace`](firewall-reference.html#sysvar_mysql_firewall_trace)
    is enabled, for `PROTECTING` mode, the firewall writes rejected statements to
    the error log.
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: MySQL企业防火墙跟踪是否启用或禁用（默认情况下）。当[`mysql_firewall_trace`](firewall-reference.html#sysvar_mysql_firewall_trace)启用时，在`PROTECTING`模式下，防火墙会将被拒绝的语句写入错误日志。
- en: MySQL Enterprise Firewall Status Variables
  id: totrans-230
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL企业防火墙状态变量
- en: MySQL Enterprise Firewall supports the following status variables. Use them
    to obtain information about firewall operational status. These variables are unavailable
    unless the firewall is installed (see [Section 8.4.7.2, “Installing or Uninstalling
    MySQL Enterprise Firewall”](firewall-installation.html "8.4.7.2 Installing or
    Uninstalling MySQL Enterprise Firewall")). Firewall status variables are set to
    0 whenever the `MYSQL_FIREWALL` plugin is installed or the server is started.
    Many of them are reset to zero by the [`mysql_firewall_flush_status()`](firewall-reference.html#function_mysql-firewall-flush-status)
    function (see [MySQL Enterprise Firewall Administrative Functions](firewall-reference.html#firewall-functions
    "MySQL Enterprise Firewall Administrative Functions")).
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL企业防火墙支持以下状态变量。使用它们来获取有关防火墙运行状态的信息。除非安装了防火墙（参见[第8.4.7.2节，“安装或卸载MySQL企业防火墙”](firewall-installation.html
    "8.4.7.2 安装或卸载MySQL企业防火墙")），否则这些变量不可用。防火墙状态变量在安装`MYSQL_FIREWALL`插件或启动服务器时被设置为0。许多变量通过[`mysql_firewall_flush_status()`](firewall-reference.html#function_mysql-firewall-flush-status)函数重置为零（参见[MySQL企业防火墙管理函数](firewall-reference.html#firewall-functions
    "MySQL企业防火墙管理函数")）。
- en: '[`Firewall_access_denied`](firewall-reference.html#statvar_Firewall_access_denied)'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_access_denied`](firewall-reference.html#statvar_Firewall_access_denied)'
- en: The number of statements rejected by MySQL Enterprise Firewall.
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 被MySQL企业防火墙拒绝的语句数量。
- en: '[`Firewall_access_granted`](firewall-reference.html#statvar_Firewall_access_granted)'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_access_granted`](firewall-reference.html#statvar_Firewall_access_granted)'
- en: The number of statements accepted by MySQL Enterprise Firewall.
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 被MySQL企业防火墙接受的语句数量。
- en: '[`Firewall_access_suspicious`](firewall-reference.html#statvar_Firewall_access_suspicious)'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_access_suspicious`](firewall-reference.html#statvar_Firewall_access_suspicious)'
- en: The number of statements logged by MySQL Enterprise Firewall as suspicious for
    users who are in `DETECTING` mode.
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: MySQL企业防火墙记录为可疑的语句数量，适用于处于`DETECTING`模式的用户。
- en: '[`Firewall_cached_entries`](firewall-reference.html#statvar_Firewall_cached_entries)'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`Firewall_cached_entries`](firewall-reference.html#statvar_Firewall_cached_entries)'
- en: The number of statements recorded by MySQL Enterprise Firewall, including duplicates.
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: MySQL企业防火墙记录的语句数量，包括重复的语句。
