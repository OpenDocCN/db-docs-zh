- en: Release History
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发布历史
- en: 原文：[https://sqlite.com/changes.html](https://sqlite.com/changes.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://sqlite.com/changes.html](https://sqlite.com/changes.html)
- en: This page provides a high-level summary of changes to SQLite. For more detail,
    see the Fossil checkin logs at [https://www.sqlite.org/src/timeline](https://www.sqlite.org/src/timeline)
    and [https://www.sqlite.org/src/timeline?t=release](https://www.sqlite.org/src/timeline?t=release).
    See the [chronology](chronology.html) a succinct listing of releases.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这一页提供了 SQLite 变更的高级摘要。更详细的信息，请查看 [https://www.sqlite.org/src/timeline](https://www.sqlite.org/src/timeline)
    和 [https://www.sqlite.org/src/timeline?t=release](https://www.sqlite.org/src/timeline?t=release)
    上的 Fossil 提交日志。参见 [chronology](chronology.html) 简明列出的发布。
- en: 2024-05-23 (3.46.0)
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2024-05-23 (3.46.0)
- en: 'Enhance [PRAGMA optimize](pragma.html#pragma_optimize) in multiple ways, to
    make it [simpler to use](lang_analyze.html#pragopt):'
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 多种方式增强 [PRAGMA optimize](pragma.html#pragma_optimize)，使其更加 [简单易用](lang_analyze.html#pragopt)：
- en: PRAGMA optimize automatically implements a temporary [analysis limit](pragma.html#pragma_analysis_limit)
    to prevent excess runtime on large databases.
  id: totrans-5
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: PRAGMA optimize 现在自动实施临时的 [分析限制](pragma.html#pragma_analysis_limit)，以防止大型数据库运行时过度消耗。
- en: Added the new 0x10000 bitmask option to check for updates on all tables.
  id: totrans-6
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的 0x10000 位掩码选项，用于检查所有表的更新。
- en: Automatically re-analyze tables that do not have sqlite_stat1 entries.
  id: totrans-7
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动重新分析没有 sqlite_stat1 条目的表。
- en: 'Enhancements to the [date and time functions](lang_datefunc.html):'
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [日期和时间函数](lang_datefunc.html) 的增强：
- en: The [strftime() SQL function](lang_datefunc.html#strftm) now supports %G, %g,
    %U, and %V.
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQL 函数 [strftime()](lang_datefunc.html#strftm) 现在支持 %G、%g、%U 和 %V。
- en: New modifiers 'ceiling' and 'floor' control the algorithm used to resolve [ambiguous
    dates](lang_datefunc.html#dtambg) when shifting a date by an integer number of
    months and/or years.
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的 'ceiling' 和 'floor' 修饰符控制了在将日期按整数月份和/或年份移动时解决 [模糊日期](lang_datefunc.html#dtambg)
    所使用的算法。
- en: The ['utc' and 'localtime' modifiers](lang_datefunc.html#localtime) are now
    no-ops if SQLite knows that the time is already in UTC or in the localtime, respectively.
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 SQLite 知道时间已经在 UTC 或 localtime 中，['utc' 和 'localtime' 修饰符](lang_datefunc.html#localtime)
    现在不起作用。
- en: Add support for underscore ("_") characters between digits in [numeric literals](lang_expr.html#litvalue).
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在 [数值文字](lang_expr.html#litvalue) 中的数字之间使用下划线 ("_") 字符。
- en: Add the [json_pretty()](json1.html#jpretty) SQL function.
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [json_pretty()](json1.html#jpretty) SQL 函数。
- en: 'Query planner improvements:'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询计划器的改进：
- en: The "VALUES-as-coroutine" optimization enables INSERT statements with thousands
    of rows in the VALUES clause to parse and run in about half the time and using
    about half as much memory.
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: “VALUES-as-coroutine” 优化使得 INSERT 语句中 VALUES 子句有数千行的情况下，解析和运行时间大约减少了一半，内存使用也减少了约一半。
- en: Allow the use of an index for queries like "SELECT count(DISTINCT col) FROM
    ...", even if the index records are not smaller than the table records.
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使索引记录不比表记录小，也允许在类似 "SELECT count(DISTINCT col) FROM ..." 的查询中使用索引。
- en: Improved recognition of cases where the value of an SQL function is constant
    because all its arguments are constant.
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了对 SQL 函数的值为常量的识别，因为其所有参数都是常量。
- en: Enhance the [WHERE-clause push-down optimization](optoverview.html#pushdown)
    so that it is able to push down WHERE clause terms containing uncorrelated subqueries.
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[WHERE 子句推入优化](optoverview.html#pushdown)，以便能够推送包含不相关子查询的 WHERE 子句项。
- en: Allocate additional memory from the heap for the SQL parser stack if that stack
    overflows, rather than reporting a "parser stack overflow" error.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果解析器堆栈溢出，为 SQL 解析器堆栈分配额外的内存，而不是报告“解析器堆栈溢出”错误。
- en: 'JSON changes:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: JSON 变更：
- en: Allow ASCII control characters within JSON5 string literals.
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在 JSON5 字符串文字中使用 ASCII 控制字符。
- en: Fix [the -> and ->> operators](json1.html#jptr) so that when the right-hand
    side operand is a string that looks like an integer it is still treated as a string,
    because that is what PostgreSQL does.
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[-> 和 ->> 运算符](json1.html#jptr)，以便当右操作数是看起来像整数的字符串时，仍将其视为字符串，因为这是 PostgreSQL
    的行为。
- en: Allow large hexadecimal literals to be used as the DEFAULT value to a table
    column.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许将大型十六进制文字用作表列的默认值。
- en: '**Hashes:**'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2024-05-23 13:25:27 96c92aba00c8375bc32fafcdf12429c58bd8aabfcadab6683e35bbb9cdebf19e'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2024-05-23 13:25:27 96c92aba00c8375bc32fafcdf12429c58bd8aabfcadab6683e35bbb9cdebf19e'
- en: 'SHA3-256 for sqlite3.c: 094429ea827fcd32275e767134bc6c7b9ea394a2c5a9e653dd0a0690b2c11358'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：094429ea827fcd32275e767134bc6c7b9ea394a2c5a9e653dd0a0690b2c11358
- en: 2024-04-15 (3.45.3)
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2024-04-15（3.45.3）
- en: Fix a long-standing bug (going back to [version 3.24.0](#version_3_24_0)) that
    might (rarely) cause the "old.*" values of an [UPDATE trigger](lang_createtrigger.html)
    to be incorrect if that trigger fires in response to an [UPSERT](lang_upsert.html).
    [Forum post 284955a3cd454a15](https://sqlite.org/forum/forumpost/284955a3cd454a15).
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个长期存在的错误（追溯到[版本 3.24.0](#version_3_24_0)），如果触发器在响应[UPSERT](lang_upsert.html)时触发，可能会（很少）导致[UPDATE
    触发器](lang_createtrigger.html)的“old.*”值不正确。[论坛帖子 284955a3cd454a15](https://sqlite.org/forum/forumpost/284955a3cd454a15)。
- en: Fix a bug in [sum()](lang_aggfunc.html#sumunc) that could cause it to return
    NULL when it should return Infinity. [Forum post 23b8688ef4](https://sqlite.org/forum/forumpost/23b8688ef4).
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[sum()](lang_aggfunc.html#sumunc)中的一个错误，可能导致它返回 NULL，而应该返回 Infinity。[论坛帖子
    23b8688ef4](https://sqlite.org/forum/forumpost/23b8688ef4)。
- en: Other trifling corrections and compiler warning fixes that have come up since
    the previous patch release. See the [timeline](https://sqlite.org/src/timeline?from=version-3.45.2&to=version-3.45.3&to2=branch-3.45)
    for details.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他琐事修正和编译器警告修复，这些问题是自上一个补丁发布以来出现的。有关详情，请参见[timeline](https://sqlite.org/src/timeline?from=version-3.45.2&to=version-3.45.3&to2=branch-3.45)。
- en: '**Hashes:**'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2024-04-15 13:34:05 8653b758870e6ef0c98d46b3ace27849054af85da891eb121e9aaa537f1e8355'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2024-04-15 13:34:05 8653b758870e6ef0c98d46b3ace27849054af85da891eb121e9aaa537f1e8355'
- en: 'SHA3-256 for sqlite3.c: 21dbe688a71b449d28e2a8ec6a43e7520e54df456e02b6d4f6a1d1c7a998c826'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：21dbe688a71b449d28e2a8ec6a43e7520e54df456e02b6d4f6a1d1c7a998c826
- en: 2024-03-12 (3.45.2)
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2024-03-12（3.45.2）
- en: Fix an error in [UPSERT](lang_upsert.html), introduced by enhancement 3a in
    [version 3.35.0](#version_3_35_0) (2021-03-12), that could cause an index to get
    out-of-sync with its table. [Forum thread 919c6579c8](https://sqlite.org/forum/forumpost/919c6579c8).
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[UPSERT](lang_upsert.html)中的错误，该错误由[版本 3.35.0](#version_3_35_0)（2021-03-12）的增强
    3a 引入，可能导致索引与其表不同步。[论坛主题 919c6579c8](https://sqlite.org/forum/forumpost/919c6579c8)。
- en: Reduce the scope of the NOT NULL strength reduction optimization that was added
    as item 8e in [version 3.35.0](#version_3_35_0) (2021-03-12). The optimization
    was being attempted in some contexts where it did not work, resulting in incorrect
    query results. [Forum thread 440f2a2f17](https://sqlite.org/forum/forumpost/440f2a2f17).
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 减少了在[版本 3.35.0](#version_3_35_0)（2021-03-12）中作为 8e 项目添加的 NOT NULL 强度减少优化的范围。该优化在某些情况下尝试，但导致查询结果不正确。[论坛主题
    440f2a2f17](https://sqlite.org/forum/forumpost/440f2a2f17)。
- en: Other trifling corrections and compiler warning fixes that have come up since
    the previous patch release. See the [timeline](https://sqlite.org/src/timeline?from=version-3.45.1&to=version-3.45.2&to2=branch-3.45)
    for details.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他琐碎的更正和编译器警告修复，这些都是自上一个补丁发布以来出现的。请参阅[时间轴](https://sqlite.org/src/timeline?from=version-3.45.1&to=version-3.45.2&to2=branch-3.45)获取详细信息。
- en: '**Hashes:**'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2024-03-12 11:06:23 d8cd6d49b46a395b13955387d05e9e1a2a47e54fb99f3c9b59835bbefad6af77"'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2024-03-12 11:06:23 d8cd6d49b46a395b13955387d05e9e1a2a47e54fb99f3c9b59835bbefad6af77"
- en: 'SHA3-256 for sqlite3.c: bd76ad2dc9cde151e469e86627a7e8753aa8ef1a6f657c5a80ba48324b53226b'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为 bd76ad2dc9cde151e469e86627a7e8753aa8ef1a6f657c5a80ba48324b53226b
- en: 2024-01-30 (3.45.1)
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2024-01-30 (3.45.1)
- en: Restore the [JSON BLOB input bug](json1.html#jblobbug), and promise to support
    the anomaly in subsequent releases, for backward compatibility.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[JSON BLOB 输入 bug](json1.html#jblobbug)，并承诺在后续版本中支持此异常，以保证向后兼容性。
- en: Fix the [PRAGMA integrity_check](pragma.html#pragma_integrity_check) command
    so that it works on read-only databases that contain FTS3 and FTS5 tables. This
    resolves an issue introduced in [version 3.44.0](#version_3_44_0) but was undiscovered
    until after the 3.45.0 release.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[PRAGMA integrity_check](pragma.html#pragma_integrity_check)命令，使其在包含 FTS3
    和 FTS5 表的只读数据库上正常工作。这解决了在[版本 3.44.0](#version_3_44_0)引入的问题，但是直到 3.45.0 发布后才被发现。
- en: 'Fix issues associated with processing corrupt [JSONB](json1.html#jsonbx) inputs:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了处理损坏的[JSONB](json1.html#jsonbx)输入时的问题：
- en: Prevent exponential runtime when converting a corrupt JSONB into text.
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 防止将损坏的 JSONB 转换为文本时出现指数级运行时间。
- en: Fix a possible read of one byte past the end of the JSONB blob when converting
    a corrupt JSONB into text.
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在将损坏的 JSONB 转换为文本时可能读取 JSONB blob 结尾之后一个字节的错误。
- en: Enhanced testing using [jfuzz](testing.html#dbsqlfuzz) to prevent any future
    JSONB problems such as the above.
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用[jfuzz](testing.html#dbsqlfuzz)进行增强测试，以防止未来可能出现的 JSONB 问题，如上述问题。
- en: Fix a long-standing bug in which a read of a few bytes past the end of a memory-mapped
    segment might occur when accessing a craftily corrupted database using [memory-mapped
    database](pragma.html#pragma_mmap_size).
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个长期存在的 bug，在访问使用[内存映射数据库](pragma.html#pragma_mmap_size)时，可能会在内存映射段的末尾读取几个字节的
    bug。
- en: Fix a long-standing bug in which a NULL pointer dereference might occur in the
    [bytecode engine](opcode.html) due to incorrect bytecode being generated for a
    class of SQL statements that are deliberately designed to stress the query planner
    but which are otherwise pointless.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个长期存在的 bug，由于针对一类故意设计来测试查询规划器但在其他情况下毫无意义的 SQL 语句生成了错误的字节码，可能会导致[字节码引擎](opcode.html)发生空指针解引用。
- en: '**Hashes:**'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2024-01-30 16:01:20 e876e51a0ed5c5b3126f52e532044363a014bc594cfefa87ffb5b82257cc467a'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2024-01-30 16:01:20 e876e51a0ed5c5b3126f52e532044363a014bc594cfefa87ffb5b82257cc467a
- en: 'SHA3-256 for sqlite3.c: 0474604df9e1b69a5544295dd046aad954749279780d557da80f44b958100295'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：0474604df9e1b69a5544295dd046aad954749279780d557da80f44b958100295
- en: 2024-01-15 (3.45.0)
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2024-01-15 (3.45.0)
- en: Added the [SQLITE_RESULT_SUBTYPE](c3ref/c_deterministic.html#sqliteresultsubtype)
    property for [application-defined SQL functions](appfunc.html). All application
    defined SQL functions that invokes [sqlite3_result_subtype()](c3ref/result_subtype.html)
    must be registered with this new property. Failure to do so might cause the call
    to sqlite3_result_subtype() to behave as a no-op. Compile with [-DSQLITE_STRICT_SUBTYPE=1](compile.html#strict_subtype)
    to cause an SQL error to be raised if a function that is not [SQLITE_RESULT_SUBTYPE](c3ref/c_deterministic.html#sqliteresultsubtype)
    tries invokes [sqlite3_result_subtype()](c3ref/result_subtype.html). The use of
    [-DSQLITE_STRICT_SUBTYPE=1](compile.html#strict_subtype) is a recommended compile-time
    option for every application that makes use of subtypes.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[应用定义的 SQL 函数](appfunc.html)添加了[SQLITE_RESULT_SUBTYPE](c3ref/c_deterministic.html#sqliteresultsubtype)属性。所有调用[sqlite3_result_subtype()](c3ref/result_subtype.html)的应用定义的
    SQL 函数必须注册这个新属性。如果未这样做，可能导致对 sqlite3_result_subtype() 的调用行为像是一个无操作。使用[-DSQLITE_STRICT_SUBTYPE=1](compile.html#strict_subtype)进行编译，如果一个不是[SQLITE_RESULT_SUBTYPE](c3ref/c_deterministic.html#sqliteresultsubtype)的函数调用了[sqlite3_result_subtype()](c3ref/result_subtype.html)，则会引发
    SQL 错误。对于每个使用子类型的应用程序，推荐使用[-DSQLITE_STRICT_SUBTYPE=1](compile.html#strict_subtype)作为编译时选项。
- en: 'Enhancements to the [JSON SQL functions](json1.html):'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[JSON SQL 函数](json1.html)进行了增强：
- en: All JSON functions are rewritten to use a new internal parse tree format called
    [JSONB](json1.html#jsonbx). The new parse-tree format is serializable and hence
    can be stored in the database to avoid unnecessary re-parsing whenever the JSON
    value is used.
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有 JSON 函数都被重写以使用一种称为[JSONB](json1.html#jsonbx)的新内部解析树格式。这种新的解析树格式是可序列化的，因此可以存储在数据库中，以避免每次使用
    JSON 值时都进行不必要的重新解析。
- en: New versions of JSON-generating functions generate binary JSONB instead of JSON
    text.
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新版本的生成 JSON 的函数生成二进制 JSONB 而不是 JSON 文本。
- en: The [json_valid()](json1.html#jvalid) function adds an optional second argument
    that specifies what it means for the first argument to be "well-formed".
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[json_valid()](json1.html#jvalid) 函数新增了一个可选的第二参数，用于指定第一个参数“格式良好”的含义。'
- en: Add the [FTS5 tokendata option](fts5.html#the_tokendata_option) to the [FTS5](fts5.html)
    virtual table.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [FTS5 tokendata 选项](fts5.html#the_tokendata_option) 添加到 [FTS5](fts5.html)
    虚拟表中。
- en: The [SQLITE_DIRECT_OVERFLOW_READ](compile.html#direct_overflow_read) optimization
    is now enabled by default. Disable it at compile-time using -DSQLITE_DIRECT_OVERFLOW_READ=0.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在默认启用了 [SQLITE_DIRECT_OVERFLOW_READ](compile.html#direct_overflow_read) 优化。在编译时使用
    -DSQLITE_DIRECT_OVERFLOW_READ=0 可以禁用它。
- en: 'Query planner improvements:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器改进：
- en: Do not allow the transitive constraint optimization to trick the query planner
    into using a range constraint when a better equality constraint is available.
    ([Forum post 2568d1f6e6](https://sqlite.org/forum/forumpost/2568d1f6e6).)
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当更好的等式约束可用时，不允许传递约束优化欺骗查询规划器使用范围约束。([Forum post 2568d1f6e6](https://sqlite.org/forum/forumpost/2568d1f6e6).)
- en: The query planner now does a better job of disregarding indexes that [ANALYZE](lang_analyze.html)
    identifies as low-quality. ([Forum post 6f0958b03b](https://sqlite.org/forum/forumpost/6f0958b03b).)
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在在忽略 [ANALYZE](lang_analyze.html) 标识为低质量的索引方面做得更好。([Forum post 6f0958b03b](https://sqlite.org/forum/forumpost/6f0958b03b).)
- en: Increase the default value for [SQLITE_MAX_PAGE_COUNT](limits.html#max_page_count)
    from 1073741824 to 4294967294.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [SQLITE_MAX_PAGE_COUNT](limits.html#max_page_count) 的默认值从 1073741824 增加到 4294967294。
- en: 'Enhancements to the [CLI](cli.html):'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [CLI](cli.html) 进行了增强：
- en: Improvements to the display of UTF-8 content on Windows
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了在 Windows 上显示 UTF-8 内容的方法。
- en: Automatically detect playback of ".dump" scripts and make appropriate changes
    to settings such as ".dbconfig defensive off" and ".dbconfig dqs_dll on".
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动检测 ".dump" 脚本的播放并根据需要更改设置，如 ".dbconfig defensive off" 和 ".dbconfig dqs_dll
    on"。
- en: '**Hashes:**'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2024-01-15 17:01:13 1066602b2b1976fe58b5150777cced894af17c803e068f5918390d6915b46e1d'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2024-01-15 17:01:13 1066602b2b1976fe58b5150777cced894af17c803e068f5918390d6915b46e1d'
- en: 'SHA3-256 for sqlite3.c: f56d8e5e8c61d87b957f1cc60b3042c134d7bc0ca3aba002e6999e8f0af310a3'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA3-256: f56d8e5e8c61d87b957f1cc60b3042c134d7bc0ca3aba002e6999e8f0af310a3'
- en: 2023-11-24 (3.44.2)
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-11-24 (3.44.2)
- en: Fix a mistake in the [CLI](cli.html) that was introduced by the fix (item 15
    above) in 3.44.1.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 3.44.1 中修复的 [CLI](cli.html) 中的错误。
- en: Fix a problem in FTS5 that was discovered during internal fuzz testing only
    minutes after the 3.44.1 release was tagged.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 3.44.1 版本发布标签后几分钟内在内部模糊测试中发现的 FTS5 中的问题。
- en: Fix incomplete assert() statements that the fuzzer discovered the day after
    the previous release.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在上一个版本发布后的第二天由模糊测试器发现的不完整的 assert() 语句。
- en: Fix a couple of harmless compiler warnings that appeared in debug builds with
    GCC 16.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在使用 GCC 16 进行调试构建时出现的几个无害的编译器警告。
- en: '**Hashes:**'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f'
- en: 'SHA3-256 for sqlite3.c: bd70b012e2d1b3efa132d905224cd0ab476a69b892f8c6b21135756ec7ffbb13'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256值：bd70b012e2d1b3efa132d905224cd0ab476a69b892f8c6b21135756ec7ffbb13
- en: 2023-11-22 (3.44.1)
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-11-22 (3.44.1)
- en: Change the [CLI](cli.html) so that it uses UTF-16 for console I/O on Windows.
    This enables proper display of unicode text on old Windows7 machines.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改[CLI](cli.html)以在Windows上的控制台I/O中使用UTF-16。这使得旧的Windows7机器能够正确显示Unicode文本。
- en: Other obscure bug fixes.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他一些不常见的错误修复。
- en: '**Hashes:**'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2023-11-22 14:18:12 d295f48e8f367b066b881780c98bdf980a1d550397d5ba0b0e49842c95b3e8b4'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-11-22 14:18:12 d295f48e8f367b066b881780c98bdf980a1d550397d5ba0b0e49842c95b3e8b4'
- en: 'SHA3-256 for sqlite3.c: e359dc502a73f3a8ad8e976a51231134d25cb93ad557a724dd92fe0c5897113a'
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256值：e359dc502a73f3a8ad8e976a51231134d25cb93ad557a724dd92fe0c5897113a
- en: 2023-11-01 (3.44.0)
  id: totrans-85
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-11-01 (3.44.0)
- en: '[Aggregate functions](lang_aggfunc.html) can now include an ORDER BY clause
    after their last parameter. The arguments to the function are processed in the
    order specified. This can be important for functions like [string_agg()](lang_aggfunc.html#group_concat)
    and [json_group_array()](json1.html#jgrouparray).'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 聚合函数现在可以在其最后一个参数后包含ORDER BY子句。函数的参数按指定顺序处理。这对于像[string_agg()](lang_aggfunc.html#group_concat)和[json_group_array()](json1.html#jgrouparray)这样的函数非常重要。
- en: Add support for the [concat()](lang_corefunc.html#concat) and [concat_ws()](lang_corefunc.html#concat_ws)
    scalar SQL functions, compatible with PostgreSQL, SQLServer, and MySQL.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对[concat()](lang_corefunc.html#concat)和[concat_ws()](lang_corefunc.html#concat_ws)标量SQL函数的支持，兼容PostgreSQL、SQLServer和MySQL。
- en: Add support for the [string_agg()](lang_aggfunc.html#group_concat) aggregate
    SQL function, compatible with PostgreSQL and SQLServer.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对[string_agg()](lang_aggfunc.html#group_concat)聚合SQL函数的支持，兼容PostgreSQL和SQLServer。
- en: 'New conversion letters on the [strftime() SQL function](lang_datefunc.html#strftm):
    %e %F %I %k %l %p %P %R %T %u'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[strftime() SQL函数](lang_datefunc.html#strftm)上增加了新的转换字符：%e %F %I %k %l %p %P
    %R %T %u'
- en: 'Add new C-language APIs: [sqlite3_get_clientdata()](c3ref/get_clientdata.html)
    and [sqlite3_set_clientdata()](c3ref/get_clientdata.html).'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了新的C语言API：[sqlite3_get_clientdata()](c3ref/get_clientdata.html) 和 [sqlite3_set_clientdata()](c3ref/get_clientdata.html)。
- en: Many errors associated with CREATE TABLE are now raised when the CREATE TABLE
    statement itself is run, rather than being deferred until the first time the table
    is actually used.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在在运行CREATE TABLE语句本身时，会引发与CREATE TABLE相关的许多错误，而不是在实际使用表格时延迟处理。
- en: The [PRAGMA integrity_check](pragma.html#pragma_integrity_check) command now
    verifies the consistency of the content in various built-in [virtual tables](vtab.html)
    using the new [xIntegrity method](vtab.html#xintegrity). This works for the [FTS3](fts3.html),
    [FTS4](fts3.html#fts4), [FTS5](fts5.html), [RTREE](rtree.html), and [GEOPOLY](geopoly.html)
    extensions.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PRAGMA integrity_check](pragma.html#pragma_integrity_check)命令现在使用新的[xIntegrity方法](vtab.html#xintegrity)验证各种内置虚拟表中内容的一致性。这适用于[FTS3](fts3.html)、[FTS4](fts3.html#fts4)、[FTS5](fts5.html)、[RTREE](rtree.html)和[GEOPOLY](geopoly.html)扩展。'
- en: The [SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)
    setting now prevents [PRAGMA writable_schema](pragma.html#pragma_writable_schema)
    from being turned on. Previously writable_schema could be turned on, but would
    not actually allow the schema to be writable. Now it simply cannot be turned on.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，[SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)
    设置阻止了[PRAGMA writable_schema](pragma.html#pragma_writable_schema) 的开启。以前，writable_schema
    可以被开启，但实际上不允许模式可写。现在，它根本无法被开启。
- en: Tag the built-in [FTS3](fts3.html), [FTS4](fts3.html#fts4), [FTS5](fts5.html),
    [RTREE](rtree.html), and [GEOPOLY](geopoly.html) virtual tables as [SQLITE_VTAB_INNOCUOUS](c3ref/c_vtab_constraint_support.html#sqlitevtabinnocuous)
    so that they can be used inside of triggers in high-security deployments.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将内置的[FTS3](fts3.html)，[FTS4](fts3.html#fts4)，[FTS5](fts5.html)，[RTREE](rtree.html)
    和 [GEOPOLY](geopoly.html) 虚拟表标记为[SQLITE_VTAB_INNOCUOUS](c3ref/c_vtab_constraint_support.html#sqlitevtabinnocuous)，以便它们可以在高安全性部署的触发器中使用。
- en: The [PRAGMA case_sensitive_like](pragma.html#pragma_case_sensitive_like) statement
    is deprecated, as its use when the schema contains LIKE operators can lead to
    reports of database corruption by [PRAGMA integrity_check](pragma.html#pragma_integrity_check).
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PRAGMA case_sensitive_like](pragma.html#pragma_case_sensitive_like) 语句已弃用，因为在模式包含
    LIKE 操作符时使用它可能会导致通过[PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    报告数据库损坏。'
- en: '[SQLITE_USE_SEH](compile.html#use_seh) (Structured Exception Handling) is now
    enabled by default whenever SQLite is built using the Microsoft C compiler. It
    can be disabled using -D[SQLITE_OMIT_SEH](compile.html#omit_seh).'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLITE_USE_SEH](compile.html#use_seh)（结构化异常处理）现在在使用 Microsoft C 编译器构建 SQLite
    时默认启用。可以使用 -D[SQLITE_OMIT_SEH](compile.html#omit_seh) 来禁用它。'
- en: 'Query planner optimizations:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器优化：
- en: In partial index scans, if the WHERE clause implies a constant value for a table
    column, replace occurrences of that table column with the constant. This increases
    the likelihood of the partial index being a covering index.
  id: totrans-98
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在部分索引扫描中，如果 WHERE 子句意味着表列的常量值，则用常量替换该表列的出现。这增加了部分索引成为覆盖索引的可能性。
- en: Disable the view-scan optimization (added in [version 3.42.0](#version_3_42_0)
    - item 1c) as it was causing multiple performance regressions. In its place, reduce
    the estimated row count for DISTINCT subqueries by a factor of 8.
  id: totrans-99
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 禁用视图扫描优化（添加于[版本 3.42.0](#version_3_42_0) - 项目 1c），因为它导致多个性能回退。取而代之，将 DISTINCT
    子查询的预估行数减少8倍。
- en: SQLite now performs run-time detection of whether or not the underlying hardware
    supports "long double" with precision greater than "double" and uses appropriate
    floating-point routines depending on what it discovered.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLite 现在在运行时检测底层硬件是否支持比 "double" 精度更高的 "long double"，并根据其发现使用适当的浮点数例程。
- en: The [CLI](cli.html) for Windows now defaults to using UTF-8 for both input and
    output on platforms that support it. The --no-utf8 option is available to disable
    UTF8 support.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows 版的[CLI](cli.html) 现在默认在支持的平台上使用 UTF-8 进行输入和输出。--no-utf8 选项可用于禁用 UTF8
    支持。
- en: '**Hashes:**'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2023-11-01 11:23:50 17129ba1ff7f0daf37100ee82d507aef7827cf38de1866e2633096ae6ad8130'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-11-01 11:23:50 17129ba1ff7f0daf37100ee82d507aef7827cf38de1866e2633096ae6ad8130'
- en: 'SHA3-256 for sqlite3.c: d9e6530096136067644b1cb2057b3b0fa51070df99ec61971f73c9ba6aa9a36e'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为：d9e6530096136067644b1cb2057b3b0fa51070df99ec61971f73c9ba6aa9a36e
- en: 2023-10-10 (3.43.2)
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-10-10 (3.43.2)
- en: Fix a couple of obscure UAF errors and an obscure memory leak.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了几个晦涩的 UAF 错误和一个晦涩的内存泄漏。
- en: Omit the use of the sprintf() function from the standard library in the [CLI](cli.html),
    as this now generates warnings on some platforms.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从标准库中省略使用 [CLI](cli.html) 中的 sprintf() 函数，因为在某些平台上现在会生成警告。
- en: Avoid conversion of a double into unsigned long long integer, as some platforms
    do not do such conversions correctly.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免将 double 类型转换为 unsigned long long 整数，因为某些平台不能正确进行此类转换。
- en: '**Hashes:**'
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2023-10-10 12:14:04 4310099cce5a487035fa535dd3002c59ac7f1d1bec68d7cf317fd3e769484790'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-10-10 12:14:04 4310099cce5a487035fa535dd3002c59ac7f1d1bec68d7cf317fd3e769484790'
- en: 'SHA3-256 for sqlite3.c: e17a3dc69330bd109256fb5a6e2b3ce8fbec48892a800389eb7c0f8856703161'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为：e17a3dc69330bd109256fb5a6e2b3ce8fbec48892a800389eb7c0f8856703161
- en: 2023-09-11 (3.43.1)
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-09-11 (3.43.1)
- en: Fix a regression in the way that the [sum()](lang_aggfunc.html#sumunc), [avg()](lang_aggfunc.html#avg),
    and [total()](lang_aggfunc.html#sumunc) aggregate functions handle infinities.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sum()](lang_aggfunc.html#sumunc)、[avg()](lang_aggfunc.html#avg) 和 [total()](lang_aggfunc.html#sumunc)
    聚合函数处理无穷大值的回归问题。
- en: Fix a bug in the [json_array_length()](json1.html#jarraylen) function that occurs
    when the argument comes directly from [json_remove()](json1.html#jrm).
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [json_array_length()](json1.html#jarraylen) 函数的一个 bug，当参数直接来自 [json_remove()](json1.html#jrm)
    时会出现该 bug。
- en: Fix the omit-unused-subquery-columns optimization (introduced in in version
    3.42.0) so that it works correctly if the subquery is a compound where one arm
    is DISTINCT and the other is not.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在版本 3.42.0 中引入的省略未使用子查询列优化，以便在子查询是一个其中一个 arm 是 DISTINCT 而另一个不是的复合情况下正确工作。
- en: Other minor fixes.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要修复。
- en: '**Hashes:**'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2023-09-11 12:01:27 2d3a40c05c49e1a49264912b1a05bc2143ac0e7c3df588276ce80a4cbc9bd1b0'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-09-11 12:01:27 2d3a40c05c49e1a49264912b1a05bc2143ac0e7c3df588276ce80a4cbc9bd1b0'
- en: 'SHA3-256 for sqlite3.c: 391af0a4755e31ae8b29776a4a060b678823ffe4c4db558567567c688a578589'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为：391af0a4755e31ae8b29776a4a060b678823ffe4c4db558567567c688a578589
- en: 2023-08-24 (3.43.0)
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-08-24 (3.43.0)
- en: Add support for [Contentless-Delete FTS5 Indexes](fts5.html#clssdeltab). This
    is a variety of [FTS5](fts5.html) full-text search index that omits storing the
    content that is being indexed while also allowing records to be deleted.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [Contentless-Delete FTS5 索引](fts5.html#clssdeltab) 的支持。这是一种 [FTS5](fts5.html)
    全文搜索索引的变体，它在索引内容时省略存储内容，同时允许记录被删除。
- en: 'Enhancements to the [date and time functions](lang_datefunc.html):'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [日期和时间函数](lang_datefunc.html)：
- en: Added new [time shift modifiers](lang_datefunc.html#tmshf) of the form `±YYYY-MM-DD
    HH:MM:SS.SSS`.
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的时间偏移修饰符，形式为 `±YYYY-MM-DD HH:MM:SS.SSS`。
- en: Added the [timediff() SQL function](lang_datefunc.html#tmdif).
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [timediff() SQL 函数](lang_datefunc.html#tmdif)。
- en: Added the [octet_length(X)](lang_corefunc.html#octet_length) SQL function.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [octet_length(X)](lang_corefunc.html#octet_length) SQL 函数。
- en: Added the [sqlite3_stmt_explain()](c3ref/stmt_explain.html) API.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_stmt_explain()](c3ref/stmt_explain.html) API。
- en: 'Query planner enhancements:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询计划增强：
- en: Generalize the LEFT JOIN strength reduction optimization so that it works for
    RIGHT and FULL JOINs as well. Rename it to [OUTER JOIN strength reduction](optoverview.html#leftjoinreduction).
  id: totrans-128
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 泛化了 LEFT JOIN 强度降低优化，使其也适用于 RIGHT 和 FULL JOINs。将其重命名为 [OUTER JOIN 强度降低](optoverview.html#leftjoinreduction)。
- en: Enhance the theorem prover in the [OUTER JOIN strength reduction](optoverview.html#leftjoinreduction)
    optimization so that it returns fewer false-negatives.
  id: totrans-129
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 OUTER JOIN 强度降低优化的定理证明器中增强，以减少虚假阴性。
- en: 'Enhancements to the [decimal extension](floatingpoint.html#decext):'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[十进制扩展](floatingpoint.html#decext) 的增强：'
- en: New function decimal_pow2(N) returns the N-th power of 2 for integer N between
    -20000 and +20000.
  id: totrans-131
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新函数 decimal_pow2(N) 返回整数 N（取值范围为 -20000 到 +20000）的第 N 次幂的 2。
- en: New function decimal_exp(X) works like decimal(X) except that it returns the
    result in exponential notation - with a "e+NN" at the end.
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新函数 decimal_exp(X) 的功能类似于 decimal(X)，但它以指数表示返回结果，末尾带有 "e+NN"。
- en: If X is a floating-point value, then the decimal(X) function now does a full
    expansion of that value into its exact decimal equivalent.
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 X 是浮点数值，则 decimal(X) 函数现在完全展开该值为其精确的十进制等价值。
- en: Performance enhancements to [JSON processing](json1.html) results in a 2x performance
    improvement for some kinds of processing on large JSON strings.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于大型 JSON 字符串的某些处理，[JSON 处理](json1.html) 的性能提升导致某些处理类型的性能提升了 2 倍。
- en: New makefile target "verify-source" checks to ensure that there are no unintentional
    changes in the source tree. (Works for [canonical source code](getthecode.html)
    only - not for [precompiled amalgamation tarballs](amalgamation.html#amalgtarball).)
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的 makefile 目标 "verify-source" 用于检查源树中是否有意外更改。（仅适用于 [标准源代码](getthecode.html)，不适用于
    [预编译的合并压缩包](amalgamation.html#amalgtarball)。）
- en: Added the [SQLITE_USE_SEH](compile.html#use_seh) compile-time option that enables
    Structured Exception Handling on Windows while working with the memory-mapped
    [shm file](walformat.html#shm) that is part of [WAL mode](wal.html) processing.
    This option is enabled by default when building on Windows using Makefile.msc.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_USE_SEH](compile.html#use_seh) 编译时选项，该选项在 Windows 上使用内存映射的 [shm
    文件](walformat.html#shm)（作为 [WAL 模式](wal.html) 的一部分）时启用结构化异常处理。在使用 Makefile.msc
    在 Windows 上构建时，默认启用此选项。
- en: The [VFS](vfs.html) for unix now assumes that the nanosleep() system call is
    available unless compiled with -DHAVE_NANOSLEEP=0.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Unix 的 [VFS](vfs.html) 现在默认假定 nanosleep() 系统调用可用，除非使用 -DHAVE_NANOSLEEP=0 编译。
- en: '**Hashes:**'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2023-08-24 12:36:59 0f80b798b3f4b81a7bb4233c58294edd0f1156f36b6ecf5ab8e83631d468778c'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2023-08-24 12:36:59 0f80b798b3f4b81a7bb4233c58294edd0f1156f36b6ecf5ab8e83631d468778c
- en: 'SHA3-256 for sqlite3.c: a6fc5379891d77b69a7d324cd24a437307af66cfdc3fef5dfceec3c82c8d4078'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：a6fc5379891d77b69a7d324cd24a437307af66cfdc3fef5dfceec3c82c8d4078
- en: 2023-05-16 (3.42.0)
  id: totrans-141
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-05-16 (3.42.0)
- en: Add the [FTS5 secure-delete command](fts5.html#the_secure_delete_configuration_option).
    This option causes all forensic traces to be removed from the FTS5 inverted index
    when content is deleted.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 [FTS5 安全删除命令](fts5.html#the_secure_delete_configuration_option)。此选项在删除内容时会从
    FTS5 倒排索引中删除所有法医痕迹。
- en: Enhance the [JSON SQL functions](json1.html) to support [JSON5 extensions](json1.html#json5).
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进 [JSON SQL 函数](json1.html)，以支持 [JSON5 扩展](json1.html#json5)。
- en: The [SQLITE_CONFIG_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog)
    and [SQLITE_CONFIG_PCACHE_HDRSZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpcachehdrsz)
    calls to [sqlite3_config()](c3ref/config.html) are now allowed to occur *after*
    [sqlite3_initialize()](c3ref/initialize.html).
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLITE_CONFIG_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog)
    和 [SQLITE_CONFIG_PCACHE_HDRSZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpcachehdrsz)
    调用现在允许在 [sqlite3_initialize()](c3ref/initialize.html) 之后 *进行*。'
- en: 'New [sqlite3_db_config()](c3ref/db_config.html) options: [SQLITE_DBCONFIG_STMT_SCANSTATUS](c3ref/c_dbconfig_defensive.html#sqlitedbconfigstmtscanstatus)
    and [SQLITE_DBCONFIG_REVERSE_SCANORDER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigreversescanorder).'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的 [sqlite3_db_config()](c3ref/db_config.html) 选项：[SQLITE_DBCONFIG_STMT_SCANSTATUS](c3ref/c_dbconfig_defensive.html#sqlitedbconfigstmtscanstatus)
    和 [SQLITE_DBCONFIG_REVERSE_SCANORDER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigreversescanorder)。
- en: 'Query planner improvements:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器改进：
- en: Enable the "count-of-view" optimization by default.
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认启用“视图计数”优化。
- en: Avoid computing unused columns in subqueries.
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在子查询中计算未使用的列。
- en: Improvements to the [WHERE-clause push-down optimization](optoverview.html#pushdown).
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进 [WHERE 子句推送优化](optoverview.html#pushdown)。
- en: 'Enhancements to the [CLI](cli.html):'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html) 的增强功能：'
- en: 'Add the --unsafe-testing command-line option. Without this option, some dot-commands
    (ex: ".testctrl") are now disabled because those commands that are intended for
    testing only and can cause malfunctions if misused.'
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 --unsafe-testing 命令行选项。如果没有此选项，则某些点命令（例如 ".testctrl"）现在被禁用，因为这些命令仅用于测试，如果被误用可能会导致故障。
- en: Allow commands ".log on" and ".log off", even in --safe mode.
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使在 --safe 模式下，也允许命令 ".log on" 和 ".log off"。
- en: '"--" as a command-line argument means all subsequent arguments that start with
    "-" are interpreted as normal non-option argument.'
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"--" 作为命令行参数意味着所有以 "-" 开头的后续参数都被解释为普通的非选项参数。'
- en: Magic parameters ":inf" and ":nan" bind to floating point literals Infinity
    and NaN, respectively.
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 魔术参数 ":inf" 和 ":nan" 绑定到浮点文字 Infinity 和 NaN。
- en: The --utf8 command-line option omits all translation to or from MBCS on the
    Windows console for interactive sessions, and sets the console code page for UTF-8
    I/O during such sessions. The --utf8 option is a no-op on all other platforms.
  id: totrans-155
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: --utf8 命令行选项在 Windows 控制台的交互会话中省略所有与 MBCS 的转换，并在这些会话期间为 UTF-8 I/O 设置控制台代码页。在所有其他平台上，--utf8
    选项是一个无操作。
- en: 'Add the ability for [application-defined SQL functions](appfunc.html) to have
    the same name as join keywords: CROSS, FULL, INNER, LEFT, NATURAL, OUTER, or RIGHT.'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许 [应用程序定义的 SQL 函数](appfunc.html) 具有与连接关键字相同的名称：CROSS、FULL、INNER、LEFT、NATURAL、OUTER
    或 RIGHT。
- en: 'Enhancements to [PRAGMA integrity_check](pragma.html#pragma_integrity_check):'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 进行了增强：
- en: Detect and raise an error when a NaN value is stored in a NOT NULL column.
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当将 NaN 值存储在 NOT NULL 列中时，检测并引发错误。
- en: Improved error message output identifies the root page of a b-tree when an error
    is found within a b-tree.
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进的错误消息输出在发现 b 树内部错误时标识了 b 树的根页。
- en: Allow the [session extension](sessionintro.html) to be configured to capture
    changes from tables that lack an explicit ROWID.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许配置 [会话扩展](sessionintro.html) 以捕获缺乏显式 ROWID 的表的更改。
- en: Added the [subsecond modifier](lang_datefunc.html#subsec) to the [date and time
    functions](lang_datefunc.html).
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [日期和时间函数](lang_datefunc.html) 添加了 [亚秒修饰符](lang_datefunc.html#subsec)。
- en: Negative values passed into [sqlite3_sleep()](c3ref/sleep.html) are henceforth
    interpreted as 0.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 传递给 [sqlite3_sleep()](c3ref/sleep.html) 的负值将被解释为 0。
- en: The maximum recursion depth for JSON arrays and objects is lowered from 2000
    to 1000.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: JSON 数组和对象的最大递归深度从 2000 降低到 1000。
- en: Extended the [built-in printf()](printf.html) function so the [comma option](printf.html#comma)
    now works with floating-point conversions in addition to integer conversions.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扩展了内置的 printf() 函数，使 [逗号选项](printf.html#comma) 现在除了整数转换外，还可用于浮点数转换。
- en: Miscellaneous bug fixes and performance optimizations
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项 bug 修复和性能优化
- en: '**Hashes:**'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2023-05-16 12:36:15 831d0fb2836b71c9bc51067c49fee4b8f18047814f2ff22d817d25195cf350b0'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2023-05-16 12:36:15 831d0fb2836b71c9bc51067c49fee4b8f18047814f2ff22d817d25195cf350b0
- en: 'SHA3-256 for sqlite3.c: 6aa3fadf000000625353bbaa1e83af114c40c240a0aa5a2c1c2aabcfc28d4f92'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：6aa3fadf000000625353bbaa1e83af114c40c240a0aa5a2c1c2aabcfc28d4f92
- en: 2023-03-22 (3.41.2)
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-03-22（3.41.2）
- en: 'Multiple fixes for reads past the end of memory buffers (NB: *reads* not *writes*)
    in the following circumstances:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在以下情况下对内存缓冲区进行读取时的多个修复（注意：*读取*而不是*写入*）：
- en: When processing a corrupt database file using the non-standard [SQLITE_ENABLE_STAT4](compile.html#enable_stat4)
    compile-time option.
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用非标准 [SQLITE_ENABLE_STAT4](compile.html#enable_stat4) 编译选项处理损坏的数据库文件时。
- en: In the [CLI](cli.html) when the [sqlite3_error_offset()](c3ref/errcode.html)
    routine returns an out-of-range value (see also the fix to sqlite3_error_offset()
    below).
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行界面（[CLI](cli.html)）中，当 [sqlite3_error_offset()](c3ref/errcode.html) 函数返回超出范围的值时（另请参阅下面关于
    sqlite3_error_offset() 的修复）。
- en: In the [recovery extension](recovery.html).
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [恢复扩展](recovery.html) 中。
- en: In [FTS3](fts3.html) when processing a corrupt database file.
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在处理损坏的数据库文件时，在 [FTS3](fts3.html) 中。
- en: Fix the [sqlite3_error_offset()](c3ref/errcode.html) so that it does not return
    out-of-range values when reporting errors associated with [generated columns](gencol.html).
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [sqlite3_error_offset()](c3ref/errcode.html) 函数，使其在报告与 [生成列](gencol.html)
    相关的错误时不返回超出范围的值。
- en: Multiple fixes in the query optimizer for problems that cause incorrect results
    for bizarre, fuzzer-generated queries.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询优化器中的多个问题，这些问题导致对奇特的模糊器生成的查询产生错误结果。
- en: Increase the size of the reference counter in the page cache object to 64 bits
    to ensure that the counter never overflows.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将页面缓存对象中的引用计数器大小增加到 64 位，以确保计数器永远不会溢出。
- en: Fix a performance regression caused by a bug fix in patch release 3.41.1.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复由补丁版本 3.41.1 中的 bug 修复引起的性能回归。
- en: Fix a few incorrect assert() statements.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复几个不正确的 assert() 语句。
- en: '**Hashes:**'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2023-03-22 11:56:21 0d1fc92f94cb6b76bffe3ec34d69cffde2924203304e8ffc4155597af0c191da'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-03-22 11:56:21 0d1fc92f94cb6b76bffe3ec34d69cffde2924203304e8ffc4155597af0c191da'
- en: 'SHA3-256 for sqlite3.c: c83f68b7aac1e7d3ed0fcdb9857742f024449e1300bfb3375131a6180b36cf7c'
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：c83f68b7aac1e7d3ed0fcdb9857742f024449e1300bfb3375131a6180b36cf7c
- en: 2023-03-10 (3.41.1)
  id: totrans-183
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-03-10 (3.41.1)
- en: Provide compile-time options -DHAVE_LOG2=0 and -DHAVE_LOG10=0 to enable SQLite
    to be compiled on systems that omit the standard library functions log2() and
    log10(), repectively.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供编译时选项 -DHAVE_LOG2=0 和 -DHAVE_LOG10=0，以便在省略标准库函数 log2() 和 log10() 的系统上编译 SQLite。
- en: Ensure that the datatype for column t1.x in "`CREATE TABLE t1 AS SELECT CAST(7
    AS INT) AS x;`" continues to be INT and is not NUM, for historical compatibility.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在 "`CREATE TABLE t1 AS SELECT CAST(7 AS INT) AS x;`" 中，列 t1.x 的数据类型继续保持为 INT，而不是
    NUM，以确保与历史兼容性。
- en: Enhance [PRAGMA integrity_check](pragma.html#pragma_integrity_check) to detect
    when extra bytes appear at the end of an index record.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 来检测索引记录末尾出现额外字节的情况。
- en: Fix various obscure bugs reported by the user community. See the [timeline of
    changes](https://sqlite.org/src/timeline?from=version-3.41.0&to=version-3.41.1)
    for details.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复用户社区报告的各种隐晦错误。详细信息请参见 [变更时间线](https://sqlite.org/src/timeline?from=version-3.41.0&to=version-3.41.1)。
- en: '**Hashes:**'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2023-03-10 12:13:52 20399f3eda5ec249d147ba9e48da6e87f969d7966a9a896764ca437ff7e737ff'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-03-10 12:13:52 20399f3eda5ec249d147ba9e48da6e87f969d7966a9a896764ca437ff7e737ff'
- en: 'SHA3-256 for sqlite3.c: d0d9db8425570f4a57def04fb8f4ac84f5c3e4e71d3d4d10472e3639c5fdf09f'
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：d0d9db8425570f4a57def04fb8f4ac84f5c3e4e71d3d4d10472e3639c5fdf09f
- en: 2023-02-21 (3.41.0)
  id: totrans-191
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2023-02-21 (3.41.0)
- en: 'Query planner improvements:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器改进：
- en: Make use of [indexed expressions](expridx.html) within an aggregate query that
    includes a GROUP BY clause.
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在包含 GROUP BY 子句的聚合查询中使用 [索引表达式](expridx.html)。
- en: The query planner has improved awareness of when an index is a [covering index](queryplanner.html#covidx)
    and adjusts predicted runtimes accordingly.
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器更加清楚地意识到索引是否为 [覆盖索引](queryplanner.html#covidx)，并相应地调整预测的运行时间。
- en: The query planner is more aggressive about using [co-routines](optoverview.html#coroutines)
    rather than materializing subqueries and views.
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器更加积极地使用 [协程](optoverview.html#coroutines)，而不是将子查询和视图材料化。
- en: Queries against the built-in table-valued functions [json_tree()](json1.html#jtree)
    and [json_each()](json1.html#jeach) will now usually treat "ORDER BY rowid" as
    a no-op.
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对内置表值函数 [json_tree()](json1.html#jtree) 和 [json_each()](json1.html#jeach) 的查询现在通常将
    "ORDER BY rowid" 视为无操作。
- en: Enhance the ability of the query planner to use [indexed expressions](expridx.html)
    even if the expression has been modified by the [constant-propagation optimization](optoverview.html#constprop).
    (See [forum thread 0a539c7](https://sqlite.org/forum/forumpost/0a539c76db3b9e29).)
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了查询规划器使用 [索引表达式](expridx.html) 的能力，即使表达式已通过 [常量传播优化](optoverview.html#constprop)
    进行修改。（参见 [论坛帖子 0a539c7](https://sqlite.org/forum/forumpost/0a539c76db3b9e29)。）
- en: Add the built-in [unhex()](lang_corefunc.html#unhex) SQL function.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了内置的 [unhex()](lang_corefunc.html#unhex) SQL 函数。
- en: Add the base64 and base85 application-defined functions as an extension and
    include that extension in the [CLI](cli.html).
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 base64 和 base85 应用定义函数作为扩展添加，并将该扩展包含在 [CLI](cli.html) 中。
- en: Add the [sqlite3_stmt_scanstatus_v2()](c3ref/stmt_scanstatus.html) interface.
    (This interface is only available if SQLite is compiled using [SQLITE_ENABLE_STMT_SCANSTATUS](compile.html#enable_stmt_scanstatus).)
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_stmt_scanstatus_v2()](c3ref/stmt_scanstatus.html) 接口。（仅当 SQLite
    使用 [SQLITE_ENABLE_STMT_SCANSTATUS](compile.html#enable_stmt_scanstatus) 编译时可用。）
- en: In-memory databases created using [sqlite3_deserialize()](c3ref/deserialize.html)
    now report their filename as an empty string, not as 'x'.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 [sqlite3_deserialize()](c3ref/deserialize.html) 创建的内存数据库现在将其文件名报告为空字符串，而不是
    'x'。
- en: 'Changes to the [CLI](cli.html):'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [CLI](cli.html) 的更改：
- en: Add the new base64() and base85() SQL functions
  id: totrans-203
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的 base64() 和 base85() SQL 函数。
- en: Enhanced [EXPLAIN QUERY PLAN](eqp.html) output using the new [sqlite3_stmt_scanstatus_v2()](c3ref/stmt_scanstatus.html)
    interface when compiled using [SQLITE_ENABLE_STMT_SCANSTATUS](compile.html#enable_stmt_scanstatus).
  id: totrans-204
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新的 [sqlite3_stmt_scanstatus_v2()](c3ref/stmt_scanstatus.html) 接口增强了 [EXPLAIN
    QUERY PLAN](eqp.html) 输出，当使用 [SQLITE_ENABLE_STMT_SCANSTATUS](compile.html#enable_stmt_scanstatus)
    编译时。
- en: The "`.scanstats est`" command provides query planner estimates in profiles.
  id: totrans-205
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"`.scanstats est`" 命令提供了查询规划器在配置文件中的估计。'
- en: The continuation prompt indicates if the input is currently inside of a string
    literal, identifier literal, comment, trigger definition, etc.
  id: totrans-206
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连续提示表明输入当前是否位于字符串文字、标识符文字、注释、触发器定义等内部。
- en: Enhance the --safe command-line option to disallow dangerous SQL functions.
  id: totrans-207
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 --safe 命令行选项以禁止危险的 SQL 函数。
- en: The [double-quoted string misfeature](quirks.html#dblquote) is now disabled
    by default for CLI builds. Legacy use cases can reenable the misfeature at run-time
    using the "`.dbconfig dqs_dml on`" and "`.dbconfig dqs_ddl on`" commands.
  id: totrans-208
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，CLI 构建已禁用 [双引号字符串问题](quirks.html#dblquote)。遗留用例可以使用运行时命令 "`.dbconfig dqs_dml
    on`" 和 "`.dbconfig dqs_ddl on`" 重新启用该问题。
- en: Enhance the [PRAGMA integrity_check](pragma.html#pragma_integrity_check) command
    so that it detects when text strings in a table are equivalent to but not byte-for-byte
    identical to the same strings in the index.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 命令，以检测表中的文本字符串是否等效于但不是字节完全相同于索引中的相同字符串。
- en: Enhance the [carray table-valued function](carray.html) so that it is able to
    bind an array of BLOB objects.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强 [carray table-valued function](carray.html)，使其能够绑定一个 BLOB 对象数组。
- en: Added the [sqlite3_is_interrupted()](c3ref/interrupt.html) interface.
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_is_interrupted()](c3ref/interrupt.html) 接口。
- en: Long-running calls to [sqlite3_prepare()](c3ref/prepare.html) and similar now
    invoke the [progress handler callback](c3ref/progress_handler.html) and react
    to [sqlite3_interrupt()](c3ref/interrupt.html).
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 长时间运行的 [sqlite3_prepare()](c3ref/prepare.html) 及类似调用现在会触发 [progress handler
    callback](c3ref/progress_handler.html) 并响应 [sqlite3_interrupt()](c3ref/interrupt.html)。
- en: The [sqlite3_vtab_in_first()](c3ref/vtab_in_first.html) and [sqlite3_vtab_in_next()](c3ref/vtab_in_first.html)
    functions are enhanced so that they reliably detect if they are invoked on a parameter
    that was not selected for multi-value IN processing using [sqlite3_vtab_in()](c3ref/vtab_in.html).
    They return SQLITE_ERROR instead of SQLITE_MISUSE in this case.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 函数 [sqlite3_vtab_in_first()](c3ref/vtab_in_first.html) 和 [sqlite3_vtab_in_next()](c3ref/vtab_in_first.html)
    被增强，以可靠地检测它们是否在未使用 [sqlite3_vtab_in()](c3ref/vtab_in.html) 进行多值 IN 处理的参数上调用。在这种情况下，它们返回
    SQLITE_ERROR 而不是 SQLITE_MISUSE。
- en: The parser now ignores excess parentheses around a subquery on the right-hand
    side of an IN operator, so that SQLite now works the same as PostgreSQL in this
    regard. Formerly, SQLite treated the subquery as an expression with an implied
    "LIMIT 1".
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析器现在忽略 IN 运算符右侧子查询周围多余的括号，因此在这方面 SQLite 现在与 PostgreSQL 的处理方式相同。以前，SQLite 将子查询视为带有隐含
    "LIMIT 1" 的表达式。
- en: Added the [SQLITE_FCNTL_RESET_CACHE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlresetcache)
    option to the [sqlite3_file_control()](c3ref/file_control.html) API.
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_FCNTL_RESET_CACHE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlresetcache)
    选项到 [sqlite3_file_control()](c3ref/file_control.html) API。
- en: 'Makefile improvements:'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Makefile 改进：
- en: The new makefile target "sqlite3r.c" builds an [amalgamation](amalgamation.html)
    that includes the [recovery extension](recovery.html).
  id: totrans-217
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的 makefile 目标 "sqlite3r.c" 构建一个包含 [recovery extension](recovery.html) 的 [汇编](amalgamation.html)。
- en: New makefile targets "devtest" and "releasetest" for running a quick developmental
    test prior to doing a check-in and for doing a full release test, respectively.
  id: totrans-218
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的 makefile 目标 "devtest" 和 "releasetest" 分别用于在提交检查前运行快速开发测试和进行完整发布测试。
- en: Miscellaneous performance enhancements.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项性能增强。
- en: '**Hashes:**'
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: 2023-02-21 18:09:37 05941c2a04037fc3ed2ffae11f5d2260706f89431f463518740f72ada350866d'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2023-02-21 18:09:37 05941c2a04037fc3ed2ffae11f5d2260706f89431f463518740f72ada350866d'
- en: 'SHA3-256 for sqlite3.c: 02bd9e678460946810801565667fdb8f0c29c78e51240512d2e5bb3dbdee7464'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLite3.c 的 SHA3-256: 02bd9e678460946810801565667fdb8f0c29c78e51240512d2e5bb3dbdee7464'
- en: 2022-12-28 (3.40.1)
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-12-28 (3.40.1)
- en: Fix the [--safe command-line option](cli.html#safemode) to the [CLI](cli.html)
    such that it correctly disallows the use of SQL functions like writefile() that
    can cause harmful side-effects.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[--safe 命令行选项](cli.html#safemode)的[CLI](cli.html)，使其正确禁止使用可能导致有害副作用的 SQL 函数如
    writefile()。
- en: Fix a potential infinite loop in the [memsys5](malloc.html#memsys5) alternative
    memory allocator. This bug was introduced by a performance optimization in version
    3.39.0.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[memsys5](malloc.html#memsys5)备选内存分配器中的潜在无限循环。此 bug 是在版本 3.39.0 中由性能优化引入的。
- en: Various other obscure fixes.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种其他不太明显的修复。
- en: '**Hashes:**'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-12-28 14:03:47 df5c253c0b3dd24916e4ec7cf77d3db5294cc9fd45ae7b9c5e82ad8197f38a24'
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-12-28 14:03:47 df5c253c0b3dd24916e4ec7cf77d3db5294cc9fd45ae7b9c5e82ad8197f38a24'
- en: 'SHA3-256 for sqlite3.c: 4d6800e9032ff349376fe612e422b49ba5eb4e378fac0b3e405235d09dd366ab'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA3-256: 4d6800e9032ff349376fe612e422b49ba5eb4e378fac0b3e405235d09dd366ab'
- en: 2022-11-16 (3.40.0)
  id: totrans-230
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-11-16 (3.40.0)
- en: 'Add support for compiling [SQLite to WASM](https://sqlite.org/wasm) and running
    it in web browsers. NB: The WASM build and its interfaces are considered "beta"
    and are subject to minor changes if the need arises. We anticipate finalizing
    the interface for the next release.'
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加支持将 [SQLite 编译为 WASM](https://sqlite.org/wasm) 并在 Web 浏览器中运行的功能。注：WASM 构建及其接口被视为“beta”，如有必要，可能会进行轻微更改。我们预计将在下一个发布版本中完成接口的最终化。
- en: Add the [recovery extension](recovery.html) that might be able to recover some
    content from a corrupt database file.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加[恢复扩展](recovery.html)，该扩展可能能够从损坏的数据库文件中恢复部分内容。
- en: 'Query planner enhancements:'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询优化器增强：
- en: Recognize [covering indexes](queryplanner.html#covidx) on tables with more than
    63 columns where columns beyond the 63rd column are used in the query and/or are
    referenced by the index.
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在表格上识别[覆盖索引](queryplanner.html#covidx)，表格具有超过63列，其中第63列之后的列被查询使用和/或由索引引用。
- en: Extract the values of expressions contained within [expression indexes](expridx.html)
    where practical, rather than recomputing the expression.
  id: totrans-235
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取[表达式索引](expridx.html)中包含的表达式的值，在实际情况下，而不是重新计算表达式。
- en: The NOT NULL and IS NULL operators (and their equivalents) avoid loading the
    content of large strings and BLOB values from disk.
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 非 NULL 和 IS NULL 操作符（及其等效操作符）避免从磁盘加载大字符串和 BLOB 值的内容。
- en: Avoid materializing a view on which a full scan is performed exactly once. Use
    and discard the rows of the view as they are computed.
  id: totrans-237
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在其上执行全扫描一次的视图材料化。使用并在计算完成后丢弃视图的行。
- en: Allow flattening of a subquery that is the right-hand operand of a LEFT JOIN
    in an aggregate query.
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在聚合查询中作为左连接的右操作数中展开子查询。
- en: A new typedef named [sqlite3_filename](c3ref/filename.html) is added and used
    to represent the name of a database file. Various interfaces are modified to use
    the new typedef instead of "char*". This interface change should be fully backwards
    compatible, though it might cause (harmless) compiler warnings when rebuilding
    some legacy applications.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了名为[sqlite3_filename](c3ref/filename.html)的新typedef，并用于表示数据库文件的名称。各种接口已修改以使用新的typedef代替"char*"。尽管重新构建某些旧应用程序可能会导致（无害的）编译器警告，但此接口更改应完全向后兼容。
- en: Add the [sqlite3_value_encoding()](c3ref/value_encoding.html) interface.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_value_encoding()](c3ref/value_encoding.html)接口。
- en: 'Security enhancement: [SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)
    is augmented to prohibit changing the [schema_version](pragma.html#pragma_schema_version).
    The schema_version becomes read-only in defensive mode.'
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安全增强：[SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)被增强以禁止更改[schema_version](pragma.html#pragma_schema_version)。在防御模式下，schema_version变为只读。
- en: 'Enhancements to the [PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    statement:'
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[PRAGMA integrity_check](pragma.html#pragma_integrity_check)语句进行了增强：
- en: Columns in non-STRICT tables with TEXT affinity should not contain numeric values.
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 非严格表中具有文本亲和性的列不应包含数值。
- en: Columns in non-STRICT tables with NUMERIC affinity should not contain TEXT values
    that could be converted into numbers.
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 具有数值亲和性的非严格表中的列不应包含可转换为数字的文本值。
- en: Verify that the rows of a [WITHOUT ROWID](withoutrowid.html) table are in the
    correct order.
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证[WITHOUT ROWID](withoutrowid.html)表的行是否按正确顺序排列。
- en: Enhance the [VACUUM INTO](lang_vacuum.html#vacuuminto) statement so that it
    honors the [PRAGMA synchronous](pragma.html#pragma_synchronous) setting.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[VACUUM INTO](lang_vacuum.html#vacuuminto)语句，以符合[PRAGMA synchronous](pragma.html#pragma_synchronous)设置。
- en: Enhance the [sqlite3_strglob()](c3ref/strglob.html) and [sqlite3_strlike()](c3ref/strlike.html)
    APIs so that they are able to accept NULL pointers for their string parameters
    and still generate a sensible result.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[sqlite3_strglob()](c3ref/strglob.html)和[sqlite3_strlike()](c3ref/strlike.html)
    API，使其能够接受其字符串参数的NULL指针并生成合理的结果。
- en: Provide the new [SQLITE_MAX_ALLOCATION_SIZE](compile.html#max_allocation_size)
    compile-time option for limiting the size of memory allocations.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供了新的[SQLITE_MAX_ALLOCATION_SIZE](compile.html#max_allocation_size)编译时选项，用于限制内存分配的大小。
- en: Change the algorithm used by SQLite's built-in pseudo-random number generator
    (PRNG) from RC4 to Chacha20.
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将SQLite内置的伪随机数生成器（PRNG）的算法从RC4更改为Chacha20。
- en: Allow two or more indexes to have the same name as long as they are all in separate
    schemas.
  id: totrans-250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许两个或多个索引具有相同的名称，只要它们位于不同的模式中。
- en: Miscellaneous performance optimizations result in about 1% fewer CPU cycles
    used on typical workloads.
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项性能优化导致典型工作负载使用的CPU周期减少约1%。
- en: '**Hashes:**'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-11-16 12:10:08 89c459e766ea7e9165d0beeb124708b955a4950d0f4792f457465d71b158d318'
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-11-16 12:10:08 89c459e766ea7e9165d0beeb124708b955a4950d0f4792f457465d71b158d318'
- en: 'SHA3-256 for sqlite3.c: ab8da6bc754642989e67d581f26683dc705b068cea671970f0a7d32cfacbad19'
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：ab8da6bc754642989e67d581f26683dc705b068cea671970f0a7d32cfacbad19
- en: 2022-09-29 (3.39.4)
  id: totrans-255
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-09-29 (3.39.4)
- en: Fix the build on Windows so that it works with -DSQLITE_OMIT_AUTOINIT
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在 Windows 上的构建，以便与 -DSQLITE_OMIT_AUTOINIT 一起工作。
- en: Fix a long-standing problem in the btree balancer that might, in rare cases,
    cause database corruption if the application uses an [application-defined page
    cache](c3ref/pcache_methods2.html).
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 B 树平衡器中的长期问题，如果应用程序使用[应用程序定义的页面缓存](c3ref/pcache_methods2.html)，在罕见情况下可能导致数据库损坏。
- en: Enhance [SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)
    so that it disallows [CREATE TRIGGER](lang_createtrigger.html) statements if one
    or more of the statements in the body of the trigger write into [shadow tables](vtab.html#xshadowname).
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)，以禁止如果触发器体中的一个或多个语句写入[影子表](vtab.html#xshadowname)则不允许[CREATE
    TRIGGER](lang_createtrigger.html)语句。
- en: Fix a possible integer overflow in the size computation for a memory allocation
    in FTS3.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 FTS3 中内存分配大小计算可能导致整数溢出的问题。
- en: Fix a misuse of the [sqlite3_set_auxdata()](c3ref/get_auxdata.html) interface
    in the [ICU Extension](https://sqlite.org/src/dir/ext/icu).
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在[ICU 扩展](https://sqlite.org/src/dir/ext/icu)中的[sqlite3_set_auxdata()](c3ref/get_auxdata.html)接口的误用。
- en: '**Hashes:**'
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-09-29 15:55:41 a29f9949895322123f7c38fbe94c649a9d6e6c9cd0c3b41c96d694552f26b309'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2022-09-29 15:55:41 a29f9949895322123f7c38fbe94c649a9d6e6c9cd0c3b41c96d694552f26b309
- en: 'SHA3-256 for sqlite3.c: f65082298127e2ddae6539beb94f5204b591df64ba2c7da83c7d0faffd6959d8'
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：f65082298127e2ddae6539beb94f5204b591df64ba2c7da83c7d0faffd6959d8
- en: 2022-09-05 (3.39.3)
  id: totrans-264
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-09-05 (3.39.3)
- en: Use a statement journal on DML statement affecting two or more database rows
    if the statement makes use of a SQL functions that might abort. See [forum thread
    9b9e4716c0d7bbd1](https://sqlite.org/forum/forumpost/9b9e4716c0d7bbd1).
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果语句使用可能会中止的 SQL 函数并影响两个或更多数据库行的 DML 语句，则在语句日志中使用。参见[论坛帖子 9b9e4716c0d7bbd1](https://sqlite.org/forum/forumpost/9b9e4716c0d7bbd1)。
- en: Use a mutex to protect the [PRAGMA temp_store_directory](pragma.html#pragma_temp_store_directory)
    and [PRAGMA data_store_directory](pragma.html#pragma_data_store_directory) statements,
    even though they are deprecated and documented as not being threadsafe. See [forum
    post 719a11e1314d1c70](https://sqlite.org/forum/forumpost/719a11e1314d1c70).
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用互斥锁保护[PRAGMA temp_store_directory](pragma.html#pragma_temp_store_directory)和[PRAGMA
    data_store_directory](pragma.html#pragma_data_store_directory)语句，尽管它们已被弃用并且文档化为非线程安全。参见[论坛帖子
    719a11e1314d1c70](https://sqlite.org/forum/forumpost/719a11e1314d1c70)。
- en: Other bug and warning fixes. See the [timeline](https://sqlite.org/src/timeline?p=version-3.39.3&bt=version-3.39.2)
    for details.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他错误和警告修复。查看[时间轴](https://sqlite.org/src/timeline?p=version-3.39.3&bt=version-3.39.2)获取详细信息。
- en: '**Hashes:**'
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-09-05 11:02:23 4635f4a69c8c2a8df242b384a992aea71224e39a2ccab42d8c0b0602f1e826e8'
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2022-09-05 11:02:23 4635f4a69c8c2a8df242b384a992aea71224e39a2ccab42d8c0b0602f1e826e8
- en: 'SHA3-256 for sqlite3.c: 2fc273cf8032b601c9e06207efa0ae80eb73d5a1d283eb91096c815fa9640257'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：2fc273cf8032b601c9e06207efa0ae80eb73d5a1d283eb91096c815fa9640257
- en: 2022-07-21 (3.39.2)
  id: totrans-271
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-07-21 (3.39.2)
- en: Fix a performance regression in the query planner associated with rearranging
    the order of FROM clause terms in the presences of a LEFT JOIN.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器中重新排列FROM子句顺序导致的性能回归问题。
- en: Apply fixes for CVE-2022-35737, Chromium bugs 1343348 and 1345947, [forum post
    3607259d3c](https://sqlite.org/forum/forumpost/3607259d3c), and other minor problems
    discovered by internal testing.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用CVE-2022-35737、Chromium漏洞1343348和1345947的修复，[论坛帖子3607259d3c](https://sqlite.org/forum/forumpost/3607259d3c)，以及内部测试发现的其他小问题。
- en: '**Hashes:**'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-07-21 15:24:47 698edb77537b67c41adc68f9b892db56bcf9a55e00371a61420f3ddd668e6603'
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2022-07-21 15:24:47 698edb77537b67c41adc68f9b892db56bcf9a55e00371a61420f3ddd668e6603
- en: 'SHA3-256 for sqlite3.c: bffbaafa94706f0ed234f183af3eb46e6485e7e2c75983173ded76e0da805f11'
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：bffbaafa94706f0ed234f183af3eb46e6485e7e2c75983173ded76e0da805f11
- en: 2022-07-13 (3.39.1)
  id: totrans-277
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-07-13 (3.39.1)
- en: Fix an incorrect result from a query that uses a view that contains a compound
    SELECT in which only one arm contains a RIGHT JOIN and where the view is not the
    first FROM clause term of the query that contains the view. [forum post 174afeae5734d42d](https://sqlite.org/forum/forumpost/174afeae5734d42d).
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询结果错误的问题，该查询使用包含一个右联接的复合SELECT的视图，且该视图不是包含视图的查询的第一个FROM子句项。[论坛帖子174afeae5734d42d](https://sqlite.org/forum/forumpost/174afeae5734d42d)。
- en: Fix some harmless compiler warnings.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一些无害的编译器警告。
- en: Fix a long-standing problem with [ALTER TABLE RENAME](lang_altertable.html#altertabrename)
    that can only arise if the [sqlite3_limit](c3ref/limit.html)([SQLITE_LIMIT_SQL_LENGTH](c3ref/c_limit_attached.html#sqlitelimitsqllength))
    is set to a very small value.
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[ALTER TABLE RENAME](lang_altertable.html#altertabrename)的长期问题，只有在设置[sqlite3_limit](c3ref/limit.html)([SQLITE_LIMIT_SQL_LENGTH](c3ref/c_limit_attached.html#sqlitelimitsqllength))为非常小的值时才会出现。
- en: Fix a long-standing problem in [FTS3](fts3.html) that can only arise when compiled
    with the [SQLITE_ENABLE_FTS3_PARENTHESIS](compile.html#enable_fts3_parenthesis)
    compile-time option.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[FTS3](fts3.html)中的长期问题，该问题只会在编译时启用[SQLITE_ENABLE_FTS3_PARENTHESIS](compile.html#enable_fts3_parenthesis)选项时出现。
- en: Fix the build so that is works when the [SQLITE_DEBUG](compile.html#debug) and
    [SQLITE_OMIT_WINDOWFUNC](compile.html#omit_windowfunc) compile-time options are
    both provided at the same time.
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复构建，使得在同时提供[SQLITE_DEBUG](compile.html#debug)和[SQLITE_OMIT_WINDOWFUNC](compile.html#omit_windowfunc)编译时选项时正常工作。
- en: Fix the initial-prefix optimization for the [REGEXP](lang_expr.html#regexp)
    extension so that it works correctly even if the prefix contains characters that
    require a 3-byte UTF8 encoding.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[REGEXP](lang_expr.html#regexp)扩展的初始前缀优化，使其即使前缀包含需要3字节UTF8编码的字符时也能正确工作。
- en: Enhance the [sqlite_stmt](stmt.html) virtual table so that it buffers all of
    its output.
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[sqlite_stmt](stmt.html)虚拟表，使其缓冲其所有输出。
- en: '**Hashes:**'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-07-13 19:41:41 7c16541a0efb3985578181171c9f2bb3fdc4bad6a2ec85c6e31ab96f3eff201f'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-07-13 19:41:41 7c16541a0efb3985578181171c9f2bb3fdc4bad6a2ec85c6e31ab96f3eff201f'
- en: 'SHA3-256 for sqlite3.c: 6d13fcf1c31133da541d1eb8a83552d746f39b81a0657bd4077fed0221749511'
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值为：6d13fcf1c31133da541d1eb8a83552d746f39b81a0657bd4077fed0221749511
- en: 2022-06-25 (3.39.0)
  id: totrans-288
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-06-25 (3.39.0)
- en: Add (long overdue) support for [RIGHT and FULL OUTER JOIN](lang_select.html#rjoin).
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 长期以来（很久未实现的）增加了对 [RIGHT 和 FULL OUTER JOIN](lang_select.html#rjoin) 的支持。
- en: Add new binary comparison operators [IS NOT DISTINCT FROM](lang_expr.html#isdf)
    and [IS DISTINCT FROM](lang_expr.html#isdf) that are equivalent to IS and IS NOT,
    respective, for compatibility with PostgreSQL and SQL standards.
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的二进制比较运算符 [IS NOT DISTINCT FROM](lang_expr.html#isdf) 和 [IS DISTINCT FROM](lang_expr.html#isdf)，它们分别等效于
    IS 和 IS NOT，以与 PostgreSQL 和 SQL 标准兼容。
- en: Add a new return code (value "3") from the [sqlite3_vtab_distinct()](c3ref/vtab_distinct.html)
    interface that indicates a query that has both DISTINCT and ORDER BY clauses.
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了从 [sqlite3_vtab_distinct()](c3ref/vtab_distinct.html) 接口返回的新的返回码（值为 "3"），该返回码表示一个查询同时包含
    DISTINCT 和 ORDER BY 子句。
- en: Added the [sqlite3_db_name()](c3ref/db_name.html) interface.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_db_name()](c3ref/db_name.html) 接口。
- en: The unix os interface resolves all symbolic links in database filenames to create
    a canonical name for the database before the file is opened. If the [SQLITE_OPEN_NOFOLLOW](c3ref/c_open_autoproxy.html)
    flag is used with [sqlite3_open_v2()](c3ref/open.html) or similar, the open will
    fail if any element of the path is a symbolic link.
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Unix 操作系统接口在打开文件之前会将数据库文件名中的所有符号链接解析为数据库的规范名称。如果在使用 [SQLITE_OPEN_NOFOLLOW](c3ref/c_open_autoproxy.html)
    标志调用 [sqlite3_open_v2()](c3ref/open.html) 或类似函数时，路径中的任何元素都是符号链接，则打开操作将失败。
- en: Defer materializing views until the materialization is actually needed, thus
    avoiding unnecessary work if the materialization turns out to never be used.
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 延迟视图的材料化直到实际需要，从而避免如果材料化最终未被使用时的不必要工作。
- en: The [HAVING clause](lang_select.html#resultset) of a [SELECT statement](lang_select.html)
    is now allowed on any aggregate query, even queries that do not have a [GROUP
    BY clause](lang_select.html#resultset).
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SELECT 语句](lang_select.html) 的 [HAVING 子句](lang_select.html#resultset) 现在可以在任何聚合查询上使用，即使查询本身没有
    [GROUP BY 子句](lang_select.html#resultset)。'
- en: Many [microoptimizations](cpu.html#microopt) collectively reduce CPU cycles
    by about 2.3%.
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 多项 [微优化](cpu.html#microopt) 总体上减少了约 2.3% 的 CPU 周期。
- en: '**Hashes:**'
  id: totrans-297
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: 2022-06-25 14:57:57 14e166f40dbfa6e055543f8301525f2ca2e96a02a57269818b9e69e162e98918'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-06-25 14:57:57 14e166f40dbfa6e055543f8301525f2ca2e96a02a57269818b9e69e162e98918'
- en: 'SHA3-256 for sqlite3.c: d9c439cacad5e4992d0d25989cfd27a4c4f59a3183c97873bc03f0ad1aa78b7a'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值为：d9c439cacad5e4992d0d25989cfd27a4c4f59a3183c97873bc03f0ad1aa78b7a
- en: 2022-05-06 (3.38.5)
  id: totrans-300
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-05-06 (3.38.5)
- en: Fix [a blunder](news.html#2022_05_06) in the [CLI](cli.html) of the 3.38.4 release.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 3.38.4 版本中 [CLI](cli.html) 的一个失误，详情请见 [这里](news.html#2022_05_06)。
- en: '**Hashes:**'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: 2022-05-06 15:25:27 78d9c993d404cdfaa7fdd2973fa1052e3da9f66215cff9c5540ebe55c407d9fe'
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-05-06 15:25:27 78d9c993d404cdfaa7fdd2973fa1052e3da9f66215cff9c5540ebe55c407d9fe'
- en: 'SHA3-256 for sqlite3.c: b05ef42ed234009b4b3dfb36c5f5ccf6d728da80f25ee560291269cf6cfe635f'
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: b05ef42ed234009b4b3dfb36c5f5ccf6d728da80f25ee560291269cf6cfe635f'
- en: 2022-05-04 (3.38.4)
  id: totrans-305
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-05-04 (3.38.4)
- en: Fix a byte-code problem in the Bloom filter pull-down optimization added by
    release 3.38.0 in which an error in the byte code causes the byte code engine
    to enter an infinite loop when the pull-down optimization encounters a NULL key.
    [Forum thread 2482b32700384a0f](https://sqlite.org/forum/forumpost/2482b32700384a0f).
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 3.38.0 版本中布隆过滤器下拉优化的字节码问题，其中字节码中的错误导致字节码引擎在下拉优化遇到 NULL 键时进入无限循环。参见 [论坛帖子
    2482b32700384a0f](https://sqlite.org/forum/forumpost/2482b32700384a0f)。
- en: Other minor patches. See the [timeline](https://sqlite.org/src/timeline?p=branch-3.38&bt=version-3.38.3)
    for details.
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他小修补。详见 [时间线](https://sqlite.org/src/timeline?p=branch-3.38&bt=version-3.38.3)。
- en: '**Hashes:**'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-05-04 15:45:55 d402f49871152670a62f4f28cacb15d814f2c1644e9347ad7d258e562978e45e'
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-05-04 15:45:55 d402f49871152670a62f4f28cacb15d814f2c1644e9347ad7d258e562978e45e'
- en: 'SHA3-256 for sqlite3.c: e6a50effb021858c200e885664611ed3c5e949413ff2dca452ac7ee336b9de1d'
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: e6a50effb021858c200e885664611ed3c5e949413ff2dca452ac7ee336b9de1d'
- en: 2022-04-27 (3.38.3)
  id: totrans-311
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-04-27 (3.38.3)
- en: Fix a case of the query planner be overly aggressive with optimizing automatic-index
    and Bloom-filter construction, using inappropriate ON clause terms to restrict
    the size of the automatic-index or Bloom filter, and resulting in missing rows
    in the output. [Forum thread 0d3200f4f3bcd3a3](https://sqlite.org/forum/forumpost/0d3200f4f3bcd3a3).
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器在优化自动索引和布隆过滤器构建时过于激进的情况，使用不适当的 ON 子句项限制自动索引或布隆过滤器的大小，导致输出中缺少行。参见 [论坛帖子
    0d3200f4f3bcd3a3](https://sqlite.org/forum/forumpost/0d3200f4f3bcd3a3)。
- en: Other minor patches. See the [timeline](https://sqlite.org/src/timeline?p=version-3.38.3&bt=version-3.38.2)
    for details.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他小修补。详见 [时间线](https://sqlite.org/src/timeline?p=version-3.38.3&bt=version-3.38.2)。
- en: '**Hashes:**'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-04-27 12:03:15 9547e2c38a1c6f751a77d4d796894dec4dc5d8f5d79b1cd39e1ffc50df7b3be4'
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-04-27 12:03:15 9547e2c38a1c6f751a77d4d796894dec4dc5d8f5d79b1cd39e1ffc50df7b3be4'
- en: 'SHA3-256 for sqlite3.c: d4d66feffad66ea82073fbb97ae9c84e3615887ebc5168226ccee28d82424517'
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: d4d66feffad66ea82073fbb97ae9c84e3615887ebc5168226ccee28d82424517'
- en: 2022-03-26 (3.38.2)
  id: totrans-317
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-03-26 (3.38.2)
- en: Fix a user-discovered problem with the new Bloom filter optimization that might
    cause an incorrect answer when doing a LEFT JOIN with a WHERE clause constraint
    that says that one of the columns on the right table of the LEFT JOIN is NULL.
    See [forum thread 031e262a89b6a9d2](https://sqlite.org/forum/forumpost/031e262a89b6a9d2).
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的布隆过滤器优化中发现的一个用户问题，可能导致在使用带有 WHERE 子句约束的 LEFT JOIN 时出现错误答案，该约束指定 LEFT JOIN
    的右表中的某一列为 NULL。参见 [论坛帖子 031e262a89b6a9d2](https://sqlite.org/forum/forumpost/031e262a89b6a9d2)。
- en: Other minor patches. See the [timeline](https://sqlite.org/src/timeline?p=version-3.38.2&bt=version-3.38.1)
    for details.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他小修补。详见 [时间线](https://sqlite.org/src/timeline?p=version-3.38.2&bt=version-3.38.1)。
- en: '**Hashes:**'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-03-26 13:51:10 d33c709cc0af66bc5b6dc6216eba9f1f0b40960b9ae83694c986fbf4c1d6f08f'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-03-26 13:51:10 d33c709cc0af66bc5b6dc6216eba9f1f0b40960b9ae83694c986fbf4c1d6f08f'
- en: 'SHA3-256 for sqlite3.c: 0fbac6b6999f894184899431fb77b9792324c61246b2a010d736694ccaa6d613'
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA3-256: 0fbac6b6999f894184899431fb77b9792324c61246b2a010d736694ccaa6d613'
- en: 2022-03-12 (3.38.1)
  id: totrans-323
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-03-12 (3.38.1)
- en: Fix problems with the new Bloom filter optimization that might cause some obscure
    queries to get an incorrect answer.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的Bloom过滤器优化可能导致一些晦涩的查询得到不正确答案的问题。
- en: Fix the [localtime modifier](lang_datefunc.html#localtime) of the [date and
    time functions](lang_datefunc.html) so that it preserves fractional seconds.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[日期和时间函数](lang_datefunc.html)的[localtime修改器](lang_datefunc.html#localtime)，使其保留了小数秒。
- en: Fix the [sqlite_offset SQL function](lang_corefunc.html#sqlite_offset) so that
    it works correctly even in corner cases such as when the argument is a virtual
    column or the column of a view.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[sqlite_offset SQL函数](lang_corefunc.html#sqlite_offset)使其在一些特殊情况下（如参数为虚拟列或视图的列）能够正确工作。
- en: Fix [row value IN operator](rowvalue.html#rvinop) constraints on [virtual tables](vtab.html)
    so that they work correctly even if the virtual table implementation relies on
    bytecode to filter rows that do not satisfy the constraint.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了对[虚拟表](vtab.html)的[行值IN操作符](rowvalue.html#rvinop)约束的问题，使得即使虚拟表实现依赖字节码来过滤不满足约束条件的行时，也能够正确工作。
- en: Other minor fixes to assert() statements, test cases, and documentation. See
    the [source code timeline](https://sqlite.org/src/timeline?p=version-3.38.1&bt=version-3.38.0)
    for details.
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对assert()语句、测试用例和文档进行了其他较小的修复。详细信息请参见[source code timeline](https://sqlite.org/src/timeline?p=version-3.38.1&bt=version-3.38.0)。
- en: '**Hashes:**'
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值:**'
- en: 'SQLITE_SOURCE_ID: 2022-03-12 13:37:29 38c210fdd258658321c85ec9c01a072fda3ada94540e3239d29b34dc547a8cbc'
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-03-12 13:37:29 38c210fdd258658321c85ec9c01a072fda3ada94540e3239d29b34dc547a8cbc'
- en: 'SHA3-256 for sqlite3.c: 262ba071e960a8a0a6ce39307ae30244a2b0dc9fe1c4c09d0e1070d4353cd92c'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA3-256: 262ba071e960a8a0a6ce39307ae30244a2b0dc9fe1c4c09d0e1070d4353cd92c'
- en: 2022-02-22 (3.38.0)
  id: totrans-332
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-02-22 (3.38.0)
- en: Added [the -> and ->> operators](json1.html#jptr) for easier processing of JSON.
    The new operators are compatible with MySQL and PostgreSQL.
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[-> 和 ->> 操作符](json1.html#jptr)以方便处理 JSON。这些新操作符与 MySQL 和 PostgreSQL 兼容。
- en: The JSON functions are now built-ins. It is no longer necessary to use the [-DSQLITE_ENABLE_JSON1](compile.html#enable_json1)
    compile-time option to enable JSON support. JSON is on by default. Disable the
    JSON interface using the new [-DSQLITE_OMIT_JSON](compile.html#omit_json) compile-time
    option.
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: JSON函数现在是内置的。不再需要使用[-DSQLITE_ENABLE_JSON1](compile.html#enable_json1)编译选项来启用JSON支持。JSON默认启用。通过新的[-DSQLITE_OMIT_JSON](compile.html#omit_json)编译选项来禁用JSON接口。
- en: 'Enhancements to [date and time functions](lang_datefunc.html):'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[日期和时间函数](lang_datefunc.html)的增强:'
- en: Added the [unixepoch() function](lang_datefunc.html#uepch).
  id: totrans-336
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[unixepoch()函数](lang_datefunc.html#uepch)。
- en: Added the [auto modifier](lang_datefunc.html#automod) and the [julianday modifier](lang_datefunc.html#jdmod).
  id: totrans-337
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[auto修改器](lang_datefunc.html#automod)和[julianday修改器](lang_datefunc.html#jdmod)。
- en: Rename the [printf() SQL function](lang_corefunc.html#printf) to [format()](lang_corefunc.html#format)
    for better compatibility. The original printf() name is retained as an alias for
    backwards compatibility.
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [printf() SQL 函数](lang_corefunc.html#printf) 重命名为 [format()](lang_corefunc.html#format)，以提升兼容性。原始的
    printf() 名称保留为向后兼容的别名。
- en: Added the [sqlite3_error_offset()](c3ref/errcode.html) interface, which can
    sometimes help to localize an SQL error to a specific character in the input SQL
    text, so that applications can provide better error messages.
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_error_offset()](c3ref/errcode.html) 接口，有时可以帮助将 SQL 错误定位到输入 SQL
    文本中的特定字符，从而应用程序可以提供更好的错误消息。
- en: 'Enhanced the interface to [virtual tables](vtab.html) as follows:'
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [虚拟表](vtab.html) 的接口进行了增强：
- en: Added the [sqlite3_vtab_distinct()](c3ref/vtab_distinct.html) interface.
  id: totrans-341
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_vtab_distinct()](c3ref/vtab_distinct.html) 接口。
- en: Added the [sqlite3_vtab_rhs_value()](c3ref/vtab_rhs_value.html) interface.
  id: totrans-342
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_vtab_rhs_value()](c3ref/vtab_rhs_value.html) 接口。
- en: Added new operator types [SQLITE_INDEX_CONSTRAINT_LIMIT](c3ref/c_index_constraint_eq.html)
    and [SQLITE_INDEX_CONSTRAINT_OFFSET](c3ref/c_index_constraint_eq.html).
  id: totrans-343
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的操作符类型 [SQLITE_INDEX_CONSTRAINT_LIMIT](c3ref/c_index_constraint_eq.html)
    和 [SQLITE_INDEX_CONSTRAINT_OFFSET](c3ref/c_index_constraint_eq.html)。
- en: Added the [sqlite3_vtab_in()](c3ref/vtab_in.html) interface (and related) to
    enable a virtual table to process [IN operator](lang_expr.html#in_op) constraints
    all at once, rather than processing each value of the right-hand side of the IN
    operator separately.
  id: totrans-344
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_vtab_in()](c3ref/vtab_in.html) 接口（及相关接口），以便虚拟表能够一次性处理 [IN 操作符](lang_expr.html#in_op)
    的约束条件，而不是逐个处理 IN 操作符右侧的每个值。
- en: '[CLI](cli.html) enhancements:'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html) 增强：'
- en: '[Columnar output modes](cli.html#clmnr) are enhanced to correctly handle tabs
    and newlines embedded in text.'
  id: totrans-346
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[列式输出模式](cli.html#clmnr)，以正确处理嵌入文本中的制表符和换行符。
- en: Added options like "--wrap N", "--wordwrap on", and "--quote" to the [columnar
    output modes](cli.html#clmnr).
  id: totrans-347
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了诸如 "--wrap N"、"--wordwrap on" 和 "--quote" 等选项到 [列式输出模式](cli.html#clmnr)。
- en: Added the [.mode qbox](cli.html#qbox) alias.
  id: totrans-348
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [.mode qbox](cli.html#qbox) 的别名。
- en: The [.import command](cli.html#csv) automatically disambiguates column names.
  id: totrans-349
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[.import 命令](cli.html#csv) 自动消除列名的歧义。'
- en: Use the new [sqlite3_error_offset()](c3ref/errcode.html) interface to provide
    better error messages.
  id: totrans-350
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新的 [sqlite3_error_offset()](c3ref/errcode.html) 接口提供更好的错误消息。
- en: 'Query planner enhancements:'
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器增强：
- en: Use a Bloom filter to speed up large analytic queries.
  id: totrans-352
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用布隆过滤器加快大型分析查询的速度。
- en: Use a balanced merge tree to evaluate UNION or UNION ALL compound SELECT statements
    that have an ORDER BY clause.
  id: totrans-353
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用平衡合并树来评估带有 ORDER BY 子句的 UNION 或 UNION ALL 复合 SELECT 语句。
- en: The [ALTER TABLE](lang_altertable.html) statement is changed to silently ignores
    entries in the [sqlite_schema table](schematab.html) that do not parse when [PRAGMA
    writable_schema=ON](pragma.html#pragma_writable_schema).
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ALTER TABLE](lang_altertable.html) 语句现在在 [sqlite_schema 表](schematab.html)
    中静默忽略无法解析的条目，当 [PRAGMA writable_schema=ON](pragma.html#pragma_writable_schema)
    时。'
- en: '**Hashes:**'
  id: totrans-355
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2022-02-22 18:58:40 40fa792d359f84c3b9e9d6623743e1a59826274e221df1bde8f47086968a1bab'
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-02-22 18:58:40 40fa792d359f84c3b9e9d6623743e1a59826274e221df1bde8f47086968a1bab'
- en: 'SHA3-256 for sqlite3.c: a69af0a88d59271a2dd3c846a3e93cbd29e7c499864f6c0462a3b4160bee1762'
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值：a69af0a88d59271a2dd3c846a3e93cbd29e7c499864f6c0462a3b4160bee1762
- en: 2022-01-06 (3.37.2)
  id: totrans-358
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2022-01-06 (3.37.2)
- en: Fix [a bug](https://sqlite.org/forum/forumpost/b03d86f9516cb3a2) introduced
    in [version 3.35.0](#version_3_35_0) (2021-03-12) that [can cause database corruption](howtocorrupt.html#svptbug)
    if a [SAVEPOINT](lang_savepoint.html) is rolled back while in [PRAGMA temp_store=MEMORY](pragma.html#pragma_temp_store)
    mode, and other changes are made, and then the outer transaction commits. [Check-in
    73c2b50211d3ae26](https://sqlite.org/src/info/73c2b50211d3ae26)
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[版本 3.35.0](#version_3_35_0)（2021-03-12）引入的[bug](https://sqlite.org/forum/forumpost/b03d86f9516cb3a2)，当在[PRAGMA
    temp_store=MEMORY](pragma.html#pragma_temp_store)模式下回滚[SAVEPOINT](lang_savepoint.html)，同时进行其他更改并提交外部事务时，可能导致数据库损坏。[Check-in
    73c2b50211d3ae26](https://sqlite.org/src/info/73c2b50211d3ae26)。
- en: Fix a long-standing problem with ON DELETE CASCADE and ON UPDATE CASCADE in
    which a cache of the [bytecode](opcode.html) used to implement the cascading change
    was not being reset following a local DDL change. [Check-in 5232c9777fe4fb13](https://sqlite.org/src/info/5232c9777fe4fb13).
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了ON DELETE CASCADE和ON UPDATE CASCADE中的一个长期问题，即在本地DDL更改后未重置用于实现级联更改的[bytecode](opcode.html)的缓存。[Check-in
    5232c9777fe4fb13](https://sqlite.org/src/info/5232c9777fe4fb13)。
- en: Other minor fixes that should not impact production builds.
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他应不会影响生产构建的次要修复。
- en: '**Hashes:**'
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2022-01-06 13:25:41 872ba256cbf61d9290b571c0e6d82a20c224ca3ad82971edc46b29818d5d17a0'
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2022-01-06 13:25:41 872ba256cbf61d9290b571c0e6d82a20c224ca3ad82971edc46b29818d5d17a0'
- en: 'SHA3-256 for sqlite3.c: 1bb01c382295cba85ec4685cedc52a7477cdae71cc37f1ad0f48719a17af1e1e'
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值：1bb01c382295cba85ec4685cedc52a7477cdae71cc37f1ad0f48719a17af1e1e
- en: 2021-12-30 (3.37.1)
  id: totrans-365
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-12-30 (3.37.1)
- en: Fix a bug introduced by the [UPSERT](lang_upsert.html) enhancements of [version
    3.35.0](#version_3_35_0) that can cause incorrect byte-code to be generated for
    some obscure but valid SQL, possibly resulting in a NULL-pointer dereference.
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了由[版本 3.35.0](#version_3_35_0)引入的[UPSERT](lang_upsert.html)增强功能引起的bug，可能导致对一些复杂但有效的SQL生成错误的字节码，可能导致空指针解引用。
- en: Fix an OOB read that can occur in [FTS5](fts5.html) when reading corrupt database
    files.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在读取损坏的数据库文件时，[FTS5](fts5.html)中可能发生的OOB读取问题。
- en: Improved robustness of the --safe option in the [CLI](cli.html).
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提高了[CLI](cli.html)中 --safe 选项的健壮性。
- en: Other minor fixes to assert() statements and test cases.
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 assert() 语句和测试用例进行了其他次要修复。
- en: '**Hashes:**'
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-12-30 15:30:28 378629bf2ea546f73eee84063c5358439a12f7300e433f18c9e1bddd948dea62'
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-12-30 15:30:28 378629bf2ea546f73eee84063c5358439a12f7300e433f18c9e1bddd948dea62'
- en: 'SHA3-256 for sqlite3.c: 915afb3f29c2d217ea0c283326a9df7d505e6c73b40236f0b33ded91f812d174'
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值：915afb3f29c2d217ea0c283326a9df7d505e6c73b40236f0b33ded91f812d174
- en: 2021-11-27 (3.37.0)
  id: totrans-373
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-11-27 (3.37.0)
- en: '[STRICT tables](stricttables.html) provide a prescriptive style of data type
    management, for developers who prefer that kind of thing.'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[STRICT tables](stricttables.html)提供了一种规范的数据类型管理样式，适合喜欢这种类型的开发人员。'
- en: When adding columns that contain a [CHECK constraint](lang_createtable.html#ckconst)
    or a [generated column](gencol.html) containing a [NOT NULL constraint](lang_createtable.html#notnullconst),
    the [ALTER TABLE ADD COLUMN](lang_altertable.html#altertabaddcol) now checks new
    constraints against preexisting rows in the database and will only proceed if
    no constraints are violated.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当添加包含[CHECK约束](lang_createtable.html#ckconst)或包含[NOT NULL约束](lang_createtable.html#notnullconst)的[生成列](gencol.html)的列时，[ALTER
    TABLE ADD COLUMN](lang_altertable.html#altertabaddcol)现在会检查数据库中现有行的新约束，并且仅在不违反约束的情况下继续。
- en: Added the [PRAGMA table_list](pragma.html#pragma_table_list) statement.
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA table_list](pragma.html#pragma_table_list)语句。
- en: '[CLI](cli.html) enhancements:'
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html)增强功能：'
- en: Add the [.connection](cli.html#dotconn) command, allowing the CLI to keep multiple
    database connections open at the same time.
  id: totrans-378
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[.connection](cli.html#dotconn)命令，允许CLI同时保持多个数据库连接。
- en: Add the [--safe command-line option](cli.html#safemode) that disables [dot-commands](cli.html#dotcmd)
    and SQL statements that might cause side-effects that extend beyond the single
    database file named on the command-line.
  id: totrans-379
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[--安全命令行选项](cli.html#safemode)，禁用可能导致超出命令行单个数据库文件的副作用的[点命令](cli.html#dotcmd)和SQL语句。
- en: Performance improvements when reading SQL statements that span many lines.
  id: totrans-380
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在读取跨多行的SQL语句时性能有所提升。
- en: Added the [sqlite3_autovacuum_pages()](c3ref/autovacuum_pages.html) interface.
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_autovacuum_pages()](c3ref/autovacuum_pages.html)接口。
- en: The [sqlite3_deserialize()](c3ref/deserialize.html) does not and has never worked
    for the TEMP database. That limitation is now noted in the documentation.
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_deserialize()](c3ref/deserialize.html)对TEMP数据库不起作用，从未起作用。现在在文档中已经说明了这一限制。'
- en: The query planner now omits ORDER BY clauses on subqueries and views if removing
    those clauses does not change the semantics of the query.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在在子查询和视图上省略ORDER BY子句，如果删除这些子句不会改变查询的语义。
- en: The [generate_series](series.html) table-valued function extension is modified
    so that the first parameter ("START") is now required. This is done as a way to
    demonstrate how to write table-valued functions with required parameters. The
    legacy behavior is available using the -DZERO_ARGUMENT_GENERATE_SERIES compile-time
    option.
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[generate_series](series.html)表值函数扩展已修改，以便第一个参数（"START"）现在是必需的。这样做是为了演示如何编写带有必需参数的表值函数。使用-DZERO_ARGUMENT_GENERATE_SERIES编译选项可恢复传统行为。'
- en: Added new [sqlite3_changes64()](c3ref/changes.html) and [sqlite3_total_changes64()](c3ref/total_changes.html)
    interfaces.
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的[sqlite3_changes64()](c3ref/changes.html)和[sqlite3_total_changes64()](c3ref/total_changes.html)接口。
- en: Added the [SQLITE_OPEN_EXRESCODE](c3ref/c_open_autoproxy.html) flag option to
    [sqlite3_open_v2()](c3ref/open.html).
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_OPEN_EXRESCODE](c3ref/c_open_autoproxy.html)标志选项到[sqlite3_open_v2()](c3ref/open.html)。
- en: Use less memory to hold the database schema.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用更少的内存来保存数据库架构。
- en: '**Hashes:**'
  id: totrans-388
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-11-27 14:13:22 bd41822c7424d393a30e92ff6cb254d25c26769889c1499a18a0b9339f5d6c8a'
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-11-27 14:13:22 bd41822c7424d393a30e92ff6cb254d25c26769889c1499a18a0b9339f5d6c8a'
- en: 'SHA3-256 for sqlite3.c: a202a950ab401cda052e81259e96d6e64ad91faaaaf5690d769f64c2ab962f27'
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: a202a950ab401cda052e81259e96d6e64ad91faaaaf5690d769f64c2ab962f27'
- en: 2021-06-18 (3.36.0)
  id: totrans-391
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-06-18 (3.36.0)
- en: Improvement to the [EXPLAIN QUERY PLAN](eqp.html) output to make it easier to
    understand.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进[解释查询计划](eqp.html)输出，使其更易于理解。
- en: Byte-order marks at the start of a token are skipped as if they were whitespace.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在标记开头的字节顺序标记被跳过，就像它们是空白一样。
- en: An error is raised on any attempt to access the [rowid](lang_createtable.html#rowid)
    of a VIEW or subquery. Formerly, the rowid of a VIEW would be indeterminate and
    often would be NULL. The -DSQLITE_ALLOW_ROWID_IN_VIEW compile-time option is available
    to restore the legacy behavior for applications that need it.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 任何试图访问VIEW或子查询的[rowid](lang_createtable.html#rowid)都会引发错误。以前，VIEW的rowid是不确定的，通常为NULL。对于需要的应用程序，可通过编译时选项-DSQLITE_ALLOW_ROWID_IN_VIEW来恢复旧有的行为。
- en: The [sqlite3_deserialize()](c3ref/deserialize.html) and [sqlite3_serialize()](c3ref/serialize.html)
    interfaces are now enabled by default. The -DSQLITE_ENABLE_DESERIALIZE compile-time
    option is no longer required. Instead, there is a new [-DSQLITE_OMIT_DESERIALIZE](compile.html#omit_deserialize)
    compile-time option to omit those interfaces.
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_deserialize()](c3ref/deserialize.html)和[sqlite3_serialize()](c3ref/serialize.html)接口现在默认启用。不再需要-DSQLITE_ENABLE_DESERIALIZE编译时选项。取而代之的是一个新的[-DSQLITE_OMIT_DESERIALIZE](compile.html#omit_deserialize)编译时选项来省略这些接口。'
- en: The "memdb" VFS now allows the same in-memory database to be shared among multiple
    database connections in the same process as long as the database name begins with
    "/".
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"memdb" VFS现在允许相同的内存数据库在同一进程中的多个数据库连接之间共享，只要数据库名称以"/"开头。'
- en: Back out the EXISTS-to-IN optimization (item 8b in the [SQLite 3.35.0 change
    log](#version_3_35_0)) as it was found to slow down queries more often than speed
    them up.
  id: totrans-397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回退到存在到IN优化（在[SQLite 3.35.0更改日志](#version_3_35_0)中的第8b项），因为发现它更经常减慢查询而不是加快查询。
- en: Improve the [constant-propagation optimization](optoverview.html#constprop)
    so that it works on non-join queries.
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进[常量传播优化](optoverview.html#constprop)，使其适用于非连接查询。
- en: The [REGEXP extension](https://sqlite.org/src/file/ext/misc/regexp.c) is now
    included in [CLI](cli.html) builds.
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[正则表达式扩展](https://sqlite.org/src/file/ext/misc/regexp.c)现在包含在[CLI](cli.html)构建中。'
- en: '**Hashes:**'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-06-18 18:36:39 5c9a6c06871cb9fe42814af9c039eb6da5427a6ec28f187af7ebfb62eafa66e5'
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-06-18 18:36:39 5c9a6c06871cb9fe42814af9c039eb6da5427a6ec28f187af7ebfb62eafa66e5'
- en: 'SHA3-256 for sqlite3.c: 2a8e87aaa414ac2d45ace8eb74e710935423607a8de0fafcb36bbde5b952d157'
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 2a8e87aaa414ac2d45ace8eb74e710935423607a8de0fafcb36bbde5b952d157'
- en: 2021-04-19 (3.35.5)
  id: totrans-403
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-04-19 (3.35.5)
- en: Fix defects in the new ALTER TABLE DROP COLUMN feature that could corrupt the
    database file.
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复新的ALTER TABLE DROP COLUMN功能中的缺陷，可能会损坏数据库文件。
- en: Fix an obscure query optimizer problem that might cause an incorrect query result.
  id: totrans-405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个可能导致查询结果不正确的晦涩的查询优化器问题。
- en: '**Hashes:**'
  id: totrans-406
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-04-19 18:32:05 1b256d97b553a9611efca188a3d995a2fff712759044ba480f9a0c9e98fae886'
  id: totrans-407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-04-19 18:32:05 1b256d97b553a9611efca188a3d995a2fff712759044ba480f9a0c9e98fae886'
- en: 'SHA3-256 for sqlite3.c: e42291343e8f03940e57fffcf1631e7921013b94419c2f943e816d3edf4e1bbe'
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：e42291343e8f03940e57fffcf1631e7921013b94419c2f943e816d3edf4e1bbe
- en: 2021-04-02 (3.35.4)
  id: totrans-409
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-04-02 (3.35.4)
- en: Fix a defect in the query planner optimization identified by item 8b above.
    Ticket [de7db14784a08053](https://sqlite.org/src/info/de7db14784a08053).
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器优化中标识的问题。Ticket [de7db14784a08053](https://sqlite.org/src/info/de7db14784a08053)。
- en: Fix a defect in the new [RETURNING](lang_returning.html) syntax. Ticket [132994c8b1063bfb](https://sqlite.org/src/info/132994c8b1063bfb).
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复新的[RETURNING](lang_returning.html)语法中的缺陷。Ticket [132994c8b1063bfb](https://sqlite.org/src/info/132994c8b1063bfb)。
- en: Fix the new [RETURNING](lang_returning.html) feature so that it raises an error
    if one of the terms in the RETURNING clause references a unknown table, instead
    of silently ignoring that error.
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复新的[RETURNING](lang_returning.html)特性，如果RETURNING子句中的任何项引用了未知表，则引发错误，而不是默默忽略该错误。
- en: Fix an assertion associated with aggregate function processing that was incorrectly
    triggered by the [push-down optimization](optoverview.html#pushdown).
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复与聚合函数处理相关联的断言，该断言由于[推送优化](optoverview.html#pushdown)而被错误触发。
- en: '**Hashes:**'
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-04-02 15:20:15 5d4c65779dab868b285519b19e4cf9d451d50c6048f06f653aa701ec212df45e'
  id: totrans-415
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-04-02 15:20:15 5d4c65779dab868b285519b19e4cf9d451d50c6048f06f653aa701ec212df45e'
- en: 'SHA3-256 for sqlite3.c: 528b8a26bf5ffd4c7b4647b5b799f86e8fb1a075f715b87a414e94fba3d09dbe'
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：528b8a26bf5ffd4c7b4647b5b799f86e8fb1a075f715b87a414e94fba3d09dbe
- en: 2021-03-26 (3.35.3)
  id: totrans-417
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-03-26 (3.35.3)
- en: Enhance the OP_OpenDup opcode of the [bytecode engine](opcode.html) so that
    it works even if the cursor being duplicated itself came from OP_OpenDup. Fix
    for [ticket bb8a9fd4a9b7fce5](https://www.sqlite.org/src/info/bb8a9fd4a9b7fce5).
    This problem only came to light due to the recent MATERIALIZED hint enhancement.
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[字节码引擎](opcode.html)的OP_OpenDup操作码，以便即使被复制的游标本身来自OP_OpenDup，它也能正常工作。修复[ticket
    bb8a9fd4a9b7fce5](https://www.sqlite.org/src/info/bb8a9fd4a9b7fce5)。这个问题之所以显现出来，是因为最近的MATERIALIZED提示增强。
- en: When materializing correlated [common table expressions](lang_with.html), do
    so separately for each use case, as that is required for correctness. This fixes
    a problem that was introduced by the MATERIALIZED hint enhancement.
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当材料化相关的[共通表达式](lang_with.html)时，必须为每个用例单独执行，因为这对于正确性是必需的。这修复了由MATERIALIZED提示增强引入的问题。
- en: Fix a problem in the filename normalizer of the unix [VFS](vfs.html).
  id: totrans-420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复Unix [VFS](vfs.html)的文件名正规化器中的问题。
- en: Fix the ["box" output mode](cli.html#dotmode) in the [CLI](cli.html) so that
    it works with statements that returns one or more rows of zero columns (such as
    [PRAGMA incremental_vacuum](pragma.html#pragma_incremental_vacuum)). [Forum post
    afbbcb5b72](https://sqlite.org/forum/forumpost/afbbcb5b72).
  id: totrans-421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了[CLI](cli.html)中的["box"输出模式](cli.html#dotmode)，使其能够处理返回零列一行或多行的语句（例如[PRAGMA
    incremental_vacuum](pragma.html#pragma_incremental_vacuum)）。[论坛帖子afbbcb5b72](https://sqlite.org/forum/forumpost/afbbcb5b72)。
- en: Improvements to error messages generated by faulty common table expressions.
    [Forum post aa5a0431c99e](https://sqlite.org/forum/forumpost/aa5a0431c99e631).
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了由于错误的公共表达式生成的错误消息。[论坛帖子aa5a0431c99e](https://sqlite.org/forum/forumpost/aa5a0431c99e631)。
- en: Fix some incorrect assert() statements.
  id: totrans-423
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了一些不正确的assert()语句。
- en: Fix to the [SELECT statement syntax diagram](syntax/select-stmt.html) so that
    the FROM clause syntax is shown correctly. [Forum post 9ed02582fe](https://sqlite.org/forum/forumpost/9ed02582fe).
  id: totrans-424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[SELECT语句语法图](syntax/select-stmt.html)，以便正确显示FROM子句语法。[论坛帖子9ed02582fe](https://sqlite.org/forum/forumpost/9ed02582fe)。
- en: Fix the EBCDIC character classifier so that it understands newlines as whitespace.
    [Forum post 58540ce22dcd](https://sqlite.org/forum/forumpost/58540ce22dcd5fdcd).
  id: totrans-425
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了EBCDIC字符分类器，使其能够理解换行符作为空白字符。[论坛帖子58540ce22dcd](https://sqlite.org/forum/forumpost/58540ce22dcd5fdcd)。
- en: Improvements the [xBestIndex](vtab.html#xbestindex) method in the implementation
    of the (unsupported) [wholenumber virtual table](https://sqlite.org/src/file/ext/misc/wholenumber.c)
    extension so that it does a better job of convincing the query planner to avoid
    trying to materialize a table with an infinite number of rows. [Forum post b52a020ce4](https://sqlite.org/forum/forumpost/b52a020ce4).
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在实现（不支持的）[整数虚拟表](https://sqlite.org/src/file/ext/misc/wholenumber.c)扩展的[xBestIndex](vtab.html#xbestindex)方法中进行了改进，以更好地说服查询规划器避免尝试材料化具有无限行数的表。[论坛帖子b52a020ce4](https://sqlite.org/forum/forumpost/b52a020ce4)。
- en: '**Hashes:**'
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2021-03-26 12:12:52 4c5e6c200adc8afe0814936c67a971efc516d1bd739cb620235592f18f40be2a'
  id: totrans-428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2021-03-26 12:12:52 4c5e6c200adc8afe0814936c67a971efc516d1bd739cb620235592f18f40be2a
- en: 'SHA3-256 for sqlite3.c: 91ca6c0a30ebfdba4420bb35f4fd9149d13e45fc853d86ad7527db363e282683'
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 91ca6c0a30ebfdba4420bb35f4fd9149d13e45fc853d86ad7527db363e282683'
- en: 2021-03-17 (3.35.2)
  id: totrans-430
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-03-17（3.35.2）
- en: Fix a problem in the [appendvfs.c](https://www.sqlite.org/src/file/ext/misc/appendvfs.c)
    extension that was introduced into version 3.35.0.
  id: totrans-431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在版本3.35.0中引入的[appendvfs.c](https://www.sqlite.org/src/file/ext/misc/appendvfs.c)扩展中的问题。
- en: Ensure that date/time functions with no arguments (which generate responses
    that depend on the current time) are treated as [non-deterministic functions](deterministic.html).
    Ticket [2c6c8689fb5f3d2f](https://sqlite.org/src/info/2c6c8689fb5f3d2f)
  id: totrans-432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保没有参数的日期/时间函数（生成依赖于当前时间的响应）被视为[非确定性函数](deterministic.html)。票号[2c6c8689fb5f3d2f](https://sqlite.org/src/info/2c6c8689fb5f3d2f)
- en: Fix a problem in the [sqldiff](sqldiff.html) utility program having to do with
    unusual whitespace characters in a [virtual table](vtab.html) definition.
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sqldiff](sqldiff.html) 实用程序程序中的问题，该问题与虚拟表定义中的异常空白字符有关。
- en: Limit the new UNION ALL optimization described by item 8c in the 3.35.0 release
    so that it does not try to make too many new subqueries. See [forum thread 140a67d3d2](https://sqlite.org/forum/forumpost/140a67d3d2)
    for details.
  id: totrans-434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 限制了新的 UNION ALL 优化，该优化描述在 3.35.0 发布说明的第 8c 项中，以免尝试生成过多的新子查询。详见 [forum thread
    140a67d3d2](https://sqlite.org/forum/forumpost/140a67d3d2)。
- en: '**Hashes:**'
  id: totrans-435
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: 2021-03-17 19:07:21 ea80f3002f4120f5dcee76e8779dfdc88e1e096c5cdd06904c20fd26d50c3827'
  id: totrans-436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-03-17 19:07:21 ea80f3002f4120f5dcee76e8779dfdc88e1e096c5cdd06904c20fd26d50c3827'
- en: 'SHA3-256 for sqlite3.c: e8edc7b1512a2e050d548d0840bec6eef83cc297af1426c34c0ee8720f378a11'
  id: totrans-437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为 e8edc7b1512a2e050d548d0840bec6eef83cc297af1426c34c0ee8720f378a11
- en: 2021-03-15 (3.35.1)
  id: totrans-438
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-03-15（3.35.1）
- en: Fix [a bug](https://www.sqlite.org/src/info/1c24a659e6d7f3a1) in the new DROP
    COLUMN feature when used on columns that are indexed and that are quoted in the
    index definition.
  id: totrans-439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个 bug，该 bug 在新的 DROP COLUMN 功能在被用于带有索引并且在索引定义中被引用的列时出现。详见 [a bug](https://www.sqlite.org/src/info/1c24a659e6d7f3a1)。
- en: Improve the built-in documentation for the [.dump](cli.html#dump) command in
    the [CLI](cli.html).
  id: totrans-440
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 [CLI](cli.html) 中 [.dump](cli.html#dump) 命令的内置文档。
- en: '**Hashes:**'
  id: totrans-441
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: 2021-03-15 16:53:57 aea12399bf1fdc76af43499d4624c3afa17c3e6c2459b71c195804bb98def66a'
  id: totrans-442
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-03-15 16:53:57 aea12399bf1fdc76af43499d4624c3afa17c3e6c2459b71c195804bb98def66a'
- en: 'SHA3-256 for sqlite3.c: fc79e27fd030226c07691b7d7c23aa81c8d46bc3bef5af39060e1507c82b0523'
  id: totrans-443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为 fc79e27fd030226c07691b7d7c23aa81c8d46bc3bef5af39060e1507c82b0523
- en: 2021-03-12 (3.35.0)
  id: totrans-444
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-03-12（3.35.0）
- en: Added [built-in SQL math functions()](lang_mathfunc.html). (Requires the [-DSQLITE_ENABLE_MATH_FUNCTIONS](compile.html#enable_math_functions)
    compile-time option.)
  id: totrans-445
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了内置的 SQL 数学函数（[lang_mathfunc.html](lang_mathfunc.html)）。（需要在编译时使用 [-DSQLITE_ENABLE_MATH_FUNCTIONS](compile.html#enable_math_functions)
    选项。）
- en: Added support for [ALTER TABLE DROP COLUMN](lang_altertable.html#altertabdropcol).
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [ALTER TABLE DROP COLUMN](lang_altertable.html#altertabdropcol) 的支持。
- en: 'Generalize [UPSERT](lang_upsert.html):'
  id: totrans-447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 广义化了 [UPSERT](lang_upsert.html)：
- en: Allow multiple ON CONFLICT clauses that are evaluated in order,
  id: totrans-448
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许按顺序评估多个 ON CONFLICT 子句，
- en: The final ON CONFLICT clause may omit the conflict target and yet still use
    DO UPDATE.
  id: totrans-449
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终的 ON CONFLICT 子句可以省略冲突目标，但仍然使用 DO UPDATE。
- en: Add support for the [RETURNING](lang_returning.html) clause on [DELETE](lang_delete.html),
    [INSERT](lang_insert.html), and [UPDATE](lang_update.html) statements.
  id: totrans-450
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [DELETE](lang_delete.html), [INSERT](lang_insert.html) 和 [UPDATE](lang_update.html)
    语句增加对 [RETURNING](lang_returning.html) 子句的支持。
- en: Use less memory when running [VACUUM](lang_vacuum.html) on databases containing
    very large TEXT or BLOB values. It is no longer necessary to hold the entire TEXT
    or BLOB in memory all at once.
  id: totrans-451
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当运行 [VACUUM](lang_vacuum.html) 时，使用更少的内存来处理包含非常大的 TEXT 或 BLOB 值的数据库。不再需要一次性将整个
    TEXT 或 BLOB 存储在内存中。
- en: Add support for the [MATERIALIZED](lang_with.html#mathint) and [NOT MATERIALIZED](lang_with.html#mathint)
    hints when specifying [common table expressions](lang_with.html). The default
    behavior was formerly NOT MATERIALIZED, but is now changed to MATERIALIZED for
    CTEs that are used more than once.
  id: totrans-452
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在指定[公共表达式](lang_with.html)时，增加了对[MATERIALIZED](lang_with.html#mathint)和[NOT
    MATERIALIZED](lang_with.html#mathint)提示的支持。以前的默认行为是 NOT MATERIALIZED，但现在对于多次使用的
    CTE，已更改为 MATERIALIZED。
- en: The [SQLITE_DBCONFIG_ENABLE_TRIGGER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenabletrigger)
    and [SQLITE_DBCONFIG_ENABLE_VIEW](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableview)
    settings are modified so that they only control triggers and views in the main
    database schema or in attached database schemas and not in the TEMP schema. TEMP
    triggers and views are always allowed.
  id: totrans-453
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLITE_DBCONFIG_ENABLE_TRIGGER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenabletrigger)
    和 [SQLITE_DBCONFIG_ENABLE_VIEW](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableview)
    设置已修改，以仅控制主数据库模式或附加数据库模式中的触发器和视图，而不包括 TEMP 模式。TEMP 模式的触发器和视图始终允许。'
- en: 'Query planner/optimizer improvements:'
  id: totrans-454
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器/优化器改进：
- en: Enhancements to the [min/max optimization](optoverview.html#minmax) so that
    it works better with the IN operator and the OP_SeekScan optimization of the previous
    release.
  id: totrans-455
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化了[min/max 优化](optoverview.html#minmax)，使其与上一个版本的 IN 运算符和 OP_SeekScan 优化更好地配合。
- en: Attempt to process EXISTS operators in the WHERE clause as if they were IN operators,
    in cases where this is a valid transformation and seems likely to improve performance.
  id: totrans-456
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试将 WHERE 子句中的 EXISTS 运算符处理为 IN 运算符，如果这是有效的转换，并且可能改善性能。
- en: Allow UNION ALL sub-queries to be [flattened](optoverview.html#flattening) even
    if the parent query is a join.
  id: totrans-457
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许即使父查询是连接，也可以[展开](optoverview.html#flattening) UNION ALL 子查询。
- en: Use an index, if appropriate, on IS NOT NULL expressions in the WHERE clause,
    even if STAT4 is disabled.
  id: totrans-458
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 WHERE 子句中的 IS NOT NULL 表达式上，即使禁用了 STAT4，也可以使用索引（如果适用）。
- en: Expressions of the form "x IS NULL" or "x IS NOT NULL" might be converted to
    simply FALSE or TRUE, if "x" is a column that has a "NOT NULL" constraint and
    is not involved in an outer join.
  id: totrans-459
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 形如 "x IS NULL" 或 "x IS NOT NULL" 的表达式，如果 "x" 是具有 "NOT NULL" 约束且未参与外连接的列，则可能被转换为简单的
    FALSE 或 TRUE。
- en: Avoid checking foreign key constraints on an UPDATE statement if the UPDATE
    does not modify any columns associated with the foreign key.
  id: totrans-460
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 UPDATE 不修改与外键关联的任何列，则在 UPDATE 语句上避免检查外键约束。
- en: Allow WHERE terms to be [pushed down](optoverview.html#pushdown) into sub-queries
    that contain window functions, as long as the WHERE term is made up of entirely
    of constants and copies of expressions found in the PARTITION BY clauses of all
    window functions in the sub-query.
  id: totrans-461
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许将 WHERE 条件推入包含窗口函数的子查询中，只要 WHERE 条件完全由常量和子查询中所有窗口函数的 PARTITION BY 子句中的表达式副本组成。
- en: '[CLI](cli.html) enhancements:'
  id: totrans-462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html)增强：'
- en: Enhance the ".stats" command to accept new arguments "stmt" and "vmstep", causing
    prepare statement statistics and only the virtual-machine step count to be shown,
    respectively.
  id: totrans-463
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强“.stats”命令，接受新参数“stmt”和“vmstep”，分别用于准备语句统计和仅显示虚拟机步数。
- en: Add the ".filectrl data_version" command.
  id: totrans-464
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了“.filectrl data_version”命令。
- en: Enhance the ".once" and ".output" commands so that if the destination argument
    begins with "|" (indicating that output is redirected into a pipe) then the argument
    does not need to be quoted.
  id: totrans-465
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强“.once”和“.output”命令，如果目标参数以“|”开头（表示输出被重定向到管道），则不需要引号。
- en: 'Bug fixes:'
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：
- en: Fix a potential NULL pointer dereference when processing a syntactically incorrect
    SELECT statement with a correlated WHERE clause and a "HAVING 0" clause. (Also
    fixed in the 3.34.1 patch release.)
  id: totrans-467
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复处理语法不正确的带有相关WHERE子句和“HAVING 0”子句的SELECT语句时潜在的NULL指针解引用问题。（也在3.34.1补丁发布中修复。）
- en: Fix a [bug in the IN-operator optimization](https://www.sqlite.org/src/info/ee51301f316c09e9)
    of version 3.33.0 that can cause an incorrect answer.
  id: totrans-468
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了版本3.33.0中IN操作符优化的错误，可能导致错误答案。
- en: Fix incorrect answers from the [LIKE operator](lang_expr.html#like) if the pattern
    ends with "%" and there is an "ESCAPE '_'" clause.
  id: totrans-469
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了当模式以“%”结尾且有“ESCAPE '_'”子句时LIKE操作符可能出现的错误答案。
- en: '**Hashes:**'
  id: totrans-470
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-03-12 15:10:09 acd63062eb06748bfe9e4886639e4f2b54ea6a496a83f10716abbaba4115500b'
  id: totrans-471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-03-12 15:10:09 acd63062eb06748bfe9e4886639e4f2b54ea6a496a83f10716abbaba4115500b'
- en: 'SHA3-256 for sqlite3.c: 73a740d881735bef9de7f7bce8c9e6b9e57fe3e77fa7d76a6e8fc5c262fbaedf'
  id: totrans-472
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 73a740d881735bef9de7f7bce8c9e6b9e57fe3e77fa7d76a6e8fc5c262fbaedf'
- en: 2021-01-20 (3.34.1)
  id: totrans-473
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2021-01-20（3.34.1）
- en: Fix a potential use-after-free bug when processing a a subquery with both a
    correlated WHERE clause and a "HAVING 0" clause and where the parent query is
    an aggregate.
  id: totrans-474
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复处理同时具有相关WHERE子句和“HAVING 0”子句的子查询和父查询为聚合时可能出现的使用后释放错误。
- en: Fix documentation typos
  id: totrans-475
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复文档中的拼写错误。
- en: Fix minor problems in extensions.
  id: totrans-476
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了扩展中的一些小问题。
- en: '**Hashes:**'
  id: totrans-477
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2021-01-20 14:10:07 10e20c0b43500cfb9bbc0eaa061c57514f715d87238f4d835880cd846b9ebd1f'
  id: totrans-478
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2021-01-20 14:10:07 10e20c0b43500cfb9bbc0eaa061c57514f715d87238f4d835880cd846b9ebd1f'
- en: 'SHA3-256 for sqlite3.c: 799a7be90651fc7296113b641a70b028c142d767b25af1d0a78f93dcf1a2bf20'
  id: totrans-479
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 799a7be90651fc7296113b641a70b028c142d767b25af1d0a78f93dcf1a2bf20'
- en: 2020-12-01 (3.34.0)
  id: totrans-480
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-12-01（3.34.0）
- en: Added the [sqlite3_txn_state()](c3ref/txn_state.html) interface for reporting
    on the current transaction state of the database connection.
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_txn_state()](c3ref/txn_state.html)接口，用于报告数据库连接的当前事务状态。
- en: Enhance [recursive common table expressions](lang_with.html#recursivecte) to
    support two or more recursive terms as is done by SQL Server, since this helps
    make [queries against graphs](lang_with.html#rcex3) easier to write and faster
    to execute.
  id: totrans-482
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强[递归公共表表达式](lang_with.html#recursivecte)，支持两个或更多递归项，类似SQL Server的做法，这有助于更容易编写和更快执行对图形的查询。
- en: Improved error messages on [CHECK constraint](lang_createtable.html#ckconst)
    failures.
  id: totrans-483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [CHECK 约束](lang_createtable.html#ckconst) 失败时改进了错误消息。
- en: '[CLI](cli.html) enhancements:'
  id: totrans-484
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html) 增强功能：'
- en: The [.read](cli.html#dotread) dot-command now accepts a pipeline in addition
    to a filename.
  id: totrans-485
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[.read](cli.html#dotread) dot-command 现在除了文件名外还接受管道。'
- en: Added options --data-only and --nosys to the [.dump](cli.html#dump) dot-command.
  id: totrans-486
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 --data-only 和 --nosys 选项到 [.dump](cli.html#dump) dot-command。
- en: Added the --nosys option to the [.schema](cli.html#dschema) dot-command.
  id: totrans-487
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 --nosys 选项到 [.schema](cli.html#dschema) dot-command。
- en: Table name quoting works correctly for the [.import](cli.html#csv) dot-command.
  id: totrans-488
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 表名引用在 [.import](cli.html#csv) dot-command 中正常工作。
- en: The [generate_series(START,END,STEP)](series.html) table-valued function extension
    is now built into the CLI.
  id: totrans-489
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内置于 CLI 中的表值函数扩展 [generate_series(START,END,STEP)](series.html) 现在已经建立起来。
- en: The [.databases](cli.html#dotdatabases) dot-command now shows the status of
    each database file as determined by [sqlite3_db_readonly()](c3ref/db_readonly.html)
    and [sqlite3_txn_state()](c3ref/txn_state.html).
  id: totrans-490
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[.databases](cli.html#dotdatabases) dot-command 现在显示每个数据库文件的状态，由 [sqlite3_db_readonly()](c3ref/db_readonly.html)
    和 [sqlite3_txn_state()](c3ref/txn_state.html) 决定。'
- en: Added the --tabs command-line option that sets [.mode tabs](cli.html#dotmode).
  id: totrans-491
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 --tabs 命令行选项，设置 [.mode tabs](cli.html#dotmode)。
- en: The --init option reports an error if the file named as its argument cannot
    be opened. The --init option also now honors the --bail option.
  id: totrans-492
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果无法打开作为其参数的文件，则 --init 选项报告错误。 --init 选项现在还支持 --bail 选项。
- en: 'Query planner improvements:'
  id: totrans-493
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器改进：
- en: Improved estimates for the cost of running a DISTINCT operator.
  id: totrans-494
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了运行 DISTINCT 运算符的成本估算。
- en: When doing an UPDATE or DELETE using a multi-column index where only a few of
    the earlier columns of the index are useful for the index lookup, postpone doing
    the main table seek until after all WHERE clause constraints have been evaluated,
    in case those constraints can be covered by unused later terms of the index, thus
    avoiding unnecessary main table seeks.
  id: totrans-495
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用多列索引进行 UPDATE 或 DELETE 操作时，索引的前几列对索引查找有用，推迟主表搜索，直到评估完所有 WHERE 子句约束，以防这些约束可以由索引的未使用的后续项覆盖，从而避免不必要的主表搜索。
- en: The new OP_SeekScan opcode is used to improve performance of multi-column index
    look-ups when later columns are constrained by an IN operator.
  id: totrans-496
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的 OP_SeekScan 操作码用于改进多列索引查找的性能，后续列受 IN 运算符约束时。
- en: The [BEGIN IMMEDIATE](lang_transaction.html#immediate) and [BEGIN EXCLUSIVE](lang_transaction.html#immediate)
    commands now work even if one or more attached database files are read-only.
  id: totrans-497
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使一个或多个附加数据库文件是只读的，[BEGIN IMMEDIATE](lang_transaction.html#immediate) 和 [BEGIN
    EXCLUSIVE](lang_transaction.html#immediate) 命令现在也能正常工作。
- en: Enhanced [FTS5](fts5.html) to support [trigram indexes](fts5.html#trigramidx).
  id: totrans-498
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [FTS5](fts5.html) 来支持 [trigram indexes](fts5.html#trigramidx)。
- en: Improved performance of [WAL mode](wal.html) locking primitives in cases where
    there are hundreds of connections all accessing the same database file at once.
  id: totrans-499
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在有数百个连接同时访问同一数据库文件的情况下，改进了[WAL 模式](wal.html)的锁定原语的性能。
- en: Enhanced the [carray() table-valued function](carray.html) to include a single-argument
    form that is bound using the auxiliary [sqlite3_carray_bind()](carray.html#onearg)
    interface.
  id: totrans-500
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[carray() 表值函数](carray.html)，包括使用辅助的[sqlite3_carray_bind()](carray.html#onearg)接口的单参数形式。
- en: The [substr() SQL function](lang_corefunc.html#substr) can now also be called
    "substring()" for compatibility with SQL Server.
  id: totrans-501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[substr() SQL 函数](lang_corefunc.html#substr)现在还可以称为 "substring()"，以与 SQL Server
    兼容。'
- en: The [syntax diagrams](syntaxdiagrams.html) are now implemented as [Pikchr](https://pikchr.org/)
    scripts and rendered as SVG for improved legibility and ease of maintenance.
  id: totrans-502
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[语法图](syntaxdiagrams.html)现在以[Pikchr](https://pikchr.org/)脚本的形式实现，并以 SVG 渲染，以提高可读性和维护性。'
- en: '**Hashes:**'
  id: totrans-503
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2020-12-01 16:14:00 a26b6597e3ae272231b96f9982c3bcc17ddec2f2b6eb4df06a224b91089fed5b'
  id: totrans-504
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2020-12-01 16:14:00 a26b6597e3ae272231b96f9982c3bcc17ddec2f2b6eb4df06a224b91089fed5b
- en: 'SHA3-256 for sqlite3.c: fbd895b0655a337b2cd657675f314188a4e9fe614444cc63dfeb3f066f674514'
  id: totrans-505
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SHA3-256 for sqlite3.c：fbd895b0655a337b2cd657675f314188a4e9fe614444cc63dfeb3f066f674514
- en: 2020-08-14 (3.33.0)
  id: totrans-506
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-08-14（3.33.0）
- en: Support for [UPDATE FROM](lang_update.html#upfrom) following the PostgreSQL
    syntax.
  id: totrans-507
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持按照 PostgreSQL 语法进行的[UPDATE FROM](lang_update.html#upfrom)操作。
- en: Increase the maximum size of database files to 281 TB.
  id: totrans-508
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据库文件的最大大小增加到 281 TB。
- en: Extended the [PRAGMA integrity_check](pragma.html#pragma_integrity_check) statement
    so that it can optionally be limited to verifying just a single table and its
    indexes, rather than the entire database file.
  id: totrans-509
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扩展了[PRAGMA integrity_check](pragma.html#pragma_integrity_check)语句，以便可以选择性地仅验证单个表及其索引，而不是整个数据库文件。
- en: Added the [decimal extension](floatingpoint.html#decext) for doing arbitrary-precision
    decimal arithmetic.
  id: totrans-510
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了进行任意精度十进制算术的[decimal 扩展](floatingpoint.html#decext)。
- en: Enhancements to the [ieee754 extension](floatingpoint.html#ieee754ext) for working
    with IEEE 754 binary64 numbers.
  id: totrans-511
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了与 IEEE 754 binary64 数字一起工作的[ieee754 扩展](floatingpoint.html#ieee754ext)。
- en: '[CLI](cli.html) enhancements:'
  id: totrans-512
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html)增强：'
- en: 'Added four new [output modes](cli.html#dotmode): "box", "json", "markdown",
    and "table".'
  id: totrans-513
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了四种新的[输出模式](cli.html#dotmode)："box"、"json"、"markdown"和"table"。
- en: The "column" output mode automatically expands columns to contain the longest
    output row and automatically turns ".header" on if it has not been previously
    set.
  id: totrans-514
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"column" 输出模式会自动展开列以包含最长的输出行，并在未设置的情况下自动打开 ".header"。'
- en: The "quote" output mode honors ".separator"
  id: totrans-515
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"quote" 输出模式遵循 ".separator"。'
- en: The [decimal extension](floatingpoint.html#decext) and the [ieee754 extension](floatingpoint.html#ieee754ext)
    are built-in to the CLI
  id: totrans-516
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[十进制扩展](floatingpoint.html#decext)和[ieee754 扩展](floatingpoint.html#ieee754ext)都内置到
    CLI 中'
- en: 'Query planner improvements:'
  id: totrans-517
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器改进：
- en: Add the ability to find a full-index-scan query plan for queries using [INDEXED
    BY](lang_indexedby.html) which previously would fail with "no query solution".
  id: totrans-518
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了在使用[INDEXED BY](lang_indexedby.html)查询计划时找到全索引扫描的能力，此前这些查询会因为"无法找到查询解决方案"而失败。
- en: Do a better job of detecting missing, incomplete, and/or dodgy [sqlite_stat1](fileformat2.html#stat1tab)
    data and generates good query plans in spite of the misinformation.
  id: totrans-519
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更好地检测缺失、不完整和/或不良的[sqlite_stat1](fileformat2.html#stat1tab)数据，并生成良好的查询计划，尽管有误导信息。
- en: Improved performance of queries like "SELECT min(x) FROM t WHERE y IN (?,?,?)"
    assuming an index on t(x,y).
  id: totrans-520
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了像"SELECT min(x) FROM t WHERE y IN (?,?,?)"这样的查询性能，假设在t(x,y)上有索引。
- en: In [WAL mode](wal.html), if a writer crashes and leaves the [shm file](walformat.html#shm)
    in an inconsistent state, subsequent transactions are now able to recover the
    shm file even if there are active read transactions. Before this enhancement,
    shm file recovery that scenario would result in an [SQLITE_PROTOCOL](rescode.html#protocol)
    error.
  id: totrans-521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[WAL模式](wal.html)，如果写入程序崩溃并将[shm文件](walformat.html#shm)留在不一致状态下，后续事务现在能够恢复shm文件，即使存在活动读取事务。在此改进之前，shm文件恢复会导致[SQLITE_PROTOCOL](rescode.html#protocol)错误。
- en: '**Hashes:**'
  id: totrans-522
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2020-08-14 13:23:32 fca8dc8b578f215a969cd899336378966156154710873e68b3d9ac5881b0ff3f'
  id: totrans-523
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2020-08-14 13:23:32 fca8dc8b578f215a969cd899336378966156154710873e68b3d9ac5881b0ff3f'
- en: 'SHA3-256 for sqlite3.c: d00b7fffa6d33af2303430eaf394321da2960604d25a4471c7af566344f2abf9'
  id: totrans-524
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: d00b7fffa6d33af2303430eaf394321da2960604d25a4471c7af566344f2abf9'
- en: 2020-06-18 (3.32.3)
  id: totrans-525
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-06-18 (3.32.3)
- en: Various minor bug fixes including fixes for tickets [8f157e8010b22af0](https://www.sqlite.org/src/info/8f157e8010b22af0),
    [9fb26d37cefaba40](https://www.sqlite.org/src/info/9fb26d37cefaba40), [e367f31901ea8700](https://www.sqlite.org/src/info/e367f31901ea8700),
    [b706351ce2ecf59a](https://www.sqlite.org/src/info/b706351ce2ecf59a), [7c6d876f84e6e7e2](https://www.sqlite.org/src/info/7c6d876f84e6e7e2),
    and [c8d3b9f0a750a529](https://www.sqlite.org/src/info/c8d3b9f0a750a529).
  id: totrans-526
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种次要错误修复，包括对票据[8f157e8010b22af0](https://www.sqlite.org/src/info/8f157e8010b22af0)、[9fb26d37cefaba40](https://www.sqlite.org/src/info/9fb26d37cefaba40)、[e367f31901ea8700](https://www.sqlite.org/src/info/e367f31901ea8700)、[b706351ce2ecf59a](https://www.sqlite.org/src/info/b706351ce2ecf59a)、[7c6d876f84e6e7e2](https://www.sqlite.org/src/info/7c6d876f84e6e7e2)和[c8d3b9f0a750a529](https://www.sqlite.org/src/info/c8d3b9f0a750a529)的修复。
- en: '**Hashes:**'
  id: totrans-527
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2020-06-18 14:00:33 7ebdfa80be8e8e73324b8d66b3460222eb74c7e9dfd655b48d6ca7e1933cc8fd'
  id: totrans-528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2020-06-18 14:00:33 7ebdfa80be8e8e73324b8d66b3460222eb74c7e9dfd655b48d6ca7e1933cc8fd'
- en: 'SHA3-256 for sqlite3.c: b62b77ee1c561a69a71bb557694aaa5141f1714c1ff6cc1ba8aa8733c92d4f52'
  id: totrans-529
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: d00b7fffa6d33af2303430eaf394321da2960604d25a4471c7af566344f2abf9'
- en: 2020-06-04 (3.32.2)
  id: totrans-530
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-06-04 (3.32.2)
- en: Fix a long-standing bug in the byte-code engine that can cause a [COMMIT](lang_transaction.html)
    command report as success when in fact it failed to commit. Ticket [810dc8038872e212](https://www.sqlite.org/src/info/810dc8038872e212)
  id: totrans-531
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复字节码引擎中的长期存在的错误，该错误可能导致[COMMIT](lang_transaction.html)命令错误地报告成功。票据[810dc8038872e212](https://www.sqlite.org/src/info/810dc8038872e212)
- en: '**Hashes:**'
  id: totrans-532
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2020-06-04 12:58:43 ec02243ea6ce33b090870ae55ab8aa2534b54d216d45c4aa2fdbb00e86861e8c'
  id: totrans-533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2020-06-04 12:58:43 ec02243ea6ce33b090870ae55ab8aa2534b54d216d45c4aa2fdbb00e86861e8c
- en: 'SHA3-256 for sqlite3.c: f17a2a57f7eebc72d405f3b640b4a49bcd02364a9c36e04feeb145eccafa3f8d'
  id: totrans-534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值：f17a2a57f7eebc72d405f3b640b4a49bcd02364a9c36e04feeb145eccafa3f8d
- en: 2020-05-25 (3.32.1)
  id: totrans-535
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-05-25（3.32.1）
- en: Fix two long-standing bugs that allow malicious SQL statements to crash the
    process that is running SQLite. These bugs were announced by a third-party approximately
    24 hours after the 3.32.0 release but are not specific to the 3.32.0 release.
  id: totrans-536
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了两个长期存在的漏洞，这些漏洞允许恶意的 SQL 语句使运行 SQLite 的进程崩溃。这些漏洞在 3.32.0 版本发布后约 24 小时被第三方公布，但并不局限于
    3.32.0 版本。
- en: Other minor compiler-warning fixes and whatnot.
  id: totrans-537
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他轻微的编译器警告修复和其他事项。
- en: '**Hashes:**'
  id: totrans-538
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2020-05-25 16:19:56 0c1fcf4711a2e66c813aed38cf41cd3e2123ee8eb6db98118086764c4ba83350'
  id: totrans-539
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2020-05-25 16:19:56 0c1fcf4711a2e66c813aed38cf41cd3e2123ee8eb6db98118086764c4ba83350
- en: 'SHA3-256 for sqlite3.c: f695ae21abf045e4ee77980a67ab2c6e03275009e593ee860a2eabf840482372'
  id: totrans-540
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值：f695ae21abf045e4ee77980a67ab2c6e03275009e593ee860a2eabf840482372
- en: 2020-05-22 (3.32.0)
  id: totrans-541
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-05-22（3.32.0）
- en: Added support for [approximate ANALYZE](lang_analyze.html#approx) using the
    [PRAGMA analysis_limit](pragma.html#pragma_analysis_limit) command.
  id: totrans-542
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[近似分析](lang_analyze.html#approx)的支持，使用[PRAGMA analysis_limit](pragma.html#pragma_analysis_limit)命令。
- en: Added the [bytecode virtual table](bytecodevtab.html).
  id: totrans-543
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[字节码虚拟表](bytecodevtab.html)。
- en: Add the [checksum VFS shim](cksumvfs.html) to the set of run-time loadable extensions
    included in the source tree.
  id: totrans-544
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[校验和 VFS shim](cksumvfs.html)添加到包含在源代码树中的可运行加载扩展集中。
- en: Added the [iif() SQL function](lang_corefunc.html#iif).
  id: totrans-545
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[iif() SQL 函数](lang_corefunc.html#iif)。
- en: INSERT and UPDATE statements now always apply [column affinity](datatype3.html#affinity)
    before computing [CHECK constraints](lang_createtable.html#ckconst). This bug
    fix could, in theory, cause problems for legacy databases with unorthodox CHECK
    constraints the require the input type for an INSERT is different from the declared
    column type. See ticket [86ba67afafded936](https://sqlite.org/src/info/86ba67afafded936)
    for more information.
  id: totrans-546
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: INSERT 和 UPDATE 语句现在在计算[CHECK 约束](lang_createtable.html#ckconst)之前始终应用[列亲和性](datatype3.html#affinity)。理论上，这个
    bug 修复可能会导致具有非正统 CHECK 约束的传统数据库出现问题，因为它们要求插入的输入类型与声明的列类型不同。详细信息请参见票证[86ba67afafded936](https://sqlite.org/src/info/86ba67afafded936)。
- en: Added the [sqlite3_create_filename()](c3ref/create_filename.html), [sqlite3_free_filename()](c3ref/create_filename.html),
    and [sqlite3_database_file_object()](c3ref/database_file_object.html) interfaces
    to better support of [VFS shim](vfs.html#shim) implementations.
  id: totrans-547
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_create_filename()](c3ref/create_filename.html)、[sqlite3_free_filename()](c3ref/create_filename.html)
    和 [sqlite3_database_file_object()](c3ref/database_file_object.html) 接口，以更好地支持[VFS
    shim](vfs.html#shim)实现。
- en: Increase the [default upper bound](limits.html#max_variable_number) on the number
    of [parameters](lang_expr.html#varparam) from 999 to 32766.
  id: totrans-548
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[参数](lang_expr.html#varparam)的[默认上限](limits.html#max_variable_number)从 999
    增加到 32766。
- en: Added code for the [UINT collating sequence](uintcseq.html) as an optional [loadable
    extension](loadext.html).
  id: totrans-549
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为可选的 [可加载扩展](loadext.html)，添加了 [UINT](uintcseq.html) 排序序列的代码。
- en: 'Enhancements to the [CLI](cli.html):'
  id: totrans-550
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html) 的增强功能：'
- en: 'Add options to the [.import](cli.html#csv) command: --csv, --ascii, --skip'
  id: totrans-551
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [.import](cli.html#csv) 命令添加选项：--csv、--ascii、--skip
- en: The [.dump](cli.html#dump) command now accepts multiple LIKE-pattern arguments
    and outputs the union of all matching tables.
  id: totrans-552
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[.dump](cli.html#dump) 命令现在接受多个 LIKE 模式参数，并输出所有匹配表的并集。'
- en: Add the .oom command in debugging builds
  id: totrans-553
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在调试构建中添加了 .oom 命令。
- en: Add the --bom option to the [.excel](cli.html#dotexcel), [.output](cli.html#dotoutput),
    and [.once](cli.html#dotoutput) commands.
  id: totrans-554
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 --bom 选项添加到 [.excel](cli.html#dotexcel)、[.output](cli.html#dotoutput) 和 [.once](cli.html#dotoutput)
    命令。
- en: Enhance the .filectrl command to support the --schema option.
  id: totrans-555
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强 .filectrl 命令以支持 --schema 选项。
- en: The [UINT collating sequence](uintcseq.html) extension is automatically loaded
  id: totrans-556
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[UINT](uintcseq.html) 排序序列扩展自动加载。'
- en: The [ESCAPE](lang_expr.html#like) clause of a [LIKE](lang_expr.html#like) operator
    now overrides wildcard characters, so that the behavior matches what PostgreSQL
    does.
  id: totrans-557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ESCAPE](lang_expr.html#like) 子句的 [LIKE](lang_expr.html#like) 操作符现在覆盖通配符字符，使其行为与
    PostgreSQL 相匹配。'
- en: 'SQLITE_SOURCE_ID: 2020-05-22 17:46:16 5998789c9c744bce92e4cff7636bba800a75574243d6977e1fc8281e360f8d5a'
  id: totrans-558
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2020-05-22 17:46:16 5998789c9c744bce92e4cff7636bba800a75574243d6977e1fc8281e360f8d5a'
- en: 'SHA3-256 for sqlite3.c: 33ed868b21b62ce1d0352ed88bdbd9880a42f29046497a222df6459fc32a356f'
  id: totrans-559
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 33ed868b21b62ce1d0352ed88bdbd9880a42f29046497a222df6459fc32a356f'
- en: 2020-01-27 (3.31.1)
  id: totrans-560
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-01-27 (3.31.1)
- en: Revert the data layout for an internal-use-only SQLite data structure. Applications
    that use SQLite should never reference internal SQLite data structures, but some
    do anyhow, and a change to one such data structure in 3.30.0 broke a popular and
    widely-deployed application. Reverting that change in SQLite, at least temporarily,
    gives developers of misbehaving applications time to fix their code.
  id: totrans-561
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 恢复 SQLite 用于内部使用的数据结构的数据布局。使用 SQLite 的应用程序不应引用内部 SQLite 数据结构，但有些应用程序确实这样做了，在
    3.30.0 中对其中一个数据结构的更改破坏了一款流行且广泛部署的应用程序。在 SQLite 中撤销这一更改，至少暂时给那些行为异常的应用程序的开发者时间来修复其代码。
- en: Fix a typos in the sqlite3ext.h header file that prevented the [sqlite3_stmt_isexplain()](c3ref/stmt_isexplain.html)
    and [sqlite3_value_frombind()](c3ref/value_blob.html) interfaces from being called
    from [run-time loadable extensions](loadext.html).
  id: totrans-562
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 sqlite3ext.h 头文件中的拼写错误，阻止了 [sqlite3_stmt_isexplain()](c3ref/stmt_isexplain.html)
    和 [sqlite3_value_frombind()](c3ref/value_blob.html) 接口被 [运行时可加载扩展](loadext.html)
    调用。
- en: '**Hashes:**'
  id: totrans-563
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2020-01-27 19:55:54 3bfa9cc97da10598521b342961df8f5f68c7388fa117345eeb516eaa837bb4d6'
  id: totrans-564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2020-01-27 19:55:54 3bfa9cc97da10598521b342961df8f5f68c7388fa117345eeb516eaa837bb4d6'
- en: 'SHA3-256 for sqlite3.c: de465c64f09529429a38cbdf637acce4dfda6897f93e3db3594009e0fed56d27'
  id: totrans-565
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: de465c64f09529429a38cbdf637acce4dfda6897f93e3db3594009e0fed56d27'
- en: 2020-01-22 (3.31.0)
  id: totrans-566
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2020-01-22 (3.31.0)
- en: Add support for [generated columns](gencol.html).
  id: totrans-567
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [生成列](gencol.html) 的支持。
- en: Add the [sqlite3_hard_heap_limit64()](c3ref/hard_heap_limit64.html) interface
    and the corresponding [PRAGMA hard_heap_limit](pragma.html#pragma_hard_heap_limit)
    command.
  id: totrans-568
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了 [sqlite3_hard_heap_limit64()](c3ref/hard_heap_limit64.html) 接口以及相应的 [PRAGMA
    hard_heap_limit](pragma.html#pragma_hard_heap_limit) 命令。
- en: Enhance the [function_list pragma](pragma.html#pragma_function_list) to show
    the number of arguments on each function, the type of function (scalar, aggregate,
    window), and the function property flags [SQLITE_DETERMINISTIC](c3ref/c_deterministic.html#sqlitedeterministic),
    [SQLITE_DIRECTONLY](c3ref/c_deterministic.html#sqlitedirectonly), [SQLITE_INNOCUOUS](c3ref/c_deterministic.html#sqliteinnocuous),
    and/or [SQLITE_SUBTYPE](c3ref/c_deterministic.html#sqlitesubtype).
  id: totrans-569
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [function_list pragma](pragma.html#pragma_function_list)，显示每个函数的参数数量、函数类型（标量、聚合、窗口）以及函数属性标志
    [SQLITE_DETERMINISTIC](c3ref/c_deterministic.html#sqlitedeterministic)，[SQLITE_DIRECTONLY](c3ref/c_deterministic.html#sqlitedirectonly)，[SQLITE_INNOCUOUS](c3ref/c_deterministic.html#sqliteinnocuous)，和/或
    [SQLITE_SUBTYPE](c3ref/c_deterministic.html#sqlitesubtype)。
- en: Add the [aggregated mode](dbstat.html#dbstatagg) feature to the [DBSTAT virtual
    table](dbstat.html).
  id: totrans-570
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [DBSTAT virtual table](dbstat.html) 添加了 [aggregated mode](dbstat.html#dbstatagg)
    特性。
- en: Add the [SQLITE_OPEN_NOFOLLOW](c3ref/open.html#opennofollow) option to [sqlite3_open_v2()](c3ref/open.html)
    that prevents SQLite from opening symbolic links.
  id: totrans-571
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [sqlite3_open_v2()](c3ref/open.html) 函数中添加了 [SQLITE_OPEN_NOFOLLOW](c3ref/open.html#opennofollow)
    选项，用于阻止 SQLite 打开符号链接。
- en: Added the "#-N" array notation for [JSON function path arguments](json1.html#jsonpath).
  id: totrans-572
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 "#-N" 数组表示法用于 [JSON function path arguments](json1.html#jsonpath)。
- en: Added the [SQLITE_DBCONFIG_TRUSTED_SCHEMA](c3ref/c_dbconfig_defensive.html#sqlitedbconfigtrustedschema)
    connection setting which is also controllable via the new [trusted_schema pragma](pragma.html#pragma_trusted_schema)
    and at compile-time using the [-DSQLITE_TRUSTED_SCHEMA](compile.html#trusted_schema)
    compile-time option.
  id: totrans-573
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了 [SQLITE_DBCONFIG_TRUSTED_SCHEMA](c3ref/c_dbconfig_defensive.html#sqlitedbconfigtrustedschema)
    连接设置，也可以通过新的 [trusted_schema pragma](pragma.html#pragma_trusted_schema) 和编译时选项
    [-DSQLITE_TRUSTED_SCHEMA](compile.html#trusted_schema) 进行控制。
- en: Added APIs [sqlite3_filename_database()](c3ref/filename_database.html), [sqlite3_filename_journal()](c3ref/filename_database.html),
    and [sqlite3_filename_wal()](c3ref/filename_database.html) which are useful for
    specialized extensions.
  id: totrans-574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 API [sqlite3_filename_database()](c3ref/filename_database.html)，[sqlite3_filename_journal()](c3ref/filename_database.html)，和
    [sqlite3_filename_wal()](c3ref/filename_database.html)，这些对于特定扩展非常有用。
- en: Add the [sqlite3_uri_key()](c3ref/uri_boolean.html) interface.
  id: totrans-575
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了 [sqlite3_uri_key()](c3ref/uri_boolean.html) 接口。
- en: Upgraded the [sqlite3_uri_parameter()](c3ref/uri_boolean.html) function so that
    it works with the rollback journal or WAL filename in addition to the database
    filename.
  id: totrans-576
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 升级了 [sqlite3_uri_parameter()](c3ref/uri_boolean.html) 函数，使其除了数据库文件名外，还可以处理回滚日志或WAL文件名。
- en: Provide the ability to tag [application-defined SQL functions](appfunc.html)
    with new properties [SQLITE_INNOCUOUS](c3ref/c_deterministic.html#sqliteinnocuous)
    or [SQLITE_DIRECTONLY](c3ref/c_deterministic.html#sqlitedirectonly).
  id: totrans-577
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供了向 [应用程序定义的 SQL 函数](appfunc.html) 标记新属性 [SQLITE_INNOCUOUS](c3ref/c_deterministic.html#sqliteinnocuous)
    或 [SQLITE_DIRECTONLY](c3ref/c_deterministic.html#sqlitedirectonly) 的能力。
- en: Add new verbs to [sqlite3_vtab_config()](c3ref/vtab_config.html) so that the
    [xConnect](vtab.html#xconnect) method of virtual tables can declare the virtual
    table as [SQLITE_VTAB_INNOCUOUS](c3ref/c_vtab_constraint_support.html#sqlitevtabinnocuous)
    or [SQLITE_VTAB_DIRECTONLY](c3ref/c_vtab_constraint_support.html#sqlitevtabdirectonly).
  id: totrans-578
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [sqlite3_vtab_config()](c3ref/vtab_config.html) 添加新的动词，以便虚拟表的 [xConnect](vtab.html#xconnect)
    方法可以声明虚拟表为 [SQLITE_VTAB_INNOCUOUS](c3ref/c_vtab_constraint_support.html#sqlitevtabinnocuous)
    或 [SQLITE_VTAB_DIRECTONLY](c3ref/c_vtab_constraint_support.html#sqlitevtabdirectonly)。
- en: Faster response to [sqlite3_interrupt()](c3ref/interrupt.html).
  id: totrans-579
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [sqlite3_interrupt()](c3ref/interrupt.html) 的更快响应。
- en: Added the [uuid.c](https://sqlite.org/src/file/ext/misc/uuid.c) extension module
    implementing functions for processing RFC-4122 UUIDs.
  id: totrans-580
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [uuid.c](https://sqlite.org/src/file/ext/misc/uuid.c) 扩展模块，实现了处理 RFC-4122
    UUID 的函数。
- en: The [lookaside memory allocator](malloc.html#lookaside) is enhanced to support
    two separate memory pools with different sized allocations in each pool. This
    allows more memory allocations to be covered by lookaside while at the same time
    reducing the heap memory usage to 48KB per connection, down from 120KB.
  id: totrans-581
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[预留内存分配器](malloc.html#lookaside) 已增强，以支持两个具有不同大小分配的内存池。这使得更多的内存分配可以通过预留内存池来覆盖，同时将每个连接的堆内存使用量减少到
    48KB，而不是 120KB。'
- en: The [legacy_file_format pragma](pragma.html#pragma_legacy_file_format) is deactivated.
    It is now a no-op. In its place, the [SQLITE_DBCONFIG_LEGACY_FILE_FORMAT](c3ref/c_dbconfig_defensive.html#sqlitedbconfiglegacyfileformat)
    option to [sqlite3_db_config()](c3ref/db_config.html) is provided. The legacy_file_format
    pragma is deactivated because (1) it is rarely useful and (2) it is incompatible
    with [VACUUM](lang_vacuum.html) in schemas that have tables with both generated
    columns and descending indexes. Ticket [6484e6ce678fffab](https://www.sqlite.org/src/info/6484e6ce678fffab)
  id: totrans-582
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[遗留文件格式 pragma](pragma.html#pragma_legacy_file_format) 已停用。现在它是一个空操作。取而代之的是，提供了
    [SQLITE_DBCONFIG_LEGACY_FILE_FORMAT](c3ref/c_dbconfig_defensive.html#sqlitedbconfiglegacyfileformat)
    选项用于 [sqlite3_db_config()](c3ref/db_config.html)。由于以下原因，遗留文件格式 pragma 已停用：(1)
    它很少有用，(2) 在具有生成列和降序索引表的模式中与 [VACUUM](lang_vacuum.html) 不兼容。票号 [6484e6ce678fffab](https://www.sqlite.org/src/info/6484e6ce678fffab)'
- en: '**Hashes:**'
  id: totrans-583
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2020-01-22 18:38:59 f6affdd41608946fcfcea914ece149038a8b25a62bbe719ed2561c649b86d824'
  id: totrans-584
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2020-01-22 18:38:59 f6affdd41608946fcfcea914ece149038a8b25a62bbe719ed2561c649b86d824'
- en: 'SHA3-256 for sqlite3.c: a5fca0b9f8cbf80ac89b97193378c719d4af4b7d647729d8df9c0c0fca7b1388'
  id: totrans-585
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA3-256: a5fca0b9f8cbf80ac89b97193378c719d4af4b7d647729d8df9c0c0fca7b1388'
- en: 2019-10-10 (3.30.1)
  id: totrans-586
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-10-10 (3.30.1)
- en: Fix a bug in the [query flattener](optoverview.html#flattening) that might cause
    a segfault for nested queries that use the new [FILTER clause on aggregate functions](lang_aggfunc.html#aggfilter).
    Ticket [1079ad19993d13fa](https://www.sqlite.org/src/info/1079ad19993d13fa)
  id: totrans-587
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询展开器中的一个 bug，该 bug 可能导致使用新的 [FILTER 子句](lang_aggfunc.html#aggfilter) 的嵌套查询出现段错误。Ticket
    [1079ad19993d13fa](https://www.sqlite.org/src/info/1079ad19993d13fa)
- en: Cherrypick fixes for other obscure problems found since the 3.30.0 release
  id: totrans-588
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 3.30.0 版本发布以来，挑选了对其他不常见问题的修复。
- en: '**Hashes:**'
  id: totrans-589
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2019-10-10 20:19:45 18db032d058f1436ce3dea84081f4ee5a0f2259ad97301d43c426bc7f3df1b0b'
  id: totrans-590
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2019-10-10 20:19:45 18db032d058f1436ce3dea84081f4ee5a0f2259ad97301d43c426bc7f3df1b0b'
- en: 'SHA3-256 for sqlite3.c: f96fafe4c110ed7d77fc70a7d690e5edd1e64fefb84b3b5969a722d885de1f2d'
  id: totrans-591
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA3-256 哈希值为: f96fafe4c110ed7d77fc70a7d690e5edd1e64fefb84b3b5969a722d885de1f2d'
- en: 2019-10-04 (3.30.0)
  id: totrans-592
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-10-04 (3.30.0)
- en: Add support for the [FILTER clause on aggregate functions](lang_aggfunc.html#aggfilter).
  id: totrans-593
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对聚合函数的 [FILTER 子句](lang_aggfunc.html#aggfilter) 的支持。
- en: Add support for the [NULLS FIRST](lang_select.html#nullslast) and [NULLS LAST](lang_select.html#nullslast)
    syntax in [ORDER BY](lang_select.html#orderby) clauses.
  id: totrans-594
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [ORDER BY](lang_select.html#orderby) 子句中添加了对 [NULLS FIRST](lang_select.html#nullslast)
    和 [NULLS LAST](lang_select.html#nullslast) 语法的支持。
- en: The [index_info](pragma.html#pragma_index_info) and [index_xinfo](pragma.html#pragma_index_xinfo)
    pragmas are enhanced to provide information about the on-disk representation of
    [WITHOUT ROWID](withoutrowid.html) tables.
  id: totrans-595
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[index_info](pragma.html#pragma_index_info) 和 [index_xinfo](pragma.html#pragma_index_xinfo)
    pragma 被增强，以提供关于 [WITHOUT ROWID](withoutrowid.html) 表的磁盘表示的信息。'
- en: Add the [sqlite3_drop_modules()](c3ref/drop_modules.html) interface, allowing
    applications to disable automatically loaded virtual tables that they do not need.
  id: totrans-596
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_drop_modules()](c3ref/drop_modules.html) 接口，允许应用程序禁用它们不需要的自动加载的虚拟表。
- en: Improvements to the [.recover dot-command](cli.html#recover) in the [CLI](cli.html)
    so that it recovers more content from corrupt database files.
  id: totrans-597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [CLI](cli.html) 中的 [.recover dot-command](cli.html#recover) 进行了改进，以便从损坏的数据库文件中恢复更多内容。
- en: Enhance the [RBU](rbu.html) extension to support [indexes on expressions](expridx.html).
  id: totrans-598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [RBU](rbu.html) 扩展，以支持表达式索引。
- en: Change the schema parser so that it will error out if any of the type, name,
    and tbl_name columns of the [sqlite_master table](schematab.html) have been corrupted
    and the database connection is not in [writable_schema](pragma.html#pragma_writable_schema)
    mode.
  id: totrans-599
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改模式解析器，如果 [sqlite_master 表](schematab.html) 的 type、name 和 tbl_name 列之一已损坏且数据库连接未处于
    [writable_schema](pragma.html#pragma_writable_schema) 模式，则会报错。
- en: The [PRAGMA function_list](pragma.html#pragma_function_list), [PRAGMA module_list](pragma.html#pragma_module_list),
    and [PRAGMA pragma_list](pragma.html#pragma_pragma_list) commands are now enabled
    in all builds by default. Disable them using [-DSQLITE_OMIT_INTROSPECTION_PRAGMAS](compile.html#omit_introspection_pragmas).
  id: totrans-600
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PRAGMA function_list](pragma.html#pragma_function_list)、[PRAGMA module_list](pragma.html#pragma_module_list)
    和 [PRAGMA pragma_list](pragma.html#pragma_pragma_list) 命令现在默认在所有构建中启用。使用 [-DSQLITE_OMIT_INTROSPECTION_PRAGMAS](compile.html#omit_introspection_pragmas)
    可以禁用它们。'
- en: Add the [SQLITE_DBCONFIG_ENABLE_VIEW](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableview)
    option for [sqlite3_db_config()](c3ref/db_config.html).
  id: totrans-601
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [SQLITE_DBCONFIG_ENABLE_VIEW](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableview)
    选项，用于 [sqlite3_db_config()](c3ref/db_config.html)。
- en: Added the [TCL Interface](tclsqlite.html) [config method](tclsqlite.html#config)
    in order to be able to disable [SQLITE_DBCONFIG_ENABLE_VIEW](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableview)
    as well as control other [sqlite3_db_config()](c3ref/db_config.html) options from
    TCL.
  id: totrans-602
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [TCL Interface](tclsqlite.html) 中增加了 [config method](tclsqlite.html#config)
    以便能够禁用 [SQLITE_DBCONFIG_ENABLE_VIEW](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableview)
    以及从 TCL 控制其他 [sqlite3_db_config()](c3ref/db_config.html) 选项。
- en: Added the [SQLITE_DIRECTONLY](c3ref/c_deterministic.html#sqlitedirectonly) flag
    for [application-defined SQL functions](appfunc.html) to prevent those functions
    from being used inside triggers and views.
  id: totrans-603
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [应用程序定义的 SQL 函数](appfunc.html) 添加了 [SQLITE_DIRECTONLY](c3ref/c_deterministic.html#sqlitedirectonly)
    标志，以防止这些函数在触发器和视图中使用。
- en: The legacy [SQLITE_ENABLE_STAT3](compile.html#enable_stat3) compile-time option
    is now a no-op.
  id: totrans-604
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 旧版 [SQLITE_ENABLE_STAT3](compile.html#enable_stat3) 编译时选项现在不起作用。
- en: '**Hashes:**'
  id: totrans-605
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2019-10-04 15:03:17 c20a35336432025445f9f7e289d0cc3e4003fb17f45a4ce74c6269c407c6e09f'
  id: totrans-606
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2019-10-04 15:03:17 c20a35336432025445f9f7e289d0cc3e4003fb17f45a4ce74c6269c407c6e09f'
- en: 'SHA3-256 for sqlite3.c: f04393dd47205a4ee2b98ff737dc51a3fdbcc14c055b88d58f5b27d0672158f5'
  id: totrans-607
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 哈希值为：f04393dd47205a4ee2b98ff737dc51a3fdbcc14c055b88d58f5b27d0672158f5
- en: 2019-07-10 (3.29.0)
  id: totrans-608
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-07-10 (3.29.0)
- en: Added the [SQLITE_DBCONFIG_DQS_DML](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdqsdml)
    and [SQLITE_DBCONFIG_DQS_DDL](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdqsddl)
    actions to [sqlite3_db_config()](c3ref/db_config.html) for activating and deactivating
    the [double-quoted string literal](quirks.html#dblquote) misfeature. Both default
    to "on" for legacy compatibility, but developers are encouraged to turn them "off",
    perhaps using the [-DSQLITE_DQS=0](compile.html#dqs) compile-time option.
  id: totrans-609
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [sqlite3_db_config()](c3ref/db_config.html) 中添加了 [SQLITE_DBCONFIG_DQS_DML](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdqsdml)
    和 [SQLITE_DBCONFIG_DQS_DDL](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdqsddl)
    动作，用于激活和停用 [双引号字符串文本](quirks.html#dblquote) 的不良特性。由于遗留兼容性，两者默认为“开”，但建议开发者将其设置为“关”，可能使用
    [-DSQLITE_DQS=0](compile.html#dqs) 编译时选项。
- en: '[-DSQLITE_DQS=0](compile.html#dqs) is now a [recommended compile-time option](compile.html#rcmd).'
  id: totrans-610
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[-DSQLITE_DQS=0](compile.html#dqs) 现在是一个 [推荐的编译时选项](compile.html#rcmd)。'
- en: 'Improvements to the [query planner](optoverview.html):'
  id: totrans-611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 [查询规划器](optoverview.html)：
- en: Improved optimization of AND and OR operators when one or the other operand
    is a constant.
  id: totrans-612
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当其中一个操作数为常量时，改进了AND和OR运算符的优化。
- en: Enhancements to the [LIKE optimization](optoverview.html#like_opt) for cases
    when the left-hand side column has numeric affinity.
  id: totrans-613
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[LIKE优化](optoverview.html#like_opt)，用于左侧列具有数值亲和性的情况。
- en: Added the "[sqlite_dbdata](https://sqlite.org/src/file/ext/misc/dbdata.c)" virtual
    table for extracting raw low-level content from an SQLite database, even a database
    that is corrupt.
  id: totrans-614
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了"[sqlite_dbdata](https://sqlite.org/src/file/ext/misc/dbdata.c)"虚拟表，用于从SQLite数据库中提取原始的低级内容，甚至是损坏的数据库。
- en: Improvements to rounding behavior, so that the results of rounding binary numbers
    using the [round()](lang_corefunc.html#round) function are closer to what people
    who are used to thinking in decimal actually expect.
  id: totrans-615
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了舍入行为，使得使用[round()](lang_corefunc.html#round)函数对二进制数字进行舍入的结果更接近于习惯于十进制思维的人们的预期。
- en: 'Enhancements to the [CLI](cli.html):'
  id: totrans-616
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CLI](cli.html)的增强：'
- en: Add the ".recover" command which tries to recover as much content as possible
    from a corrupt database file.
  id: totrans-617
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了".recover"命令，该命令尝试从损坏的数据库文件中尽可能恢复内容。
- en: Add the ".filectrl" command useful for testing.
  id: totrans-618
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对测试非常有用的".filectrl"命令。
- en: Add the long-standing ".testctrl" command to the ".help" menu.
  id: totrans-619
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将长期存在的".testctrl"命令添加到".help"菜单。
- en: Added the ".dbconfig" command
  id: totrans-620
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了".dbconfig"命令。
- en: '**Hashes:**'
  id: totrans-621
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: 2019-07-10 17:32:03 fc82b73eaac8b36950e527f12c4b5dc1e147e6f4ad2217ae43ad82882a88bfa6'
  id: totrans-622
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：2019-07-10 17:32:03 fc82b73eaac8b36950e527f12c4b5dc1e147e6f4ad2217ae43ad82882a88bfa6
- en: 'SHA3-256 for sqlite3.c: d9a5daf7697a827f4b2638276ce639fa04e8e8bb5fd3a6b683cfad10f1c81b12'
  id: totrans-623
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c中的SHA3-256哈希：d9a5daf7697a827f4b2638276ce639fa04e8e8bb5fd3a6b683cfad10f1c81b12
- en: 2019-04-16 (3.28.0)
  id: totrans-624
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-04-16（3.28.0）
- en: 'Enhanced [window functions](windowfunctions.html):'
  id: totrans-625
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[窗口函数](windowfunctions.html)的增强：'
- en: Add support the [EXCLUDE clause](windowfunctions.html#wexcls).
  id: totrans-626
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对[EXCLUDE子句](windowfunctions.html#wexcls)的支持。
- en: Add support for [window chaining](windowfunctions.html#wchaining).
  id: totrans-627
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对[窗口链](windowfunctions.html#wchaining)的支持。
- en: Add support for [GROUPS frames](windowfunctions.html#grouptype).
  id: totrans-628
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对[GROUPS帧](windowfunctions.html#grouptype)的支持。
- en: Add support for "[<expr> PRECEDING](windowfunctions.html#exprrange)" and "[<expr>
    FOLLOWING](windowfunctions.html#exprrange)" boundaries in RANGE [frames](windowfunctions.html#framespec).
  id: totrans-629
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对"[<expr> PRECEDING](windowfunctions.html#exprrange)"和"[<expr> FOLLOWING](windowfunctions.html#exprrange)"范围边界在RANGE
    [帧](windowfunctions.html#framespec)中的支持。
- en: Added the new [sqlite3_stmt_isexplain(S)](c3ref/stmt_isexplain.html) interface
    for determining whether or not a [prepared statement](c3ref/stmt.html) is an [EXPLAIN](lang_explain.html).
  id: totrans-630
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的[sqlite3_stmt_isexplain(S)](c3ref/stmt_isexplain.html)接口，用于确定[预处理语句](c3ref/stmt.html)是否为[EXPLAIN](lang_explain.html)。
- en: Enhanced [VACUUM INTO](lang_vacuum.html#vacuuminto) so that it works for read-only
    databases.
  id: totrans-631
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[VACUUM INTO](lang_vacuum.html#vacuuminto)，使其适用于只读数据库。
- en: 'New query optimizations:'
  id: totrans-632
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的查询优化：
- en: Enable the [LIKE optimization](optoverview.html#like_opt) for cases when the
    ESCAPE keyword is present and [PRAGMA case_sensitive_like](pragma.html#pragma_case_sensitive_like)
    is on.
  id: totrans-633
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在存在ESCAPE关键字并且[PRAGMA case_sensitive_like](pragma.html#pragma_case_sensitive_like)打开时，启用了[LIKE优化](optoverview.html#like_opt)。
- en: In queries that are driven by a [partial index](partialindex.html), avoid unnecessary
    tests of the constraint named in the WHERE clause of the partial index, since
    we know that constraint must always be true.
  id: totrans-634
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在由[部分索引](partialindex.html)驱动的查询中，避免对部分索引WHERE子句中命名的约束进行不必要的测试，因为我们知道该约束必须始终为真。
- en: 'Enhancements to the [TCL Interface](tclsqlite.html):'
  id: totrans-635
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[TCL接口](tclsqlite.html)：
- en: Added the -returntype option to the [function method](tclsqlite.html#function).
  id: totrans-636
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[function方法](tclsqlite.html#function)中添加了-returntype选项。
- en: Added the new [bind_fallback method](tclsqlite.html#bind_fallback).
  id: totrans-637
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的[bind_fallback方法](tclsqlite.html#bind_fallback)。
- en: 'Enhancements to the [CLI](cli.html):'
  id: totrans-638
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[CLI](cli.html)：
- en: Added support for [bound parameters](lang_expr.html#varparam) and the [.parameter
    command](cli.html#param).
  id: totrans-639
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[绑定参数](lang_expr.html#varparam)和[.parameter命令](cli.html#param)的支持。
- en: Fix the [readfile()](cli.html#fileio) function so that it returns an empty BLOB
    rather than throwing an out-of-memory error when reading an empty file.
  id: totrans-640
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[readfile()](cli.html#fileio)函数，使其在读取空文件时返回空BLOB而不是抛出内存不足错误。
- en: Fix the [writefile()](cli.html#fileio) function so that when it creates new
    directories along the path of a new file, it gives them umask permissions rather
    than the same permissions as the file.
  id: totrans-641
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[writefile()](cli.html#fileio)函数，以便在创建新文件路径的新目录时，给予它们掩码权限而不是与文件相同的权限。
- en: Change [--update option](cli.html#arinsup) in the [.archive command](cli.html#sqlar)
    so that it skips files that are already in the archive and are unchanged. Add
    the new --insert option that works like --update used to work.
  id: totrans-642
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了[--update选项](cli.html#arinsup)在[.archive命令](cli.html#sqlar)中，使其跳过已存在且未更改的文件。添加了新的--insert选项，其工作方式类似于以前的--update选项。
- en: Added the [fossildelta.c](https://sqlite.org/src/file/ext/misc/fossildelta.c)
    extension that can create, apply, and deconstruct the [Fossil DVCS file delta
    format](https://fossil-scm.org/fossil/doc/trunk/www/delta_format.wiki) that is
    used by the [RBU extension](rbu.html).
  id: totrans-643
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[fossildelta.c](https://sqlite.org/src/file/ext/misc/fossildelta.c)扩展，可以创建、应用和分解[Fossil
    DVCS文件增量格式](https://fossil-scm.org/fossil/doc/trunk/www/delta_format.wiki)，该格式被[RBU扩展](rbu.html)使用。
- en: Added the [SQLITE_DBCONFIG_WRITABLE_SCHEMA](c3ref/c_dbconfig_defensive.html#sqlitedbconfigwritableschema)
    verb for the [sqlite3_db_config()](c3ref/db_config.html) interface, that does
    the same work as [PRAGMA writable_schema](pragma.html#pragma_writable_schema)
    without using the SQL parser.
  id: totrans-644
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DBCONFIG_WRITABLE_SCHEMA](c3ref/c_dbconfig_defensive.html#sqlitedbconfigwritableschema)动词，用于[sqlite3_db_config()](c3ref/db_config.html)接口，其与[PRAGMA
    writable_schema](pragma.html#pragma_writable_schema)执行相同的工作，但不使用SQL解析器。
- en: Added the [sqlite3_value_frombind()](c3ref/value_blob.html) API for determining
    if the argument to an SQL function is from a [bound parameter](lang_expr.html#varparam).
  id: totrans-645
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_value_frombind()](c3ref/value_blob.html) API，用于确定SQL函数的参数是否来自[绑定参数](lang_expr.html#varparam)。
- en: 'Security and compatibilities enhancements to [fts3_tokenizer()](fts3.html#f3tknzr):'
  id: totrans-646
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[fts3_tokenizer()](fts3.html#f3tknzr)进行了安全性和兼容性增强：
- en: The [fts3_tokenizer()](fts3.html#f3tknzr) function always returns NULL unless
    either the legacy application-defined FTS3 tokenizers interface are enabled using
    the [sqlite3_db_config](c3ref/db_config.html)([SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer))
    setting, or unless the first argument to fts3_tokenizer() is a [bound parameter](lang_expr.html#varparam).
  id: totrans-647
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[fts3_tokenizer()](fts3.html#f3tknzr)函数总是返回NULL，除非启用了传统的应用定义的FTS3分词器接口，使用[sqlite3_db_config](c3ref/db_config.html)([SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer))设置，或者fts3_tokenizer()的第一个参数是[绑定参数](lang_expr.html#varparam)。'
- en: The two-argument version of [fts3_tokenizer()](fts3.html#f3tknzr) accepts a
    pointer to the tokenizer method object even without the [sqlite3_db_config](c3ref/db_config.html)([SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer))
    setting if the second argument is a [bound parameter](lang_expr.html#varparam)
  id: totrans-648
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 两个参数版本的[fts3_tokenizer()](fts3.html#f3tknzr)即使没有设置[sqlite3_db_config](c3ref/db_config.html)([SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer))，也接受指向分词器方法对象的指针，如果第二个参数是一个[绑定参数](lang_expr.html#varparam)
- en: Improved robustness against corrupt database files.
  id: totrans-649
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提高了对损坏数据库文件的鲁棒性。
- en: Miscellaneous performance enhancements
  id: totrans-650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种性能增强
- en: Established a Git mirror of the offical SQLite source tree. The canonical sources
    for SQLite are maintained using the [Fossil DVCS](https://fossil-scm.org/) at
    [https://sqlite.org/src](https://sqlite.org/src). The Git mirror can be seen at
    [https://github.com/sqlite/sqlite](https://github.com/sqlite/sqlite).
  id: totrans-651
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 建立了官方SQLite源代码树的Git镜像。SQLite的官方源使用[Fossil DVCS](https://fossil-scm.org/)进行维护，位于[https://sqlite.org/src](https://sqlite.org/src)。Git镜像可在[https://github.com/sqlite/sqlite](https://github.com/sqlite/sqlite)查看。
- en: '**Hashes:**'
  id: totrans-652
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值:**'
- en: 'SQLITE_SOURCE_ID: 2019-04-16 19:49:53 884b4b7e502b4e991677b53971277adfaf0a04a284f8e483e2553d0f83156b50'
  id: totrans-653
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2019-04-16 19:49:53 884b4b7e502b4e991677b53971277adfaf0a04a284f8e483e2553d0f83156b50'
- en: 'SHA3-256 for sqlite3.c: 411efca996b65448d9798eb203d6ebe9627b7161a646f5d00911e2902a57b2e9'
  id: totrans-654
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 411efca996b65448d9798eb203d6ebe9627b7161a646f5d00911e2902a57b2e9'
- en: 2019-02-25 (3.27.2)
  id: totrans-655
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-02-25 (3.27.2)
- en: Fix a bug in the IN operator that was introduced by an attempted optimization
    in version 3.27.0\. Ticket [df46dfb631f75694](https://www.sqlite.org/src/info/df46dfb631f75694)
  id: totrans-656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在版本3.27.0中由尝试优化引入的IN运算符中的一个错误。Ticket [df46dfb631f75694](https://www.sqlite.org/src/info/df46dfb631f75694)
- en: Fix a bug causing a crash when a [window function](windowfunctions.html) is
    misused. Ticket [4feb3159c6bc3f7e33959](https://www.sqlite.org/src/info/4feb3159c6bc3f7e33959).
  id: totrans-657
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个导致当误用[窗口函数](windowfunctions.html)时导致崩溃的 bug。Ticket [4feb3159c6bc3f7e33959](https://www.sqlite.org/src/info/4feb3159c6bc3f7e33959)。
- en: Fix various documentation typos
  id: totrans-658
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了各种文档错别字。
- en: '**Hashes:**'
  id: totrans-659
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: bd49a8271d650fa89e446b42e513b595a717b9212c91dd384aab871fc1d0f6d7'
  id: totrans-660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: bd49a8271d650fa89e446b42e513b595a717b9212c91dd384aab871fc1d0f6d7'
- en: 'SHA3-256 for sqlite3.c: 1dbae33bff261f979d0042338f72c9e734b11a80720fb32498bae9150cc576e7'
  id: totrans-661
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值为：1dbae33bff261f979d0042338f72c9e734b11a80720fb32498bae9150cc576e7
- en: 2019-02-08 (3.27.1)
  id: totrans-662
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-02-08 (3.27.1)
- en: 'Fix a bug in the query optimizer: an adverse interaction between the [OR optimization](optoverview.html#or_opt)
    and the optimization that tries to use values read directly from an [expression
    index](expridx.html) instead of recomputing the expression. Ticket [4e8e4857d32d401f](https://www.sqlite.org/src/info/4e8e4857d32d401f)'
  id: totrans-663
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询优化器中的一个 bug：[OR 优化](optoverview.html#or_opt) 和试图直接从 [表达式索引](expridx.html)
    读取值而不重新计算表达式之间的不良交互。Ticket [4e8e4857d32d401f](https://www.sqlite.org/src/info/4e8e4857d32d401f)
- en: '**Hashes:**'
  id: totrans-664
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: 2019-02-08 13:17:39 0eca3dd3d38b31c92b49ca2d311128b74584714d9e7de895b1a6286ef959a1dd'
  id: totrans-665
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: 2019-02-08 13:17:39 0eca3dd3d38b31c92b49ca2d311128b74584714d9e7de895b1a6286ef959a1dd'
- en: 'SHA3-256 for sqlite3.c: 11c14992660d5ac713ea8bea48dc5e6123f26bc8d3075fe5585d1a217d090233'
  id: totrans-666
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值为：11c14992660d5ac713ea8bea48dc5e6123f26bc8d3075fe5585d1a217d090233
- en: 2019-02-07 (3.27.0)
  id: totrans-667
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2019-02-07 (3.27.0)
- en: Added the [VACUUM INTO](lang_vacuum.html#vacuuminto) command
  id: totrans-668
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [VACUUM INTO](lang_vacuum.html#vacuuminto) 命令。
- en: Issue an SQLITE_WARNING message on the [error log](errlog.html) if a [double-quoted
    string literal](quirks.html#dblquote) is used.
  id: totrans-669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果使用了 [双引号字符串文字](quirks.html#dblquote)，在 [错误日志](errlog.html) 上发出 SQLITE_WARNING
    消息。
- en: The [sqlite3_normalized_sql()](c3ref/expanded_sql.html) interface works on any
    prepared statement created using [sqlite3_prepare_v2()](c3ref/prepare.html) or
    [sqlite3_prepare_v3()](c3ref/prepare.html). It is no longer necessary to use [sqlite3_prepare_v3()](c3ref/prepare.html)
    with [SQLITE_PREPARE_NORMALIZE](c3ref/c_prepare_normalize.html#sqlitepreparenormalize)
    in order to use [sqlite3_normalized_sql()](c3ref/expanded_sql.html).
  id: totrans-670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_normalized_sql()](c3ref/expanded_sql.html) 接口适用于使用 [sqlite3_prepare_v2()](c3ref/prepare.html)
    或 [sqlite3_prepare_v3()](c3ref/prepare.html) 创建的任何准备好的语句。不再需要使用 [SQLITE_PREPARE_NORMALIZE](c3ref/c_prepare_normalize.html#sqlitepreparenormalize)
    来使用 [sqlite3_normalized_sql()](c3ref/expanded_sql.html)。'
- en: Added the remove_diacritics=2 option to [FTS3](fts3.html) and [FTS5](fts5.html).
  id: totrans-671
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [FTS3](fts3.html) 和 [FTS5](fts5.html) 添加了 remove_diacritics=2 选项。
- en: Added the [SQLITE_PREPARE_NO_VTAB](c3ref/c_prepare_normalize.html#sqlitepreparenovtab)
    option to [sqlite3_prepare_v3()](c3ref/prepare.html). Use that option to prevent
    circular references to [shadow tables](vtab.html#xshadowname) from causing resource
    leaks.
  id: totrans-672
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [sqlite3_prepare_v3()](c3ref/prepare.html) 添加了 [SQLITE_PREPARE_NO_VTAB](c3ref/c_prepare_normalize.html#sqlitepreparenovtab)
    选项。使用该选项可防止 [影子表](vtab.html#xshadowname) 的循环引用导致资源泄漏。
- en: 'Enhancements to the [sqlite3_deserialize()](c3ref/deserialize.html) interface:'
  id: totrans-673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [sqlite3_deserialize()](c3ref/deserialize.html) 接口：
- en: Add the [SQLITE_FCNTL_SIZE_LIMIT](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsizelimit)
    [file-control](c3ref/file_control.html) for setting an upper bound on the size
    of the in-memory database created by sqlite3_deserialize. The default upper bound
    is 1GiB, or whatever alternative value is specified by [sqlite3_config](c3ref/config.html)([SQLITE_CONFIG_MEMDB_MAXSIZE](c3ref/c_config_covering_index_scan.html#sqliteconfigmemdbmaxsize))
    and/or [SQLITE_MEMDB_DEFAULT_MAXSIZE](compile.html#memdb_default_maxsize).
  id: totrans-674
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 sqlite3_deserialize 创建的内存数据库设置大小上限的 [SQLITE_FCNTL_SIZE_LIMIT](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsizelimit)
    [文件控制](c3ref/file_control.html)。默认的大小上限是1GiB，或者可以通过 [sqlite3_config](c3ref/config.html)([SQLITE_CONFIG_MEMDB_MAXSIZE](c3ref/c_config_covering_index_scan.html#sqliteconfigmemdbmaxsize))
    和/或 [SQLITE_MEMDB_DEFAULT_MAXSIZE](compile.html#memdb_default_maxsize) 指定其他值。
- en: Honor the [SQLITE_DESERIALIZE_READONLY](c3ref/c_deserialize_freeonclose.html)
    flag, which was previously described in the documentation, but was previously
    a no-op.
  id: totrans-675
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尊重了 [SQLITE_DESERIALIZE_READONLY](c3ref/c_deserialize_freeonclose.html) 标志，此标志先前在文档中有描述，但以前是一个无操作。
- en: Enhance the "deserialize" command of the [TCL Interface](tclsqlite.html) to
    give it new "--maxsize N" and "--readonly BOOLEAN" options.
  id: totrans-676
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强 [TCL 接口](tclsqlite.html) 的 "deserialize" 命令，新增了 "--maxsize N" 和 "--readonly
    BOOLEAN" 选项。
- en: 'Enhancements to the [CLI](cli.html), mostly to support testing and debugging
    of the SQLite library itself:'
  id: totrans-677
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [CLI](cli.html)，主要是为了支持 SQLite 库本身的测试和调试：
- en: Add support for ".open --hexdb". The "[dbtotxt](https://sqlite.org/src/doc/trunk/tool/dbtotxt.md)"
    utility program used to generate the text for the "hexdb" is added to the source
    tree.
  id: totrans-678
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 ".open --hexdb" 上添加了对 "--hexdb" 的支持。用于生成 "hexdb" 文本的 "[dbtotxt](https://sqlite.org/src/doc/trunk/tool/dbtotxt.md)"
    实用程序程序已添加到源码树中。
- en: Add support for the "--maxsize N" option on ".open --deserialize".
  id: totrans-679
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 ".open --deserialize" 上添加了 "--maxsize N" 选项的支持。
- en: Add the "--memtrace" command-line option, to show all memory allocations and
    deallocations.
  id: totrans-680
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 "--memtrace" 命令行选项，用于显示所有内存分配和释放。
- en: Add the ".eqp trace" option on builds with SQLITE_DEBUG, to enable bytecode
    program listing with indentation and [PRAGMA vdbe_trace](pragma.html#pragma_vdbe_trace)
    all in one step.
  id: totrans-681
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用 SQLITE_DEBUG 编译时，添加 ".eqp trace" 选项，以便一次性启用带缩进的字节码程序列表和[PRAGMA vdbe_trace](pragma.html#pragma_vdbe_trace)。
- en: Add the ".progress" command for accessing the [sqlite3_progress_handler()](c3ref/progress_handler.html)
    interface.
  id: totrans-682
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 ".progress" 命令以访问 [sqlite3_progress_handler()](c3ref/progress_handler.html)
    接口。
- en: Add the "--async" option to the ".backup" command.
  id: totrans-683
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 ".backup" 命令添加了 "--async" 选项。
- en: Add options "--expanded", "--normalized", "--plain", "--profile", "--row", "--stmt",
    and "--close" to the ".trace" command.
  id: totrans-684
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 ".trace" 命令中添加了选项 "--expanded"、"--normalized"、"--plain"、"--profile"、"--row"、"--stmt"
    和 "--close"。
- en: Increased robustness against malicious SQL that is run against a maliciously
    corrupted database.
  id: totrans-685
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强对针对恶意损坏数据库运行的恶意 SQL 的健壮性。
- en: '**Bug fixes:**'
  id: totrans-686
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug 修复：**'
- en: Do not use a partial index to do a table scan on an IN operator. Ticket [1d958d90596593a774](https://www.sqlite.org/src/info/1d958d90596593a774).
  id: totrans-687
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不要使用部分索引来在 IN 运算符上执行表扫描。票号[1d958d90596593a774](https://www.sqlite.org/src/info/1d958d90596593a774)。
- en: Fix the [query flattener](optoverview.html#flattening) so that it works on queries
    that contain subqueries that use [window functions](windowfunctions.html). Ticket
    [709fcd17810f65f717](https://www.sqlite.org/src/info/f09fcd17810f65f717)
  id: totrans-688
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[查询展开器](optoverview.html#flattening)，使其在包含使用[窗口函数](windowfunctions.html)的子查询的查询中正常工作。票号[709fcd17810f65f717](https://www.sqlite.org/src/info/f09fcd17810f65f717)。
- en: Ensure that ALTER TABLE modifies table and column names embedded in WITH clauses
    that are part of views and triggers.
  id: totrans-689
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保 ALTER TABLE 修改视图和触发器中的 WITH 子句中嵌入的表和列名。
- en: Fix a parser bug that prevented the use of parentheses around table-valued functions.
  id: totrans-690
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个解析器错误，该错误阻止了对表值函数周围括号的使用。
- en: Fix a problem with the [OR optimization](optoverview.html#or_opt) on [indexes
    on expressions](expridx.html). Ticket [d96eba87698a428c1d](https://www.sqlite.org/src/info/d96eba87698a428c1d).
  id: totrans-691
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了关于[OR 优化](optoverview.html#or_opt)在[表达式索引](expridx.html)上的问题。票号[d96eba87698a428c1d](https://www.sqlite.org/src/info/d96eba87698a428c1d)。
- en: Fix a problem with the [LEFT JOIN strength reduction optimization](optoverview.html#leftjoinreduction)
    in which the optimization was being applied inappropriately due to an IS NOT NULL
    operator. Ticket [5948e09b8c415bc45d](https://www.sqlite.org/src/info/5948e09b8c415bc45d).
  id: totrans-692
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[左连接强化优化](optoverview.html#leftjoinreduction)中的问题，该优化由于 IS NOT NULL 操作符的存在而不当应用。票号[5948e09b8c415bc45d](https://www.sqlite.org/src/info/5948e09b8c415bc45d)。
- en: Fix the [REPLACE](lang_replace.html) command so that it is no longer able to
    sneak a NULL value into a NOT NULL column even if the NOT NULL column has a default
    value of NULL. Ticket [e6f1f2e34dceeb1ed6](https://www.sqlite.org/src/info/e6f1f2e34dceeb1ed6)
  id: totrans-693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[REPLACE](lang_replace.html)命令，以便它不再能将 NULL 值偷偷插入非 NULL 列，即使非 NULL 列有默认的
    NULL 值。票号[e6f1f2e34dceeb1ed6](https://www.sqlite.org/src/info/e6f1f2e34dceeb1ed6)。
- en: Fix a problem with the use of [window functions](windowfunctions.html) used
    within [correlated subqueries](lang_expr.html#cosub). Ticket [d0866b26f83e9c55e3](https://www.sqlite.org/src/info/d0866b26f83e9c55e3)
  id: totrans-694
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[相关子查询](lang_expr.html#cosub)中使用[窗口函数](windowfunctions.html)的问题。票号[d0866b26f83e9c55e3](https://www.sqlite.org/src/info/d0866b26f83e9c55e3)。
- en: Fix the [ALTER TABLE RENAME COLUMN](lang_altertable.html#altertabmvcol) command
    so that it works for tables that have redundant UNIQUE constraints. Ticket [bc8d94f0fbd633fd9a](https://www.sqlite.org/src/info/bc8d94f0fbd633fd9a)
  id: totrans-695
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[ALTER TABLE RENAME COLUMN](lang_altertable.html#altertabmvcol)命令，以便它适用于具有冗余唯一约束的表。票号[bc8d94f0fbd633fd9a](https://www.sqlite.org/src/info/bc8d94f0fbd633fd9a)。
- en: Fix a bug that caused [zeroblob](lang_corefunc.html#zeroblob) values to be truncated
    when inserted into a table that uses an [expression index](expridx.html). Ticket
    [bb4bdb9f7f654b0bb9](https://www.sqlite.org/src/info/bb4bdb9f7f654b0bb9)
  id: totrans-696
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个导致在使用[表达式索引](expridx.html)的表中插入[zeroblob](lang_corefunc.html#zeroblob)值时被截断的错误。票号[bb4bdb9f7f654b0bb9](https://www.sqlite.org/src/info/bb4bdb9f7f654b0bb9)。
- en: '**Hashes:**'
  id: totrans-697
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2019-02-07 17:02:52 97744701c3bd414e6c9d7182639d8c2ce7cf124c4fce625071ae65658ac61713
    "'
  id: totrans-698
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2019-02-07 17:02:52 97744701c3bd414e6c9d7182639d8c2ce7cf124c4fce625071ae65658ac61713
    "
- en: 'SHA3-256 for sqlite3.c: ca011a10ee8515b33e5643444b98ee3d74dc45d3ac766c3700320def52bc6aba'
  id: totrans-699
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的SHA3-256：ca011a10ee8515b33e5643444b98ee3d74dc45d3ac766c3700320def52bc6aba
- en: 2018-12-01 (3.26.0)
  id: totrans-700
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-12-01（3.26.0）
- en: 'Optimization: When doing an [UPDATE](lang_update.html) on a table with [indexes
    on expressions](expridx.html), do not update the expression indexes if they do
    not refer to any of the columns of the table being updated.'
  id: totrans-701
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化：在对具有[表达式索引](expridx.html)的表进行[UPDATE](lang_update.html)时，如果表达式索引不引用更新的表的任何列，则不更新表达式索引。
- en: Allow the [xBestIndex()](vtab.html#xbestindex) method of [virtual table](vtab.html)
    implementations to return [SQLITE_CONSTRAINT](rescode.html#constraint) to indicate
    that the proposed query plan is unusable and should not be given further consideration.
  id: totrans-702
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许[虚拟表](vtab.html)实现的[xBestIndex()](vtab.html#xbestindex)方法返回[SQLITE_CONSTRAINT](rescode.html#constraint)，表示建议的查询计划不可用，不应再进一步考虑。
- en: Added the [SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)
    option which disables the ability to create corrupt database files using ordinary
    SQL.
  id: totrans-703
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)选项，禁用使用普通
    SQL 创建损坏数据库文件的能力。
- en: Added support for read-only [shadow tables](vtab.html#xshadowname) when the
    [SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)
    option is enabled.
  id: totrans-704
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当启用[SQLITE_DBCONFIG_DEFENSIVE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigdefensive)选项时，添加对只读[影子表](vtab.html#xshadowname)的支持。
- en: Added the [PRAGMA legacy_alter_table](pragma.html#pragma_legacy_alter_table)
    command, which if enabled causes the [ALTER TABLE](lang_altertable.html) command
    to behave like older version of SQLite (prior to version 3.25.0) for compatibility.
  id: totrans-705
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA legacy_alter_table](pragma.html#pragma_legacy_alter_table)命令，启用后使[ALTER
    TABLE](lang_altertable.html)命令在兼容性上 behave like SQLite 的旧版本（3.25.0之前的版本）。
- en: Added [PRAGMA table_xinfo](pragma.html#pragma_table_xinfo) that works just like
    [PRAGMA table_info](pragma.html#pragma_table_info) except that it also shows [hidden
    columns](vtab.html#hiddencol) in virtual tables.
  id: totrans-706
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA table_xinfo](pragma.html#pragma_table_xinfo)，其功能与[PRAGMA table_info](pragma.html#pragma_table_info)相同，但也显示虚拟表中的[隐藏列](vtab.html#hiddencol)。
- en: Added the [explain virtual table](https://sqlite.org/src/file/ext/misc/explain.c)
    as a run-time loadable extension.
  id: totrans-707
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[explain虚拟表](https://sqlite.org/src/file/ext/misc/explain.c)作为运行时可加载扩展。
- en: Add a limit counter to the query planner to prevent excessive [sqlite3_prepare()](c3ref/prepare.html)
    times for certain pathological SQL inputs.
  id: totrans-708
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在查询规划器中添加了限制计数器，以防止某些病态 SQL 输入导致过多的[sqlite3_prepare()](c3ref/prepare.html)时间。
- en: Added support for the [sqlite3_normalized_sql()](c3ref/expanded_sql.html) interface,
    when compiling with SQLITE_ENABLE_NORMALIZE.
  id: totrans-709
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对[sqlite3_normalized_sql()](c3ref/expanded_sql.html)接口的支持，编译时需启用 SQLITE_ENABLE_NORMALIZE。
- en: Enhanced triggers so that they can use [table-valued functions](vtab.html#tabfunc2)
    that exist in schemas other than the schema where the trigger is defined.
  id: totrans-710
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强触发器，使其可以使用存在于定义触发器的模式之外模式中的 [表值函数](vtab.html#tabfunc2)。
- en: 'Enhancements to the [CLI](cli.html):'
  id: totrans-711
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [CLI](cli.html) 进行了改进：
- en: Improvements to the ".help" command.
  id: totrans-712
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 ".help" 命令。
- en: The SQLITE_HISTORY environment variable, if it exists, specifies the name of
    the command-line editing history file
  id: totrans-713
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果存在 SQLITE_HISTORY 环境变量，则指定命令行编辑历史文件的名称。
- en: The --deserialize option associated with opening a new database cause the database
    file to be read into memory and accessed using the [sqlite3_deserialize()](c3ref/deserialize.html)
    API. This simplifies running tests on a database without modifying the file on
    disk.
  id: totrans-714
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与打开新数据库相关的 --deserialize 选项导致数据库文件被读入内存，并使用 [sqlite3_deserialize()](c3ref/deserialize.html)
    API 访问。这简化了在不修改磁盘上文件的情况下对数据库运行测试的过程。
- en: 'Enhancements to the [geopoly](geopoly.html) extension:'
  id: totrans-715
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [geopoly](geopoly.html) 扩展进行了改进：
- en: Always stores polygons using the binary format, which is faster and uses less
    space.
  id: totrans-716
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 总是使用二进制格式存储多边形，这样更快且占用更少空间。
- en: Added the [geopoly_regular()](geopoly.html#regpoly) function.
  id: totrans-717
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [geopoly_regular()](geopoly.html#regpoly) 函数。
- en: Added the [geopoly_ccw()](geopoly.html#ccw) function.
  id: totrans-718
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [geopoly_ccw()](geopoly.html#ccw) 函数。
- en: 'Enhancements to the [session](sessionintro.html) extension:'
  id: totrans-719
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [session](sessionintro.html) 扩展进行了改进：
- en: Added the [SQLITE_CHANGESETAPPLY_INVERT](session/c_changesetapply_fknoaction.html)
    flag
  id: totrans-720
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [SQLITE_CHANGESETAPPLY_INVERT](session/c_changesetapply_fknoaction.html)
    标志
- en: Added the [sqlite3changeset_start_v2()](session/sqlite3changeset_start.html)
    interface and the [SQLITE_CHANGESETSTART_INVERT](session/c_changesetstart_invert.html)
    flag.
  id: totrans-721
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [sqlite3changeset_start_v2()](session/sqlite3changeset_start.html) 接口和 [SQLITE_CHANGESETSTART_INVERT](session/c_changesetstart_invert.html)
    标志。
- en: Added the [changesetfuzz.c](https://sqlite.org/src/file/ext/session/changesetfuzz.c)
    test-case generator utility.
  id: totrans-722
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [changesetfuzz.c](https://sqlite.org/src/file/ext/session/changesetfuzz.c)
    测试用例生成工具。
- en: '**Hashes:**'
  id: totrans-723
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2018-12-01 12:34:55 bf8c1b2b7a5960c282e543b9c293686dccff272512d08865f4600fb58238b4f9"'
  id: totrans-724
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2018-12-01 12:34:55 bf8c1b2b7a5960c282e543b9c293686dccff272512d08865f4600fb58238b4f9"'
- en: 'SHA3-256 for sqlite3.c: 72c08830da9b5d1cb397c612c0e870d7f5eb41a323b41aa3d8aa5ae9ccedb2c4'
  id: totrans-725
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256：72c08830da9b5d1cb397c612c0e870d7f5eb41a323b41aa3d8aa5ae9ccedb2c4
- en: 2018-11-05 (3.25.3)
  id: totrans-726
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-11-05 (3.25.3)
- en: Disallow the use of [window functions](windowfunctions.html) in the recursive
    part of a CTE. Ticket [e8275b415a2f03bee](https://sqlite.org/src/info/e8275b415a2f03bee)
  id: totrans-727
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不允许在公共表达式递归部分使用 [窗口函数](windowfunctions.html)。票证 [e8275b415a2f03bee](https://sqlite.org/src/info/e8275b415a2f03bee)
- en: Fix the behavior of typeof() and length() on virtual tables. Ticket [69d642332d25aa3b7315a6d385](https://sqlite.org/src/info/69d642332d25aa3b7315a6d385)
  id: totrans-728
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了虚拟表上 typeof() 和 length() 的行为。票证 [69d642332d25aa3b7315a6d385](https://sqlite.org/src/info/69d642332d25aa3b7315a6d385)
- en: Strengthen defenses against deliberately corrupted database files.
  id: totrans-729
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了防御措施，以防故意损坏的数据库文件。
- en: Fix a problem in the query planner that results when a row-value expression
    is used with a PRIMARY KEY with redundant columns. Ticket [1a84668dcfdebaf12415d](https://sqlite.org/src/info/1a84668dcfdebaf12415d)
  id: totrans-730
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器中的问题，当使用具有冗余列的主键时使用行值表达式会导致问题。Ticket [1a84668dcfdebaf12415d](https://sqlite.org/src/info/1a84668dcfdebaf12415d)
- en: Fix the query planner so that it works correctly for IS NOT NULL operators in
    the ON clause of a LEFT JOIN with the SQLITE_ENABLE_STAT4 compile-time option.
    [65eb38f6e46de8c75e188a17ec](https://sqlite.org/src/info/65eb38f6e46de8c75e188a17ec)
  id: totrans-731
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器在 SQLITE_ENABLE_STAT4 编译时选项下在 LEFT JOIN 的 ON 子句中对 IS NOT NULL 运算符的正确处理问题。[65eb38f6e46de8c75e188a17ec](https://sqlite.org/src/info/65eb38f6e46de8c75e188a17ec)
- en: '**Hashes:**'
  id: totrans-732
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2018-11-05 20:37:38 89e099fbe5e13c33e683bef07361231ca525b88f7907be7092058007b75036f2"'
  id: totrans-733
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2018-11-05 20:37:38 89e099fbe5e13c33e683bef07361231ca525b88f7907be7092058007b75036f2"'
- en: 'SHA3-256 for sqlite3.c: 45586e4df74de3a43f3a1f8c7a78c3c3f02edce01af7d10cafe68bb94476a5c5'
  id: totrans-734
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值：45586e4df74de3a43f3a1f8c7a78c3c3f02edce01af7d10cafe68bb94476a5c5
- en: 2018-09-25 (3.25.2)
  id: totrans-735
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-09-25 (3.25.2)
- en: 'Add the [PRAGMA legacy_alter_table=ON](pragma.html#pragma_legacy_alter_table)
    command that causes the "ALTER TABLE RENAME" command to behave as it did in SQLite
    versions 3.24.0 and earlier: references to the renamed table inside the bodies
    of triggers and views are not updated. This new pragma provides a compatibility
    work around for older programs that expected the older, wonky behavior of ALTER
    TABLE RENAME.'
  id: totrans-736
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [PRAGMA legacy_alter_table=ON](pragma.html#pragma_legacy_alter_table) 命令，使得
    "ALTER TABLE RENAME" 命令的行为与 SQLite 3.24.0 及更早版本相同：重命名表格在触发器和视图中的引用不会被更新。这个新的 pragma
    提供了对旧程序的兼容性解决方案，这些程序期望 ALTER TABLE 的旧版奇怪行为。
- en: Fix a problem with the new [window functions](windowfunctions.html) implementation
    that caused a malfunction when complicated expressions involving window functions
    were used inside of a view.
  id: totrans-737
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的 [窗口函数](windowfunctions.html) 实现中的问题，当在视图中使用涉及窗口函数的复杂表达式时发生故障。
- en: Fixes for various other compiler warnings and minor problems associated with
    obscure configurations.
  id: totrans-738
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了与各种其他编译器警告和与不常见配置相关的小问题。
- en: '**Hashes:**'
  id: totrans-739
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2018-09-25 19:08:10 fb90e7189ae6d62e77ba3a308ca5d683f90bbe633cf681865365b8e92792d1c7"'
  id: totrans-740
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2018-09-25 19:08:10 fb90e7189ae6d62e77ba3a308ca5d683f90bbe633cf681865365b8e92792d1c7"'
- en: 'SHA3-256 for sqlite3.c: 34c23ff91631ae10354f8c9d62fd7d65732b3d7f3acfd0bbae31ff4a62fe28af'
  id: totrans-741
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA3-256 值：34c23ff91631ae10354f8c9d62fd7d65732b3d7f3acfd0bbae31ff4a62fe28af
- en: 2018-09-18 (3.25.1)
  id: totrans-742
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-09-18 (3.25.1)
- en: Extra sanity checking added to ALTER TABLE in the 3.25.0 release sometimes raises
    a false-positive when the table being modified has a trigger that updates a virtual
    table. The false-positive caused the ALTER TABLE to rollback, thus leaving the
    schema unchanged. Ticket [b41031ea2b537237](https://sqlite.org/src/info/b41031ea2b537237).
  id: totrans-743
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 3.25.0 版本的 ALTER TABLE 中添加了额外的健全性检查，有时会在修改的表格具有更新虚拟表的触发器时引发误报。这个误报导致 ALTER
    TABLE 回滚，因此使模式保持不变。Ticket [b41031ea2b537237](https://sqlite.org/src/info/b41031ea2b537237).
- en: The fix in the 3.25.0 release for the endless-loop in the byte-code associated
    with the ORDER BY LIMIT optimization did not work for some queries involving window
    functions. An additional correction is required. Ticket [510cde277783b5fb](https://sqlite.org/src/info/510cde277783b5fb)
  id: totrans-744
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于涉及窗口函数的某些查询，修复3.25.0版本中与ORDER BY LIMIT优化相关的字节码无限循环的问题。需要额外的修正。Ticket [510cde277783b5fb](https://sqlite.org/src/info/510cde277783b5fb)
- en: '**Hashes:**'
  id: totrans-745
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2018-09-18 20:20:44 2ac9003de44da7dafa3fbb1915ac5725a9275c86bf2f3b7aa19321bf1460b386"'
  id: totrans-746
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：“2018-09-18 20:20:44 2ac9003de44da7dafa3fbb1915ac5725a9275c86bf2f3b7aa19321bf1460b386”
- en: 'SHA3-256 for sqlite3.c: 1b2302e7a54cc99c84ff699a299f61f069a28e1ed090b89e4430ca80ae2aab06'
  id: totrans-747
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c中的SHA3-256：1b2302e7a54cc99c84ff699a299f61f069a28e1ed090b89e4430ca80ae2aab06
- en: 2018-09-15 (3.25.0)
  id: totrans-748
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-09-15（3.25.0）
- en: Add support for [window functions](windowfunctions.html)
  id: totrans-749
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对[窗口函数](windowfunctions.html)的支持。
- en: 'Enhancements the [ALTER TABLE](lang_altertable.html) command:'
  id: totrans-750
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[ALTER TABLE](lang_altertable.html)命令：
- en: Add support for renaming columns within a table using ALTER TABLE *table* RENAME
    COLUMN *oldname* TO *newname*.
  id: totrans-751
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加支持通过ALTER TABLE *table* RENAME COLUMN *oldname* TO *newname*在表内重命名列的功能。
- en: Fix table rename feature so that it also updates references to the renamed table
    in [triggers](lang_createtrigger.html) and [views](lang_createview.html).
  id: totrans-752
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复表重命名功能，以便在触发器（lang_createtrigger.html）和视图（lang_createview.html）中更新对重命名表的引用。
- en: 'Query optimizer improvements:'
  id: totrans-753
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询优化器改进：
- en: Avoid unnecessary loads of columns in an aggregate query that are not within
    an aggregate function and that are not part of the GROUP BY clause.
  id: totrans-754
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在聚合查询中加载不在聚合函数内且不在GROUP BY子句中的无用列。
- en: 'The IN-early-out optimization: When doing a look-up on a multi-column index
    and an IN operator is used on a column other than the left-most column, then if
    no rows match against the first IN value, check to make sure there exist rows
    that match the columns to the right before continuing with the next IN value.'
  id: totrans-755
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: IN-early-out优化：当在多列索引上进行查找，并且使用IN运算符在非最左列上时，如果第一个IN值没有匹配的行，则在继续下一个IN值之前，检查确保存在匹配右侧列的行。
- en: Use the transitive property to try to propagate constant values within the WHERE
    clause. For example, convert "a=99 AND b=a" into "a=99 AND b=99".
  id: totrans-756
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用传递属性尝试在WHERE子句中传播常量值。例如，将“a=99 AND b=a”转换为“a=99 AND b=99”。
- en: Use a separate mutex on every inode in the unix [VFS](vfs.html), rather than
    a single mutex shared among them all, for slightly better concurrency in multi-threaded
    environments.
  id: totrans-757
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Unix的[VFS](vfs.html)中的每个inode都使用单独的互斥锁，而不是所有inode共享一个互斥锁，以便在多线程环境中稍微提高并发性能。
- en: Enhance the [PRAGMA integrity_check](pragma.html#pragma_integrity_check) command
    for improved detection of problems on the page freelist.
  id: totrans-758
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[PRAGMA integrity_check](pragma.html#pragma_integrity_check)命令，以改进对页面空闲列表中问题的检测。
- en: Output infinity as 1e999 in the ".dump" command of the [command-line shell](cli.html).
  id: totrans-759
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行shell的“.dump”命令中将无穷大输出为1e999。
- en: Added the [SQLITE_FCNTL_DATA_VERSION](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntldataversion)
    file-control.
  id: totrans-760
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_FCNTL_DATA_VERSION](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntldataversion)
    文件控制。
- en: Added the [Geopoly module](geopoly.html)
  id: totrans-761
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[Geopoly 模块](geopoly.html)。
- en: '**Bug fixes:**'
  id: totrans-762
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug 修复：**'
- en: The ORDER BY LIMIT optimization might have caused an infinite loop in the byte
    code of the prepared statement under very obscure circumstances, due to a confluence
    of minor defects in the query optimizer. Fix for ticket [9936b2fa443fec03ff25](https://www.sqlite.org/src/info/9936b2fa443fec03ff25)
  id: totrans-763
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在极其晦涩的情况下，ORDER BY LIMIT 优化可能导致准备语句的字节码进入无限循环，因为查询优化器的一系列轻微缺陷交汇在一起。修复了票号 [9936b2fa443fec03ff25](https://www.sqlite.org/src/info/9936b2fa443fec03ff25)。
- en: On an UPSERT when the order of constraint checks is rearranged, ensure that
    the affinity transformations on the inserted content occur before any of the constraint
    checks. Fix for ticket [79cad5e4b2e219dd197242e9e](https://www.sqlite.org/src/info/79cad5e4b2e219dd197242e9e).
  id: totrans-764
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 UPSERT 中约束检查的顺序被重新排列时，确保插入内容的亲和转换发生在任何约束检查之前。修复了票号 [79cad5e4b2e219dd197242e9e](https://www.sqlite.org/src/info/79cad5e4b2e219dd197242e9e)。
- en: Avoid using a prepared statement for ".stats on" command of the [CLI](cli.html)
    after it has been closed by the ".eqp full" logicc. Fix for ticket [7be932dfa60a8a6b3b26bcf76](https://www.sqlite.org/src/info/7be932dfa60a8a6b3b26bcf76).
  id: totrans-765
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 ".eqp full" 逻辑关闭了 ".stats on" 命令之后，避免使用准备语句执行 [CLI](cli.html)。修复了票号 [7be932dfa60a8a6b3b26bcf76](https://www.sqlite.org/src/info/7be932dfa60a8a6b3b26bcf76)。
- en: The LIKE optimization was generating incorrect byte-code and hence getting the
    wrong answer if the left-hand operand has numeric affinity and the right-hand-side
    pattern is '/%' or if the pattern begins with the ESCAPE character. Fix for ticket
    [c94369cae9b561b1f996d0054b](https://www.sqlite.org/src/info/c94369cae9b561b1f996d0054b)
  id: totrans-766
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: LIKE 优化生成的字节码错误，因此如果左操作数具有数值亲和性并且右操作数模式为 '/%' 或模式以 ESCAPE 字符开头，则得到错误答案。修复了票号
    [c94369cae9b561b1f996d0054b](https://www.sqlite.org/src/info/c94369cae9b561b1f996d0054b)。
- en: '**Hashes:**'
  id: totrans-767
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2018-09-15 04:01:47 b63af6c3bd33152742648d5d2e8dc5d5fcbcdd27df409272b6aea00a6f761760"'
  id: totrans-768
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2018-09-15 04:01:47 b63af6c3bd33152742648d5d2e8dc5d5fcbcdd27df409272b6aea00a6f761760"'
- en: 'SHA3-256 for sqlite3.c: 989e3ff37f2b5eea8e42205f808ccf0ba86c6ea6aa928ad2c011f33a108ac45d'
  id: totrans-769
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 sqlite3.c 的 SHA3-256：989e3ff37f2b5eea8e42205f808ccf0ba86c6ea6aa928ad2c011f33a108ac45d。
- en: 2018-06-04 (3.24.0)
  id: totrans-770
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-06-04 (3.24.0)
- en: Add support for PostgreSQL-style [UPSERT](lang_upsert.html).
  id: totrans-771
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 PostgreSQL 风格的[UPSERT](lang_upsert.html)支持。
- en: Add support for [auxiliary columns in r-tree tables](rtree.html#auxcol).
  id: totrans-772
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了在 R-tree 表中的[辅助列](rtree.html#auxcol)支持。
- en: 'Add C-language APIs for discovering SQL keywords used by SQLite: [sqlite3_keyword_count()](c3ref/keyword_check.html),
    [sqlite3_keyword_name()](c3ref/keyword_check.html), and [sqlite3_keyword_check()](c3ref/keyword_check.html).'
  id: totrans-773
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了用于发现 SQLite 使用的 SQL 关键字的 C 语言 API：[sqlite3_keyword_count()](c3ref/keyword_check.html)、[sqlite3_keyword_name()](c3ref/keyword_check.html)
    和 [sqlite3_keyword_check()](c3ref/keyword_check.html)。
- en: Add C-language APIs for dynamic strings based on the [sqlite3_str](c3ref/str.html)
    object.
  id: totrans-774
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了基于[sqlite3_str](c3ref/str.html)对象的动态字符串的 C 语言 API。
- en: Enhance [ALTER TABLE](lang_altertable.html) so that it recognizes "true" and
    "false" as valid arguments to DEFAULT.
  id: totrans-775
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了 [ALTER TABLE](lang_altertable.html)，使其能够识别 "true" 和 "false" 作为 DEFAULT 的有效参数。
- en: Add the sorter-reference optimization as a compile-time option. Only available
    if compiled with SQLITE_ENABLE_SORTER_REFERENCES.
  id: totrans-776
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将排序器参考优化作为编译时选项添加。仅在使用 SQLITE_ENABLE_SORTER_REFERENCES 编译时可用。
- en: Improve the format of the [EXPLAIN QUERY PLAN](eqp.html) raw output, so that
    it gives better information about the query plan and about the relationships between
    the various components of the plan.
  id: totrans-777
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 [EXPLAIN QUERY PLAN](eqp.html) 原始输出的格式，从而提供更好的查询计划信息以及计划中各组件之间的关系。
- en: Added the [SQLITE_DBCONFIG_RESET_DATABASE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigresetdatabase)
    option to the [sqlite3_db_config()](c3ref/db_config.html) API.
  id: totrans-778
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_DBCONFIG_RESET_DATABASE](c3ref/c_dbconfig_defensive.html#sqlitedbconfigresetdatabase)
    选项到 [sqlite3_db_config()](c3ref/db_config.html) API。
- en: '**[CLI](cli.html) Enhancements:**'
  id: totrans-779
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**[CLI](cli.html) 增强：**'
- en: Automatically intercepts the raw [EXPLAIN QUERY PLAN](eqp.html) output and reformats
    it into an ASCII-art graph.
  id: totrans-780
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动拦截原始的 [EXPLAIN QUERY PLAN](eqp.html) 输出并将其重新格式化为 ASCII 艺术图。
- en: Lines that begin with "#" and that are not in the middle of an SQL statement
    are interpreted as comments.
  id: totrans-781
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以 "#" 开头且不在 SQL 语句中间的行被解释为注释。
- en: Added the --append option to the ".backup" command.
  id: totrans-782
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 ".backup" 命令添加了 --append 选项。
- en: Added the ".dbconfig" command.
  id: totrans-783
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 ".dbconfig" 命令。
- en: '**Performance:**'
  id: totrans-784
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**性能：**'
- en: '[UPDATE](lang_update.html) avoids unnecessary low-level disk writes when the
    contents of the database file do not actually change. For example, "UPDATE t1
    SET x=25 WHERE y=?" generates no extra disk I/O if the value in column x is already
    25\. Similarly, when doing [UPDATE](lang_update.html) on records that span multiple
    pages, only the subset of pages that actually change are written to disk. This
    is a low-level performance optimization only and does not affect the behavior
    of TRIGGERs or other higher level SQL structures.'
  id: totrans-785
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当数据库文件的内容实际上没有变化时，[UPDATE](lang_update.html) 避免不必要的低级磁盘写入。例如，如果列 x 中的值已经是 25，则
    "UPDATE t1 SET x=25 WHERE y=?" 不会生成额外的磁盘 I/O。类似地，当对跨多个页面的记录进行 [UPDATE](lang_update.html)
    时，只会将实际更改的页面子集写入磁盘。这是一种低级性能优化，不影响 TRIGGER 或其他更高级别的 SQL 结构的行为。
- en: Queries that use ORDER BY and LIMIT now try to avoid computing rows that cannot
    possibly come in under the LIMIT. This can greatly improve performance of ORDER
    BY LIMIT queries, especially when the LIMIT is small relative to the number of
    unrestricted output rows.
  id: totrans-786
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 ORDER BY 和 LIMIT 的查询现在尝试避免计算那些不可能在 LIMIT 下返回的行。这可以极大地提升 ORDER BY LIMIT 查询的性能，特别是当
    LIMIT 相对于无限制输出行数较小时。
- en: The [OR optimization](optoverview.html#or_opt) is allowed to proceed even if
    the OR expression has also been converted into an IN expression. Uses of the OR
    optimization are now also [more clearly shown](eqp.html#or-opt) in the [EXPLAIN
    QUERY PLAN](eqp.html) output.
  id: totrans-787
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许[OR优化](optoverview.html#or_opt)即使OR表达式也已转换为IN表达式也可以继续进行。OR优化的使用现在在[EXPLAIN
    QUERY PLAN](eqp.html)输出中也更加清晰地显示。
- en: The query planner is more aggressive about using [automatic indexes](optoverview.html#autoindex)
    for views and subqueries for which it is not possible to create a persistent index.
  id: totrans-788
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器更加积极地使用[自动索引](optoverview.html#autoindex)来处理视图和子查询，这些情况下无法创建持久索引。
- en: Make use of the one-pass UPDATE and DELETE query plans in the [R-Tree extension](rtree.html)
    where appropriate.
  id: totrans-789
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在适当的情况下，利用一遍完成的UPDATE和DELETE查询计划来使用[R-Tree扩展](rtree.html)。
- en: Performance improvements in the LEMON-generated parser.
  id: totrans-790
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在LEMON生成的解析器中进行性能改进。
- en: '**Bug fixes:**'
  id: totrans-791
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: For the right-hand table of a LEFT JOIN, compute the values of expressions directly
    rather than loading precomputed values out of an [expression index](expridx.html)
    as the expression index might not contain the correct value. Ticket [7fa8049685b50b5aeb0c2](https://sqlite.org/src/info/7fa8049685b50b5aeb0c2)
  id: totrans-792
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于左连接的右表，直接计算表达式的值，而不是从[表达式索引](expridx.html)中加载预计算值，因为表达式索引可能不包含正确的值。Ticket
    [7fa8049685b50b5aeb0c2](https://sqlite.org/src/info/7fa8049685b50b5aeb0c2)
- en: Do not attempt to use terms from the WHERE clause to enable indexed lookup of
    the right-hand table of a LEFT JOIN. Ticket [4ba5abf65c5b0f9a96a7a](https://sqlite.org/src/info/4ba5abf65c5b0f9a96a7a)
  id: totrans-793
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不要试图使用左连接的WHERE子句中的术语来启用右表的索引查找。Ticket [4ba5abf65c5b0f9a96a7a](https://sqlite.org/src/info/4ba5abf65c5b0f9a96a7a)
- en: Fix a memory leak that can occur following a failure to open error in the [CSV
    virtual table](csv.html)
  id: totrans-794
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[CSV虚拟表](csv.html)中打开错误后可能出现的内存泄漏问题。
- en: Fix a long-standing problem wherein a corrupt schema on the [sqlite_sequence](fileformat2.html#seqtab)
    table used by [AUTOINCREMENT](autoinc.html) can lead to a crash. Ticket [d8dc2b3a58cd5dc2918a1](https://www.sqlite.org/src/info/d8dc2b3a58cd5dc29)
  id: totrans-795
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了长期存在的问题，即由于[sqlite_sequence](fileformat2.html#seqtab)表中的损坏架构而导致[AUTOINCREMENT](autoinc.html)崩溃的问题。Ticket
    [d8dc2b3a58cd5dc2918a1](https://www.sqlite.org/src/info/d8dc2b3a58cd5dc29)
- en: Fix the [json_each()](json1.html#jeach) function so that it returns valid results
    on its "fullkey" column when the input is a simple value rather than an array
    or object.
  id: totrans-796
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[json_each()](json1.html#jeach)函数，在输入是简单值而不是数组或对象时返回其“fullkey”列的有效结果的问题。
- en: '**Hashes:**'
  id: totrans-797
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2018-06-04 19:24:41 c7ee0833225bfd8c5ec2f9bf62b97c4e04d03bd9566366d5221ac8fb199a87ca"'
  id: totrans-798
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2018-06-04 19:24:41 c7ee0833225bfd8c5ec2f9bf62b97c4e04d03bd9566366d5221ac8fb199a87ca"
- en: 'SHA3-256 for sqlite3.c: 0d384704e1c66026228336d1e91771d295bf688c9c44c7a44f25a4c16c26ab3c'
  id: totrans-799
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：0d384704e1c66026228336d1e91771d295bf688c9c44c7a44f25a4c16c26ab3c
- en: 2018-04-10 (3.23.1)
  id: totrans-800
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-04-10（3.23.1）
- en: Fix two problems in the new [LEFT JOIN strength reduction optimization](optoverview.html#leftjoinreduction).
    Tickets [1e39b966ae9ee739](https://sqlite.org/src/info/1e39b966ae9ee739) and [fac496b61722daf2](https://sqlite.org/src/info/fac496b61722daf2).
  id: totrans-801
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的[LEFT JOIN强化优化](optoverview.html#leftjoinreduction)中的两个问题。票号[1e39b966ae9ee739](https://sqlite.org/src/info/1e39b966ae9ee739)和[fac496b61722daf2](https://sqlite.org/src/info/fac496b61722daf2)。
- en: Fix misbehavior of the FTS5 xBestIndex method. Ticket [2b8aed9f7c9e61e8](https://sqlite.org/src/info/2b8aed9f7c9e61e8).
  id: totrans-802
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了FTS5 xBestIndex方法的不正确行为。票号[2b8aed9f7c9e61e8](https://sqlite.org/src/info/2b8aed9f7c9e61e8)。
- en: Fix a harmless reference to an uninitialized virtual machine register. Ticket
    [093420fc0eb7cba7](https://sqlite.org/src/info/093420fc0eb7cba7).
  id: totrans-803
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了对未初始化虚拟机寄存器的无害引用。票号[093420fc0eb7cba7](https://sqlite.org/src/info/093420fc0eb7cba7)。
- en: Fix the [CLI](cli.html) so that it builds with -DSQLITE_UNTESTABLE
  id: totrans-804
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了CLI，使其在使用-DSQLITE_UNTESTABLE时能够构建。
- en: Fix the [eval.c](https://sqlite.org/src/file/ext/misc/eval.c) extension so that
    it works with [PRAGMA empty_result_callbacks=ON](pragma.html#pragma_empty_result_callbacks).
  id: totrans-805
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[eval.c](https://sqlite.org/src/file/ext/misc/eval.c)扩展，使其能够与[PRAGMA empty_result_callbacks=ON](pragma.html#pragma_empty_result_callbacks)一起工作。
- en: Fix the [generate_series](series.html) virtual table so that it correctly returns
    no rows if any of its constraints are NULL.
  id: totrans-806
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[generate_series](series.html)虚拟表，使其在任何约束为空时正确返回零行。
- en: Performance enhancements in the parser.
  id: totrans-807
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析器性能有所提升。
- en: '**Hashes:**'
  id: totrans-808
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2018-04-10 17:39:29 4bb2294022060e61de7da5c227a69ccd846ba330e31626ebcd59a94efd148b3b"'
  id: totrans-809
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2018-04-10 17:39:29 4bb2294022060e61de7da5c227a69ccd846ba330e31626ebcd59a94efd148b3b"。
- en: 'SHA3-256 for sqlite3.c: 65750d1e506f416a0b0b9dd22d171379679c733e3460549754dc68c92705b5dc'
  id: totrans-810
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对sqlite3.c进行SHA3-256：65750d1e506f416a0b0b9dd22d171379679c733e3460549754dc68c92705b5dc。
- en: 2018-04-02 (3.23.0)
  id: totrans-811
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-04-02（3.23.0）
- en: Add the [sqlite3_serialize()](c3ref/serialize.html) and [sqlite3_deserialize()](c3ref/deserialize.html)
    interfaces when the [SQLITE_ENABLE_DESERIALIZE](compile.html#enable_deserialize)
    compile-time option is used.
  id: totrans-812
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用[SQLITE_ENABLE_DESERIALIZE](compile.html#enable_deserialize)编译时选项时，添加了[sqlite3_serialize()](c3ref/serialize.html)和[sqlite3_deserialize()](c3ref/deserialize.html)接口。
- en: Recognize TRUE and FALSE as constants. (For compatibility, if there exist columns
    named "true" or "false", then the identifiers refer to the columns rather than
    Boolean constants.)
  id: totrans-813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在识别TRUE和FALSE作为常量。（为了兼容性，如果存在名为"true"或"false"的列，则标识符将指向列而不是布尔常量。）
- en: Support operators IS TRUE, IS FALSE, IS NOT TRUE, and IS NOT FALSE.
  id: totrans-814
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持操作符IS TRUE、IS FALSE、IS NOT TRUE和IS NOT FALSE。
- en: Added the [SQLITE_DBSTATUS_CACHE_SPILL](c3ref/c_dbstatus_options.html#sqlitedbstatuscachespill)
    option to [sqlite3_db_status()](c3ref/db_status.html) for reporting the number
    of cache spills that have occurred.
  id: totrans-815
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DBSTATUS_CACHE_SPILL](c3ref/c_dbstatus_options.html#sqlitedbstatuscachespill)选项，用于报告发生的缓存溢出次数。
- en: The "alternate-form-2" flag ("!") on the [built-in printf](printf.html) implementation
    now causes string substitutions to measure the width and precision in characters
    instead of bytes.
  id: totrans-816
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [内置 printf](printf.html) 实现中，“alternate-form-2” 标志（"!"）现在会导致字符串替换测量宽度和精度时使用字符而不是字节。
- en: If the [xColumn](vtab.html#xcolumn) method in a [virtual table](vtab.html) implementation
    returns an error message using [sqlite3_result_error()](c3ref/result_blob.html)
    then give that error message preference over internally-generated messages.
  id: totrans-817
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 [虚拟表](vtab.html) 实现中的 [xColumn](vtab.html#xcolumn) 方法使用 [sqlite3_result_error()](c3ref/result_blob.html)
    返回错误消息，则优先使用该错误消息，而不是内部生成的消息。
- en: Added the -A command-line option to the [CLI](cli.html) to make it easier to
    manage [SQLite Archive files](sqlar.html).
  id: totrans-818
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [CLI](cli.html) 添加了 -A 命令行选项，以便更轻松地管理 [SQLite 存档文件](sqlar.html)。
- en: Add support for INSERT OR REPLACE, INSERT OR IGNORE, and UPDATE OR REPLACE in
    the [Zipfile virtual table](zipfile.html).
  id: totrans-819
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [Zipfile 虚拟表](zipfile.html) 中添加对 INSERT OR REPLACE、INSERT OR IGNORE 和 UPDATE
    OR REPLACE 的支持。
- en: Enhance the [sqlite3changeset_apply()](session/sqlite3changeset_apply.html)
    interface so that it is hardened against attacks from deliberately corrupted [changeset](sessionintro.html#changeset)
    objects.
  id: totrans-820
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强 [sqlite3changeset_apply()](session/sqlite3changeset_apply.html) 接口，使其能够抵御故意损坏的
    [changeset](sessionintro.html#changeset) 对象的攻击。
- en: Added the [sqlite3_normalize()](https://sqlite.org/src/file/ext/misc/normalize.c)
    extension function.
  id: totrans-821
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_normalize()](https://sqlite.org/src/file/ext/misc/normalize.c)
    扩展函数。
- en: 'Query optimizer enhancements:'
  id: totrans-822
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询优化器增强：
- en: Improve the [omit-left-join optimization](optoverview.html#omitnoopjoin) so
    that it works in cases where the right-hand table is UNIQUE but not necessarily
    NOT NULL.
  id: totrans-823
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进 [omit-left-join 优化](optoverview.html#omitnoopjoin) 使其在右表是 UNIQUE 但不一定 NOT
    NULL 的情况下也能工作。
- en: Improve the [push-down optimization](optoverview.html#pushdown) so that it works
    for many LEFT JOINs.
  id: totrans-824
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进 [push-down 优化](optoverview.html#pushdown) 使其适用于许多 LEFT JOIN。
- en: Add the [LEFT JOIN strength reduction optimization](optoverview.html#leftjoinreduction)
    that converts a LEFT JOIN into an ordinary JOIN if there exist terms in the WHERE
    clause that would prevent the extra all-NULL row of the LEFT JOIN from appearing
    in the output set.
  id: totrans-825
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [LEFT JOIN 强化优化](optoverview.html#leftjoinreduction)，如果 WHERE 子句中存在术语会阻止
    LEFT JOIN 的额外全空行出现在输出集中，则将 LEFT JOIN 转换为普通 JOIN。
- en: Avoid unnecessary writes to the sqlite_sequence table when an [AUTOINCREMENT](autoinc.html)
    table is updated with an rowid that is less than the maximum.
  id: totrans-826
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 [AUTOINCREMENT](autoinc.html) 表使用小于最大值的 rowid 更新时，避免向 sqlite_sequence 表进行不必要的写入。
- en: 'Bug fixes:'
  id: totrans-827
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：
- en: Fix the parser to accept valid [row value](rowvalue.html) syntax. Ticket [7310e2fb3d046a5](https://www.sqlite.org/src/info/7310e2fb3d046a5)
  id: totrans-828
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复解析器以接受有效的 [行值](rowvalue.html) 语法。Ticket [7310e2fb3d046a5](https://www.sqlite.org/src/info/7310e2fb3d046a5)
- en: Fix the query planner so that it takes into account dependencies in the arguments
    to table-valued functions in subexpressions in the WHERE clause. Ticket [80177f0c226ff54](https://www.sqlite.org/src/info/80177f0c226ff54)
  id: totrans-829
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器，使其考虑 WHERE 子句中子表达式中表值函数参数的依赖关系。Ticket [80177f0c226ff54](https://www.sqlite.org/src/info/80177f0c226ff54)
- en: Fix incorrect result with complex OR-connected WHERE and STAT4. Ticket [ec32177c99ccac2](https://www.sqlite.org/src/info/ec32177c99ccac2)
  id: totrans-830
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复复杂 OR 连接的 WHERE 和 STAT4 中的不正确结果。Ticket [ec32177c99ccac2](https://www.sqlite.org/src/info/ec32177c99ccac2)
- en: Fix potential corruption in [indexes on expressions](expridx.html) due to automatic
    datatype conversions. Ticket [343634942dd54ab](https://www.sqlite.org/src/info/343634942dd54ab)
  id: totrans-831
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于自动数据类型转换，表达式索引中的潜在损坏修复。Ticket [343634942dd54ab](https://www.sqlite.org/src/info/343634942dd54ab)
- en: Assertion fault in FTS4. Ticket [d6ec09eccf68cfc](https://www.sqlite.org/src/info/d6ec09eccf68cfc)
  id: totrans-832
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: FTS4 中的断言错误。Ticket [d6ec09eccf68cfc](https://www.sqlite.org/src/info/d6ec09eccf68cfc)
- en: Incorrect result on the less-than operator in [row values](rowvalue.html). Ticket
    [f484b65f3d62305](https://www.sqlite.org/src/info/f484b65f3d62305)
  id: totrans-833
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在行值中小于运算符的不正确结果。Ticket [f484b65f3d62305](https://www.sqlite.org/src/info/f484b65f3d62305)
- en: Always interpret non-zero floating-point values as TRUE, even if the integer
    part is zero. Ticket [36fae083b450e3a](https://www.sqlite.org/src/info/36fae083b450e3a)
  id: totrans-834
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 总是将非零浮点值解释为 TRUE，即使整数部分为零。Ticket [36fae083b450e3a](https://www.sqlite.org/src/info/36fae083b450e3a)
- en: Fix an issue in the fsdir(PATH) [table-valued function](vtab.html#tabfunc2)
    to the [fileio.c](https://sqlite.org/src/file/ext/misc/fileio.c) extension, that
    caused a segfault if the fsdir() table was used as the inner table of a join.
    Problem reported on the mailing list and fixed by check-in [7ce4e71c1b7251be](https://www.sqlite.org/src/info/7ce4e71c1b7251be)
  id: totrans-835
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 fsdir(PATH) [表值函数](vtab.html#tabfunc2) 中的问题，这导致如果 fsdir() 表作为连接中的内部表使用，会发生段错误。该问题在邮件列表中报告，并通过提交
    [7ce4e71c1b7251be](https://www.sqlite.org/src/info/7ce4e71c1b7251be) 进行了修复。
- en: Issue an error rather instead of an assertion-fault or null-pointer dereference
    when the sqlite_master table is corrupted so that the sqlite_sequence table root
    page is really a btree-index page. Check-in [525deb7a67fbd647](https://www.sqlite.org/src/info/525deb7a67fbd647)
  id: totrans-836
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 sqlite_master 表损坏以至于 sqlite_sequence 表根页面实际上是 btree 索引页面时，发出错误而不是断言错误或空指针解引用。Check-in
    [525deb7a67fbd647](https://www.sqlite.org/src/info/525deb7a67fbd647)
- en: Fix the [ANALYZE](lang_analyze.html) command so that it computes statistics
    on tables whose names begin with "sqlite". Check-in [0249d9aecf69948d](https://sqlite.org/src/info/0249d9aecf69948d)
  id: totrans-837
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [ANALYZE](lang_analyze.html) 命令，使其对以 "sqlite" 开头的表计算统计信息。Check-in [0249d9aecf69948d](https://sqlite.org/src/info/0249d9aecf69948d)
- en: 'Additional fixes for issues detected by [OSSFuzz](https://github.com/google/oss-fuzz):'
  id: totrans-838
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由 [OSSFuzz](https://github.com/google/oss-fuzz) 检测到的其他问题修复：
- en: Fix a possible infinite loop on VACUUM for corrupt database files. Check-in
    [27754b74ddf64](https://www.sqlite.org/src/info/27754b74ddf64)
  id: totrans-839
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复损坏数据库文件的 VACUUM 可能的无限循环问题。检查 [27754b74ddf64](https://www.sqlite.org/src/info/27754b74ddf64)
- en: Disallow [parameters](lang_expr.html#varparam) in the [WITH clause](lang_with.html)
    of triggers and views. Check-in [b918d4b4e546d](https://www.sqlite.org/src/info/b918d4b4e546d)
  id: totrans-840
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在触发器和视图的 `WITH` 子句中禁止 [parameters](lang_expr.html#varparam)。检查 [b918d4b4e546d](https://www.sqlite.org/src/info/b918d4b4e546d)
- en: Fix a potential memory leak in [row value](rowvalue.html) processing. Check-in
    [2df6bbf1b8ca8](https://www.sqlite.org/src/info/2df6bbf1b8ca8)
  id: totrans-841
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [row value](rowvalue.html) 处理中可能的内存泄漏。检查 [2df6bbf1b8ca8](https://www.sqlite.org/src/info/2df6bbf1b8ca8)
- en: Improve the performance of the [replace() SQL function](lang_corefunc.html#replace)
    for cases where there are many substitutions on megabyte-sized strings, in an
    attempt to avoid OSSFuzz timeouts during testing. Check-in [fab2c2b07b5d3](https://www.sqlite.org/src/info/fab2c2b07b5d3)
  id: totrans-842
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进 [replace() SQL 函数](lang_corefunc.html#replace) 的性能，针对大量替换的兆字节大小字符串，以避免在测试期间
    OSSFuzz 超时。检查 [fab2c2b07b5d3](https://www.sqlite.org/src/info/fab2c2b07b5d3)
- en: Provide an appropriate error message when the sqlite_master table contains a
    CREATE TABLE AS statement. Formerly this caused either an assertion fault or null
    pointer dereference. Problem found by OSSFuzz on the GDAL project. Check-in [d75e67654aa96](https://www.sqlite.org/src/info/d75e67654aa96)
  id: totrans-843
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 `sqlite_master` 表包含 `CREATE TABLE AS` 语句时，请提供适当的错误消息。以前这会导致断言错误或空指针解引用。由 OSSFuzz
    在 GDAL 项目上发现的问题。检查 [d75e67654aa96](https://www.sqlite.org/src/info/d75e67654aa96)
- en: Incorrect assert() statement removed. Check-in [823779d31eb09cda](https://www.sqlite.org/src/info/823779d31eb09cda).
  id: totrans-844
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除不正确的 `assert()` 语句。检查 [823779d31eb09cda](https://www.sqlite.org/src/info/823779d31eb09cda)。
- en: Fix a problem with using the [LIKE optimization](optoverview.html#like_opt)
    on an [INTEGER PRIMARY KEY](lang_createtable.html#rowid). Check-in [b850dd159918af56](https://www.sqlite.org/src/info/b850dd159918af56).
  id: totrans-845
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在 [INTEGER PRIMARY KEY](lang_createtable.html#rowid) 上使用 [LIKE 优化](optoverview.html#like_opt)
    的问题。检查 [b850dd159918af56](https://www.sqlite.org/src/info/b850dd159918af56)。
- en: '**Hashes:**'
  id: totrans-846
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2018-04-02 11:04:16 736b53f57f70b23172c30880186dce7ad9baa3b74e3838cae5847cffb98f5cd2"'
  id: totrans-847
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2018-04-02 11:04:16 736b53f57f70b23172c30880186dce7ad9baa3b74e3838cae5847cffb98f5cd2"'
- en: 'SHA3-256 for sqlite3.c: 4bed3dc2dc905ff55e2c21fd2725551fc0ca50912a9c96c6af712a4289cb24fa'
  id: totrans-848
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`sqlite3.c` 的 SHA3-256：4bed3dc2dc905ff55e2c21fd2725551fc0ca50912a9c96c6af712a4289cb24fa'
- en: 2018-01-22 (3.22.0)
  id: totrans-849
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2018-01-22 (3.22.0)
- en: The output of [sqlite3_trace_v2()](c3ref/trace_v2.html) now shows each individual
    SQL statement run within a trigger.
  id: totrans-850
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，[sqlite3_trace_v2()](c3ref/trace_v2.html) 的输出显示触发器内运行的每个单独 SQL 语句。
- en: Add the ability to read from [WAL mode](wal.html) databases even if the application
    lacks write permission on the database and its containing directory, as long as
    the -shm and -wal files exist in that directory.
  id: totrans-851
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了从 [WAL mode](wal.html) 数据库中读取数据的能力，即使应用程序对数据库及其所在目录缺乏写权限，只要该目录中存在 -shm 和
    -wal 文件。
- en: Added the [rtreecheck()](rtree.html#rtreecheck) scalar SQL function to the [R-Tree
    extension](rtree.html).
  id: totrans-852
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了标量SQL函数[rtreecheck()](rtree.html#rtreecheck)到[R-Tree扩展](rtree.html)。
- en: Added the [sqlite3_vtab_nochange()](c3ref/vtab_nochange.html) and [sqlite3_value_nochange()](c3ref/value_blob.html)
    interfaces to help virtual table implementations optimize UPDATE operations.
  id: totrans-853
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_vtab_nochange()](c3ref/vtab_nochange.html)和[sqlite3_value_nochange()](c3ref/value_blob.html)接口，帮助虚拟表实现优化UPDATE操作。
- en: Added the [sqlite3_vtab_collation()](c3ref/vtab_collation.html) interface.
  id: totrans-854
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_vtab_collation()](c3ref/vtab_collation.html)接口。
- en: Added support for the ["^" initial token syntax](fts5.html#carrotq) in FTS5.
  id: totrans-855
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在FTS5中添加了对["^"初始标记语法](fts5.html#carrotq)的支持。
- en: 'New extensions:'
  id: totrans-856
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新扩展：
- en: The [Zipfile virtual table](zipfile.html) can read and write a [ZIP Archive](https://en.wikipedia.org/wiki/Zip_(file_format)).
  id: totrans-857
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[虚拟表Zipfile](zipfile.html)可以读取和写入[ZIP归档文件](https://en.wikipedia.org/wiki/Zip_(file_format))。'
- en: Added the fsdir(PATH) [table-valued function](vtab.html#tabfunc2) to the [fileio.c](https://sqlite.org/src/file/ext/misc/fileio.c)
    extension, for listing the files in a directory.
  id: totrans-858
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[fileio.c](https://sqlite.org/src/file/ext/misc/fileio.c)扩展中添加了fsdir(PATH)
    [表值函数](vtab.html#tabfunc2)，用于列出目录中的文件。
- en: The [sqlite_btreeinfo](https://sqlite.org/src/file/ext/misc/btreeinfo.c) eponymous
    virtual table for introspecting and estimating the sizes of the btrees in a database.
  id: totrans-859
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite_btreeinfo](https://sqlite.org/src/file/ext/misc/btreeinfo.c)命名的虚拟表，用于自省和估算数据库中B树的大小。'
- en: The [Append VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c) is a [VFS
    shim](vfs.html#shim) that allows an SQLite database to be appended to some other
    file. This allows (for example) a database to be appended to an executable that
    then opens and reads the database.
  id: totrans-860
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[追加VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c)是一个[VFS垫片](vfs.html#shim)，允许SQLite数据库追加到其他文件。这允许（例如）将数据库追加到可执行文件中，然后打开和读取数据库。'
- en: 'Query planner enhancements:'
  id: totrans-861
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器增强：
- en: The optimization that uses an index to quickly compute an aggregate min() or
    max() is extended to work with [indexes on expressions](expridx.html).
  id: totrans-862
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用索引快速计算聚合函数min()或max()的优化扩展到[表达式索引](expridx.html)上。
- en: The decision of whether to implement a FROM-clause subquery as a co-routine
    or using [query flattening](optoverview.html#flattening) now considers whether
    the result set of the outer query is "complex" (if it contains functions or expression
    subqueries). A complex result set biases the decision toward the use of co-routines.
  id: totrans-863
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 是否将FROM子查询实现为协程或使用[查询展开](optoverview.html#flattening)的决定现在考虑外部查询结果集是否“复杂”（如果包含函数或表达式子查询）。复杂的结果集倾向于使用协程。
- en: The planner avoids query plans that use indexes with unknown collating functions.
  id: totrans-864
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 规划器避免使用具有未知排序函数的索引的查询计划。
- en: The planner omits unused LEFT JOINs even if they are not the right-most joins
    of a query.
  id: totrans-865
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器即使不是查询的最右边连接，也会省略未使用的LEFT JOIN。
- en: 'Other performance optimizations:'
  id: totrans-866
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他性能优化：
- en: 'A smaller and faster implementation of text to floating-point conversion subroutine:
    sqlite3AtoF().'
  id: totrans-867
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对文本到浮点数转换子例程 sqlite3AtoF() 进行了更小更快的实现。
- en: The [Lemon parser generator](lemon.html) creates a faster parser.
  id: totrans-868
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[Lemon 解析器生成器](lemon.html) 创建了更快的解析器。'
- en: Use the strcspn() C-library routine to speed up the LIKE and GLOB operators.
  id: totrans-869
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 strcspn() C 库例程来加速 LIKE 和 GLOB 操作符。
- en: 'Improvements to the [command-line shell](cli.html):'
  id: totrans-870
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [命令行 shell](cli.html) 进行了改进：
- en: The ".schema" command shows the structure of virtual tables.
  id: totrans-871
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '".schema" 命令显示了虚拟表的结构。'
- en: Added support for reading and writing [SQLite Archive](sqlar.html) files using
    the [.archive command](cli.html#sqlar).
  id: totrans-872
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对读写 [SQLite Archive](sqlar.html) 文件的支持，使用 [.archive command](cli.html#sqlar)。
- en: Added the experimental [.expert command](cli.html#expert)
  id: totrans-873
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的 [.expert command](cli.html#expert)。
- en: Added the ".eqp trigger" variant of the ".eqp" command
  id: totrans-874
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 ".eqp trigger" 变种的 ".eqp" 命令。
- en: Enhance the ".lint fkey-indexes" command so that it works with [WITHOUT ROWID](withoutrowid.html)
    tables.
  id: totrans-875
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 ".lint fkey-indexes" 命令，使其在 [WITHOUT ROWID](withoutrowid.html) 表格中工作。
- en: If the filename argument to the shell is a ZIP archive rather than an SQLite
    database, then the shell automatically opens that ZIP archive using the [Zipfile
    virtual table](zipfile.html).
  id: totrans-876
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 shell 的文件名参数是 ZIP 归档而不是 SQLite 数据库，则 shell 将自动使用 [Zipfile 虚拟表](zipfile.html)
    打开该 ZIP 归档。
- en: Added the [edit() SQL function](cli.html#editfunc).
  id: totrans-877
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [edit() SQL 函数](cli.html#editfunc)。
- en: Added the [.excel command](cli.html#exexcel*) to simplify exporting database
    content to a spreadsheet.
  id: totrans-878
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [.excel command](cli.html#exexcel*) 以简化将数据库内容导出到电子表格。
- en: Databases are opened using [Append VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c)
    when the --append flag is used on the command line or with the .open command.
  id: totrans-879
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 [Append VFS](https://sqlite.org/src/file/ext/misc/appendvfs.c) 打开数据库，当命令行或
    .open 命令使用 --append 标志时。
- en: Enhance the [SQLITE_ENABLE_UPDATE_DELETE_LIMIT](compile.html#enable_update_delete_limit)
    compile-time option so that it works for [WITHOUT ROWID](withoutrowid.html) tables.
  id: totrans-880
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [SQLITE_ENABLE_UPDATE_DELETE_LIMIT](compile.html#enable_update_delete_limit)
    编译时选项，使其适用于 [WITHOUT ROWID](withoutrowid.html) 表格。
- en: Provide the [sqlite_offset(X)](lang_corefunc.html#sqlite_offset) SQL function
    that returns the byte offset into the database file to the beginning of the record
    holding value X, when compiling with [-DSQLITE_ENABLE_OFFSET_SQL_FUNC](compile.html#enable_offset_sql_func).
  id: totrans-881
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供了 [sqlite_offset(X)](lang_corefunc.html#sqlite_offset) SQL 函数，当编译时使用 [-DSQLITE_ENABLE_OFFSET_SQL_FUNC](compile.html#enable_offset_sql_func)
    时，返回到数据库文件中保存值 X 的记录的字节偏移量。
- en: 'Bug fixes:'
  id: totrans-882
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：
- en: Infinite loop on an UPDATE that uses an OR operator in the WHERE clause. Problem
    introduced with 3.17.0 and reported on the mailing list about one year later.
    Ticket [47b2581aa9bfecec](https://www.sqlite.org/src/info/47b2581aa9bfecec).
  id: totrans-883
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: UPDATE 中在 WHERE 子句中使用 OR 运算符导致无限循环。此问题在 3.17.0 中引入，并在一年后的邮件列表中报告。Ticket [47b2581aa9bfecec](https://www.sqlite.org/src/info/47b2581aa9bfecec)。
- en: Incorrect query results when the skip-ahead-distinct optimization is used. Ticket
    [ef9318757b152e3a](https://sqlite.org/src/info/ef9318757b152e3a).
  id: totrans-884
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当使用跳跃前向唯一优化时，查询结果不正确。票号 [ef9318757b152e3a](https://sqlite.org/src/info/ef9318757b152e3a)。
- en: Incorrect query results on a join with a ORDER BY DESC. Ticket [123c9ba32130a6c9](https://sqlite.org/src/info/123c9ba32130a6c9).
  id: totrans-885
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在带有ORDER BY DESC的连接中出现查询结果不正确。票号 [123c9ba32130a6c9](https://sqlite.org/src/info/123c9ba32130a6c9)。
- en: Inconsistent result set column names between CREATE TABLE AS and a simple SELECT.
    Ticket [3b4450072511e621](https://sqlite.org/src/info/3b4450072511e621)
  id: totrans-886
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在CREATE TABLE AS和简单SELECT之间存在不一致的结果集列名。
- en: Assertion fault when doing REPLACE on an index on an expression. Ticket [dc3f932f5a147771](https://sqlite.org/src/info/dc3f932f5a147771)
  id: totrans-887
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在表达式索引上执行REPLACE时出现断言错误。票号 [dc3f932f5a147771](https://sqlite.org/src/info/dc3f932f5a147771)
- en: Assertion fault when doing an IN operator on a constant index. Ticket [aa98619ad08ddcab](https://sqlite.org/src/info/aa98619ad08ddcab)
  id: totrans-888
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在对常量索引执行IN操作时出现断言错误。票号 [aa98619ad08ddcab](https://sqlite.org/src/info/aa98619ad08ddcab)
- en: '**Hashes:**'
  id: totrans-889
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2018-01-22 18:45:57 0c55d179733b46d8d0ba4d88e01a25e10677046ee3da1d5b1581e86726f2171d"'
  id: totrans-890
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2018-01-22 18:45:57 0c55d179733b46d8d0ba4d88e01a25e10677046ee3da1d5b1581e86726f2171d"
- en: 'SHA3-256 for sqlite3.c: 206df47ebc49cd1710ac0dd716ce5de5854826536993f4feab7a49d136b85069'
  id: totrans-891
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：206df47ebc49cd1710ac0dd716ce5de5854826536993f4feab7a49d136b85069
- en: 2017-10-24 (3.21.0)
  id: totrans-892
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-10-24（3.21.0）
- en: Take advantage of the atomic-write capabilities in the [F2FS filesystem](https://en.wikipedia.org/wiki/F2FS)
    when available, for greatly reduced transaction overhead. This currently requires
    the [SQLITE_ENABLE_BATCH_ATOMIC_WRITE](compile.html#enable_batch_atomic_write)
    compile-time option.
  id: totrans-893
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在可用时利用[F2FS文件系统](https://en.wikipedia.org/wiki/F2FS)的原子写入功能，以大大减少事务开销。目前这需要在编译时启用[SQLITE_ENABLE_BATCH_ATOMIC_WRITE](compile.html#enable_batch_atomic_write)选项。
- en: Allow [ATTACH](lang_attach.html) and [DETACH](lang_detach.html) commands to
    work inside of a transaction.
  id: totrans-894
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在事务内部使用[ATTACH](lang_attach.html)和[DETACH](lang_detach.html)命令。
- en: Allow [WITHOUT ROWID virtual tables](vtab.html#worid) to be writable if the
    PRIMARY KEY contains exactly one column.
  id: totrans-895
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果主键正好包含一列，则允许对[WITHOUT ROWID虚拟表](vtab.html#worid)进行写操作。
- en: The "fsync()" that occurs after the header is written in a WAL reset now uses
    the sync settings for checkpoints. This means it will use a "fullfsync" on macs
    if [PRAGMA checkpoint_fullfsync](pragma.html#pragma_checkpoint_fullfsync) set
    on.
  id: totrans-896
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在在WAL重置后头部写入后发生的"fsync()"使用检查点的同步设置。这意味着在mac上如果设置了[PRAGMA checkpoint_fullfsync](pragma.html#pragma_checkpoint_fullfsync)，它将使用"fullfsync"。
- en: The [sqlite3_sourceid()](c3ref/libversion.html) function tries to detect if
    the source code has been modified from what is checked into version control and
    if there are modifications, the last four characters of the version hash are shown
    as "alt1" or "alt2". The objective is to detect accidental and/or careless edits.
    A forger can subvert this feature.
  id: totrans-897
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_sourceid()](c3ref/libversion.html)函数试图检测源代码是否与版本控制中检查的内容不同，如果有修改，则显示版本哈希的最后四个字符为“alt1”或“alt2”。这旨在检测意外或粗心的编辑。伪造者可以破坏此功能。'
- en: Improved de-quoting of column names for [CREATE TABLE AS](lang_createtable.html#createtabas)
    statements with an aggregate query on the right-hand side.
  id: totrans-898
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了对右侧聚合查询中列名的去引用，适用于[CREATE TABLE AS](lang_createtable.html#createtabas)语句。
- en: Fewer "stat()" system calls issued by the unix VFS.
  id: totrans-899
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: unix VFS减少了“stat()”系统调用。
- en: Enhanced the [LIKE optimization](optoverview.html#like_opt) so that it works
    with an [ESCAPE](lang_expr.html#like) clause.
  id: totrans-900
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[LIKE优化](optoverview.html#like_opt)，使其可以与[ESCAPE](lang_expr.html#like)子句一起使用。
- en: Enhanced [PRAGMA integrity_check](pragma.html#pragma_integrity_check) and [PRAGMA
    quick_check](pragma.html#pragma_quick_check) to detect obscure row corruption
    that they were formerly missing. Also update both pragmas so that they return
    error text rather than SQLITE_CORRUPT when encountering corruption in [records](fileformat2.html#record_format).
  id: totrans-901
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[PRAGMA integrity_check](pragma.html#pragma_integrity_check)和[PRAGMA quick_check](pragma.html#pragma_quick_check)，以检测以前遗漏的隐晦行损坏。还更新了这两个PRAGMA，以便在[fileformat2.html#record_format](records)中遇到损坏时返回错误文本，而不是SQLITE_CORRUPT。
- en: The query planner now prefers to implement FROM-clause subqueries using [co-routines](optoverview.html#coroutines)
    rather using the [query flattener](optoverview.html#flattening) optimization.
    Support for the use of co-routines for subqueries may no longer be disabled.
  id: totrans-902
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在更倾向于使用[协程](optoverview.html#coroutines)实现FROM子句子查询，而不是使用[查询平坦化](optoverview.html#flattening)优化。支持使用协程进行子查询可能不再被禁用。
- en: Pass information about !=, IS, IS NOT, NOT NULL, and IS NULL constraints into
    the [xBestIndex](vtab.html#xbestindex) method of virtual tables.
  id: totrans-903
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将关于!=、IS、IS NOT、NOT NULL以及IS NULL约束传递到虚拟表的[xBestIndex](vtab.html#xbestindex)方法中。
- en: Enhanced the [CSV virtual table](csv.html) so that it accepts the last row of
    input if the final new-line character is missing.
  id: totrans-904
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[CSV虚拟表](csv.html)，使其在最后一个换行符缺失时接受输入的最后一行。
- en: Remove the rarely-used "scratch" memory allocator. Replace it with the [SQLITE_CONFIG_SMALL_MALLOC](c3ref/c_config_covering_index_scan.html#sqliteconfigsmallmalloc)
    configuration setting that gives SQLite a hint that large memory allocations should
    be avoided when possible.
  id: totrans-905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除很少使用的“scratch”内存分配器。用[SQLITE_CONFIG_SMALL_MALLOC](c3ref/c_config_covering_index_scan.html#sqliteconfigsmallmalloc)配置设置替换，以向SQLite提示在可能的情况下应避免大内存分配。
- en: Added the [swarm virtual table](https://sqlite.org/src/file/ext/misc/unionvtab.c)
    to the existing union virtual table extension.
  id: totrans-906
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在现有的联合虚拟表扩展中增加了[swarm虚拟表](https://sqlite.org/src/file/ext/misc/unionvtab.c)。
- en: Added the [sqlite_dbpage virtual table](https://sqlite.org/src/file/src/dbpage.c)
    for providing direct access to pages of the database file. The source code is
    built into the [amalgamation](amalgamation.html) and is activated using the [-DSQLITE_ENABLE_DBPAGE_VTAB](compile.html#enable_dbpage_vtab)
    compile-time option.
  id: totrans-907
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite_dbpage虚拟表](https://sqlite.org/src/file/src/dbpage.c)，用于直接访问数据库文件的页面。源代码内置于[综合包](amalgamation.html)中，并通过[-DSQLITE_ENABLE_DBPAGE_VTAB](compile.html#enable_dbpage_vtab)编译时选项激活。
- en: Add a new type of fts5vocab virtual table - "instance" - that provides direct
    access to an FTS5 full-text index at the lowest possible level.
  id: totrans-908
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个新类型的fts5vocab虚拟表 - "instance" - 提供FTS5全文索引的最低级别直接访问。
- en: Remove a call to rand_s() in the Windows VFS since it was causing problems in
    Firefox on some older laptops.
  id: totrans-909
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于在一些较旧的笔记本电脑上导致Firefox中出现问题，移除了Windows VFS中的rand_s()调用。
- en: The [src/shell.c](https://sqlite.org/src/finfo?name=src/shell.c) source code
    to the [command-line shell](cli.html) is no longer under version control. That
    file is now generated as part of the build process.
  id: totrans-910
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[src/shell.c](https://sqlite.org/src/finfo?name=src/shell.c)源代码不再受版本控制，用于[命令行
    shell](cli.html)。该文件现在作为构建过程的一部分生成。'
- en: Miscellaneous [microoptimizations](cpu.html#microopt) reduce CPU usage by about
    2.1%.
  id: totrans-911
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项[microoptimizations](cpu.html#microopt)将CPU使用率降低约2.1%。
- en: 'Bug fixes:'
  id: totrans-912
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Bug修复:'
- en: Fix a faulty assert() statement discovered by OSSFuzz. Ticket [cb91bf4290c211d](https://sqlite.org/src/info/cb91bf4290c211d)
  id: totrans-913
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个由OSSFuzz发现的错误的assert()语句。Ticket [cb91bf4290c211d](https://sqlite.org/src/info/cb91bf4290c211d)
- en: Fix an obscure memory leak in [sqlite3_result_pointer()](c3ref/result_blob.html).
    Ticket [7486aa54b968e9b](https://sqlite.org/src/info/7486aa54b968e9b)
  id: totrans-914
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[sqlite3_result_pointer()](c3ref/result_blob.html)中的一个隐晦的内存泄漏。Ticket [7486aa54b968e9b](https://sqlite.org/src/info/7486aa54b968e9b)
- en: Avoid a possible use-after-free error by deferring schema resets until after
    the query planner has finished running. Ticket [be436a7f4587ce5](https://sqlite.org/src/info/be436a7f4587ce5)
  id: totrans-915
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过推迟模式重置直到查询规划器完成运行，避免了可能的延迟释放错误。Ticket [be436a7f4587ce5](https://sqlite.org/src/info/be436a7f4587ce5)
- en: Only use indexes-on-expressions to optimize ORDER BY or GROUP BY if the COLLATE
    is correct. Ticket [e20dd54ab0e4383](https://sqlite.org/src/info/e20dd54ab0e4383)
  id: totrans-916
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅在COLLATE正确的情况下，使用表达式索引来优化ORDER BY或GROUP BY。Ticket [e20dd54ab0e4383](https://sqlite.org/src/info/e20dd54ab0e4383)
- en: Fix an assertion fault that was coming up when the expression in an index-on-expressions
    is really a constant. Ticket [aa98619ad08ddca](https://sqlite.org/src/info/aa98619ad08ddca)
  id: totrans-917
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个断言错误，当索引表达式中的表达式真的是常量时会出现。Ticket [aa98619ad08ddca](https://sqlite.org/src/info/aa98619ad08ddca)
- en: Fix an assertion fault that could occur following [PRAGMA reverse_unordered_selects](pragma.html#pragma_reverse_unordered_selects).
    Ticket [cb91bf4290c211d](https://sqlite.org/src/info/cb91bf4290c211d)
  id: totrans-918
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个断言错误，可能会在[PRAGMA reverse_unordered_selects](pragma.html#pragma_reverse_unordered_selects)之后发生。Ticket
    [cb91bf4290c211d](https://sqlite.org/src/info/cb91bf4290c211d)
- en: Fix a segfault that can occur for queries that use table-valued functions in
    an IN or EXISTS subquery. Ticket [b899b6042f97f5](https://sqlite.org/src/info/b899b6042f97f5)
  id: totrans-919
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复可能发生的 segfault，该问题可能出现在使用 IN 或 EXISTS 子查询中的表值函数中。 Ticket [b899b6042f97f5](https://sqlite.org/src/info/b899b6042f97f5)
- en: Fix a potential integer overflow problem when compiling a particular horrendous
    common table expression. This was another problem discovered by OSSFuzz. Check-in
    [6ee8cb6ae5](https://sqlite.org/src/info/6ee8cb6ae5).
  id: totrans-920
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在编译特定恶劣的公共表达式时可能出现的整数溢出问题。 这是由 OSSFuzz 发现的另一个问题。 Check-in [6ee8cb6ae5](https://sqlite.org/src/info/6ee8cb6ae5)。
- en: Fix a potential out-of-bound read when querying a corrupt database file, a problem
    detected by Natalie Silvanovich of Google Project Zero. Check-in [04925dee41a21f](https://sqlite.org/src/info/04925dee41a21f).
  id: totrans-921
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在查询损坏的数据库文件时可能发生的潜在越界读取问题，这是由 Google Project Zero 的 Natalie Silvanovich 检测到的问题。
    Check-in [04925dee41a21f](https://sqlite.org/src/info/04925dee41a21f)。
- en: '**Hashes:**'
  id: totrans-922
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2017-10-24 18:55:49 1a584e499906b5c87ec7d43d4abce641fdf017c42125b083109bc77c4de48827"'
  id: totrans-923
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-10-24 18:55:49 1a584e499906b5c87ec7d43d4abce641fdf017c42125b083109bc77c4de48827"'
- en: 'SHA3-256 for sqlite3.c: 84c181c0283d0320f488357fc8aab51898370c157601459ebee49d779036fe03'
  id: totrans-924
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 84c181c0283d0320f488357fc8aab51898370c157601459ebee49d779036fe03'
- en: 2017-08-24 (3.20.1)
  id: totrans-925
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-08-24 (3.20.1)
- en: Fix a potential memory leak in the new [sqlite3_result_pointer()](c3ref/result_blob.html)
    interface. Ticket [7486aa54b968e9b5](https://sqlite.org/src/info/7486aa54b968e9b5).
  id: totrans-926
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的 [sqlite3_result_pointer()](c3ref/result_blob.html) 接口可能出现的内存泄漏问题。 Ticket
    [7486aa54b968e9b5](https://sqlite.org/src/info/7486aa54b968e9b5)。
- en: '**Hashes:**'
  id: totrans-927
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2017-08-24 16:21:36 8d3a7ea6c5690d6b7c3767558f4f01b511c55463e3f9e64506801fe9b74dce34"'
  id: totrans-928
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-08-24 16:21:36 8d3a7ea6c5690d6b7c3767558f4f01b511c55463e3f9e64506801fe9b74dce34"'
- en: 'SHA3-256 for sqlite3.c: 93b1a6d69b48dc39697d1d3a1e4c30b55da0bdd2cad0c054462f91081832954a'
  id: totrans-929
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 93b1a6d69b48dc39697d1d3a1e4c30b55da0bdd2cad0c054462f91081832954a'
- en: 2017-08-01 (3.20.0)
  id: totrans-930
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-08-01 (3.20.0)
- en: Update the text of error messages returned by [sqlite3_errmsg()](c3ref/errcode.html)
    for some error codes.
  id: totrans-931
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了由 [sqlite3_errmsg()](c3ref/errcode.html) 返回的某些错误代码的错误消息文本。
- en: Add new [pointer passing interfaces](bindptr.html).
  id: totrans-932
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加新的 [指针传递接口](bindptr.html)。
- en: 'Backwards-incompatible changes to some extensions in order to take advantage
    of the improved security offered by the new [pointer passing interfaces](bindptr.html):'
  id: totrans-933
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 部分扩展插件进行了不兼容的更改，以利用新的 [指针传递接口](bindptr.html) 所提供的改进安全性。
- en: '[Extending FTS5](fts5.html#extending_fts5) → requires [sqlite3_bind_pointer()](c3ref/bind_blob.html)
    to find the fts5_api pointer.'
  id: totrans-934
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[扩展 FTS5](fts5.html#extending_fts5) → 需要使用 [sqlite3_bind_pointer()](c3ref/bind_blob.html)
    来查找 fts5_api 指针。'
- en: '[carray(PTR,N)](carray.html) → requires [sqlite3_bind_pointer()](c3ref/bind_blob.html)
    to set the PTR parameter.'
  id: totrans-935
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[carray(PTR,N)](carray.html) → 需要使用 [sqlite3_bind_pointer()](c3ref/bind_blob.html)
    来设置 PTR 参数。'
- en: '[remember(V,PTR)](https://www.sqlite.org/src/file/ext/misc/remember.c) → requires
    [sqlite3_bind_pointer()](c3ref/bind_blob.html) to set the PTR parameter.'
  id: totrans-936
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[remember(V,PTR)](https://www.sqlite.org/src/file/ext/misc/remember.c) → 需要使用
    [sqlite3_bind_pointer()](c3ref/bind_blob.html) 来设置 PTR 参数。'
- en: Added the [SQLITE_STMT virtual table](stmt.html) extension.
  id: totrans-937
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_STMT虚拟表](stmt.html)扩展。
- en: Added the [COMPLETION extension](completion.html) - designed to suggest tab-completions
    for interactive user interfaces. This is a work in progress. Expect further enhancements
    in future releases.
  id: totrans-938
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[COMPLETION扩展](completion.html) - 旨在为交互式用户界面提供选项补全建议。这是一个正在进行中的工作。预计在未来版本中会有进一步的增强。
- en: Added the [UNION virtual table](unionvtab.html) extension.
  id: totrans-939
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[UNION虚拟表](unionvtab.html)扩展。
- en: The built-in [date and time functions](lang_datefunc.html) have been enhanced
    so that they can be used in [CHECK constraints](lang_createtable.html#ckconst),
    in [indexes on expressions](expridx.html), and in the WHERE clauses of [partial
    indexes](partialindex.html), provided that they do not use the 'now', 'localtime',
    or 'utc' keywords. [More information](deterministic.html#dtexception).
  id: totrans-940
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内置的[日期和时间函数](lang_datefunc.html)已经增强，以便在[CHECK约束](lang_createtable.html#ckconst)，在[表达式索引](expridx.html)以及[部分索引](partialindex.html)的WHERE子句中使用，前提是它们不使用'now'、'localtime'或'utc'关键字。[更多信息](deterministic.html#dtexception)。
- en: Added the [sqlite3_prepare_v3()](c3ref/prepare.html) and [sqlite3_prepare16_v3()](c3ref/prepare.html)
    interfaces with the extra "prepFlags" parameters.
  id: totrans-941
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了带有额外的"prepFlags"参数的[sqlite3_prepare_v3()](c3ref/prepare.html)和[sqlite3_prepare16_v3()](c3ref/prepare.html)接口。
- en: Provide the [SQLITE_PREPARE_PERSISTENT](c3ref/c_prepare_normalize.html#sqlitepreparepersistent)
    flag for [sqlite3_prepare_v3()](c3ref/prepare.html) and use it to limit [lookaside
    memory](malloc.html#lookaside) misuse by [FTS3](fts3.html), [FTS5](fts5.html),
    and the [R-Tree extension](rtree.html).
  id: totrans-942
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[sqlite3_prepare_v3()](c3ref/prepare.html)提供了[SQLITE_PREPARE_PERSISTENT](c3ref/c_prepare_normalize.html#sqlitepreparepersistent)标志，并使用它来限制[FTS3](fts3.html)、[FTS5](fts5.html)和[R-Tree扩展](rtree.html)对[lookaside内存](malloc.html#lookaside)的滥用。
- en: Added the [PRAGMA secure_delete=FAST](pragma.html#pragma_secure_delete) command.
    When secure_delete is set to FAST, old content is overwritten with zeros as long
    as that does not increase the amount of I/O. Deleted content might still persist
    on the [free-page list](fileformat2.html#freelist) but will be purged from all
    b-tree pages.
  id: totrans-943
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA secure_delete=FAST](pragma.html#pragma_secure_delete)命令。当secure_delete设置为FAST时，旧内容将被覆盖为零，只要这不会增加I/O的量。删除的内容可能仍然存在于[空闲页列表](fileformat2.html#freelist)，但将从所有b-tree页中清除。
- en: 'Enhancements to the [command-line shell](cli.html):'
  id: totrans-944
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[命令行 shell](cli.html)进行了增强：
- en: Add support for tab-completion using the [COMPLETION extension](completion.html),
    for both readline and linenoise.
  id: totrans-945
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用[COMPLETION扩展](completion.html)为readline和linenoise添加了选项补全支持。
- en: Add the ".cd" command.
  id: totrans-946
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了".cd"命令。
- en: Enhance the "[.schema](cli.html#dschema)" command to show the schema of all
    attached databases.
  id: totrans-947
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了"[.schema](cli.html#dschema)"命令，以显示所有附加数据库的模式。
- en: Enhance "[.tables](cli.html#dtables)" so that it shows the schema names for
    all attached if the name is anything other than "main".
  id: totrans-948
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了"[.tables](cli.html#dtables)"，以便在所有附加数据库的模式名称为"main"以外时显示模式名称。
- en: The "[.import](cli.html#csv)" command ignores an initial UTF-8 BOM.
  id: totrans-949
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"[.import](cli.html#csv)"命令会忽略初始的UTF-8 BOM。'
- en: Added the "--newlines" option to the "[.dump](cli.html#dump)" command to cause
    U+000a and U+000d characters to be output literally rather than escaped using
    the [replace()](lang_corefunc.html#replace) function.
  id: totrans-950
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给"[.dump](cli.html#dump)"命令添加了"--newlines"选项，以便输出U+000a和U+000d字符时，直接输出而不是使用[replace()](lang_corefunc.html#replace)函数转义。
- en: 'Query planner enhancements:'
  id: totrans-951
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器增强：
- en: When generating individual loops for each ORed term of an OR scan, move any
    constant WHERE expressions outside of the loop, as is done for top-level loops.
  id: totrans-952
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在为OR扫描的每个ORed项生成单独循环时，将任何常量WHERE表达式移出循环，就像顶级循环一样。
- en: The query planner examines the values of bound parameters to help determine
    if a partial index is usable.
  id: totrans-953
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器检查绑定参数的值，以帮助确定是否可以使用部分索引。
- en: When deciding between two plans with the same estimated cost, bias the selection
    toward the one that does not use the sorter.
  id: totrans-954
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在选择具有相同估计成本的两个计划时，偏向于不使用排序器的计划。
- en: Evaluate WHERE clause constraints involving correlated subqueries last, in the
    hope that they never have be evaluated at all.
  id: totrans-955
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后评估涉及相关子查询的WHERE子句约束，希望根本不需要评估它们。
- en: Do not use the [flattening optimization](optoverview.html#flattening) for a
    sub-query on the RHS of a LEFT JOIN if that subquery reads data from a [virtual
    table](vtab.html) as doing so prevents the query planner from creating [automatic
    indexes](optoverview.html#autoindex) on the results of the sub-query, which can
    slow down the query.
  id: totrans-956
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果子查询在LEFT JOIN的右侧读取[virtual table](vtab.html)的数据，则不要对其进行[flattening optimization](optoverview.html#flattening)，因为这样会阻止查询规划器在子查询结果上创建[automatic
    indexes](optoverview.html#autoindex)，从而可能降低查询速度。
- en: Add [SQLITE_STMTSTATUS_REPREPARE](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusreprepare),
    [SQLITE_STMTSTATUS_RUN](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusrun),
    and [SQLITE_STMTSTATUS_MEMUSED](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusmemused)
    options for the [sqlite3_stmt_status()](c3ref/stmt_status.html) interface.
  id: totrans-957
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[sqlite3_stmt_status()](c3ref/stmt_status.html)接口添加[SQLITE_STMTSTATUS_REPREPARE](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusreprepare)，[SQLITE_STMTSTATUS_RUN](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusrun)和[SQLITE_STMTSTATUS_MEMUSED](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusmemused)选项。
- en: Provide [PRAGMA functions](pragma.html#pragfunc) for [PRAGMA integrity_check](pragma.html#pragma_integrity_check),
    [PRAGMA quick_check](pragma.html#pragma_quick_check), and [PRAGMA foreign_key_check](pragma.html#pragma_foreign_key_check).
  id: totrans-958
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[PRAGMA integrity_check](pragma.html#pragma_integrity_check)，[PRAGMA quick_check](pragma.html#pragma_quick_check)和[PRAGMA
    foreign_key_check](pragma.html#pragma_foreign_key_check)提供[PRAGMA functions](pragma.html#pragfunc)。
- en: Add the -withoutnulls option to the [TCL interface eval method](tclsqlite.html#eval).
  id: totrans-959
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[TCL interface eval method](tclsqlite.html#eval)添加了-withoutnulls选项。
- en: Enhance the [sqlite3_analyzer.exe](sqlanalyze.html) utility program so that
    it shows the number of bytes of metadata on btree pages.
  id: totrans-960
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[sqlite3_analyzer.exe](sqlanalyze.html)实用程序程序，使其显示btree页面上元数据的字节数。
- en: The [SQLITE_DBCONFIG_ENABLE_QPSG](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableqpsg)
    run-time option and the [SQLITE_ENABLE_QPSG](compile.html#enable_qpsg) compile-time
    option enable the [query planner stability guarantee](queryplanner-ng.html#qpstab).
    See also ticket [892fc34f173e99d8](https://www.sqlite.org/src/info/892fc34f173e99d8)
  id: totrans-961
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLITE_DBCONFIG_ENABLE_QPSG](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableqpsg)运行时选项和[SQLITE_ENABLE_QPSG](compile.html#enable_qpsg)编译时选项启用了[查询规划器稳定性保证](queryplanner-ng.html#qpstab)。另见票号[892fc34f173e99d8](https://www.sqlite.org/src/info/892fc34f173e99d8)。'
- en: Miscellaneous optimizations result in a 2% reduction in [CPU cycles used](cpu.html).
  id: totrans-962
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项优化导致[CPU使用周期](cpu.html)减少了2%。
- en: '**Bug Fixes:**'
  id: totrans-963
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug Fixes:**'
- en: Fix the behavior of [sqlite3_column_name()](c3ref/column_name.html) for queries
    that use the [flattening optimization](optoverview.html#flattening) so that the
    result is consistent with other queries that do not use that optimization, and
    with PostgreSQL, MySQL, and SQLServer. Ticket [de3403bf5ae](https://sqlite.org/src/info/de3403bf5ae).
  id: totrans-964
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了对使用[优化平铺](optoverview.html#flattening)的查询的[sqlite3_column_name()](c3ref/column_name.html)行为，以使结果与不使用该优化的其他查询以及PostgreSQL、MySQL和SQLServer的结果一致。票号[de3403bf5ae](https://sqlite.org/src/info/de3403bf5ae)。
- en: Fix the query planner so that it knows not to use [automatic indexes](optoverview.html#autoindex)
    on the right table of LEFT JOIN if the WHERE clause uses the [IS operator](lang_expr.html#isisnot).
    Fix for [ce68383bf6aba](https://sqlite.org/src/info/ce68383bf6aba).
  id: totrans-965
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器的错误，使其在WHERE子句使用[IS运算符](lang_expr.html#isisnot)时知道不要在LEFT JOIN的右表上使用[自动索引](optoverview.html#autoindex)。修复票号[ce68383bf6aba](https://sqlite.org/src/info/ce68383bf6aba)。
- en: Ensure that the query planner knows that any column of a [flattened](optoverview.html#flattening)
    LEFT JOIN can be NULL even if that column is labeled with "NOT NULL". Fix for
    ticket [892fc34f173e99d8](https://sqlite.org/src/info/892fc34f173e99d8).
  id: totrans-966
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保查询规划器知道[扁平化](optoverview.html#flattening)LEFT JOIN的任何列都可以为NULL，即使该列标记为“NOT
    NULL”。修复票号[892fc34f173e99d8](https://sqlite.org/src/info/892fc34f173e99d8)。
- en: Fix rare false-positives in [PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    when run on a database connection with [attached databases](lang_attach.html).
    Ticket [a4e06e75a9ab61a12](https://sqlite.org/src/info/a4e06e75a9ab61a12)
  id: totrans-967
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在使用[附加数据库](lang_attach.html)的数据库连接上运行[PRAGMA integrity_check](pragma.html#pragma_integrity_check)时的罕见假阳性。票号[a4e06e75a9ab61a12](https://sqlite.org/src/info/a4e06e75a9ab61a12)。
- en: Fix a bug (discovered by OSSFuzz) that causes an assertion fault if certain
    dodgy CREATE TABLE declarations are used. Ticket [bc115541132dad136](https://sqlite.org/src/info/bc115541132dad136)
  id: totrans-968
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个由OSSFuzz发现的错误，如果使用某些有问题的CREATE TABLE声明，会导致断言错误。票号[bc115541132dad136](https://sqlite.org/src/info/bc115541132dad136)。
- en: '**Hashes:**'
  id: totrans-969
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2017-08-01 13:24:15 9501e22dfeebdcefa783575e47c60b514d7c2e0cad73b2a496c0bc4b680900a8"'
  id: totrans-970
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-08-01 13:24:15 9501e22dfeebdcefa783575e47c60b514d7c2e0cad73b2a496c0bc4b680900a8"'
- en: 'SHA3-256 for sqlite3.c: 79b7f3b977360456350219cba0ba0e5eb55910565eab68ea83edda2f968ebe95'
  id: totrans-971
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：79b7f3b977360456350219cba0ba0e5eb55910565eab68ea83edda2f968ebe95
- en: 2017-06-17 (3.18.2)
  id: totrans-972
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-06-17 (3.18.2)
- en: Fix a bug that might cause duplicate output rows when an IN operator is used
    in the WHERE clause. Ticket [61fe9745](https://sqlite.org/src/info/61fe9745).
  id: totrans-973
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在WHERE子句中使用IN操作符可能导致重复输出行的错误。Ticket [61fe9745](https://sqlite.org/src/info/61fe9745)。
- en: '**Hashes:**'
  id: totrans-974
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2017-06-17 09:59:36 036ebf729e4b21035d7f4f8e35a6f705e6bf99887889e2dc14ebf2242e7930dd"'
  id: totrans-975
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-06-17 09:59:36 036ebf729e4b21035d7f4f8e35a6f705e6bf99887889e2dc14ebf2242e7930dd"'
- en: 'SHA3-256 for sqlite3.c: b0bd014f2776b9f9508a3fc6432f70e2436bf54475369f88f0aeef75b0eec93e'
  id: totrans-976
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: b0bd014f2776b9f9508a3fc6432f70e2436bf54475369f88f0aeef75b0eec93e'
- en: 2017-06-16 (3.18.1)
  id: totrans-977
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-06-16 (3.18.1)
- en: Fix a bug associated with [auto_vacuum](pragma.html#pragma_auto_vacuum) that
    can lead to database corruption. The bug was introduced in [version 3.16.0](#version_3_16_0)
    (2017-01-02). Ticket [fda22108](https://sqlite.org/src/info/fda22108).
  id: totrans-978
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复与[自动清理](pragma.html#pragma_auto_vacuum)相关的一个可能导致数据库损坏的错误。该错误在[版本 3.16.0](#version_3_16_0)
    (2017-01-02) 中引入。Ticket [fda22108](https://sqlite.org/src/info/fda22108)。
- en: '**Hashes:**'
  id: totrans-979
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2017-06-16 13:41:15 77bb46233db03a3338bacf7e56f439be3dfd1926ea0c44d252eeafa7a7b31c06"'
  id: totrans-980
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-06-16 13:41:15 77bb46233db03a3338bacf7e56f439be3dfd1926ea0c44d252eeafa7a7b31c06"'
- en: 'SHA3-256 for sqlite3.c: 334eaf776db9d09a4e69d6012c266bc837107edc2c981739ef82081cb11c5723'
  id: totrans-981
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 334eaf776db9d09a4e69d6012c266bc837107edc2c981739ef82081cb11c5723'
- en: 2017-06-08 (3.19.3)
  id: totrans-982
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-06-08 (3.19.3)
- en: Fix a bug associated with [auto_vacuum](pragma.html#pragma_auto_vacuum) that
    can lead to database corruption. The bug was introduced in [version 3.16.0](#version_3_16_0)
    (2017-01-02). Ticket [fda22108](https://sqlite.org/src/info/fda22108).
  id: totrans-983
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复与[自动清理](pragma.html#pragma_auto_vacuum)相关的一个可能导致数据库损坏的错误。该错误在[版本 3.16.0](#version_3_16_0)
    (2017-01-02) 中引入。Ticket [fda22108](https://sqlite.org/src/info/fda22108)。
- en: '**Hashes:**'
  id: totrans-984
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2017-06-08 14:26:16 0ee482a1e0eae22e08edc8978c9733a96603d4509645f348ebf55b579e89636b"'
  id: totrans-985
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-06-08 14:26:16 0ee482a1e0eae22e08edc8978c9733a96603d4509645f348ebf55b579e89636b"'
- en: 'SHA3-256 for sqlite3.c: 368f1d31272b1739f804bcfa5485e5de62678015c4adbe575003ded85c164bb8'
  id: totrans-986
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 368f1d31272b1739f804bcfa5485e5de62678015c4adbe575003ded85c164bb8'
- en: 2017-05-25 (3.19.2)
  id: totrans-987
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-05-25 (3.19.2)
- en: Fix more bugs in the LEFT JOIN [flattening optimization](optoverview.html#flattening).
    Ticket [7fde638e94287d2c](https://www.sqlite.org/src/info/7fde638e94287d2c).
  id: totrans-988
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复LEFT JOIN [扁平化优化](optoverview.html#flattening)中的更多错误。Ticket [7fde638e94287d2c](https://www.sqlite.org/src/info/7fde638e94287d2c)。
- en: '**Hashes:**'
  id: totrans-989
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2017-05-25 16:50:27 edb4e819b0c058c7d74d27ebd14cc5ceb2bad6a6144a486a970182b7afe3f8b9"'
  id: totrans-990
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-05-25 16:50:27 edb4e819b0c058c7d74d27ebd14cc5ceb2bad6a6144a486a970182b7afe3f8b9"'
- en: 'SHA3-256 for sqlite3.c: 1be0c457869c1f7eba58c3b5097b9ec307a15be338308bee8e5be8570bcf5d1e'
  id: totrans-991
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA3-256 for sqlite3.c: 1be0c457869c1f7eba58c3b5097b9ec307a15be338308bee8e5be8570bcf5d1e'
- en: 2017-05-24 (3.19.1)
  id: totrans-992
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-05-24 (3.19.1)
- en: Fix a bug in the LEFT JOIN [flattening optimization](optoverview.html#flattening).
    Ticket [cad1ab4cb7b0fc](https://www.sqlite.org/src/info/cad1ab4cb7b0fc).
  id: totrans-993
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复LEFT JOIN [扁平化优化](optoverview.html#flattening)中的一个错误。Ticket [cad1ab4cb7b0fc](https://www.sqlite.org/src/info/cad1ab4cb7b0fc)。
- en: Remove a surplus semicolon that was causing problems for older versions of MSVC.
  id: totrans-994
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除导致旧版MSVC出现问题的多余分号。
- en: '**Hashes:**'
  id: totrans-995
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2017-05-24 13:08:33 f6d7b988f40217821a382bc298180e9e6794f3ed79a83c6ef5cae048989b3f86"'
  id: totrans-996
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2017-05-24 13:08:33 f6d7b988f40217821a382bc298180e9e6794f3ed79a83c6ef5cae048989b3f86"
- en: 'SHA3-256 for sqlite3.c: 996b2aff37b6e0c6663d0312cd921bbdf6826c989cbbb07dadde5e9672889bca'
  id: totrans-997
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SHA3-256 for sqlite3.c：996b2aff37b6e0c6663d0312cd921bbdf6826c989cbbb07dadde5e9672889bca
- en: 2017-05-22 (3.19.0)
  id: totrans-998
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-05-22（3.19.0）
- en: The [SQLITE_READ](c3ref/c_alter_table.html) [authorizer callback](c3ref/set_authorizer.html)
    is invoked once with a column name that is an empty string for every table referenced
    in a query from which no columns are extracted.
  id: totrans-999
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLITE_READ](c3ref/c_alter_table.html) [授权回调](c3ref/set_authorizer.html) 对每个在查询中引用的表调用一次，其列名为空字符串，对于从中未提取列的表。'
- en: When using an index on an expression, try to use expression values already available
    in the index, rather than loading the original columns and recomputing the expression.
  id: totrans-1000
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当在表达式上使用索引时，尽量使用索引中已有的表达式值，而不是加载原始列并重新计算表达式。
- en: Enhance the [flattening optimization](optoverview.html#flattening) so that it
    is able to flatten views on the right-hand side of a LEFT JOIN.
  id: totrans-1001
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[扁平化优化](optoverview.html#flattening)，使其能够扁平化LEFT JOIN右侧的视图。
- en: Use [replace()](lang_corefunc.html#replace) instead of [char()](lang_corefunc.html#char)
    for escaping newline and carriage-return characters embedded in strings in the
    .dump output from the [command-line shell](cli.html).
  id: totrans-1002
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在.dump输出的字符串中，使用[replace()](lang_corefunc.html#replace)代替[char()](lang_corefunc.html#char)来转义换行和回车字符。
- en: Avoid unnecessary foreign key processing in UPDATE statements that do not touch
    the columns that are constrained by the foreign keys.
  id: totrans-1003
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在不涉及受外键约束的列的UPDATE语句中进行不必要的外键处理。
- en: On a DISTINCT query that uses an index, try to skip ahead to the next distinct
    entry using the index rather than stepping through rows, when an appropriate index
    is available.
  id: totrans-1004
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用索引的DISTINCT查询中，如果有合适的索引可用，则尝试跳过到下一个不同的条目，而不是逐行遍历。
- en: Avoid unnecessary invalidation of [sqlite3_blob](c3ref/blob.html) handles when
    making changes to unrelated tables.
  id: totrans-1005
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在对无关表进行更改时无谓地使[sqlite3_blob](c3ref/blob.html)句柄失效。
- en: Transfer any terms of the HAVING clause that use only columns mentioned in the
    GROUP BY clause over to the WHERE clause for faster processing.
  id: totrans-1006
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将HAVING子句中仅使用GROUP BY子句中提到的列的任何条件移到WHERE子句中，以加快处理速度。
- en: Reuse the same materialization of a VIEW if that VIEW appears more than once
    in the same query.
  id: totrans-1007
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果相同的VIEW在同一查询中出现多次，则重复使用该VIEW的同一材料化。
- en: Enhance [PRAGMA integrity_check](pragma.html#pragma_integrity_check) so that
    it identifies tables that have two or more rows with the same [rowid](lang_createtable.html#rowid).
  id: totrans-1008
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[PRAGMA integrity_check](pragma.html#pragma_integrity_check) 以识别具有两个或更多相同[rowid](lang_createtable.html#rowid)的表。
- en: Enhance the [FTS5](fts5.html) query syntax so that [column filters](fts5.html#fts5_column_filters)
    may be applied to arbitrary expressions.
  id: totrans-1009
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[FTS5](fts5.html)查询语法，使得可以对任意表达式应用[列过滤器](fts5.html#fts5_column_filters)。
- en: Enhance the [json_extract()](json1.html#jex) function to cache and reuse parses
    of JSON input text.
  id: totrans-1010
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[json_extract()](json1.html#jex)函数以缓存和重用JSON输入文本的解析。
- en: Added the [anycollseq.c](https://sqlite.org/src/file/ext/misc/anycollseq.c)
    [loadable extension](loadext.html) that allows a generic SQLite database connection
    to read a schema that contains unknown and/or application-specific [collating
    sequences](datatype3.html#collation).
  id: totrans-1011
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[anycollseq.c](https://sqlite.org/src/file/ext/misc/anycollseq.c) [可加载扩展](loadext.html)，允许通用SQLite数据库连接读取包含未知和/或应用特定[排序序列](datatype3.html#collation)的模式。
- en: '**Bug Fixes:**'
  id: totrans-1012
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: Fix a problem in [REPLACE](lang_replace.html) that can result in a corrupt database
    containing two or more rows with the same [rowid](lang_createtable.html#rowid).
    Fix for ticket [f68dc596c4e6018d](https://www.sqlite.org/src/info/f68dc596c4e6018d).
  id: totrans-1013
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[REPLACE](lang_replace.html)中可能导致数据库损坏，包含两个或更多具有相同[rowid](lang_createtable.html#rowid)的行的问题。修复了票号[f68dc596c4e6018d](https://www.sqlite.org/src/info/f68dc596c4e6018d)。
- en: Fix a problem in [PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    that was causing a subsequent [VACUUM](lang_vacuum.html) to behave suboptimally.
  id: totrans-1014
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[PRAGMA integrity_check](pragma.html#pragma_integrity_check)中的问题，导致后续的[VACUUM](lang_vacuum.html)行为不佳。
- en: Fix the [PRAGMA foreign_key_check](pragma.html#pragma_foreign_key_check) command
    so that it works correctly with foreign keys on [WITHOUT ROWID](withoutrowid.html)
    tables.
  id: totrans-1015
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[PRAGMA foreign_key_check](pragma.html#pragma_foreign_key_check)命令，以便在[WITHOUT
    ROWID](withoutrowid.html)表上正确工作。
- en: Fix a bug in the b-tree logic that can result in incorrect duplicate answers
    for IN operator queries. Ticket [61fe9745](https://sqlite.org/src/info/61fe9745)
  id: totrans-1016
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了B-tree逻辑中的错误，可能导致IN操作符查询的不正确重复答案。票号[61fe9745](https://sqlite.org/src/info/61fe9745)
- en: Disallow leading zeros in numeric constants in JSON. Fix for ticket [b93be8729a895a528e2](https://www.sqlite.org/src/info/b93be8729a895a528e2).
  id: totrans-1017
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不允许JSON数值常量中的前导零。修复了票号[b93be8729a895a528e2](https://www.sqlite.org/src/info/b93be8729a895a528e2)。
- en: Disallow control characters inside of strings in JSON. Fix for ticket [6c9b5514077fed34551](https://www.sqlite.org/src/info/6c9b5514077fed34551).
  id: totrans-1018
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不允许JSON字符串中存在控制字符。修复了票号[6c9b5514077fed34551](https://www.sqlite.org/src/info/6c9b5514077fed34551)。
- en: Limit the depth of recursion for JSON objects and arrays in order to avoid excess
    stack usage in the recursive descent parser. Fix for ticket [981329adeef51011052](https://www.sqlite.org/src/info/981329adeef51011052).
  id: totrans-1019
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了避免递归下降解析器中的过度堆栈使用，限制了JSON对象和数组的递归深度。修复了票号[981329adeef51011052](https://www.sqlite.org/src/info/981329adeef51011052)。
- en: '**Hashes:**'
  id: totrans-1020
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2017-05-22 13:58:13 28a94eb282822cad1d1420f2dad6bf65e4b8b9062eda4a0b9ee8270b2c608e40"'
  id: totrans-1021
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-05-22 13:58:13 28a94eb282822cad1d1420f2dad6bf65e4b8b9062eda4a0b9ee8270b2c608e40"'
- en: 'SHA3-256 for sqlite3.c: c30326aa1a9cc342061b755725eac9270109acf878bc59200dd4b1cea6bc2908'
  id: totrans-1022
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA3-256：c30326aa1a9cc342061b755725eac9270109acf878bc59200dd4b1cea6bc2908
- en: 2017-03-30 (3.18.0)
  id: totrans-1023
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-03-30 (3.18.0)
- en: Added the [PRAGMA optimize](pragma.html#pragma_optimize) command
  id: totrans-1024
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA optimize](pragma.html#pragma_optimize)命令
- en: The SQLite version identifier returned by the [sqlite_source_id()](lang_corefunc.html#sqlite_source_id)
    SQL function and the [sqlite3_sourceid()](c3ref/libversion.html) C API and found
    in the [SQLITE_SOURCE_ID](c3ref/c_source_id.html) macro is now a 64-digit SHA3-256
    hash instead of a 40-digit SHA1 hash.
  id: totrans-1025
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由[sqlite_source_id()](lang_corefunc.html#sqlite_source_id) SQL函数返回的SQLite版本标识符，以及[sqlite3_sourceid()](c3ref/libversion.html)
    C API中的标识符，并在[SQLITE_SOURCE_ID](c3ref/c_source_id.html)宏中找到的标识符，现在是64位SHA3-256哈希，而不是40位SHA1哈希。
- en: Added the [json_patch()](json1.html#jpatch) SQL function to the [JSON1 extension](json1.html).
  id: totrans-1026
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[json_patch()](json1.html#jpatch) SQL函数到[JSON1扩展](json1.html)。
- en: Enhance the [LIKE optimization](optoverview.html#like_opt) so that it works
    for arbitrary expressions on the left-hand side as long as the LIKE pattern on
    the right-hand side does not begin with a digit or minus sign.
  id: totrans-1027
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[LIKE optimization](optoverview.html#like_opt)，使其适用于左侧任意表达式，只要右侧的LIKE模式不以数字或减号开头。
- en: Added the [sqlite3_set_last_insert_rowid()](c3ref/set_last_insert_rowid.html)
    interface and use the new interface in the [FTS3](fts3.html), [FTS4](fts3.html#fts4),
    and [FTS5](fts5.html) extensions to ensure that the [sqlite3_last_insert_rowid()](c3ref/last_insert_rowid.html)
    interface always returns reasonable values.
  id: totrans-1028
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_set_last_insert_rowid()](c3ref/set_last_insert_rowid.html)接口，并在[FTS3](fts3.html)、[FTS4](fts3.html#fts4)和[FTS5](fts5.html)扩展中使用新接口，以确保[sqlite3_last_insert_rowid()](c3ref/last_insert_rowid.html)接口始终返回合理的值。
- en: Enhance [PRAGMA integrity_check](pragma.html#pragma_integrity_check) and [PRAGMA
    quick_check](pragma.html#pragma_quick_check) so that they verify [CHECK constraints](lang_createtable.html#ckconst).
  id: totrans-1029
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[PRAGMA integrity_check](pragma.html#pragma_integrity_check)和[PRAGMA quick_check](pragma.html#pragma_quick_check)，以便验证[CHECK
    constraints](lang_createtable.html#ckconst)。
- en: Enhance the query plans for joins to detect empty tables early and halt without
    doing unnecessary work.
  id: totrans-1030
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强连接查询计划，早期检测空表并在不必要的情况下停止执行。
- en: 'Enhance the [sqlite3_mprintf()](c3ref/mprintf.html) family of interfaces and
    the [printf SQL function](lang_corefunc.html#printf) to put comma separators at
    the thousands marks for integers, if the "," format modifier is used in between
    the "%" and the "d" (example: "%,d").'
  id: totrans-1031
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[sqlite3_mprintf()](c3ref/mprintf.html)系列接口和[printf SQL function](lang_corefunc.html#printf)，在整数中使用","格式修饰符，千位数标记处添加逗号分隔符（例如："%,d"）。
- en: Added the -D[SQLITE_MAX_MEMORY](compile.html#max_memory)=*N* compile-time option.
  id: totrans-1032
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了-D[SQLITE_MAX_MEMORY](compile.html#max_memory)=*N*编译时选项。
- en: Added the [.sha3sum dot-command](cli.html#sha3sum) and the [.selftest dot-command](cli.html#selftest)
    to the [command-line shell](cli.html)
  id: totrans-1033
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[.sha3sum dot-command](cli.html#sha3sum)和[.selftest dot-command](cli.html#selftest)到[命令行
    shell](cli.html)。
- en: Begin enforcing [SQLITE_LIMIT_VDBE_OP](c3ref/c_limit_attached.html#sqlitelimitvdbeop).
    This can be used, for example, to prevent excessively large prepared statements
    in systems that accept SQL queries from untrusted users.
  id: totrans-1034
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始强制执行[SQLITE_LIMIT_VDBE_OP](c3ref/c_limit_attached.html#sqlitelimitvdbeop)。例如，在接受来自不受信任用户的SQL查询的系统中，可以使用此选项防止过大的预编译语句。
- en: Various performance improvements.
  id: totrans-1035
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种性能改进。
- en: '**Bug Fixes:**'
  id: totrans-1036
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug修复：**'
- en: Ensure that indexed expressions with collating sequences are handled correctly.
    Fix for ticket [eb703ba7b50c1a5](https://www.sqlite.org/src/info/eb703ba7b50c1a5).
  id: totrans-1037
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保处理带有排序序列的索引表达式时的正确性。修复了Ticket [eb703ba7b50c1a5](https://www.sqlite.org/src/info/eb703ba7b50c1a5)。
- en: Fix a bug in the 'start of ...' modifiers for the [date and time functions](lang_datefunc.html).
    Ticket [6097cb92745327a1](https://www.sqlite.org/src/info/6097cb92745327a1)
  id: totrans-1038
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[日期和时间函数](lang_datefunc.html)中'start of ...'修饰符的错误。Ticket [6097cb92745327a1](https://www.sqlite.org/src/info/6097cb92745327a1)
- en: Fix a potential segfault in complex recursive triggers, resulting from a bug
    in the OP_Once opcode introduced as part of a performance optimization in version
    3.15.0. Ticket [06796225f59c057c](https://www.sqlite.org/src/info/06796225f59c057c)
  id: totrans-1039
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了复杂递归触发器中潜在的段错误，这是由于版本3.15.0中作为性能优化的一部分引入的OP_Once操作码中的错误导致的。Ticket [06796225f59c057c](https://www.sqlite.org/src/info/06796225f59c057c)
- en: In the [RBU extension](rbu.html), add extra sync operations to avoid the possibility
    of corruption following a power failure.
  id: totrans-1040
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[RBU扩展](rbu.html)中，添加额外的同步操作，以避免断电后可能导致的数据损坏。
- en: The [sqlite3_trace_v2()](c3ref/trace_v2.html) output for nested SQL statements
    should always begin with a "--" comment marker.
  id: totrans-1041
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 嵌套SQL语句的[sqlite3_trace_v2()](c3ref/trace_v2.html)输出应始终以“--”注释标记开头。
- en: '**Hashes:**'
  id: totrans-1042
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2017-03-28 18:48:43 424a0d380332858ee55bdebc4af3789f74e70a2b3ba1cf29d84b9b4bcf3e2e37"'
  id: totrans-1043
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-03-28 18:48:43 424a0d380332858ee55bdebc4af3789f74e70a2b3ba1cf29d84b9b4bcf3e2e37"'
- en: 'SHA3-256 for sqlite3.c: cbf322df1f76be57fb3be84f3da1fc71d1d3dfdb7e7c2757fb0ff630b3bc2e5d'
  id: totrans-1044
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于sqlite3.c的SHA3-256：cbf322df1f76be57fb3be84f3da1fc71d1d3dfdb7e7c2757fb0ff630b3bc2e5d
- en: 2017-02-13 (3.17.0)
  id: totrans-1045
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-02-13 (3.17.0)
- en: Approximately 25% better performance from the [R-Tree extension](rtree.html).
  id: totrans-1046
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[R-Tree扩展](rtree.html)性能提升约25%。'
- en: 'Uses compiler built-ins (ex: __builtin_bswap32() or _byteswap_ulong()) for
    byteswapping when available.'
  id: totrans-1047
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在可用时使用编译器内置函数（例如__builtin_bswap32()或_byteswap_ulong()）进行字节交换。
- en: Uses the [sqlite3_blob](c3ref/blob.html) key/value access object instead of
    SQL for pulling content out of R-Tree nodes
  id: totrans-1048
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用[sqlite3_blob](c3ref/blob.html)键/值访问对象，而不是SQL来从R-Tree节点中提取内容。
- en: Other miscellaneous enhancements such as loop unrolling.
  id: totrans-1049
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他杂项增强，如循环展开。
- en: Add the [SQLITE_DEFAULT_LOOKASIDE](compile.html#default_lookaside) compile-time
    option.
  id: totrans-1050
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加[SQLITE_DEFAULT_LOOKASIDE](compile.html#default_lookaside)编译时选项。
- en: Increase the default [lookaside](malloc.html#lookaside) size from 512,125 to
    1200,100 as this provides better performance while only adding 56KB of extra memory
    per connection. Memory-sensitive applications can restore the old default at compile-time,
    start-time, or run-time.
  id: totrans-1051
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将默认的[lookaside](malloc.html#lookaside)大小从512,125增加到1200,100，这样可以在每个连接中增加56KB的额外内存，同时提供更好的性能。对内存敏感的应用程序可以在编译时、启动时或运行时恢复旧的默认值。
- en: Use compiler built-ins __builtin_sub_overflow(), __builtin_add_overflow(), and
    __builtin_mul_overflow() when available. (All compiler built-ins can be omitted
    with the [SQLITE_DISABLE_INTRINSIC](compile.html#disable_intrinsic) compile-time
    option.)
  id: totrans-1052
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当可用时，使用编译器内建的__builtin_sub_overflow()、__builtin_add_overflow()和__builtin_mul_overflow()。
    （可以通过[SQLITE_DISABLE_INTRINSIC](compile.html#disable_intrinsic)编译时选项省略所有编译器内建功能。）
- en: Added the [SQLITE_ENABLE_NULL_TRIM](compile.html#enable_null_trim) compile-time
    option, which can result in significantly smaller database files for some applications,
    at the risk of being incompatible with older versions of SQLite.
  id: totrans-1053
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_ENABLE_NULL_TRIM](compile.html#enable_null_trim)编译时选项，这可以使某些应用程序的数据库文件显著减小，但可能与SQLite的旧版本不兼容。
- en: Change [SQLITE_DEFAULT_PCACHE_INITSZ](compile.html#default_pcache_initsz) from
    100 to 20, for improved performance.
  id: totrans-1054
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[SQLITE_DEFAULT_PCACHE_INITSZ](compile.html#default_pcache_initsz)从100改为20，以提升性能。
- en: Added the SQLITE_UINT64_TYPE compile-time option as an analog to SQLITE_INT64_TYPE.
  id: totrans-1055
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了SQLITE_UINT64_TYPE编译时选项，作为SQLITE_INT64_TYPE的类比。
- en: Perform some [UPDATE](lang_update.html) operations in a single pass instead
    of in two passes.
  id: totrans-1056
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一些[UPDATE](lang_update.html)操作改为单遍执行，而不是两遍执行。
- en: Enhance the [session extension](sessionintro.html) to support [WITHOUT ROWID](withoutrowid.html)
    tables.
  id: totrans-1057
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[会话扩展](sessionintro.html)以支持[WITHOUT ROWID](withoutrowid.html)表。
- en: Fixed performance problems and potential stack overflows when creating [views](lang_createview.html)
    from multi-row VALUES clauses with hundreds of thousands of rows.
  id: totrans-1058
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了从具有数十万行的多行VALUES子句创建[视图](lang_createview.html)时的性能问题和潜在的堆栈溢出。
- en: Added the [sha1.c](https://www.sqlite.org/src/file/ext/misc/sha1.c) extension.
  id: totrans-1059
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sha1.c](https://www.sqlite.org/src/file/ext/misc/sha1.c)扩展。
- en: In the [command-line shell](cli.html), enhance the ".mode" command so that it
    restores the default column and row separators for modes "line", "list", "column",
    and "tcl".
  id: totrans-1060
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[命令行 Shell](cli.html)中增强".mode"命令，使其对于"line"、"list"、"column"和"tcl"模式恢复默认的列和行分隔符。
- en: Enhance the [SQLITE_DIRECT_OVERFLOW_READ](compile.html#direct_overflow_read)
    option so that it works in [WAL mode](wal.html) as long as the pages being read
    are not in the WAL file.
  id: totrans-1061
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[SQLITE_DIRECT_OVERFLOW_READ](compile.html#direct_overflow_read)选项，使其在[WAL模式](wal.html)下工作，只要被读取的页面不在WAL文件中。
- en: Enhance the [Lemon parser generator](lemon.html) so that it can store the parser
    object as a stack variable rather than allocating space from the heap and make
    use of that enhancement in the [amalgamation](amalgamation.html).
  id: totrans-1062
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[Lemon解析器生成器](lemon.html)，使其能够将解析器对象存储为堆栈变量，而不是从堆中分配空间，并在[汇编](amalgamation.html)中利用该增强功能。
- en: Other performance improvements. Uses about [6.5% fewer CPU cycles](cpu.html).
  id: totrans-1063
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他性能改进。使用大约[减少了6.5%的CPU周期](cpu.html)。
- en: '**Bug Fixes:**'
  id: totrans-1064
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: Throw an error if the ON clause of a LEFT JOIN references tables to the right
    of the ON clause. This is the same behavior as PostgreSQL. Formerly, SQLite silently
    converted the LEFT JOIN into an INNER JOIN. Fix for ticket [25e335f802dd](https://www.sqlite.org/src/info/25e335f802dd).
  id: totrans-1065
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 LEFT JOIN 的 ON 子句引用了 ON 子句右侧的表，则抛出错误。这与 PostgreSQL 的行为相同。以前，SQLite 会悄悄地将
    LEFT JOIN 转换为 INNER JOIN。修复了票号 [25e335f802dd](https://www.sqlite.org/src/info/25e335f802dd)。
- en: Use the correct affinity for columns of automatic indexes. Ticket [7ffd1ca1d2ad4ec](https://www.sqlite.org/src/info/7ffd1ca1d2ad4ec).
  id: totrans-1066
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于自动索引的列，使用正确的关联性。票号 [7ffd1ca1d2ad4ec](https://www.sqlite.org/src/info/7ffd1ca1d2ad4ec)。
- en: Ensure that the [sqlite3_blob_reopen()](c3ref/blob_reopen.html) interface can
    correctly handle short rows. Fix for ticket [e6e962d6b0f06f46e](https://www.sqlite.org/src/info/e6e962d6b0f06f46e).
  id: totrans-1067
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保 [sqlite3_blob_reopen()](c3ref/blob_reopen.html) 接口能够正确处理短行。修复了票号 [e6e962d6b0f06f46e](https://www.sqlite.org/src/info/e6e962d6b0f06f46e)。
- en: '**Hashes:**'
  id: totrans-1068
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2017-02-13 16:02:40 ada05cfa86ad7f5645450ac7a2a21c9aa6e57d2c"'
  id: totrans-1069
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：“2017-02-13 16:02:40 ada05cfa86ad7f5645450ac7a2a21c9aa6e57d2c”
- en: 'SHA1 for sqlite3.c: cc7d708bb073c44102a59ed63ce6142da1f174d1'
  id: totrans-1070
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：cc7d708bb073c44102a59ed63ce6142da1f174d1
- en: 2017-01-06 (3.16.2)
  id: totrans-1071
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-01-06（3.16.2）
- en: Fix the [REPLACE](lang_replace.html) statement for [WITHOUT ROWID](withoutrowid.html)
    tables that lack secondary indexes so that it works correctly with triggers and
    foreign keys. This was a new bug caused by performance optimizations added in
    version 3.16.0. Ticket [30027b613b4](https://www.sqlite.org/src/info/30027b613b4)
  id: totrans-1072
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [REPLACE](lang_replace.html) 语句在没有次要索引的 [WITHOUT ROWID](withoutrowid.html)
    表上的问题，以使其与触发器和外键正确工作。这是由于在版本 3.16.0 中添加的性能优化引起的新 bug。票号 [30027b613b4](https://www.sqlite.org/src/info/30027b613b4)
- en: Fix the [sqlite3_value_text()](c3ref/value_blob.html) interface so that it correctly
    translates content generated by [zeroblob()](lang_corefunc.html#zeroblob) into
    a string of all 0x00 characters. This is a long-standing issue discovered after
    the 3.16.1 release by [OSS-Fuzz](https://github.com/google/oss-fuzz)
  id: totrans-1073
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sqlite3_value_text()](c3ref/value_blob.html) 接口，使其能够正确地将 [zeroblob()](lang_corefunc.html#zeroblob)
    生成的内容转换为全 0x00 字符的字符串。这是一个长期存在的问题，由 [OSS-Fuzz](https://github.com/google/oss-fuzz)
    在 3.16.1 发布后发现。
- en: Fix the bytecode generator to deal with a subquery in the FROM clause that is
    itself a UNION ALL where one side of the UNION ALL is a view that contains an
    ORDER BY. This is a long-standing issue that was discovered after the release
    of 3.16.1\. See ticket [190c2507](https://www.sqlite.org/src/info/190c2507).
  id: totrans-1074
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了字节码生成器以处理 FROM 子句中的子查询，该子查询本身是一个 UNION ALL，其中 UNION ALL 的一侧是包含 ORDER BY 的视图。这是一个长期存在的问题，在
    3.16.1 发布后被发现。见票号 [190c2507](https://www.sqlite.org/src/info/190c2507)。
- en: Adjust the [sqlite3_column_count()](c3ref/column_count.html) API so it more
    often returns the same values for [PRAGMA](pragma.html#syntax) statements as it
    did in prior releases, to minimize disruption to applications that might be using
    that interface in unexpected ways.
  id: totrans-1075
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整了 [sqlite3_column_count()](c3ref/column_count.html) API，以便在 PRAGMA 语句中更频繁地返回与之前版本相同的值，以减少对可能以意外方式使用该接口的应用程序的干扰。
- en: '**Hashes:**'
  id: totrans-1076
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2017-01-06 16:32:41 a65a62893ca8319e89e48b8a38cf8a59c69a8209"'
  id: totrans-1077
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-01-06 16:32:41 a65a62893ca8319e89e48b8a38cf8a59c69a8209"'
- en: 'SHA1 for sqlite3.c: 2bebdc3f24911c0d12b6d6c0123c3f84d6946b08'
  id: totrans-1078
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 值: 2bebdc3f24911c0d12b6d6c0123c3f84d6946b08'
- en: 2017-01-03 (3.16.1)
  id: totrans-1079
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-01-03 (3.16.1)
- en: Fix a bug concerning the use of [row values](rowvalue.html) within [triggers](lang_createtrigger.html)
    (see ticket [8c9458e7](https://www.sqlite.org/src/info/8c9458e7)) that was in
    version 3.15.0 but was not reported until moments after the 3.16.0 release was
    published.
  id: totrans-1080
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了关于 [触发器](lang_createtrigger.html) 中使用 [行值](rowvalue.html) 的 bug（参见票号 [8c9458e7](https://www.sqlite.org/src/info/8c9458e7)，此问题出现在版本
    3.15.0，但是在发布 3.16.0 后不久才报告）。
- en: '**Hashes:**'
  id: totrans-1081
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2017-01-03 18:27:03 979f04392853b8053817a3eea2fc679947b437fd"'
  id: totrans-1082
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-01-03 18:27:03 979f04392853b8053817a3eea2fc679947b437fd"'
- en: 'SHA1 for sqlite3.c: 354f6223490b30fd5320b4066b1535e4ce33988d'
  id: totrans-1083
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 值: 354f6223490b30fd5320b4066b1535e4ce33988d'
- en: 2017-01-02 (3.16.0)
  id: totrans-1084
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2017-01-02 (3.16.0)
- en: Uses 9% fewer CPU cycles. (See the [CPU performance measurement](cpu.html) report
    for details on how this performance increase was computed.)
  id: totrans-1085
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用的 CPU 循环数减少了 9%。（查看[CPU 性能测量](cpu.html)报告，了解如何计算此性能增加的详细信息。）
- en: Added experimental support for [PRAGMA functions](pragma.html#pragfunc).
  id: totrans-1086
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对 [PRAGMA 函数](pragma.html#pragfunc) 的实验性支持。
- en: Added the [SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE](c3ref/c_dbconfig_defensive.html#sqlitedbconfignockptonclose)
    option to [sqlite3_db_config()](c3ref/db_config.html).
  id: totrans-1087
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [sqlite3_db_config()](c3ref/db_config.html) 中添加了 [SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE](c3ref/c_dbconfig_defensive.html#sqlitedbconfignockptonclose)
    选项。
- en: Enhance the [date and time functions](lang_datefunc.html) so that the 'unixepoch'
    modifier works for the full span of supported dates.
  id: totrans-1088
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [日期和时间函数](lang_datefunc.html)，以便 'unixepoch' 修饰符适用于支持的日期的完整范围。
- en: Changed the default configuration of the [lookaside memory allocator](malloc.html#lookaside)
    from 500 slots of 128 bytes each into 125 slots of 512 bytes each.
  id: totrans-1089
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[lookaside 内存分配器](malloc.html#lookaside)的默认配置从每个 128 字节的 500 个槽更改为每个 512 字节的
    125 个槽。
- en: Enhanced "WHERE x NOT NULL" [partial indexes](partialindex.html) so that they
    are usable if the "x" column appears in a LIKE or GLOB operator.
  id: totrans-1090
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 "WHERE x NOT NULL" 的 [部分索引](partialindex.html)，以便在 "x" 列出现在 LIKE 或 GLOB
    运算符中时可以使用。
- en: Enhanced [sqlite3_interrupt()](c3ref/interrupt.html) so that it interrupts [checkpoint](wal.html#ckpt)
    operations that are in process.
  id: totrans-1091
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [sqlite3_interrupt()](c3ref/interrupt.html)，使其中断正在进行的 [checkpoint](wal.html#ckpt)
    操作。
- en: Enhanced the [LIKE](lang_expr.html#like) and [GLOB](lang_expr.html#glob) matching
    algorithm to be faster for cases when the pattern contains multiple wildcards.
  id: totrans-1092
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了 [LIKE](lang_expr.html#like) 和 [GLOB](lang_expr.html#glob) 匹配算法，使得在模式包含多个通配符时更快。
- en: Added the [SQLITE_FCNTL_WIN32_GET_HANDLE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlwin32gethandle)
    file control opcode.
  id: totrans-1093
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_FCNTL_WIN32_GET_HANDLE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlwin32gethandle)
    文件控制操作码。
- en: Added ".mode quote" to the [command-line shell](cli.html).
  id: totrans-1094
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [命令行 shell](cli.html) 添加了 ".mode quote"。
- en: Added ".lint fkey-indexes" to the [command-line shell](cli.html).
  id: totrans-1095
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [命令行 shell](cli.html) 添加了 ".lint fkey-indexes"。
- en: Added the [.imposter dot-command](imposter.html#dotimposter) to the [command-line
    shell](cli.html).
  id: totrans-1096
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [命令行 shell](cli.html) 添加了 ".imposter dot-command"。
- en: Added the [remember(V,PTR)](https://www.sqlite.org/src/file/ext/misc/remember.c)
    SQL function as a [loadable extension](loadext.html).
  id: totrans-1097
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [remember(V,PTR)](https://www.sqlite.org/src/file/ext/misc/remember.c) SQL
    函数作为 [可加载扩展](loadext.html)。
- en: Rename the [SQLITE_OMIT_BUILTIN_TEST](compile.html#omit_builtin_test) compile-time
    option to [SQLITE_UNTESTABLE](compile.html#untestable) to better reflect the implications
    of using it.
  id: totrans-1098
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [SQLITE_OMIT_BUILTIN_TEST](compile.html#omit_builtin_test) 编译时选项重命名为 [SQLITE_UNTESTABLE](compile.html#untestable)，以更好地反映使用它的含义。
- en: '**Bug Fixes:**'
  id: totrans-1099
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug Fixes:**'
- en: Fix a long-standing bug in the query planner that caused incorrect results on
    a LEFT JOIN where the left-hand table is a subquery and the join constraint is
    a bare column name coming from the left-hand subquery. Ticket [2df0107b](https://www.sqlite.org/src/info/2df0107b).
  id: totrans-1100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器中一个长期存在的 bug，在左连接中导致错误结果的问题，其中左侧表是一个子查询，连接约束来自左侧子查询的裸列名。票证 [2df0107b](https://www.sqlite.org/src/info/2df0107b)。
- en: Correctly handle the integer literal -0x8000000000000000 in the query planner.
  id: totrans-1101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正确处理查询规划器中的整数文字 -0x8000000000000000。
- en: '**Hashes:**'
  id: totrans-1102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2017-01-02 11:57:58 04ac0b75b1716541b2b97704f4809cb7ef19cccf"'
  id: totrans-1103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2017-01-02 11:57:58 04ac0b75b1716541b2b97704f4809cb7ef19cccf"'
- en: 'SHA1 for sqlite3.c: e2920fb885569d14197c9b7958e6f1db573ee669'
  id: totrans-1104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：e2920fb885569d14197c9b7958e6f1db573ee669
- en: 2016-11-28 (3.15.2)
  id: totrans-1105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-11-28 (3.15.2)
- en: Multiple bug fixes to the [row value](rowvalue.html) logic that was introduced
    in version 3.15.0.
  id: totrans-1106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对版本 3.15.0 中引入的 [行值](rowvalue.html) 逻辑进行了多个 bug 修复。
- en: Fix a NULL pointer dereference in ATTACH/DETACH following a maliciously constructed
    syntax error. Ticket [2f1b168ab4d4844](https://www.sqlite.org/src/info/2f1b168ab4d4844).
  id: totrans-1107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在 ATTACH/DETACH 后跟随恶意构造的语法错误可能导致的空指针解引用。票证 [2f1b168ab4d4844](https://www.sqlite.org/src/info/2f1b168ab4d4844)。
- en: Fix a crash that can occur following an out-of-memory condition in the built-in
    [instr()](lang_corefunc.html#instr) function.
  id: totrans-1108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复内置函数 [instr()](lang_corefunc.html#instr) 在内存不足条件下可能导致的崩溃。
- en: In the [JSON extension](json1.html), fix the JSON validator so that it correctly
    rejects invalid backslash escapes within strings.
  id: totrans-1109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [JSON 扩展](json1.html) 中，修复 JSON 验证器，使其能够正确拒绝字符串中的无效反斜杠转义。
- en: '**Hashes:**'
  id: totrans-1110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2016-11-28 19:13:37 bbd85d235f7037c6a033a9690534391ffeacecc8"'
  id: totrans-1111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-11-28 19:13:37 bbd85d235f7037c6a033a9690534391ffeacecc8"'
- en: 'SHA1 for sqlite3.c: 06d77b42a3e70609f8d4bbb97caf53652f1082cb'
  id: totrans-1112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：06d77b42a3e70609f8d4bbb97caf53652f1082cb
- en: 2016-11-04 (3.15.1)
  id: totrans-1113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-11-04 (3.15.1)
- en: Added [SQLITE_FCNTL_WIN32_GET_HANDLE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlwin32gethandle)
    file control opcode.
  id: totrans-1114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_FCNTL_WIN32_GET_HANDLE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlwin32gethandle)文件控制操作码。
- en: Fix the [VACUUM](lang_vacuum.html) command so that it spills excess content
    to disk rather than holding everything in memory, and possible causing an out-of-memory
    error for larger database files. This fixes an issue introduced by version 3.15.0.
  id: totrans-1115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正[VACUUM](lang_vacuum.html)命令，使其将多余内容写入磁盘，而非全部存储在内存中，从而避免较大数据库文件可能导致的内存不足错误。这修复了版本3.15.0引入的问题。
- en: Fix a case (present since 3.8.0 - 2013-08-26) where OR-connected terms in the
    ON clause of a LEFT JOIN might cause incorrect results. Ticket [34a579141b2c5ac](https://www.sqlite.org/src/info/34a579141b2c5ac).
  id: totrans-1116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了一个自3.8.0（2013-08-26）以来存在的情况，在LEFT JOIN的ON子句中使用OR连接的术语可能导致结果不正确。Ticket [34a579141b2c5ac](https://www.sqlite.org/src/info/34a579141b2c5ac)。
- en: Fix a case where the use of [row values](rowvalue.html) in the ON clause of
    a LEFT JOIN might cause incorrect results. Ticket [fef4bb4bd9185ec8f](https://www.sqlite.org/src/info/fef4bb4bd9185ec8f).
  id: totrans-1117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了一个情况，在LEFT JOIN的ON子句中使用[row values](rowvalue.html)可能导致结果不正确的问题。Ticket [fef4bb4bd9185ec8f](https://www.sqlite.org/src/info/fef4bb4bd9185ec8f)。
- en: '**Hashes:**'
  id: totrans-1118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes：**'
- en: 'SQLITE_SOURCE_ID: "2016-11-04 12:08:49 1136863c76576110e710dd5d69ab6bf347c65e36"'
  id: totrans-1119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID：“2016-11-04 12:08:49 1136863c76576110e710dd5d69ab6bf347c65e36”
- en: 'SHA1 for sqlite3.c: e7c26a7be3e431dd06898f8d262c4ef240c07366'
  id: totrans-1120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：e7c26a7be3e431dd06898f8d262c4ef240c07366
- en: 2016-10-14 (3.15.0)
  id: totrans-1121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-10-14 (3.15.0)
- en: Added support for [row values](rowvalue.html).
  id: totrans-1122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[row values](rowvalue.html)的支持。
- en: Allow [deterministic SQL functions](deterministic.html) in the WHERE clause
    of a [partial index](partialindex.html).
  id: totrans-1123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在[partial index](partialindex.html)的WHERE子句中使用[deterministic SQL functions](deterministic.html)。
- en: Added the "[modeof=*filename*](uri.html#urimodeof)" URI parameter on the unix
    VFS
  id: totrans-1124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在unix VFS上的“[modeof=*filename*](uri.html#urimodeof)” URI参数上添加了支持。
- en: Added support for [SQLITE_DBCONFIG_MAINDBNAME](c3ref/c_dbconfig_defensive.html#sqlitedbconfigmaindbname).
  id: totrans-1125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[SQLITE_DBCONFIG_MAINDBNAME](c3ref/c_dbconfig_defensive.html#sqlitedbconfigmaindbname)的支持。
- en: Added the ability to [VACUUM](lang_vacuum.html) an [ATTACH-ed](lang_attach.html)
    database.
  id: totrans-1126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[ATTACH-ed](lang_attach.html)数据库的[VACUUM](lang_vacuum.html)功能。
- en: 'Enhancements to the [command-line shell](cli.html):'
  id: totrans-1127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[命令行 shell](cli.html)的增强：'
- en: Add the ".testcase" and ".check" [dot-commands](cli.html#dotcmd).
  id: totrans-1128
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加“.testcase”和“.check” [dot-commands](cli.html#dotcmd)。
- en: Added the --new option to the ".open" dot-command, causing any prior content
    in the database to be purged prior to opening.
  id: totrans-1129
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“.open” dot-command中添加了“--new”选项，导致在打开之前清除数据库中的任何先前内容。
- en: Enhance the [fts5vocab](fts5.html#the_fts5vocab_virtual_table_module) virtual
    table to handle "ORDER BY term" efficiently.
  id: totrans-1130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了处理“ORDER BY term”的[fts5vocab](fts5.html#the_fts5vocab_virtual_table_module)虚拟表的效率。
- en: Miscellaneous micro-optimizations reduce CPU usage by more than 7% on common
    workloads. Most optimization in this release has been on the front-end ([sqlite3_prepare_v2()](c3ref/prepare.html)).
  id: totrans-1131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项微优化可将常见工作负载的CPU使用率降低超过7%。此版本中的大多数优化都集中在前端（[sqlite3_prepare_v2()](c3ref/prepare.html)）。
- en: '**Bug Fixes:**'
  id: totrans-1132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug 修复：**'
- en: The multiply operator now correctly detects 64-bit integer overflow and promotes
    to floating point in all corner-cases. Fix for ticket [1ec41379c9c1e400](https://www.sqlite.org/src/info/1ec41379c9c1e400).
  id: totrans-1133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，乘法运算符在所有边缘情况下都正确检测到 64 位整数溢出，并提升为浮点数。修复了 ticket [1ec41379c9c1e400](https://www.sqlite.org/src/info/1ec41379c9c1e400)。
- en: Correct handling of columns with redundant unique indexes when those columns
    are used on the LHS of an [IN operator](lang_expr.html#in_op). Fix for ticket
    [0eab1ac759](https://www.sqlite.org/src/info/0eab1ac759).
  id: totrans-1134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用 [IN 操作符](lang_expr.html#in_op) 时，正确处理具有冗余唯一索引的列。修复了 ticket [0eab1ac759](https://www.sqlite.org/src/info/0eab1ac759)。
- en: Skip NULL entries on range queries in [indexes on expressions](expridx.html).
    Fix for ticket [4baa46491212947](https://www.sqlite.org/src/tktview/4baa46491212947).
  id: totrans-1135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在表达式索引上，跳过范围查询中的 NULL 条目。修复了 ticket [4baa46491212947](https://www.sqlite.org/src/tktview/4baa46491212947)。
- en: Ensure that the [AUTOINCREMENT](autoinc.html) counters in the sqlite_sequence
    table are initialized doing "Xfer Optimization" on "INSERT ... SELECT" statements.
    Fix for ticket [7b3328086a5c116c](https://www.sqlite.org/src/info/7b3328086a5c116c).
  id: totrans-1136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在执行 "INSERT ... SELECT" 语句时，[sqlite_sequence](autoinc.html) 表中的 AUTOINCREMENT
    计数器通过 "Xfer 优化" 得到初始化。修复了 ticket [7b3328086a5c116c](https://www.sqlite.org/src/info/7b3328086a5c116c)。
- en: Make sure the ORDER BY LIMIT optimization (from check-in [559733b09e](https://www.sqlite.org/src/info/559733b09e9630fa))
    works with IN operators on INTEGER PRIMARY KEYs. Fix for ticket [96c1454c](https://www.sqlite.org/src/info/96c1454cbfd9509)
  id: totrans-1137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保 ORDER BY LIMIT 优化（来自 check-in [559733b09e](https://www.sqlite.org/src/info/559733b09e9630fa)）在
    INTEGER PRIMARY KEYs 上与 IN 操作符一起正常工作。修复了 ticket [96c1454c](https://www.sqlite.org/src/info/96c1454cbfd9509)。
- en: '**Hashes:**'
  id: totrans-1138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2016-10-14 10:20:30 707875582fcba352b4906a595ad89198d84711d8"'
  id: totrans-1139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-10-14 10:20:30 707875582fcba352b4906a595ad89198d84711d8"'
- en: 'SHA1 for sqlite3.c: fba106f8f6493c66eeed08a2dfff0907de54ae76'
  id: totrans-1140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 哈希值为：fba106f8f6493c66eeed08a2dfff0907de54ae76
- en: 2016-09-12 (3.14.2)
  id: totrans-1141
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-09-12 (3.14.2)
- en: Improved support for using the STDCALL calling convention in winsqlite3.dll.
  id: totrans-1142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 winsqlite3.dll 中改进了对 STDCALL 调用约定的支持。
- en: Fix the [sqlite3_trace_v2()](c3ref/trace_v2.html) interface so that it is disabled
    if either the callback or the mask arguments are zero, in accordance with the
    documentation.
  id: totrans-1143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [sqlite3_trace_v2()](c3ref/trace_v2.html) 接口，确保在回调函数或掩码参数为零时禁用，与文档一致。
- en: Fix commenting errors and improve the comments generated on [EXPLAIN](lang_explain.html)
    listings when the [-DSQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)
    compile-time option is used.
  id: totrans-1144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [EXPLAIN](lang_explain.html) 列表中使用 [-DSQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)
    编译选项时生成的注释错误和改进。
- en: Fix the ".read" command in the [command-line shell](cli.html) so that it understands
    that its input is not interactive.
  id: totrans-1145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复命令行 shell 中的 ".read" 命令，以便正确理解其非交互式输入。在 [command-line shell](cli.html) 中进行修复。
- en: Correct affinity computations for a SELECT on the RHS of an IN operator. Fix
    for ticket [199df4168c](https://sqlite.org/src/info/199df4168c).
  id: totrans-1146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 IN 操作符的 RHS 上计算选择的正确亲和性。修复了 ticket [199df4168c](https://sqlite.org/src/info/199df4168c)。
- en: The ORDER BY LIMIT optimization is not valid unless the inner-most IN operator
    loop is actually used by the query plan. Fix for ticket [0c4df46116e90f92](https://sqlite.org/src/info/0c4df46116e90f92).
  id: totrans-1147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ORDER BY LIMIT 优化只有在查询计划实际使用查询内最内层的 IN 运算符循环时才有效。修复了票务 [0c4df46116e90f92](https://sqlite.org/src/info/0c4df46116e90f92)。
- en: Fix an internal code generator problem that was causing some [DELETE](lang_delete.html)
    operations to no-op. Ticket [ef360601](https://sqlite.org/src/info/ef360601)
  id: totrans-1148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了导致一些 [DELETE](lang_delete.html) 操作无效的内部代码生成器问题。票务 [ef360601](https://sqlite.org/src/info/ef360601)
- en: '**Hashes:**'
  id: totrans-1149
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2016-09-12 18:50:49 29dbef4b8585f753861a36d6dd102ca634197bd6"'
  id: totrans-1150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-09-12 18:50:49 29dbef4b8585f753861a36d6dd102ca634197bd6"'
- en: 'SHA1 for sqlite3.c: bcc4a1989db45e7f223191f2d0f66c1c28946383'
  id: totrans-1151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：bcc4a1989db45e7f223191f2d0f66c1c28946383
- en: 2016-08-11 (3.14.1)
  id: totrans-1152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-08-11 (3.14.1)
- en: A performance enhancement to the page-cache "truncate" operation reduces [COMMIT](lang_transaction.html)
    time by dozens of milliseconds on systems with a large [page cache](pragma.html#pragma_cache_size).
  id: totrans-1153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对页面缓存“截断”操作的性能增强，可在具有大 [页面缓存](pragma.html#pragma_cache_size) 的系统上减少 [COMMIT](lang_transaction.html)
    时间数十毫秒。
- en: Fix to the --rbu option of [sqldiff](sqldiff.html).
  id: totrans-1154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sqldiff](sqldiff.html) 的 --rbu 选项。
- en: '**Hashes:**'
  id: totrans-1155
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2016-08-11 18:53:32 a12d8059770df4bca59e321c266410344242bf7b"'
  id: totrans-1156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-08-11 18:53:32 a12d8059770df4bca59e321c266410344242bf7b"'
- en: 'SHA1 for sqlite3.c: d545b24892278272ce4e40e0567d69c8babf12ea'
  id: totrans-1157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：d545b24892278272ce4e40e0567d69c8babf12ea
- en: 2016-08-08 (3.14)
  id: totrans-1158
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-08-08 (3.14)
- en: '![](../Images/8337fe7fa3ad24e3f6ee1b8b32709296.png)'
  id: totrans-1159
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8337fe7fa3ad24e3f6ee1b8b32709296.png)'
- en: Celebrating the SQLite "π release" with a home-baked pie.
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
  zh: 用一块自制的派庆祝 SQLite 的“π发布”。
- en: Added support for [WITHOUT ROWID virtual tables](vtab.html#worid).
  id: totrans-1161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [WITHOUT ROWID 虚拟表](vtab.html#worid) 的支持。
- en: Improved the query planner so that the [OR optimization](optoverview.html#or_opt)
    can be used on [virtual tables](vtab.html) even if one or more of the disjuncts
    use the [LIKE](lang_expr.html#like), [GLOB](lang_expr.html#glob), [REGEXP](lang_expr.html#regexp),
    [MATCH](lang_expr.html#match) operators.
  id: totrans-1162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了查询规划器，以便即使一个或多个分离子使用 [LIKE](lang_expr.html#like)、[GLOB](lang_expr.html#glob)、[REGEXP](lang_expr.html#regexp)、[MATCH](lang_expr.html#match)
    运算符，也可以在 [虚拟表](vtab.html) 上使用 [OR 优化](optoverview.html#or_opt)。
- en: Added the [CSV virtual table](csv.html) for reading [RFC 4180](https://www.ietf.org/rfc/rfc4180.txt)
    formatted comma-separated value files.
  id: totrans-1163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了用于读取基于 [RFC 4180](https://www.ietf.org/rfc/rfc4180.txt) 格式的逗号分隔值文件的 [CSV
    虚拟表](csv.html)。
- en: Added the [carray() table-valued function](carray.html) extension.
  id: totrans-1164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [carray() 表值函数](carray.html) 扩展。
- en: Enabled [persistent loadable extensions](loadext.html#persist) using the new
    [SQLITE_OK_LOAD_PERMANENTLY](rescode.html#ok_load_permanently) return code from
    the extension entry point.
  id: totrans-1165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用扩展入口点的新返回码 [SQLITE_OK_LOAD_PERMANENTLY](rescode.html#ok_load_permanently)
    启用了[持续可加载扩展](loadext.html#persist)。
- en: Added the [SQLITE_DBSTATUS_CACHE_USED_SHARED](c3ref/c_dbstatus_options.html#sqlitedbstatuscacheusedshared)
    option to [sqlite3_db_status()](c3ref/db_status.html).
  id: totrans-1166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [SQLITE_DBSTATUS_CACHE_USED_SHARED](c3ref/c_dbstatus_options.html#sqlitedbstatuscacheusedshared)
    选项到 [sqlite3_db_status()](c3ref/db_status.html)。
- en: Add the [vfsstat.c](https://www.sqlite.org/src/artifact?ci=trunk&filename=ext/misc/vfsstat.c)
    loadable extension - a VFS shim that measures I/O together with an [eponymous
    virtual table](vtab.html#epovtab) that provides access to the measurements.
  id: totrans-1167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[vfsstat.c](https://www.sqlite.org/src/artifact?ci=trunk&filename=ext/misc/vfsstat.c)可加载扩展，这是一个VFS
    shim，用于测量I/O操作，还有一个同名的[eponymous virtual table](vtab.html#epovtab)，提供对这些测量数据的访问。
- en: Improved algorithm for running queries with both an ORDER BY and a LIMIT where
    only the inner-most loop naturally generates rows in the correct order.
  id: totrans-1168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了同时具有ORDER BY和LIMIT的查询运行算法，在只有内层循环自然生成正确顺序行的情况下。
- en: Enhancements to [Lemon parser generator](lemon.html), so that it generates a
    faster parser.
  id: totrans-1169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[Lemon parser generator](lemon.html)，使其生成更快的解析器。
- en: The [PRAGMA compile_options](pragma.html#pragma_compile_options) command now
    attempts to show the version number of the compiler that generated the library.
  id: totrans-1170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PRAGMA compile_options](pragma.html#pragma_compile_options)命令现在试图显示生成库的编译器版本号。'
- en: Enhance [PRAGMA table_info](pragma.html#pragma_table_info) so that it provides
    information about [eponymous virtual tables](vtab.html#epovtab).
  id: totrans-1171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[PRAGMA table_info](pragma.html#pragma_table_info)，使其提供有关[eponymous virtual
    tables](vtab.html#epovtab)的信息。
- en: Added the "win32-none" VFS, analogous to the "unix-none" VFS, that works like
    the default "win32" VFS except that it ignores all file locks.
  id: totrans-1172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了"win32-none" VFS，类似于"default "win32" VFS，但会忽略所有文件锁。
- en: The query planner uses a full scan of a [partial index](partialindex.html) instead
    of a full scan of the main table, in cases where that makes sense.
  id: totrans-1173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器在合适的情况下使用[partial index](partialindex.html)的全扫描，而不是主表的全扫描。
- en: Allow [table-valued functions](vtab.html#tabfunc2) to appear on the right-hand
    side of an [IN operator](lang_expr.html#in_op).
  id: totrans-1174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许[table-valued functions](vtab.html#tabfunc2)出现在[IN操作符](lang_expr.html#in_op)的右侧。
- en: Created the [dbhash.exe](dbhash.html) command-line utility.
  id: totrans-1175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建了[dbhash.exe](dbhash.html)命令行实用程序。
- en: 'Added two new C-language interfaces: [sqlite3_expanded_sql()](c3ref/expanded_sql.html)
    and [sqlite3_trace_v2()](c3ref/trace_v2.html). These new interfaces subsume the
    functions of [sqlite3_trace()](c3ref/profile.html) and [sqlite3_profile()](c3ref/profile.html)
    which are now deprecated.'
  id: totrans-1176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了两个新的C语言接口：[sqlite3_expanded_sql()](c3ref/expanded_sql.html) 和 [sqlite3_trace_v2()](c3ref/trace_v2.html)。这些新接口替代了现已弃用的[sqlite3_trace()](c3ref/profile.html)
    和 [sqlite3_profile()](c3ref/profile.html) 的功能。
- en: Added the [json_quote()](json1.html#jquote) SQL function to [the json1 extension](json1.html).
  id: totrans-1177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[json_quote()](json1.html#jquote) SQL函数添加到[json1扩展](json1.html)中。
- en: Disable the [authorizer callback](c3ref/set_authorizer.html) while reparsing
    the schema.
  id: totrans-1178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 禁用在重新解析模式时的[授权回调](c3ref/set_authorizer.html)。
- en: Added the [SQLITE_ENABLE_UNKNOWN_SQL_FUNCTION](compile.html#enable_unknown_sql_function)
    compile-time option and turned that option on by default when building the [command-line
    shell](cli.html).
  id: totrans-1179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_ENABLE_UNKNOWN_SQL_FUNCTION](compile.html#enable_unknown_sql_function)编译时选项，并在构建[command-line
    shell](cli.html)时默认启用该选项。
- en: '**Bug Fixes:**'
  id: totrans-1180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug修复：**'
- en: Fix the [ALTER TABLE](lang_altertable.html) command so that it does not corrupt
    [descending indexes](lang_createindex.html#descidx) when adding a column to a
    [legacy file format](pragma.html#pragma_legacy_file_format) database. Ticket [f68bf68513a1c15f](https://www.sqlite.org/src/info/f68bf68513a1c15f)
  id: totrans-1181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[ALTER TABLE](lang_altertable.html)命令，以便在向[legacy file format](pragma.html#pragma_legacy_file_format)数据库添加列时不会破坏降序索引。票证[f68bf68513a1c15f](https://www.sqlite.org/src/info/f68bf68513a1c15f)
- en: Fix a NULL-pointer dereference/crash that could occurs when a transitive WHERE
    clause references a non-existent collating sequence. Ticket [e8d439c77685eca6](https://www.sqlite.org/src/info/e8d439c77685eca6).
  id: totrans-1182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了当传递的WHERE子句引用不存在的排序序列时可能发生的NULL指针解引用/崩溃。票证[e8d439c77685eca6](https://www.sqlite.org/src/info/e8d439c77685eca6)。
- en: Improved the cost estimation for an index scan which includes a WHERE clause
    that can be partially or fully evaluated using columns in the index and without
    having to do a table lookup. This fixes a performance regression that occurred
    for some obscure queries following the ORDER BY LIMIT optimization introduced
    in [version 3.12.0](#version_3_12_0).
  id: totrans-1183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了索引扫描的成本估算，其中包括可以使用索引中的列部分或完全评估的WHERE子句，而无需进行表查找。这修复了在[版本 3.12.0](#version_3_12_0)引入的ORDER
    BY LIMIT优化后某些晦涩查询的性能回归问题。
- en: '**Hashes:**'
  id: totrans-1184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2016-08-08 13:40:27 d5e98057028abcf7217d0d2b2e29bbbcdf09d6de"'
  id: totrans-1185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-08-08 13:40:27 d5e98057028abcf7217d0d2b2e29bbbcdf09d6de"'
- en: 'SHA1 for sqlite3.c: 234a3275d03a287434ace3ccdf1afb208e6b0e92'
  id: totrans-1186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：234a3275d03a287434ace3ccdf1afb208e6b0e92
- en: 2016-05-18 (3.13.0)
  id: totrans-1187
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-05-18 (3.13.0)
- en: Postpone I/O associated with TEMP files for as long as possible, with the hope
    that the I/O can ultimately be avoided completely.
  id: totrans-1188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尽可能地推迟与TEMP文件相关的I/O操作，希望最终能完全避免I/O。
- en: Merged the [session](sessionintro.html) extension into trunk.
  id: totrans-1189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[session](sessionintro.html)扩展合并到主干中。
- en: Added the ".auth ON|OFF" command to the [command-line shell](cli.html).
  id: totrans-1190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[命令行 shell](cli.html)添加了".auth ON|OFF"命令。
- en: Added the "--indent" option to the ".schema" and ".fullschema" commands of the
    [command-line shell](cli.html), to turn on pretty-printing.
  id: totrans-1191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[命令行 shell](cli.html)的".schema"和".fullschema"命令添加了"--indent"选项，以进行漂亮的打印输出。
- en: Added the ".eqp full" option to the [command-line shell](cli.html), that does
    both [EXPLAIN](lang_explain.html) and [EXPLAIN QUERY PLAN](eqp.html) on each statement
    that is evaluated.
  id: totrans-1192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[命令行 shell](cli.html)添加了".eqp full"选项，它在每个评估的语句上执行[EXPLAIN](lang_explain.html)和[EXPLAIN
    QUERY PLAN](eqp.html)。
- en: Improved unicode filename handling in the [command-line shell](cli.html) on
    Windows.
  id: totrans-1193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows平台上改进了对Unicode文件名的处理[命令行 shell](cli.html)。
- en: Improved resistance against goofy query planner decisions caused by incomplete
    or incorrect modifications to the [sqlite_stat1](fileformat2.html#stat1tab) table
    by the application.
  id: totrans-1194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了对应用程序不完整或不正确修改的[sqlite_stat1](fileformat2.html#stat1tab)表所导致的愚蠢查询规划决策的抵抗力。
- en: Added the [sqlite3_db_config](c3ref/db_config.html)(db,[SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableloadextension))
    interface which allows the [sqlite3_load_extension()](c3ref/load_extension.html)
    C-API to be enabled while keeping the [load_extension()](lang_corefunc.html#load_extension)
    SQL function disabled for security.
  id: totrans-1195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_db_config](c3ref/db_config.html)(db,[SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenableloadextension))接口，允许在保持[sqlite3_load_extension()](c3ref/load_extension.html)
    C-API启用的同时禁用[load_extension()](lang_corefunc.html#load_extension) SQL函数以提升安全性。
- en: Change the [temporary directory search algorithm](tempfiles.html#tempdir) on
    Unix to allow directories with write and execute permission, but without read
    permission, to serve as temporary directories. Apply this same standard to the
    "." fallback directory.
  id: totrans-1196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改Unix上的临时目录搜索算法，以允许具有写和执行权限但没有读权限的目录作为临时目录。将此标准应用于“.”回退目录。
- en: '**Bug Fixes:**'
  id: totrans-1197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: Fix a problem with the multi-row one-pass DELETE optimization that was causing
    it to compute incorrect answers with a self-referential subquery in the WHERE
    clause. Fix for ticket [dc6ebeda9396087](https://www.sqlite.org/src/info/dc6ebeda9396087)
  id: totrans-1198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了多行单遍DELETE优化中的问题，该问题导致在WHERE子句中存在自引用子查询时计算出错误答案。修复票证[dc6ebeda9396087](https://www.sqlite.org/src/info/dc6ebeda9396087)
- en: Fix a possible segfault with DELETE when table is a [rowid table](rowidtable.html)
    with an [INTEGER PRIMARY KEY](lang_createtable.html#rowid) and the WHERE clause
    contains a OR and the table has one or more indexes that are able to trigger the
    OR optimization, but none of the indexes reference any table columns other than
    the INTEGER PRIMARY KEY. Ticket [16c9801ceba49](https://www.sqlite.org/src/info/16c9801ceba49).
  id: totrans-1199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了当表是带有[INTEGER PRIMARY KEY](lang_createtable.html#rowid)和WHERE子句包含OR且表具有一个或多个能触发OR优化但没有引用任何表列的索引时，DELETE可能导致段错误的问题。票证[16c9801ceba49](https://www.sqlite.org/src/info/16c9801ceba49)。
- en: When checking for the [WHERE-clause push-down optimization](optoverview.html#pushdown),
    verify that all terms of the compound inner SELECT are non-aggregate, not just
    the last term. Fix for ticket [f7f8c97e97597](https://www.sqlite.org/src/info/f7f8c97e97597).
  id: totrans-1200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在检查[WHERE子句推送优化](optoverview.html#pushdown)时，请验证复合内部SELECT的所有项均为非聚合项，而不仅仅是最后一项。修复票证[f7f8c97e97597](https://www.sqlite.org/src/info/f7f8c97e97597)。
- en: Fix a locking race condition in Windows that can occur when two or more processes
    attempt to recover the same [hot journal](fileformat2.html#hotjrnl) at the same
    time.
  id: totrans-1201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了Windows中的锁竞争条件，在两个或更多进程尝试同时恢复相同[热日志](fileformat2.html#hotjrnl)时可能发生的情况。
- en: '**Hashes:**'
  id: totrans-1202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2016-05-18 10:57:30 fc49f556e48970561d7ab6a2f24fdd7d9eb81ff2"'
  id: totrans-1203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2016-05-18 10:57:30 fc49f556e48970561d7ab6a2f24fdd7d9eb81ff2"
- en: 'SHA1 for sqlite3.c: 9b9171b1e6ce7a980e6b714e9c0d9112657ad552'
  id: totrans-1204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: 9b9171b1e6ce7a980e6b714e9c0d9112657ad552'
- en: '**Bug fixes backported into patch release 3.12.2 (2016-04-18):**'
  id: totrans-1205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**修复的错误被回退到补丁版本3.12.2（2016-04-18）：**'
- en: 'Fix a backwards compatibility problem in version 3.12.0 and 3.12.1: Columns
    declared as `"INTEGER" PRIMARY KEY` (with quotes around the datatype keyword)
    were not being recognized as an [INTEGER PRIMARY KEY](lang_createtable.html#rowid),
    which resulted in an incompatible database file. Ticket [7d7525cb01b68](https://www.sqlite.org/src/info/7d7525cb01b68)'
  id: totrans-1206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了版本3.12.0和3.12.1中的向后兼容性问题：声明为`"INTEGER" PRIMARY KEY`（在数据类型关键字周围带有引号）的列未被识别为[INTEGER
    PRIMARY KEY](lang_createtable.html#rowid)，导致不兼容的数据库文件。票证 [7d7525cb01b68](https://www.sqlite.org/src/info/7d7525cb01b68)
- en: Fix a bug (present since [version 3.9.0](#version_3_9_0)) that can cause the
    [DELETE](lang_delete.html) operation to miss rows if [PRAGMA reverse_unordered_selects](pragma.html#pragma_reverse_unordered_selects)
    is turned on. Ticket [a306e56ff68b8fa5](https://www.sqlite.org/src/info/a306e56ff68b8fa5)
  id: totrans-1207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个bug（自[版本3.9.0](#version_3_9_0)以来存在），可能导致[DELETE](lang_delete.html)操作在打开[PRAGMA
    reverse_unordered_selects](pragma.html#pragma_reverse_unordered_selects)时丢失行。票证
    [a306e56ff68b8fa5](https://www.sqlite.org/src/info/a306e56ff68b8fa5)
- en: Fix a bug in the code generator that can cause incorrect results if two or more
    [virtual tables](vtab.html) are joined and the virtual table used in outer loop
    of the join has an [IN operator](lang_expr.html#in_op) constraint.
  id: totrans-1208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复代码生成器中的一个bug，如果两个或更多的[虚拟表](vtab.html)被连接，并且在连接的外部循环中使用的虚拟表具有[IN运算符](lang_expr.html#in_op)约束，则可能导致结果不正确。
- en: Correctly interpret negative "PRAGMA cache_size" values when determining the
    cache size used for sorting large amounts of data.
  id: totrans-1209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在确定用于排序大量数据的缓存大小时，正确解释负的“PRAGMA cache_size”值。
- en: '**Bug fixes backported into patch release 3.12.1 (2016-04-08):**'
  id: totrans-1210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复已回溯到补丁版本3.12.1（2016-04-08）：**'
- en: Fix a boundary condition error introduced by version 3.12.0 that can result
    in a crash during heavy [SAVEPOINT](lang_savepoint.html) usage. Ticket [7f7f8026eda38](https://www.sqlite.org/src/info/7f7f8026eda38).
  id: totrans-1211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复版本3.12.0引入的边界条件错误，可能在大量使用[SAVEPOINT](lang_savepoint.html)时导致崩溃。票证 [7f7f8026eda38](https://www.sqlite.org/src/info/7f7f8026eda38).
- en: Fix [views](lang_createview.html) so that they inherit column datatypes from
    the table that they are defined against, when possible.
  id: totrans-1212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[视图](lang_createview.html)，使其在可能的情况下从定义它们的表继承列数据类型。
- en: Fix the query planner so that IS and IS NULL operators are able to drive an
    index on a LEFT OUTER JOIN.
  id: totrans-1213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器，使得IS和IS NULL运算符能够驱动左外连接上的索引。
- en: 2016-04-18 (3.12.2)
  id: totrans-1214
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-04-18 (3.12.2)
- en: 'Fix a backwards compatibility problem in version 3.12.0 and 3.12.1: Columns
    declared as `"INTEGER" PRIMARY KEY` (with quotes around the datatype keyword)
    were not being recognized as an [INTEGER PRIMARY KEY](lang_createtable.html#rowid),
    which resulted in an incompatible database file. Ticket [7d7525cb01b68](https://www.sqlite.org/src/info/7d7525cb01b68)'
  id: totrans-1215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了版本3.12.0和3.12.1中的向后兼容性问题：声明为`"INTEGER" PRIMARY KEY`（在数据类型关键字周围带有引号）的列未被识别为[INTEGER
    PRIMARY KEY](lang_createtable.html#rowid)，导致不兼容的数据库文件。票证 [7d7525cb01b68](https://www.sqlite.org/src/info/7d7525cb01b68)
- en: Fix a bug (present since [version 3.9.0](#version_3_9_0)) that can cause the
    [DELETE](lang_delete.html) operation to miss rows if [PRAGMA reverse_unordered_selects](pragma.html#pragma_reverse_unordered_selects)
    is turned on. Ticket [a306e56ff68b8fa5](https://www.sqlite.org/src/info/a306e56ff68b8fa5)
  id: totrans-1216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个 bug（自 [版本 3.9.0](#version_3_9_0) 起存在），可能导致 [DELETE](lang_delete.html) 操作在打开
    [PRAGMA reverse_unordered_selects](pragma.html#pragma_reverse_unordered_selects)
    的情况下丢失行。Ticket [a306e56ff68b8fa5](https://www.sqlite.org/src/info/a306e56ff68b8fa5)
- en: Fix a bug in the code generator that can cause incorrect results if two or more
    [virtual tables](vtab.html) are joined and the virtual table used in outer loop
    of the join has an [IN operator](lang_expr.html#in_op) constraint.
  id: totrans-1217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复代码生成器中的一个 bug，如果两个或更多 [虚拟表](vtab.html) 被连接，并且连接的外部循环中使用的虚拟表具有 [IN 操作符](lang_expr.html#in_op)
    约束，则可能导致结果不正确。
- en: Correctly interpret negative "PRAGMA cache_size" values when determining the
    cache size used for sorting large amounts of data.
  id: totrans-1218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在确定用于排序大量数据的缓存大小时，正确解释负 "PRAGMA cache_size" 值。
- en: '**Hashes:**'
  id: totrans-1219
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2016-04-18 17:30:31 92dc59fd5ad66f646666042eb04195e3a61a9e8e"'
  id: totrans-1220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-04-18 17:30:31 92dc59fd5ad66f646666042eb04195e3a61a9e8e"'
- en: 'SHA1 for sqlite3.c: de5a5898ebd3a3477d4652db143746d008b24c83'
  id: totrans-1221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: de5a5898ebd3a3477d4652db143746d008b24c83'
- en: 2016-04-08 (3.12.1)
  id: totrans-1222
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-04-08 (3.12.1)
- en: Fix a boundary condition error introduced by version 3.12.0 that can result
    in a crash during heavy [SAVEPOINT](lang_savepoint.html) usage. Ticket [7f7f8026eda38](https://www.sqlite.org/src/info/7f7f8026eda38).
  id: totrans-1223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复由版本 3.12.0 引入的一个边界条件错误，可能导致在大量使用 [SAVEPOINT](lang_savepoint.html) 时崩溃。Ticket
    [7f7f8026eda38](https://www.sqlite.org/src/info/7f7f8026eda38)。
- en: Fix [views](lang_createview.html) so that they inherit column datatypes from
    the table that they are defined against, when possible.
  id: totrans-1224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [视图](lang_createview.html)，使其在可能的情况下从定义它们的表继承列数据类型。
- en: Fix the query planner so that IS and IS NULL operators are able to drive an
    index on a LEFT OUTER JOIN.
  id: totrans-1225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器，使得 IS 和 IS NULL 操作符能够驱动 LEFT OUTER JOIN 上的索引。
- en: '**Hashes:**'
  id: totrans-1226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2016-04-08 15:09:49 fe7d3b75fe1bde41511b323925af8ae1b910bc4d"'
  id: totrans-1227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-04-08 15:09:49 fe7d3b75fe1bde41511b323925af8ae1b910bc4d"'
- en: 'SHA1 for sqlite3.c: ebb18593350779850e3e1a930eb84a70fca8c1d1'
  id: totrans-1228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: ebb18593350779850e3e1a930eb84a70fca8c1d1'
- en: 2016-04-01 (3.9.3)
  id: totrans-1229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-04-01 (3.9.3)
- en: Backport a [simple query planner optimization](https://www.sqlite.org/src/info/c648539b52ca28c0)
    that allows the IS operator to drive an index on a LEFT OUTER JOIN. No other changes
    from the [version 3.9.2](#version_3_9_2) baseline.
  id: totrans-1230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一个 [简单的查询规划器优化](https://www.sqlite.org/src/info/c648539b52ca28c0) 回退，允许 IS
    操作符驱动 LEFT OUTER JOIN 上的索引。与 [版本 3.9.2](#version_3_9_2) 基线没有其他变化。
- en: 2016-03-29 (3.12.0)
  id: totrans-1231
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-03-29 (3.12.0)
- en: '**Potentially Disruptive Change:**'
  id: totrans-1232
  prefs: []
  type: TYPE_NORMAL
  zh: '**可能会造成破坏性变更：**'
- en: The [SQLITE_DEFAULT_PAGE_SIZE](compile.html#default_page_size) is increased
    from 1024 to 4096. The [SQLITE_DEFAULT_CACHE_SIZE](compile.html#default_cache_size)
    is changed from 2000 to -2000 so the same amount of cache memory is used by default.
    See the application note on the [version 3.12.0 page size change](pgszchng2016.html)
    for further information.
  id: totrans-1233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLITE_DEFAULT_PAGE_SIZE](compile.html#default_page_size) 从 1024 增加到 4096。[SQLITE_DEFAULT_CACHE_SIZE](compile.html#default_cache_size)
    从 2000 改变为 -2000，因此默认使用相同数量的缓存内存。请查看关于 [版本 3.12.0 页面大小更改](pgszchng2016.html) 的应用注释以获取更多信息。'
- en: '**Performance enhancements:**'
  id: totrans-1234
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**性能增强：**'
- en: Enhancements to the [Lemon parser generator](lemon.html) so that it creates
    a smaller and faster SQL parser.
  id: totrans-1235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [Lemon 解析生成器](lemon.html) 进行了增强，使其创建更小、更快的 SQL 解析器。
- en: Only create [master journal](tempfiles.html#superjrnl) files if two or more
    attached databases are all modified, do not have [PRAGMA synchronous](pragma.html#pragma_synchronous)
    set to OFF, and do not have the [journal_mode](pragma.html#pragma_journal_mode)
    set to OFF, MEMORY, or WAL.
  id: totrans-1236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅当两个或更多附加数据库都被修改，[PRAGMA synchronous](pragma.html#pragma_synchronous) 未设置为 OFF，并且
    [journal_mode](pragma.html#pragma_journal_mode) 未设置为 OFF、MEMORY 或 WAL 时，才会创建 [主日志](tempfiles.html#superjrnl)
    文件。
- en: Only create [statement journal](tempfiles.html#stmtjrnl) files when their size
    exceeds a threshold. Otherwise the journal is held in memory and no I/O occurs.
    The threshold can be configured at compile-time using [SQLITE_STMTJRNL_SPILL](compile.html#stmtjrnl_spill)
    or at start-time using [sqlite3_config](c3ref/config.html)([SQLITE_CONFIG_STMTJRNL_SPILL](c3ref/c_config_covering_index_scan.html#sqliteconfigstmtjrnlspill)).
  id: totrans-1237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅当其大小超过阈值时才会创建 [语句日志](tempfiles.html#stmtjrnl) 文件。否则，日志将保存在内存中，并且不会发生 I/O。可以在编译时使用
    [SQLITE_STMTJRNL_SPILL](compile.html#stmtjrnl_spill) 或在启动时使用 [sqlite3_config](c3ref/config.html)([SQLITE_CONFIG_STMTJRNL_SPILL](c3ref/c_config_covering_index_scan.html#sqliteconfigstmtjrnlspill))
    配置阈值。
- en: The query planner is able to optimize IN operators on [virtual tables](vtab.html)
    even if the [xBestIndex](vtab.html#xbestindex) method does not set the sqlite3_index_constraint_usage.omit
    flag of the virtual table column to the left of the IN operator.
  id: totrans-1238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器能够优化 IN 操作符在 [虚拟表](vtab.html) 上的应用，即使 [xBestIndex](vtab.html#xbestindex)
    方法未将虚拟表列的 sqlite3_index_constraint_usage.omit 标志设置为 IN 操作符左侧。
- en: The query planner now does a better job of optimizing [virtual table](vtab.html)
    accesses in a 3-way or higher join where constraints on the virtual table are
    split across two or more other tables of the join.
  id: totrans-1239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在在 3 路或更高连接中更好地优化 [虚拟表](vtab.html) 访问，其中虚拟表的约束条件分布在连接的两个或更多其他表之间。
- en: More efficient handling of [application-defined SQL functions](appfunc.html),
    especially in cases where the application defines hundreds or thousands of custom
    functions.
  id: totrans-1240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更有效地处理 [应用定义的 SQL 函数](appfunc.html)，特别是在应用程序定义了数百或数千个自定义函数的情况下。
- en: The query planner considers the LIMIT clause when estimating the cost of ORDER
    BY.
  id: totrans-1241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器在估算 ORDER BY 的成本时会考虑 LIMIT 子句。
- en: The configure script (on unix) automatically detects pread() and pwrite() and
    sets compile-time options to use those OS interfaces if they are available.
  id: totrans-1242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置脚本（在 unix 上）现在自动检测 pread() 和 pwrite()，并设置编译时选项以使用这些操作系统接口（如果可用）。
- en: Reduce the amount of memory needed to hold the schema.
  id: totrans-1243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 减少了保存模式所需的内存量。
- en: Other miscellaneous micro-optimizations for improved performance and reduced
    memory usage.
  id: totrans-1244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他杂项微优化，以提升性能并减少内存使用。
- en: '**New Features:**'
  id: totrans-1245
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**新功能：**'
- en: Added the [SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer)
    option to [sqlite3_db_config()](c3ref/db_config.html) which allows the two-argument
    version of the [fts3_tokenizer()](fts3.html#f3tknzr) SQL function to be enabled
    or disabled at run-time.
  id: totrans-1246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER](c3ref/c_dbconfig_defensive.html#sqlitedbconfigenablefts3tokenizer)
    选项到 [sqlite3_db_config()](c3ref/db_config.html)，允许在运行时启用或禁用 [fts3_tokenizer()](fts3.html#f3tknzr)
    SQL 函数的两参数版本。
- en: Added the [sqlite3rbu_bp_progress()](https://www.sqlite.org/src/artifact/d7cc99350?ln=403-443)
    interface to the [RBU](rbu.html) extension.
  id: totrans-1247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 已添加 [sqlite3rbu_bp_progress()](https://www.sqlite.org/src/artifact/d7cc99350?ln=403-443)
    接口到 [RBU](rbu.html) 扩展中。
- en: The [PRAGMA defer_foreign_keys=ON](pragma.html#pragma_defer_foreign_keys) statement
    now also disables [RESTRICT actions](foreignkeys.html#fk_actions) on foreign key.
  id: totrans-1248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PRAGMA defer_foreign_keys=ON](pragma.html#pragma_defer_foreign_keys) 语句现在还会禁用外键的
    [RESTRICT actions](foreignkeys.html#fk_actions)。'
- en: Added the [sqlite3_system_errno()](c3ref/system_errno.html) interface.
  id: totrans-1249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_system_errno()](c3ref/system_errno.html) 接口。
- en: Added the [SQLITE_DEFAULT_SYNCHRONOUS](compile.html#default_synchronous) and
    [SQLITE_DEFAULT_WAL_SYNCHRONOUS](compile.html#default_wal_synchronous) compile-time
    options. The [SQLITE_DEFAULT_SYNCHRONOUS](compile.html#default_synchronous) compile-time
    option replaces the [SQLITE_EXTRA_DURABLE](compile.html#extra_durable) option,
    which is no longer supported.
  id: totrans-1250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_DEFAULT_SYNCHRONOUS](compile.html#default_synchronous) 和 [SQLITE_DEFAULT_WAL_SYNCHRONOUS](compile.html#default_wal_synchronous)
    编译时选项。[SQLITE_DEFAULT_SYNCHRONOUS](compile.html#default_synchronous) 编译时选项取代了不再支持的
    [SQLITE_EXTRA_DURABLE](compile.html#extra_durable) 选项。
- en: Enhanced the ".stats" command in the [command-line shell](cli.html) to show
    more information about I/O performance obtained from /proc, when available.
  id: totrans-1251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [命令行 shell](cli.html) 中的 ".stats" 命令，显示从 /proc 获得的更多 I/O 性能信息（如果可用）。
- en: '**Bug fixes:**'
  id: totrans-1252
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: Make sure the [sqlite3_set_auxdata()](c3ref/get_auxdata.html) values from multiple
    triggers within a single statement do not interfere with one another. Ticket [dc9b1c91](https://www.sqlite.org/src/info/dc9b1c91).
  id: totrans-1253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保来自单个语句中多个触发器的 [sqlite3_set_auxdata()](c3ref/get_auxdata.html) 值不会相互干扰。Ticket
    [dc9b1c91](https://www.sqlite.org/src/info/dc9b1c91)。
- en: Fix the code generator for expressions of the form "x IN (SELECT...)" where
    the SELECT statement on the RHS is a correlated subquery. Ticket [5e3c886796e5512e](https://www.sqlite.org/src/info/5e3c886796e5512e).
  id: totrans-1254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了代码生成器，以支持形如 "x IN (SELECT...)" 的表达式，其中右侧的 SELECT 语句是相关子查询。Ticket [5e3c886796e5512e](https://www.sqlite.org/src/info/5e3c886796e5512e)。
- en: Fix a harmless TSAN warning associated with the [sqlite3_db_readonly()](c3ref/db_readonly.html)
    interface.
  id: totrans-1255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了与 [sqlite3_db_readonly()](c3ref/db_readonly.html) 接口相关的一个无害的 TSAN 警告。
- en: '**Hashes:**'
  id: totrans-1256
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2016-03-29 10:14:15 e9bb4cf40f4971974a74468ef922bdee481c988b"'
  id: totrans-1257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-03-29 10:14:15 e9bb4cf40f4971974a74468ef922bdee481c988b"'
- en: 'SHA1 for sqlite3.c: cba2be96d27cb51978cd4a200397a4ad178986eb'
  id: totrans-1258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1：cba2be96d27cb51978cd4a200397a4ad178986eb
- en: 2016-03-03 (3.11.1)
  id: totrans-1259
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-03-03 (3.11.1)
- en: Improvements to the Makefiles and build scripts used by VisualStudio.
  id: totrans-1260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 Makefile 和 VisualStudio 使用的构建脚本。
- en: Fix an [FTS5](fts5.html) issue in which the 'optimize' command could cause index
    corruption.
  id: totrans-1261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [FTS5](fts5.html) 中 'optimize' 命令可能导致索引损坏的问题。
- en: Fix a buffer overread that might occur if [FTS5](fts5.html) is used to query
    a corrupt database file.
  id: totrans-1262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了如果使用 [FTS5](fts5.html) 查询损坏的数据库文件可能发生的缓冲区过读的问题。
- en: Increase the maximum "scope" value for the [spellfix1](spellfix1.html) extension
    from 6 to 30.
  id: totrans-1263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [spellfix1](spellfix1.html) 扩展的最大 "scope" 值从 6 增加到 30。
- en: 'SQLITE_SOURCE_ID: "2016-03-03 16:17:53 f047920ce16971e573bc6ec9a48b118c9de2b3a7"'
  id: totrans-1264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-03-03 16:17:53 f047920ce16971e573bc6ec9a48b118c9de2b3a7"'
- en: 'SHA1 for sqlite3.c: 3da832fd2af36eaedb05d61a8f4c2bb9f3d54265'
  id: totrans-1265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1：3da832fd2af36eaedb05d61a8f4c2bb9f3d54265
- en: 2016-02-15 (3.11.0)
  id: totrans-1266
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-02-15 (3.11.0)
- en: '**General improvements:**'
  id: totrans-1267
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般改进：**'
- en: Enhanced [WAL mode](wal.html) so that it works efficiently with transactions
    that are larger than the [cache_size](pragma.html#pragma_cache_size).
  id: totrans-1268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了 [WAL mode](wal.html)，以便与大于 [cache_size](pragma.html#pragma_cache_size) 的事务高效工作。
- en: Added the [FTS5 detail option](fts5.html#the_detail_option).
  id: totrans-1269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [FTS5 detail option](fts5.html#the_detail_option)。
- en: Added the "EXTRA" option to [PRAGMA synchronous](pragma.html#pragma_synchronous)
    that does a sync of the containing directory when a rollback journal is unlinked
    in DELETE mode, for better durability. The [SQLITE_EXTRA_DURABLE](compile.html#extra_durable)
    compile-time option enables [PRAGMA synchronous=EXTRA](pragma.html#pragma_synchronous)
    by default.
  id: totrans-1270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [PRAGMA synchronous](pragma.html#pragma_synchronous) 中添加了 "EXTRA" 选项，在 DELETE
    模式下取消回滚日志时，会对包含目录进行同步，以提高耐久性。[SQLITE_EXTRA_DURABLE](compile.html#extra_durable)
    编译时选项默认启用 [PRAGMA synchronous=EXTRA](pragma.html#pragma_synchronous)。
- en: Enhanced the [query planner](optoverview.html) so that it is able to use a [covering
    index](queryplanner.html#covidx) as part of the [OR optimization](optoverview.html#or_opt).
  id: totrans-1271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了 [query planner](optoverview.html) ，使其能够在 [OR optimization](optoverview.html#or_opt)
    的一部分作为 [covering index](queryplanner.html#covidx) 使用。
- en: Avoid recomputing [NOT NULL](lang_createtable.html#notnullconst) and [CHECK
    constraints](lang_createtable.html#ckconst) on unchanged columns in [UPDATE](lang_update.html)
    statement.
  id: totrans-1272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在 [UPDATE](lang_update.html) 语句中对未更改列重新计算 [NOT NULL](lang_createtable.html#notnullconst)
    和 [CHECK constraints](lang_createtable.html#ckconst)。
- en: Many micro-optimizations, resulting in a library that is faster than the previous
    release.
  id: totrans-1273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进行了许多微优化，使得该库比上一个版本更快。
- en: '**Enhancements to the [command-line shell](cli.html):**'
  id: totrans-1274
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**增强了 [command-line shell](cli.html)：**'
- en: By default, the shell is now in "auto-explain" mode. The output of [EXPLAIN](lang_explain.html)
    commands is automatically formatted.
  id: totrans-1275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，shell 现在处于 "auto-explain" 模式。[EXPLAIN](lang_explain.html) 命令的输出会自动格式化。
- en: Added the ".vfslist" [dot-command](cli.html#dotcmd).
  id: totrans-1276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 ".vfslist" [dot-command](cli.html#dotcmd)。
- en: The [SQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments) compile-time
    option is now turned on by default in the standard builds.
  id: totrans-1277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编译时选项 [SQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)
    现在在标准构建中默认开启。
- en: '**Enhancements to the [TCL Interface](tclsqlite.html):**'
  id: totrans-1278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**增强了 [TCL Interface](tclsqlite.html)：**'
- en: If a database connection is opened with the "-uri 1" option, then [URI filenames](uri.html)
    are honored by the "backup" and "restore" commands.
  id: totrans-1279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果使用 "-uri 1" 选项打开数据库连接，则 "backup" 和 "restore" 命令将遵循 [URI filenames](uri.html)。
- en: Added the "-sourceid" option to the "sqlite3" command.
  id: totrans-1280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 "-sourceid" 选项到 "sqlite3" 命令。
- en: '**Makefile improvements:**'
  id: totrans-1281
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Makefile 改进：**'
- en: Improved pthreads detection in configure scripts.
  id: totrans-1282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在配置脚本中改进了 pthreads 的检测。
- en: Add the ability to do MSVC Windows builds from the [amalgamation tarball](download.html#amalgtarball).
  id: totrans-1283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了从 [amalgamation tarball](download.html#amalgtarball) 进行 MSVC Windows 构建的能力。
- en: '**Bug fixes**'
  id: totrans-1284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Bug 修复：**'
- en: Fix an issue with incorrect sharing of VDBE temporary registers between co-routines
    that could cause incorrect query results in obscure cases. Ticket [d06a25c84454a](https://www.sqlite.org/src/info/d06a25c84454a).
  id: totrans-1285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在协程之间错误共享 VDBE 临时寄存器的问题，这可能导致在特定情况下查询结果不正确。Ticket [d06a25c84454a](https://www.sqlite.org/src/info/d06a25c84454a)。
- en: Fix a problem in the [sqlite3_result_subtype()](c3ref/result_subtype.html) interface
    that could cause problems for the [json1](json1.html) extension under obscure
    circumstances. Fix for ticket [f45ac567eaa9f9](https://www.sqlite.org/src/info/f45ac567eaa9f9).
  id: totrans-1286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在特定情况下可能导致 [json1](json1.html) 扩展下的 sqlite3_result_subtype() 接口问题。修复 ticket
    [f45ac567eaa9f9](https://www.sqlite.org/src/info/f45ac567eaa9f9)。
- en: Escape control characters in JSON strings. Fix for ticket [ad2559db380abf8](https://www.sqlite.org/src/info/ad2559db380abf8).
  id: totrans-1287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 JSON 字符串中转义控制字符。修复 ticket [ad2559db380abf8](https://www.sqlite.org/src/info/ad2559db380abf8)。
- en: Reenable the xCurrentTime and xGetLastError methods in the built-in unix [VFSes](vfs.html)
    as long as [SQLITE_OMIT_DEPRECATED](compile.html#omit_deprecated) is not defined.
  id: totrans-1288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只要未定义 [SQLITE_OMIT_DEPRECATED](compile.html#omit_deprecated)，则在内置的unix [VFSes](vfs.html)中重新启用
    xCurrentTime 和 xGetLastError 方法。
- en: '**Backwards Compatibility:**'
  id: totrans-1289
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**向后兼容性：**'
- en: Because of continuing security concerns, the two-argument version of the seldom-used
    and little-known [fts3_tokenizer()](fts3.html#f3tknzr) function is disabled unless
    SQLite is compiled with the [SQLITE_ENABLE_FTS3_TOKENIZER](compile.html#enable_fts3_tokenizer).
  id: totrans-1290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于持续的安全性问题，除非 SQLite 使用 [SQLITE_ENABLE_FTS3_TOKENIZER](compile.html#enable_fts3_tokenizer)
    编译，否则禁用了不常用和少知名的 fts3_tokenizer() 函数的两参数版本。
- en: '**Hashes:**'
  id: totrans-1291
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希值：**'
- en: 'SQLITE_SOURCE_ID: "2016-02-15 17:29:24 3d862f207e3adc00f78066799ac5a8c282430a5f"'
  id: totrans-1292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2016-02-15 17:29:24 3d862f207e3adc00f78066799ac5a8c282430a5f"。
- en: 'SHA1 for sqlite3.c: df01436c5fcfe72d1a95bc172158219796e1a90b'
  id: totrans-1293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为 df01436c5fcfe72d1a95bc172158219796e1a90b。
- en: 2016-01-20 (3.10.2)
  id: totrans-1294
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-01-20 (3.10.2)
- en: '**Critical bug fix:**'
  id: totrans-1295
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键错误修复:**'
- en: Version 3.10.0 introduced a case-folding bug in the [LIKE](lang_expr.html#like)
    operator which is fixed by this patch release. Ticket [80369eddd5c94](https://www.sqlite.org/src/info/80369eddd5c94).
  id: totrans-1296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 版本3.10.0在[LIKE](lang_expr.html#like)操作符中引入了大小写折叠错误，此补丁版本修复了该问题。Ticket [80369eddd5c94](https://www.sqlite.org/src/info/80369eddd5c94)。
- en: '**Other miscellaneous bug fixes:**'
  id: totrans-1297
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**其他杂项错误修复:**'
- en: Fix a use-after-free that can occur when SQLite is compiled with -DSQLITE_HAS_CODEC.
  id: totrans-1298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个使用-DSQLITE_HAS_CODEC编译时可能出现的使用后释放问题。
- en: Fix the build so that it works with -DSQLITE_OMIT_WAL.
  id: totrans-1299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了使用-DSQLITE_OMIT_WAL编译时构建失败的问题。
- en: Fix the configure script for the amalgamation so that the --readline option
    works again on Raspberry PIs.
  id: totrans-1300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了汇编中的配置脚本，以便在树莓派上再次使用--readline选项。
- en: '**Hashes:**'
  id: totrans-1301
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希:**'
- en: 'SQLITE_SOURCE_ID: "2016-01-20 15:27:19 17efb4209f97fb4971656086b138599a91a75ff9"'
  id: totrans-1302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-01-20 15:27:19 17efb4209f97fb4971656086b138599a91a75ff9"'
- en: 'SHA1 for sqlite3.c: f7088b19d97cd7a1c805ee95c696abd54f01de4f'
  id: totrans-1303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c的SHA1值为: f7088b19d97cd7a1c805ee95c696abd54f01de4f'
- en: 2016-01-14 (3.10.1)
  id: totrans-1304
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-01-14 (3.10.1)
- en: '**New feature:**'
  id: totrans-1305
  prefs: []
  type: TYPE_NORMAL
  zh: '**新功能:**'
- en: Add the [SQLITE_FCNTL_JOURNAL_POINTER](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntljournalpointer)
    file control.
  id: totrans-1306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_FCNTL_JOURNAL_POINTER](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntljournalpointer)文件控制。
- en: '**Bug fix:**'
  id: totrans-1307
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复:**'
- en: Fix a 16-month-old bug in the query planner that could generate incorrect results
    when a scalar subquery attempts to use the [block sorting](queryplanner.html#partialsort)
    optimization. Ticket [cb3aa0641d9a4](https://www.sqlite.org/src/info/cb3aa0641d9a4).
  id: totrans-1308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器中16个月前的一个bug，该bug可能在标量子查询尝试使用[块排序](queryplanner.html#partialsort)优化时生成不正确的结果。Ticket
    [cb3aa0641d9a4](https://www.sqlite.org/src/info/cb3aa0641d9a4)。
- en: '**Hashes:**'
  id: totrans-1309
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希:**'
- en: 'SQLITE_SOURCE_ID: "2016-01-13 21:41:56 254419c36766225ca542ae873ed38255e3fb8588"'
  id: totrans-1310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2016-01-13 21:41:56 254419c36766225ca542ae873ed38255e3fb8588"'
- en: 'SHA1 for sqlite3.c: 1398ba8e4043550a533cdd0834bfdad1c9eab0f4'
  id: totrans-1311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c的SHA1值为: 1398ba8e4043550a533cdd0834bfdad1c9eab0f4'
- en: 2016-01-06 (3.10.0)
  id: totrans-1312
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2016-01-06 (3.10.0)
- en: '**General improvements:**'
  id: totrans-1313
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般改进:**'
- en: Added support for [LIKE](lang_expr.html#like), [GLOB](lang_expr.html#glob),
    and [REGEXP](lang_expr.html#regexp) operators on [virtual tables](vtab.html).
  id: totrans-1314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[virtual tables](vtab.html)上[LIKE](lang_expr.html#like)、[GLOB](lang_expr.html#glob)和[REGEXP](lang_expr.html#regexp)操作符的支持。
- en: Added the [colUsed field](vtab.html#colUsed) to [sqlite3_index_info](c3ref/index_info.html)
    for use by the [sqlite3_module.xBestIndex](vtab.html#xbestindex) method.
  id: totrans-1315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[sqlite3_index_info](c3ref/index_info.html)中为[sqlite3_module.xBestIndex](vtab.html#xbestindex)方法添加了[colUsed字段](vtab.html#colUsed)。
- en: Enhance the [PRAGMA cache_spill](pragma.html#pragma_cache_spill) statement to
    accept a 32-bit integer parameter which is the threshold below which cache spilling
    is prohibited.
  id: totrans-1316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[PRAGMA cache_spill](pragma.html#pragma_cache_spill)语句，接受一个32位整数参数，该参数是禁止溢出缓存的阈值。
- en: On unix, if a symlink to a database file is opened, then the corresponding journal
    files are based on the actual filename, not the symlink name.
  id: totrans-1317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在unix系统上，如果打开数据库文件的是一个符号链接，则相应的日志文件基于实际文件名，而不是符号链接名。
- en: Added the "--transaction" option to [sqldiff](sqldiff.html).
  id: totrans-1318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 "--transaction" 选项到[sqldiff](sqldiff.html)。
- en: Added the [sqlite3_db_cacheflush()](c3ref/db_cacheflush.html) interface.
  id: totrans-1319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_db_cacheflush()](c3ref/db_cacheflush.html) 接口。
- en: Added the [sqlite3_strlike()](c3ref/strlike.html) interface.
  id: totrans-1320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_strlike()](c3ref/strlike.html) 接口。
- en: When using [memory-mapped I/O](mmap.html) map the database file read-only so
    that stray pointers and/or array overruns in the application cannot accidentally
    modify the database file.
  id: totrans-1321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用 [内存映射 I/O](mmap.html) 时，将数据库文件映射为只读，以防应用程序中的杂散指针和/或数组溢出意外修改数据库文件。
- en: Added the *experimental* [sqlite3_snapshot_get()](c3ref/snapshot_get.html),
    [sqlite3_snapshot_open()](c3ref/snapshot_open.html), and [sqlite3_snapshot_free()](c3ref/snapshot_free.html)
    interfaces. These are subject to change or removal in a subsequent release.
  id: totrans-1322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 *实验性* 的 [sqlite3_snapshot_get()](c3ref/snapshot_get.html)，[sqlite3_snapshot_open()](c3ref/snapshot_open.html)
    和 [sqlite3_snapshot_free()](c3ref/snapshot_free.html) 接口。这些内容可能在后续版本中更改或移除。
- en: Enhance the ['utc' modifier](lang_datefunc.html#localtime) in the [date and
    time functions](lang_datefunc.html) so that it is a no-op if the date/time is
    known to already be in UTC. (This is not a compatibility break since the behavior
    has long been documented as "undefined" in that case.)
  id: totrans-1323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了 [日期和时间函数](lang_datefunc.html) 中的 ['utc' 修饰符](lang_datefunc.html#localtime)，使其在日期/时间已知为
    UTC 时成为无操作。 （这不会破坏兼容性，因为长期以来在这种情况下的行为一直被文档化为“未定义”。）
- en: Added the [json_group_array()](json1.html#jgrouparray) and [json_group_object()](json1.html#jgroupobject)
    SQL functions in the [json](json1.html#jmini) extension.
  id: totrans-1324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [json](json1.html#jmini) 扩展中添加了 [json_group_array()](json1.html#jgrouparray)
    和 [json_group_object()](json1.html#jgroupobject) SQL 函数。
- en: Added the [SQLITE_LIKE_DOESNT_MATCH_BLOBS](compile.html#like_doesnt_match_blobs)
    compile-time option.
  id: totrans-1325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_LIKE_DOESNT_MATCH_BLOBS](compile.html#like_doesnt_match_blobs) 编译时选项。
- en: Many small performance optimizations.
  id: totrans-1326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多小的性能优化。
- en: '**Portability enhancements:**'
  id: totrans-1327
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**可移植性增强：**'
- en: Work around a sign-extension bug in the optimizer of the HP C compiler on HP/UX.
    [(details)](https://www.sqlite.org/src/fdiff?sbs=1&v1=869c95b0fc73026d&v2=232c242a0ccb3d67)
  id: totrans-1328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了 HP/UX 上 HP C 编译器优化器中的符号扩展 bug。 [(详情)](https://www.sqlite.org/src/fdiff?sbs=1&v1=869c95b0fc73026d&v2=232c242a0ccb3d67)
- en: '**Enhancements to the [command-line shell](cli.html):**'
  id: totrans-1329
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**[命令行 shell](cli.html)的增强功能：**'
- en: Added the ".changes ON|OFF" and ".vfsinfo" [dot-commands](cli.html#dotcmd).
  id: totrans-1330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 ".changes ON|OFF" 和 ".vfsinfo" [点命令](cli.html#dotcmd)。
- en: Translate between MBCS and UTF8 when running in [cmd.exe](https://en.wikipedia.org/wiki/Cmd.exe)
    on Windows.
  id: totrans-1331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Windows 的 [cmd.exe](https://en.wikipedia.org/wiki/Cmd.exe) 中运行时进行 MBCS 和 UTF8
    之间的转换。
- en: '**Enhancements to makefiles:**'
  id: totrans-1332
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Makefile 的增强功能：**'
- en: Added the --enable-editline and --enable-static-shell options to the various
    autoconf-generated configure scripts.
  id: totrans-1333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向各种由 autoconf 生成的 configure 脚本添加了 --enable-editline 和 --enable-static-shell
    选项。
- en: Omit all use of "awk" in the makefiles, to make building easier for MSVC users.
  id: totrans-1334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 makefile 中省略了所有对 "awk" 的使用，以便于 MSVC 用户更轻松地构建。
- en: '**Important fixes:**'
  id: totrans-1335
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**重要修复：**'
- en: Fix inconsistent integer to floating-point comparison operations that could
    result in a corrupt index if the index is created on a table column that contains
    both large integers and floating point values of similar magnitude. Ticket [38a97a87a6](https://www.sqlite.org/src/tktview?name=38a97a87a6).
  id: totrans-1336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了不一致的整数与浮点数比较操作，如果索引在表列上创建，该列包含相似幅度的大整数和浮点数值，则可能导致索引损坏。票号[38a97a87a6](https://www.sqlite.org/src/tktview?name=38a97a87a6)。
- en: Fix an infinite-loop in the query planner that could occur on malformed [common
    table expressions](lang_with.html).
  id: totrans-1337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询规划器中的无限循环问题，可能在格式不正确的[常规表达式](lang_with.html)中发生。
- en: Various bug fixes in the [sqldiff](sqldiff.html) tool.
  id: totrans-1338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[sqldiff工具](sqldiff.html)中修复了各种错误。
- en: '**Hashes:**'
  id: totrans-1339
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**哈希：**'
- en: 'SQLITE_SOURCE_ID: "2016-01-06 11:01:07 fd0a50f0797d154fefff724624f00548b5320566"'
  id: totrans-1340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2016-01-06 11:01:07 fd0a50f0797d154fefff724624f00548b5320566"
- en: 'SHA1 for sqlite3.c: b92ca988ebb6df02ac0c8f866dbf3256740408ac'
  id: totrans-1341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：b92ca988ebb6df02ac0c8f866dbf3256740408ac
- en: 2015-11-02 (3.9.2)
  id: totrans-1342
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-11-02（3.9.2）
- en: Fix the schema parser so that it interprets certain (obscure and ill-formed)
    CREATE TABLE statements the same as legacy. Fix for ticket [ac661962a2aeab3c331](https://www.sqlite.org/src/info/ac661962a2aeab3c331)
  id: totrans-1343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复模式解析器，使其解释某些（模糊且格式不正确的）CREATE TABLE语句与遗留相同。修复了票号[ac661962a2aeab3c331](https://www.sqlite.org/src/info/ac661962a2aeab3c331)
- en: Fix a query planner problem that could result in an incorrect answer due to
    the use of [automatic indexing](optoverview.html#autoindex) in subqueries in the
    FROM clause of a correlated scalar subqueries. Fix for ticket [8a2adec1](https://www.sqlite.org/src/info/8a2adec1).
  id: totrans-1344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器的问题，该问题可能由于在相关标量子查询的FROM子句中使用[自动索引](optoverview.html#autoindex)而导致答案不正确。修复了票号[8a2adec1](https://www.sqlite.org/src/info/8a2adec1)。
- en: 'SQLITE_SOURCE_ID: "2015-11-02 18:31:45 bda77dda9697c463c3d0704014d51627fceee328"'
  id: totrans-1345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2015-11-02 18:31:45 bda77dda9697c463c3d0704014d51627fceee328"
- en: 'SHA1 for sqlite3.c: 1c4013876f50bbaa3e6f0f98e0147c76287684c1'
  id: totrans-1346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：1c4013876f50bbaa3e6f0f98e0147c76287684c1
- en: 2015-10-16 (3.9.1)
  id: totrans-1347
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-10-16（3.9.1）
- en: Fix [the json1 extension](json1.html) so that it does not recognize ASCII form-feed
    as a whitespace character, in order to comply with RFC-7159\. Fix for ticket [57eec374ae1d0a1d](https://www.sqlite.org/src/info/57eec374ae1d0a1d)
  id: totrans-1348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[json1扩展](json1.html)，使其不再将ASCII换页符识别为空白字符，以符合RFC-7159。修复了票号[57eec374ae1d0a1d](https://www.sqlite.org/src/info/57eec374ae1d0a1d)
- en: 'Add a few #ifdef and build script changes to address compilation issues that
    appeared after the 3.9.0 release.'
  id: totrans-1349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一些#ifdef和构建脚本更改，以解决在3.9.0发布后出现的编译问题。
- en: 'SQLITE_SOURCE_ID: ""2015-10-16 17:31:12 767c1727fec4ce11b83f25b3f1bfcfe68a2c8b02"'
  id: totrans-1350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2015-10-16 17:31:12 767c1727fec4ce11b83f25b3f1bfcfe68a2c8b02"
- en: 'SHA1 for sqlite3.c: 5e6d1873a32d82c2cf8581f143649940cac8ae49'
  id: totrans-1351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：5e6d1873a32d82c2cf8581f143649940cac8ae49
- en: 2015-10-14 (3.9.0)
  id: totrans-1352
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-10-14（3.9.0）
- en: '**Policy Changes:**'
  id: totrans-1353
  prefs: []
  type: TYPE_NORMAL
  zh: '**政策更改：**'
- en: The [version numbering conventions](versionnumbers.html) for SQLite are revised
    to use the emerging standard of [semantic versioning](http://semver.org/).
  id: totrans-1354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQLite的版本编号约定](versionnumbers.html)已修订为使用[语义版本控制](http://semver.org/)的新标准。'
- en: '**New Features And Enhancements:**'
  id: totrans-1355
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**新功能和增强：**'
- en: Added [the json1 extension](json1.html) module in the source tree, and in the
    [amalgamation](amalgamation.html). Enable support using the [SQLITE_ENABLE_JSON1](compile.html#enable_json1)
    compile-time option.
  id: totrans-1356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [json1 扩展](json1.html) 模块添加到源树和 [amalgamation](amalgamation.html) 中。通过编译选项
    [SQLITE_ENABLE_JSON1](compile.html#enable_json1) 启用支持。
- en: Added [Full Text Search version 5 (FTS5)](fts5.html) to the [amalgamation](amalgamation.html),
    enabled using [SQLITE_ENABLE_FTS5](compile.html#enable_fts5). FTS5 will be considered
    "experimental" (subject to incompatible changes) for at least one more release
    cycle.
  id: totrans-1357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [Full Text Search version 5 (FTS5)](fts5.html) 添加到 [amalgamation](amalgamation.html)，并使用
    [SQLITE_ENABLE_FTS5](compile.html#enable_fts5) 启用。FTS5 在至少一个发布周期内将被视为“实验性”（可能有不兼容的更改）。
- en: The [CREATE VIEW](lang_createview.html) statement now accepts an optional list
    of column names following the view name.
  id: totrans-1358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[CREATE VIEW](lang_createview.html) 语句现在接受视图名称后面的可选列名列表。'
- en: Added support for [indexes on expressions](expridx.html).
  id: totrans-1359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对表达式索引（[indexes on expressions](expridx.html)）的支持。
- en: Added support for [table-valued functions](vtab.html#tabfunc2) in the FROM clause
    of a [SELECT](lang_select.html) statement.
  id: totrans-1360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [SELECT](lang_select.html) 语句的 FROM 子句中，增加了对表值函数（[table-valued functions](vtab.html#tabfunc2)）的支持。
- en: Added support for [eponymous virtual tables](vtab.html#epovtab).
  id: totrans-1361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [eponymous 虚拟表](vtab.html#epovtab) 的支持。
- en: A [VIEW](lang_createview.html) may now reference undefined tables and functions
    when initially created. Missing tables and functions are reported when the VIEW
    is used in a query.
  id: totrans-1362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，当创建一个视图（[VIEW](lang_createview.html)）时，可以引用未定义的表和函数。当视图在查询中使用时，会报告缺少的表和函数。
- en: Added the [sqlite3_value_subtype()](c3ref/value_subtype.html) and [sqlite3_result_subtype()](c3ref/result_subtype.html)
    interfaced (used by [the json1 extension](json1.html)).
  id: totrans-1363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_value_subtype()](c3ref/value_subtype.html) 和 [sqlite3_result_subtype()](c3ref/result_subtype.html)
    接口（由 [json1 扩展](json1.html) 使用）。
- en: The query planner is now able to use [partial indexes](partialindex.html) that
    contain AND-connected terms in the WHERE clause.
  id: totrans-1364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在可以使用包含 WHERE 子句中 AND 连接项的 [partial indexes](partialindex.html)。
- en: The sqlite3_analyzer.exe utility is updated to report the depth of each btree
    and to show the average fanout for indexes and WITHOUT ROWID tables.
  id: totrans-1365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了 sqlite3_analyzer.exe 实用工具，报告每个 B 树的深度，并显示索引和 WITHOUT ROWID 表的平均扇出。
- en: Enhanced the [dbstat virtual table](dbstat.html) so that it can be used as a
    [table-valued function](vtab.html#tabfunc2) where the argument is the schema to
    be analyzed.
  id: totrans-1366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [dbstat 虚拟表](dbstat.html)，使其可以作为 [table-valued function](vtab.html#tabfunc2)
    使用，其中参数是要分析的模式。
- en: '**Other changes:**'
  id: totrans-1367
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**其他变更：**'
- en: The [sqlite3_memory_alarm()](c3ref/aggregate_count.html) interface, which has
    been deprecated and undocumented for 8 years, is changed into a no-op.
  id: totrans-1368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 已弃用并未记录8年的接口 [sqlite3_memory_alarm()](c3ref/aggregate_count.html) 现在变成了一个空操作（no-op）。
- en: '**Important fixes:**'
  id: totrans-1369
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**重要修复：**'
- en: Fixed a critical bug in the [SQLite Encryption Extension](https://www.sqlite.org/see/doc/trunk/www/readme.wiki)
    that could cause the database to become unreadable and unrecoverable if a [VACUUM](lang_vacuum.html)
    command changed the size of the encryption nonce.
  id: totrans-1370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [SQLite Encryption Extension](https://www.sqlite.org/see/doc/trunk/www/readme.wiki)
    中的一个严重错误，可能会导致数据库在 [VACUUM](lang_vacuum.html) 命令改变加密随机数大小时变得不可读且无法恢复。
- en: Added a memory barrier in the implementation of [sqlite3_initialize()](c3ref/initialize.html)
    to help ensure that it is thread-safe.
  id: totrans-1371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [sqlite3_initialize()](c3ref/initialize.html) 的实现中增加了内存屏障，以帮助确保其线程安全。
- en: Fix the [OR optimization](optoverview.html#or_opt) so that it always ignores
    subplans that do not use an index.
  id: totrans-1372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [OR 优化](optoverview.html#or_opt)，以便始终忽略不使用索引的子计划。
- en: Do not apply the [WHERE-clause push-down optimization](optoverview.html#pushdown)
    on terms that originate in the ON or USING clause of a LEFT JOIN. Fix for ticket
    [c2a19d81652f40568c](https://www.sqlite.org/src/info/c2a19d81652f40568c).
  id: totrans-1373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不要对来自 LEFT JOIN 的 ON 或 USING 子句中源自的条件应用 [WHERE-clause push-down optimization](optoverview.html#pushdown)。修复了票号
    [c2a19d81652f40568c](https://www.sqlite.org/src/info/c2a19d81652f40568c) 的问题。
- en: 'SQLITE_SOURCE_ID: "2015-10-14 12:29:53 a721fc0d89495518fe5612e2e3bbc60befd2e90d"'
  id: totrans-1374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-10-14 12:29:53 a721fc0d89495518fe5612e2e3bbc60befd2e90d"'
- en: 'SHA1 for sqlite3.c: c03e47e152ddb9c342b84ffb39448bf4a2bd4288'
  id: totrans-1375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：c03e47e152ddb9c342b84ffb39448bf4a2bd4288
- en: 2015-07-29 (3.8.11.1)
  id: totrans-1376
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-07-29 (3.8.11.1)
- en: 'Restore an undocumented side-effect of [PRAGMA cache_size](pragma.html#pragma_cache_size):
    force the database schema to be parsed if the database has not been previously
    accessed.'
  id: totrans-1377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 恢复了 [PRAGMA cache_size](pragma.html#pragma_cache_size) 的一个未记录的副作用：如果数据库之前未被访问，则强制解析数据库模式。
- en: Fix a long-standing problem in [sqlite3_changes()](c3ref/changes.html) for [WITHOUT
    ROWID](withoutrowid.html) tables that was reported a few hours after the 3.8.11
    release.
  id: totrans-1378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 [WITHOUT ROWID](withoutrowid.html) 表中存在已久的问题，该问题是在 3.8.11 发布几小时后报告的，涉及
    [sqlite3_changes()](c3ref/changes.html)。
- en: 'SQLITE_SOURCE_ID: "2015-07-29 20:00:57 cf538e2783e468bbc25e7cb2a9ee64d3e0e80b2f"'
  id: totrans-1379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-07-29 20:00:57 cf538e2783e468bbc25e7cb2a9ee64d3e0e80b2f"'
- en: 'SHA1 for sqlite3.c: 3be71d99121fe5b17f057011025bcf84e7cc6c84'
  id: totrans-1380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：3be71d99121fe5b17f057011025bcf84e7cc6c84
- en: 2015-07-27 (3.8.11)
  id: totrans-1381
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-07-27 (3.8.11)
- en: Added the experimental [RBU](rbu.html) extension. Note that this extension is
    experimental and subject to change in incompatible ways.
  id: totrans-1382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的 [RBU](rbu.html) 扩展。请注意，此扩展是实验性的，可能会以不兼容的方式更改。
- en: Added the experimental [FTS5](fts5.html) extension. Note that this extension
    is experimental and subject to change in incompatible ways.
  id: totrans-1383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的 [FTS5](fts5.html) 扩展。请注意，此扩展是实验性的，可能会以不兼容的方式更改。
- en: Added the [sqlite3_value_dup()](c3ref/value_dup.html) and [sqlite3_value_free()](c3ref/value_dup.html)
    interfaces.
  id: totrans-1384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_value_dup()](c3ref/value_dup.html) 和 [sqlite3_value_free()](c3ref/value_dup.html)
    接口。
- en: Enhance the [spellfix1](spellfix1.html) extension to support [ON CONFLICT](lang_conflict.html)
    clauses.
  id: totrans-1385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [spellfix1](spellfix1.html) 扩展以支持 [ON CONFLICT](lang_conflict.html) 子句。
- en: The [IS operator](lang_expr.html#isisnot) is now able to drive indexes.
  id: totrans-1386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[IS 操作符](lang_expr.html#isisnot) 现在能够驱动索引。'
- en: Enhance the query planner to permit [automatic indexing](optoverview.html#autoindex)
    on FROM-clause subqueries that are implemented by co-routine.
  id: totrans-1387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强查询规划器，允许在由协同程序实现的 FROM 子句子查询上进行 [自动索引](optoverview.html#autoindex)。
- en: Disallow the use of "rowid" in [common table expressions](lang_with.html).
  id: totrans-1388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不允许在 [通用表达式](lang_with.html) 中使用 "rowid"。
- en: Added the [PRAGMA cell_size_check](pragma.html#pragma_cell_size_check) command
    for better and earlier detection of database file corruption.
  id: totrans-1389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [PRAGMA cell_size_check](pragma.html#pragma_cell_size_check) 命令，以更好和更早地检测数据库文件损坏。
- en: Added the [matchinfo 'b' flag](fts3.html#matchinfo-b) to the [matchinfo()](fts3.html#matchinfo)
    function in [FTS3](fts3.html).
  id: totrans-1390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [FTS3](fts3.html) 的 [matchinfo()](fts3.html#matchinfo) 函数中添加了 [matchinfo 'b'
    flag](fts3.html#matchinfo-b)。
- en: Improved fuzz-testing of database files, with fixes for problems found.
  id: totrans-1391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进数据库文件的模糊测试，修复发现的问题。
- en: Add the fuzzcheck test program and automatically run this program using both
    SQL and database test cases on "make test".
  id: totrans-1392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加模糊检查测试程序，并在 "make test" 中自动运行此程序，使用 SQL 和数据库测试案例。
- en: Added the [SQLITE_MUTEX_STATIC_VFS1](c3ref/c_mutex_fast.html) static mutex and
    use it in the Windows [VFS](vfs.html).
  id: totrans-1393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_MUTEX_STATIC_VFS1](c3ref/c_mutex_fast.html) 静态互斥体，并在 Windows [VFS](vfs.html)
    中使用它。
- en: The [sqlite3_profile()](c3ref/profile.html) callback is invoked (by [sqlite3_reset()](c3ref/reset.html)
    or [sqlite3_finalize()](c3ref/finalize.html)) for statements that did not run
    to completion.
  id: totrans-1394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当未完成执行的语句被 [sqlite3_reset()](c3ref/reset.html) 或 [sqlite3_finalize()](c3ref/finalize.html)
    调用时，将调用 [sqlite3_profile()](c3ref/profile.html) 回调。
- en: Enhance the page cache so that it can preallocate a block of memory to use for
    the initial set page cache lines. Set the default preallocation to 100 pages.
    Yields about a 5% performance increase on common workloads.
  id: totrans-1395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强页面缓存，使其能够预先分配一块内存用于初始设置页面缓存行。将默认预分配设置为 100 页。在常见工作负载下性能提升约 5%。
- en: Miscellaneous micro-optimizations result in 22.3% more work for the same number
    of CPU cycles relative to the previous release. SQLite now runs twice as fast
    as [version 3.8.0](#version_3_8_0) and three times as fast as [version 3.3.9](#version_3_3_9).
    (Measured using [cachegrind](http://valgrind.org/docs/manual/cg-manual.html) on
    the [speedtest1.c](https://www.sqlite.org/src/artifact/83f6b3318f7ee) workload
    on Ubuntu 14.04 x64 with gcc 4.8.2 and -Os. Your performance may vary.)
  id: totrans-1396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种微小的优化导致相对于上一个版本，同样数量的 CPU 循环执行更多工作量增加了 22.3%。SQLite 现在比 [版本 3.8.0](#version_3_8_0)
    快两倍，比 [版本 3.3.9](#version_3_3_9) 快三倍。（在 Ubuntu 14.04 x64 上使用 gcc 4.8.2 和 -Os，使用
    [cachegrind](http://valgrind.org/docs/manual/cg-manual.html) 在 [speedtest1.c](https://www.sqlite.org/src/artifact/83f6b3318f7ee)
    工作负载上测量。您的性能可能有所不同。）
- en: Added the [sqlite3_result_zeroblob64()](c3ref/result_blob.html) and [sqlite3_bind_zeroblob64()](c3ref/bind_blob.html)
    interfaces.
  id: totrans-1397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_result_zeroblob64()](c3ref/result_blob.html) 和 [sqlite3_bind_zeroblob64()](c3ref/bind_blob.html)
    接口。
- en: '**Important bug fixes:**'
  id: totrans-1398
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**重要的错误修复：**'
- en: Fix [CREATE TABLE AS](lang_createtable.html#createtabas) so that columns of
    type TEXT never end up holding an INT value. Ticket [f2ad7de056ab1dc9200](https://www.sqlite.org/src/info/f2ad7de056ab1dc9200)
  id: totrans-1399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [CREATE TABLE AS](lang_createtable.html#createtabas)，以确保 TEXT 类型的列不会最终持有
    INT 值。票证 [f2ad7de056ab1dc9200](https://www.sqlite.org/src/info/f2ad7de056ab1dc9200)
- en: Fix [CREATE TABLE AS](lang_createtable.html#createtabas) so that it does not
    leave NULL entries in the [sqlite_master table](schematab.html) if the SELECT
    statement on the right-hand side aborts with an error. Ticket [873cae2b6e25b](https://www.sqlite.org/src/info/873cae2b6e25b)
  id: totrans-1400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [CREATE TABLE AS](lang_createtable.html#createtabas)，确保在右侧 SELECT 语句因错误而中止时不在
    [sqlite_master 表](schematab.html) 中留下 NULL 条目。票证 [873cae2b6e25b](https://www.sqlite.org/src/info/873cae2b6e25b)
- en: Fix the [skip-scan optimization](optoverview.html#skipscan) so that it works
    correctly when the [OR optimization](optoverview.html#or_opt) is used on [WITHOUT
    ROWID](withoutrowid.html) tables. Ticket [8fd39115d8f46](https://www.sqlite.org/src/info/8fd39115d8f46)
  id: totrans-1401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [skip-scan 优化](optoverview.html#skipscan)，以便在 [OR 优化](optoverview.html#or_opt)
    在 [WITHOUT ROWID](withoutrowid.html) 表上使用时正确工作。票证 [8fd39115d8f46](https://www.sqlite.org/src/info/8fd39115d8f46)
- en: Fix the [sqlite3_memory_used()](c3ref/memory_highwater.html) and [sqlite3_memory_highwater()](c3ref/memory_highwater.html)
    interfaces so that they actually do provide a 64-bit answer.
  id: totrans-1402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [sqlite3_memory_used()](c3ref/memory_highwater.html) 和 [sqlite3_memory_highwater()](c3ref/memory_highwater.html)
    接口，确保它们实际上提供一个 64 位的答案。
- en: '**Hashes:**'
  id: totrans-1403
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**Hashes:**'
- en: 'SQLITE_SOURCE_ID: "2015-07-27 13:49:41 b8e92227a469de677a66da62e4361f099c0b79d0"'
  id: totrans-1404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-07-27 13:49:41 b8e92227a469de677a66da62e4361f099c0b79d0"'
- en: 'SHA1 for sqlite3.c: 719f6891abcd9c459b5460b191d731cd12a3643e'
  id: totrans-1405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 值: 719f6891abcd9c459b5460b191d731cd12a3643e'
- en: 2015-05-20 (3.8.10.2)
  id: totrans-1406
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-05-20 (3.8.10.2)
- en: Fix an index corruption issue introduced by [version 3.8.7](#version_3_8_7).
    An index with a TEXT key can be corrupted by an [INSERT](lang_insert.html) into
    the corresponding table if the table has two nested triggers that convert the
    key value to INTEGER and back to TEXT again. Ticket [34cd55d68e0](https://www.sqlite.org/src/info/34cd55d68e0e6e7c9a0711aab81a2ee3c354b4c0)
  id: totrans-1407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复由 [版本 3.8.7](#version_3_8_7) 引入的索引损坏问题。如果表有两个嵌套触发器，将键值转换为 INTEGER，然后再转换回 TEXT，索引中带有
    TEXT 键的索引可能会因为 [INSERT](lang_insert.html) 到相应的表中而损坏。票证 [34cd55d68e0](https://www.sqlite.org/src/info/34cd55d68e0e6e7c9a0711aab81a2ee3c354b4c0)
- en: 'SQLITE_SOURCE_ID: "2015-05-20 18:17:19 2ef4f3a5b1d1d0c4338f8243d40a2452cc1f7fe4"'
  id: totrans-1408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-05-20 18:17:19 2ef4f3a5b1d1d0c4338f8243d40a2452cc1f7fe4"'
- en: 'SHA1 for sqlite3.c: 638abb77965332c956dbbd2c8e4248e84da4eb63'
  id: totrans-1409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 值: 638abb77965332c956dbbd2c8e4248e84da4eb63'
- en: 2015-05-09 (3.8.10.1)
  id: totrans-1410
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-05-09 (3.8.10.1)
- en: Make [sqlite3_compileoption_used()](c3ref/compileoption_get.html) responsive
    to the [SQLITE_ENABLE_DBSTAT_VTAB](compile.html#enable_dbstat_vtab) compile-time
    option.
  id: totrans-1411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使 [sqlite3_compileoption_used()](c3ref/compileoption_get.html) 响应 [SQLITE_ENABLE_DBSTAT_VTAB](compile.html#enable_dbstat_vtab)
    编译时选项。
- en: Fix a harmless warning in the [command-line shell](cli.html) on some versions
    of MSVC.
  id: totrans-1412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在某些 MSVC 版本的 [命令行 shell](cli.html) 中的一个无害警告。
- en: Fix minor issues with the [dbstat virtual table](dbstat.html).
  id: totrans-1413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 [dbstat 虚拟表](dbstat.html) 的一些次要问题。
- en: 'SQLITE_SOURCE_ID: "2015-05-09 12:14:55 05b4b1f2a937c06c90db70c09890038f6c98ec40"'
  id: totrans-1414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-05-09 12:14:55 05b4b1f2a937c06c90db70c09890038f6c98ec40"'
- en: 'SHA1 for sqlite3.c: 85e4e1c08c7df28ef61bb9759a0d466e0eefbaa2'
  id: totrans-1415
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：85e4e1c08c7df28ef61bb9759a0d466e0eefbaa2
- en: 2015-05-07 (3.8.10)
  id: totrans-1416
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-05-07 (3.8.10)
- en: Added the [sqldiff.exe](sqldiff.html) utility program for computing the differences
    between two SQLite database files.
  id: totrans-1417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了用于计算两个SQLite数据库文件差异的[sqldiff.exe](sqldiff.html)实用程序程序。
- en: Added the [matchinfo y flag](fts3.html#matchinfo-y) to the [matchinfo()](fts3.html#matchinfo)
    function of [FTS3](fts3.html).
  id: totrans-1418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[matchinfo y flag](fts3.html#matchinfo-y)添加到[FTS3](fts3.html)的[matchinfo()](fts3.html#matchinfo)函数中。
- en: Performance improvements for [ORDER BY](lang_select.html#orderby), [VACUUM](lang_vacuum.html),
    [CREATE INDEX](lang_createindex.html), [PRAGMA integrity_check](pragma.html#pragma_integrity_check),
    and [PRAGMA quick_check](pragma.html#pragma_quick_check).
  id: totrans-1419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ORDER BY](lang_select.html#orderby)，[VACUUM](lang_vacuum.html)，[CREATE INDEX](lang_createindex.html)，[PRAGMA
    integrity_check](pragma.html#pragma_integrity_check)和[PRAGMA quick_check](pragma.html#pragma_quick_check)的性能改进。'
- en: Fix many obscure problems discovered while [SQL fuzzing](testing.html#fuzztesting).
  id: totrans-1420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[SQL模糊测试](testing.html#fuzztesting)期间发现的许多隐晦问题。
- en: Identify all methods for important objects in the interface documentation. ([example](c3ref/context.html))
  id: totrans-1421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在接口文档中标识重要对象的所有方法。([示例](c3ref/context.html))
- en: Made the [American Fuzzy Lop fuzzer](testing.html#aflfuzz) a standard part of
    SQLite's [testing strategy](testing.html).
  id: totrans-1422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[American Fuzzy Lop fuzzer](testing.html#aflfuzz)作为SQLite的[测试策略](testing.html)的标准组成部分。
- en: Add the ".binary" and ".limits" commands to the [command-line shell](cli.html).
  id: totrans-1423
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“.binary”和“.limits”命令添加到[命令行 shell](cli.html)。
- en: Make the [dbstat virtual table](dbstat.html) part of standard builds when compiled
    with the [SQLITE_ENABLE_DBSTAT_VTAB](compile.html#enable_dbstat_vtab) option.
  id: totrans-1424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用[SQLITE_ENABLE_DBSTAT_VTAB](compile.html#enable_dbstat_vtab)选项编译时，将[dbstat
    虚拟表](dbstat.html)作为标准构建的一部分。
- en: 'SQLITE_SOURCE_ID: "2015-05-07 11:53:08 cf975957b9ae671f34bb65f049acf351e650d437"'
  id: totrans-1425
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-05-07 11:53:08 cf975957b9ae671f34bb65f049acf351e650d437"'
- en: 'SHA1 for sqlite3.c: 0b34f0de356a3f21b9dfc761f3b7821b6353c570'
  id: totrans-1426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：0b34f0de356a3f21b9dfc761f3b7821b6353c570
- en: 2015-04-08 (3.8.9)
  id: totrans-1427
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-04-08 (3.8.9)
- en: Add VxWorks-7 as an officially supported and tested platform.
  id: totrans-1428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[VxWorks-7](https://wiki.example.org/vxworks-7)添加为官方支持和测试平台。
- en: Added the [sqlite3_status64()](c3ref/status.html) interface.
  id: totrans-1429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_status64()](c3ref/status.html)接口。
- en: Fix memory size tracking so that it works even if SQLite uses more than 2GiB
    of memory.
  id: totrans-1430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复内存大小跟踪问题，即使SQLite使用超过2GiB的内存也能正常工作。
- en: Added the [PRAGMA index_xinfo](pragma.html#pragma_index_xinfo) command.
  id: totrans-1431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA index_xinfo](pragma.html#pragma_index_xinfo)命令。
- en: Fix a potential 32-bit integer overflow problem in the [sqlite3_blob_read()](c3ref/blob_read.html)
    and [sqlite3_blob_write()](c3ref/blob_write.html) interfaces.
  id: totrans-1432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[sqlite3_blob_read()](c3ref/blob_read.html)和[sqlite3_blob_write()](c3ref/blob_write.html)接口中潜在的32位整数溢出问题。
- en: Ensure that prepared statements automatically reset on extended error codes
    of SQLITE_BUSY and SQLITE_LOCKED even when compiled using [SQLITE_OMIT_AUTORESET](compile.html#omit_autoreset).
  id: totrans-1433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在使用 [SQLITE_OMIT_AUTORESET](compile.html#omit_autoreset) 编译时，即使在 SQLITE_BUSY
    和 SQLITE_LOCKED 的扩展错误码下，准备好的语句也会自动重置。
- en: Correct miscounts in the sqlite3_analyzer.exe utility related to WITHOUT ROWID
    tables.
  id: totrans-1434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正 sqlite3_analyzer.exe 实用程序中关于 WITHOUT ROWID 表的错误计数。
- en: Added the ".dbinfo" command to the [command-line shell](cli.html).
  id: totrans-1435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 ".dbinfo" 命令添加到 [命令行 shell](cli.html)。
- en: Improve the performance of fts3/4 queries that use the OR operator and at least
    one auxiliary fts function.
  id: totrans-1436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提高 fts3/4 查询的性能，这些查询使用 OR 运算符和至少一个辅助 fts 函数。
- en: Fix a bug in the fts3 snippet() function causing it to omit leading separator
    characters from snippets that begin with the first token in a column.
  id: totrans-1437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 fts3 snippet() 函数中的一个 bug，导致它在以列中的第一个标记开头的片段中省略前导分隔符字符。
- en: 'SQLITE_SOURCE_ID: "2015-04-08 12:16:33 8a8ffc862e96f57aa698f93de10dee28e69f6e09"'
  id: totrans-1438
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2015-04-08 12:16:33 8a8ffc862e96f57aa698f93de10dee28e69f6e09"
- en: 'SHA1 for sqlite3.c: 49f1c3ae347e1327b5aaa6c7f76126bdf09c6f42'
  id: totrans-1439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：49f1c3ae347e1327b5aaa6c7f76126bdf09c6f42
- en: 2015-02-25 (3.8.8.3)
  id: totrans-1440
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-02-25 (3.8.8.3)
- en: Fix a bug (ticket [2326c258d02ead33](https://www.sqlite.org/src/info/2326c258d02ead33))
    that can lead to incorrect results if the qualifying constraint of a [partial
    index](partialindex.html) appears in the ON clause of a LEFT JOIN.
  id: totrans-1441
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个 bug（ticket [2326c258d02ead33](https://www.sqlite.org/src/info/2326c258d02ead33)），该
    bug 可导致在 LEFT JOIN 的 ON 子句中出现部分索引的限定约束时产生不正确的结果。
- en: Added the ability to link against the "[linenoise](https://github.com/antirez/linenoise)"
    command-line editing library in unix builds of the [command-line shell](cli.html).
  id: totrans-1442
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 unix 版本的 [命令行 shell](cli.html) 中添加了与 "[linenoise](https://github.com/antirez/linenoise)"
    命令行编辑库链接的功能。
- en: 'SQLITE_SOURCE_ID: "2015-02-25 13:29:11 9d6c1880fb75660bbabd693175579529785f8a6b"'
  id: totrans-1443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2015-02-25 13:29:11 9d6c1880fb75660bbabd693175579529785f8a6b"
- en: 'SHA1 for sqlite3.c: 74ee38c8c6fd175ec85a47276dfcefe8a262827a'
  id: totrans-1444
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：74ee38c8c6fd175ec85a47276dfcefe8a262827a
- en: 2015-01-30 (3.8.8.2)
  id: totrans-1445
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-01-30 (3.8.8.2)
- en: Enhance [sqlite3_wal_checkpoint_v2(TRUNCATE)](c3ref/wal_checkpoint_v2.html)
    interface so that it truncates the WAL file even if there is no checkpoint work
    to be done.
  id: totrans-1446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进 [sqlite3_wal_checkpoint_v2(TRUNCATE)](c3ref/wal_checkpoint_v2.html) 接口，以便即使没有需要执行的检查点工作，也可以截断
    WAL 文件。
- en: 'SQLITE_SOURCE_ID: "2015-01-30 14:30:45 7757fc721220e136620a89c9d28247f28bbbc098"'
  id: totrans-1447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2015-01-30 14:30:45 7757fc721220e136620a89c9d28247f28bbbc098"
- en: 'SHA1 for sqlite3.c: 85ce79948116aa9a087ec345c9d2ce2c1d3cd8af'
  id: totrans-1448
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：85ce79948116aa9a087ec345c9d2ce2c1d3cd8af
- en: 2015-01-20 (3.8.8.1)
  id: totrans-1449
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-01-20 (3.8.8.1)
- en: Fix a bug in the sorting logic, present since version 3.8.4, that can cause
    output to appear in the wrong order on queries that contains an ORDER BY clause,
    a LIMIT clause, and that have approximately 60 or more columns in the result set.
    Ticket [f97c4637102a3ae72b79](https://www.sqlite.org/src/tktview?name=f97c4637102a3ae72b79).
  id: totrans-1450
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复排序逻辑中的一个 bug，自版本 3.8.4 以来存在，该 bug 可导致在查询结果集中包含 ORDER BY 子句、LIMIT 子句，并且大约有
    60 个或更多列时，输出显示顺序错误。Ticket [f97c4637102a3ae72b79](https://www.sqlite.org/src/tktview?name=f97c4637102a3ae72b79)。
- en: 'SQLITE_SOURCE_ID: "2015-01-20 16:51:25 f73337e3e289915a76ca96e7a05a1a8d4e890d55"'
  id: totrans-1451
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-01-20 16:51:25 f73337e3e289915a76ca96e7a05a1a8d4e890d55"'
- en: 'SHA1 for sqlite3.c: 33987fb50dcc09f1429a653d6b47672f5a96f19e'
  id: totrans-1452
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: 33987fb50dcc09f1429a653d6b47672f5a96f19e'
- en: 2015-01-16 (3.8.8)
  id: totrans-1453
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2015-01-16 (3.8.8)
- en: '**New Features:**'
  id: totrans-1454
  prefs: []
  type: TYPE_NORMAL
  zh: '**新功能：**'
- en: Added the [PRAGMA data_version](pragma.html#pragma_data_version) command that
    can be used to determine if a database file has been modified by another process.
  id: totrans-1455
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了可以用来确定数据库文件是否被另一个进程修改的[PRAGMA data_version](pragma.html#pragma_data_version)命令。
- en: Added the [SQLITE_CHECKPOINT_TRUNCATE](c3ref/c_checkpoint_full.html) option
    to the [sqlite3_wal_checkpoint_v2()](c3ref/wal_checkpoint_v2.html) interface,
    with corresponding enhancements to [PRAGMA wal_checkpoint](pragma.html#pragma_wal_checkpoint).
  id: totrans-1456
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[sqlite3_wal_checkpoint_v2()](c3ref/wal_checkpoint_v2.html)接口中添加了[SQLITE_CHECKPOINT_TRUNCATE](c3ref/c_checkpoint_full.html)选项，并相应增强了[PRAGMA
    wal_checkpoint](pragma.html#pragma_wal_checkpoint)。
- en: Added the [sqlite3_stmt_scanstatus()](c3ref/stmt_scanstatus.html) interface,
    available only when compiled with [SQLITE_ENABLE_STMT_SCANSTATUS](compile.html#enable_stmt_scanstatus).
  id: totrans-1457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_stmt_scanstatus()](c3ref/stmt_scanstatus.html)接口，仅在使用[SQLITE_ENABLE_STMT_SCANSTATUS](compile.html#enable_stmt_scanstatus)编译时可用。
- en: The [sqlite3_table_column_metadata()](c3ref/table_column_metadata.html) is enhanced
    to work correctly on [WITHOUT ROWID](withoutrowid.html) tables and to check for
    the existence of a a table if the column name parameter is NULL. The interface
    is now also included in the build by default, without requiring the [SQLITE_ENABLE_COLUMN_METADATA](compile.html#enable_column_metadata)
    compile-time option.
  id: totrans-1458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_table_column_metadata()](c3ref/table_column_metadata.html)增强以在[WITHOUT
    ROWID](withoutrowid.html)表上正常工作，并在列名参数为NULL时检查表的存在。 现在，该接口默认包含在构建中，无需[SQLITE_ENABLE_COLUMN_METADATA](compile.html#enable_column_metadata)编译时选项。'
- en: Added the [SQLITE_ENABLE_API_ARMOR](compile.html#enable_api_armor) compile-time
    option.
  id: totrans-1459
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_ENABLE_API_ARMOR](compile.html#enable_api_armor)编译时选项。
- en: Added the [SQLITE_REVERSE_UNORDERED_SELECTS](compile.html#reverse_unordered_selects)
    compile-time option.
  id: totrans-1460
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_REVERSE_UNORDERED_SELECTS](compile.html#reverse_unordered_selects)编译时选项。
- en: Added the [SQLITE_SORTER_PMASZ](compile.html#sorter_pmasz) compile-time option
    and [SQLITE_CONFIG_PMASZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpmasz)
    start-time option.
  id: totrans-1461
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_SORTER_PMASZ](compile.html#sorter_pmasz)编译时选项和[SQLITE_CONFIG_PMASZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpmasz)启动时选项。
- en: Added the [SQLITE_CONFIG_PCACHE_HDRSZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpcachehdrsz)
    option to [sqlite3_config()](c3ref/config.html) which makes it easier for applications
    to determine the appropriate amount of memory for use with [SQLITE_CONFIG_PAGECACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache).
  id: totrans-1462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[sqlite3_config()](c3ref/config.html)中添加了[SQLITE_CONFIG_PCACHE_HDRSZ](c3ref/c_config_covering_index_scan.html#sqliteconfigpcachehdrsz)选项，使应用程序更容易确定用于[SQLITE_CONFIG_PAGECACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache)的适当内存量。
- en: The number of rows in a [VALUES clause](lang_select.html#values) is no longer
    limited by [SQLITE_LIMIT_COMPOUND_SELECT](c3ref/c_limit_attached.html#sqlitelimitcompoundselect).
  id: totrans-1463
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[VALUES子句](lang_select.html#values)中的行数不再受[SQLITE_LIMIT_COMPOUND_SELECT](c3ref/c_limit_attached.html#sqlitelimitcompoundselect)的限制。'
- en: Added the [eval.c](https://www.sqlite.org/src/artifact/f971962e92ebb8b0) [loadable
    extension](loadext.html) that implements an eval() SQL function that will recursively
    evaluate SQL.
  id: totrans-1464
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[eval.c](https://www.sqlite.org/src/artifact/f971962e92ebb8b0) [可加载扩展](loadext.html)，实现了一个递归评估SQL的eval()
    SQL函数。
- en: '**Performance Enhancements:**'
  id: totrans-1465
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**性能增强：**'
- en: Reduce the number of memcpy() operations involved in balancing a b-tree, for
    3.2% overall performance boost.
  id: totrans-1466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 减少在平衡B树过程中涉及的`memcpy()`操作数量，总体性能提升3.2%。
- en: Improvements to cost estimates for the [skip-scan optimization](optoverview.html#skipscan).
  id: totrans-1467
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了跳跃扫描优化([skip-scan optimization](optoverview.html#skipscan))的成本估算。
- en: The [automatic indexing](optoverview.html#autoindex) optimization is now capable
    of generating a [partial index](partialindex.html) if that is appropriate.
  id: totrans-1468
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果适用，[自动索引](optoverview.html#autoindex)优化现在能够生成[部分索引](partialindex.html)。
- en: '**Bug fixes:**'
  id: totrans-1469
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: Ensure durability following a power loss with "PRAGMA journal_mode=TRUNCATE"
    by calling fsync() right after truncating the journal file.
  id: totrans-1470
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在断电后通过调用`fsync()`截断日志文件后设置"PRAGMA journal_mode=TRUNCATE"以保证耐久性。
- en: The query planner now recognizes that any column in the right-hand table of
    a LEFT JOIN can be NULL, even if that column has a NOT NULL constraint. Avoid
    trying to optimize out NULL tests in those cases. Fix for ticket [6f2222d550f5b0ee7ed](https://www.sqlite.org/src/info/6f2222d550f5b0ee7ed).
  id: totrans-1471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在意识到在LEFT JOIN的右表中的任何列都可能为NULL，即使该列有NOT NULL约束。在这些情况下避免尝试优化NULL测试。修复Ticket
    [6f2222d550f5b0ee7ed](https://www.sqlite.org/src/info/6f2222d550f5b0ee7ed)。
- en: Make sure ORDER BY puts rows in ascending order even if the DISTINCT operator
    is implemented using a descending index. Fix for ticket [c5ea805691bfc4204b1cb9e](https://www.sqlite.org/src/info/c5ea805691bfc4204b1cb9e).
  id: totrans-1472
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保ORDER BY在使用降序索引实现DISTINCT运算符时也能按升序放置行。修复Ticket [c5ea805691bfc4204b1cb9e](https://www.sqlite.org/src/info/c5ea805691bfc4204b1cb9e)。
- en: Fix data races that might occur under stress when running with many threads
    in [shared cache mode](sharedcache.html) where some of the threads are opening
    and closing connections.
  id: totrans-1473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在[共享缓存模式](sharedcache.html)下运行时在压力下可能出现的数据竞态条件，其中一些线程正在打开和关闭连接。
- en: Fix obscure crash bugs found by [american fuzzy lop](http://lcamtuf.coredump.cx/afl/).
    Ticket [a59ae93ee990a55](https://www.sqlite.org/src/info/a59ae93ee990a55).
  id: totrans-1474
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过[american fuzzy lop](http://lcamtuf.coredump.cx/afl/)发现并修复了一些隐晦的崩溃错误。Ticket
    [a59ae93ee990a55](https://www.sqlite.org/src/info/a59ae93ee990a55)。
- en: Work around a GCC optimizer bug (for gcc 4.2.1 on MacOS 10.7) that caused the
    [R-Tree extension](rtree.html) to compute incorrect results when compiled with
    -O3.
  id: totrans-1475
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了GCC优化器在编译时（gcc 4.2.1 on MacOS 10.7）导致[R-Tree扩展](rtree.html)在使用-O3时计算错误结果的问题。
- en: '**Other changes:**'
  id: totrans-1476
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**其他更改：**'
- en: Disable the use of the strchrnul() C-library routine unless it is specifically
    enabled using the -DHAVE_STRCHRNULL compile-time option.
  id: totrans-1477
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 禁用strchrnul() C库例程的使用，除非使用了特定的编译时选项-DHAVE_STRCHRNULL。
- en: Improvements to the effectiveness and accuracy of the [likelihood()](lang_corefunc.html#likelihood),
    [likely()](lang_corefunc.html#likely), and [unlikely()](lang_corefunc.html#unlikely)
    SQL hint functions.
  id: totrans-1478
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[likelihood()](lang_corefunc.html#likelihood)、[likely()](lang_corefunc.html#likely)和[unlikely()](lang_corefunc.html#unlikely)
    SQL提示函数的效果和准确性。
- en: 'SQLITE_SOURCE_ID: "2015-01-16 12:08:06 7d68a42face3ab14ed88407d4331872f5b243fdf"'
  id: totrans-1479
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2015-01-16 12:08:06 7d68a42face3ab14ed88407d4331872f5b243fdf"'
- en: 'SHA1 for sqlite3.c: 91aea4cc722371d58aae3d22e94d2a4165276905'
  id: totrans-1480
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：91aea4cc722371d58aae3d22e94d2a4165276905
- en: 2014-12-09 (3.8.7.4)
  id: totrans-1481
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-12-09 (3.8.7.4)
- en: 'Bug fix: Add in a mutex that was omitted from the previous release.'
  id: totrans-1482
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：添加了在前一个发布版本中遗漏的互斥体。
- en: 'SQLITE_SOURCE_ID: "2014-12-09 01:34:36 f66f7a17b78ba617acde90fc810107f34f1a1f2e"'
  id: totrans-1483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-12-09 01:34:36 f66f7a17b78ba617acde90fc810107f34f1a1f2e"'
- en: 'SHA1 for sqlite3.c: 0a56693a3c24aa3217098afab1b6fecccdedfd23'
  id: totrans-1484
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：0a56693a3c24aa3217098afab1b6fecccdedfd23
- en: 2014-12-05 (3.8.7.3)
  id: totrans-1485
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-12-05 (3.8.7.3)
- en: 'Bug fix: Ensure the cached KeyInfo objects (an internal abstraction not visible
    to the application) do not go stale when operating in [shared cache mode](sharedcache.html)
    and frequently closing and reopening some database connections while leaving other
    database connections on the same shared cache open continuously. Ticket [e4a18565a36884b00edf](https://www.sqlite.org/src/info/e4a18565a36884b00edf).'
  id: totrans-1486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保缓存的KeyInfo对象（应用程序不可见的内部抽象）在[共享缓存模式](sharedcache.html)下操作时，频繁关闭并重新打开某些数据库连接，同时保持其他数据库连接在同一共享缓存中持续打开时不会过期。票证
    [e4a18565a36884b00edf](https://www.sqlite.org/src/info/e4a18565a36884b00edf)。
- en: 'Bug fix: Recognize that any column in the right-hand table of a LEFT JOIN can
    be NULL even if the column has a NOT NULL constraint. Do not apply optimizations
    that assume the column is never NULL. Ticket [6f2222d550f5b0ee7ed](https://www.sqlite.org/src/info/6f2222d550f5b0ee7ed).'
  id: totrans-1487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：意识到在LEFT JOIN的右侧表中，即使列有NOT NULL约束，任何列都可以为NULL。不要应用假设该列永不为NULL的优化。票证 [6f2222d550f5b0ee7ed](https://www.sqlite.org/src/info/6f2222d550f5b0ee7ed)。
- en: 'SQLITE_SOURCE_ID: "2014-12-05 22:29:24 647e77e853e81a5effeb4c33477910400a67ba86"'
  id: totrans-1488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-12-05 22:29:24 647e77e853e81a5effeb4c33477910400a67ba86"'
- en: 'SHA1 for sqlite3.c: 3ad2f5ba3a4a3e3e51a1dac9fda9224b359f0261'
  id: totrans-1489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：3ad2f5ba3a4a3e3e51a1dac9fda9224b359f0261
- en: 2014-11-18 (3.8.7.2)
  id: totrans-1490
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-11-18 (3.8.7.2)
- en: Enhance the [ROLLBACK](lang_transaction.html) command so that pending queries
    are allowed to continue as long as the schema is unchanged. Formerly, a ROLLBACK
    would cause all pending queries to fail with an [SQLITE_ABORT](rescode.html#abort)
    or [SQLITE_ABORT_ROLLBACK](rescode.html#abort_rollback) error. That error is still
    returned if the ROLLBACK modifies the schema.
  id: totrans-1491
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强[ROLLBACK](lang_transaction.html)命令，以便在模式未更改的情况下允许挂起的查询继续执行。以前，ROLLBACK会导致所有挂起的查询失败，并显示[SQLITE_ABORT](rescode.html#abort)或[SQLITE_ABORT_ROLLBACK](rescode.html#abort_rollback)错误。如果ROLLBACK修改了模式，仍会返回该错误。
- en: 'Bug fix: Make sure that NULL results from OP_Column are fully and completely
    NULL and do not have the MEM_Ephem bit set. Ticket [094d39a4c95ee4](https://www.sqlite.org/src/info/094d39a4c95ee4).'
  id: totrans-1492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Bug 修复: 确保 OP_Column 返回的 NULL 结果完全为 NULL，不要设置 MEM_Ephem 位。Ticket [094d39a4c95ee4](https://www.sqlite.org/src/info/094d39a4c95ee4)。'
- en: 'Bug fix: The %c format in sqlite3_mprintf() is able to handle precisions greater
    than 70.'
  id: totrans-1493
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Bug 修复: sqlite3_mprintf() 中的 %c 格式能够处理大于 70 的精度。'
- en: 'Bug fix: Do not automatically remove the DISTINCT keyword from a SELECT that
    forms the right-hand side of an IN operator since it is necessary if the SELECT
    also contains a LIMIT. Ticket [db87229497](https://www.sqlite.org/src/info/db87229497).'
  id: totrans-1494
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Bug 修复: 不要自动从一个 SELECT 中删除形成 IN 运算符右侧的 DISTINCT 关键字，因为如果 SELECT 同时包含 LIMIT，则这是必需的。Ticket
    [db87229497](https://www.sqlite.org/src/info/db87229497)。'
- en: 'SQLITE_SOURCE_ID: "2014-11-18 20:57:56 2ab564bf9655b7c7b97ab85cafc8a48329b27f93"'
  id: totrans-1495
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-11-18 20:57:56 2ab564bf9655b7c7b97ab85cafc8a48329b27f93"'
- en: 'SHA1 for sqlite3.c: b2a68d5783f48dba6a8cb50d8bf69b238c5ec53a'
  id: totrans-1496
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 值: b2a68d5783f48dba6a8cb50d8bf69b238c5ec53a'
- en: 2014-10-29 (3.8.7.1)
  id: totrans-1497
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-10-29 (3.8.7.1)
- en: In [PRAGMA journal_mode=TRUNCATE](pragma.html#pragma_journal_mode) mode, call
    fsync() immediately after truncating the journal file to ensure that the transaction
    is durable across a power loss.
  id: totrans-1498
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [PRAGMA journal_mode=TRUNCATE](pragma.html#pragma_journal_mode) 模式下，在截断日志文件后立即调用
    fsync()，以确保事务在断电时是持久的。
- en: Fix an assertion fault that can occur when updating the NULL value of a field
    at the end of a table that was added using [ALTER TABLE ADD COLUMN](lang_altertable.html).
  id: totrans-1499
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在使用 [ALTER TABLE ADD COLUMN](lang_altertable.html) 添加到表末尾的字段的 NULL 值时可能发生的断言错误。
- en: Do not attempt to use the strchrnul() function from the standard C library unless
    the HAVE_STRCHRNULL compile-time option is set.
  id: totrans-1500
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除非设置了编译时选项 HAVE_STRCHRNULL，否则不要尝试使用标准 C 库中的 strchrnul() 函数。
- en: Fix a couple of problems associated with running an UPDATE or DELETE on a [VIEW](lang_createview.html)
    with a [rowid](lang_createtable.html#rowid) in the WHERE clause.
  id: totrans-1501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在带有 [VIEW](lang_createview.html) 的 [rowid](lang_createtable.html#rowid) 在
    WHERE 子句中执行 UPDATE 或 DELETE 时遇到的一些问题。
- en: 'SQLITE_SOURCE_ID: "2014-10-29 13:59:56 3b7b72c4685aa5cf5e675c2c47ebec10d9704221"'
  id: totrans-1502
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-10-29 13:59:56 3b7b72c4685aa5cf5e675c2c47ebec10d9704221"'
- en: 'SHA1 for sqlite3.c: 2d25bd1a73dc40f538f3a81c28e6efa5999bdf0c'
  id: totrans-1503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 值: 2d25bd1a73dc40f538f3a81c28e6efa5999bdf0c'
- en: 2014-10-17 (3.8.7)
  id: totrans-1504
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-10-17 (3.8.7)
- en: '**Performance Enhancements:**'
  id: totrans-1505
  prefs: []
  type: TYPE_NORMAL
  zh: '**性能增强:**'
- en: Many micro-optimizations result in 20.3% more work for the same number of CPU
    cycles relative to the previous release. The cumulative performance increase since
    [version 3.8.0](#version_3_8_0) is 61%. (Measured using [cachegrind](http://valgrind.org/docs/manual/cg-manual.html)
    on the [speedtest1.c](https://www.sqlite.org/src/artifact/83f6b3318f7ee) workload
    on Ubuntu 13.10 x64 with gcc 4.8.1 and -Os. Your performance may vary.)
  id: totrans-1506
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多微优化导致相同 CPU 周期的工作量增加了 20.3%。自 [版本 3.8.0](#version_3_8_0) 以来的累积性能提升为 61%。（在
    Ubuntu 13.10 x64 上使用 gcc 4.8.1 和 -Os，在 [speedtest1.c](https://www.sqlite.org/src/artifact/83f6b3318f7ee)
    的工作负载上使用 [cachegrind](http://valgrind.org/docs/manual/cg-manual.html) 进行测量。您的性能可能会有所不同。）
- en: The sorter can use auxiliary helper threads to increase real-time response.
    This feature is off by default and may be enabled using the [PRAGMA threads](pragma.html#pragma_threads)
    command or the [SQLITE_DEFAULT_WORKER_THREADS](compile.html#default_worker_threads)
    compile-time option.
  id: totrans-1507
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 排序器可以使用辅助帮助线程来增加实时响应。此功能默认关闭，可以通过[PRAGMA threads](pragma.html#pragma_threads)命令或[SQLITE_DEFAULT_WORKER_THREADS](compile.html#default_worker_threads)编译时选项启用。
- en: Enhance the [skip-scan](optoverview.html#skipscan) optimization so that it is
    able to skip index terms that occur in the middle of the index, not just as the
    left-hand side of the index.
  id: totrans-1508
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了[跳过扫描](optoverview.html#skipscan)优化，使其能够跳过索引中间出现的索引条目，而不仅仅是索引的左侧。
- en: Improved optimization of [CAST](lang_expr.html#castexpr) operators.
  id: totrans-1509
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[CAST](lang_expr.html#castexpr)运算符的优化。
- en: Various improvements in how the query planner uses [sqlite_stat4](fileformat2.html#stat4tab)
    information to estimate plan costs.
  id: totrans-1510
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在查询规划器如何使用[sqlite_stat4](fileformat2.html#stat4tab)信息估算计划成本方面进行了各种改进。
- en: '**New Features:**'
  id: totrans-1511
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**新功能:**'
- en: 'Added new interfaces with 64-bit length parameters: [sqlite3_malloc64()](c3ref/free.html),
    [sqlite3_realloc64()](c3ref/free.html), [sqlite3_bind_blob64()](c3ref/bind_blob.html),
    [sqlite3_result_blob64()](c3ref/result_blob.html), [sqlite3_bind_text64()](c3ref/bind_blob.html),
    and [sqlite3_result_text64()](c3ref/result_blob.html).'
  id: totrans-1512
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了具有64位长度参数的新接口：[sqlite3_malloc64()](c3ref/free.html)，[sqlite3_realloc64()](c3ref/free.html)，[sqlite3_bind_blob64()](c3ref/bind_blob.html)，[sqlite3_result_blob64()](c3ref/result_blob.html)，[sqlite3_bind_text64()](c3ref/bind_blob.html)和[sqlite3_result_text64()](c3ref/result_blob.html)。
- en: Added the new interface [sqlite3_msize()](c3ref/free.html) that returns the
    size of a memory allocation obtained from [sqlite3_malloc64()](c3ref/free.html)
    and its variants.
  id: totrans-1513
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新接口[sqlite3_msize()](c3ref/free.html)，用于返回从[sqlite3_malloc64()](c3ref/free.html)及其变体获取的内存分配的大小。
- en: Added the [SQLITE_LIMIT_WORKER_THREADS](c3ref/c_limit_attached.html#sqlitelimitworkerthreads)
    option to [sqlite3_limit()](c3ref/limit.html) and [PRAGMA threads](pragma.html#pragma_threads)
    command for configuring the number of available worker threads.
  id: totrans-1514
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[sqlite3_limit()](c3ref/limit.html)和[PRAGMA threads](pragma.html#pragma_threads)命令中增加了[SQLITE_LIMIT_WORKER_THREADS](c3ref/c_limit_attached.html#sqlitelimitworkerthreads)选项，用于配置可用工作线程的数量。
- en: The [spellfix1](spellfix1.html) extension allows the application to optionally
    specify the rowid for each INSERT.
  id: totrans-1515
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[spellfix1](spellfix1.html)扩展允许应用程序可选地为每个INSERT指定rowid。'
- en: Added the [User Authentication](https://www.sqlite.org/src/doc/trunk/ext/userauth/user-auth.txt)
    extension.
  id: totrans-1516
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[用户认证](https://www.sqlite.org/src/doc/trunk/ext/userauth/user-auth.txt)扩展。
- en: '**Bug Fixes:**'
  id: totrans-1517
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复:**'
- en: Fix a bug in the [partial index](partialindex.html) implementation that might
    result in an incorrect answer if a partial index is used in a subquery or in a
    [view](lang_createview.html). Ticket [98d973b8f5](https://www.sqlite.org/src/info/98d973b8f5).
  id: totrans-1518
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[部分索引](partialindex.html)实现中的一个bug，如果部分索引用于子查询或[视图](lang_createview.html)，可能会导致答案不正确。票证[98d973b8f5](https://www.sqlite.org/src/info/98d973b8f5)。
- en: Fix a query planner bug that might cause a table to be scanned in the wrong
    direction (thus reversing the order of output) when a DESC index is used to implement
    the ORDER BY clause on a query that has an identical GROUP BY clause. Ticket [ba7cbfaedc7e6](https://www.sqlite.org/src/info/ba7cbfaedc7e6).
  id: totrans-1519
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器的一个 bug，可能导致使用 DESC 索引实现 ORDER BY 子句时，表被错误地扫描（从而颠倒输出顺序）。Ticket [ba7cbfaedc7e6](https://www.sqlite.org/src/info/ba7cbfaedc7e6)。
- en: Fix a bug in [sqlite3_trace()](c3ref/profile.html) that was causing it to sometimes
    fail to print an SQL statement if that statement needed to be re-prepared. Ticket
    [11d5aa455e0d98f3c1e6a08](https://www.sqlite.org/src/info/11d5aa455e0d98f3c1e6a08)
  id: totrans-1520
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sqlite3_trace()](c3ref/profile.html) 中的一个 bug，有时导致无法打印 SQL 语句，如果该语句需要重新准备。Ticket
    [11d5aa455e0d98f3c1e6a08](https://www.sqlite.org/src/info/11d5aa455e0d98f3c1e6a08)
- en: Fix a faulty assert() statement. Ticket [369d57fb8e5ccdff06f1](https://www.sqlite.org/src/info/369d57fb8e5ccdff06f1)
  id: totrans-1521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个错误的 assert() 语句。 Ticket [369d57fb8e5ccdff06f1](https://www.sqlite.org/src/info/369d57fb8e5ccdff06f1)
- en: '**Test, Debug, and Analysis Changes:**'
  id: totrans-1522
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**测试、调试和分析更改：**'
- en: Show ASCII-art abstract syntax tree diagrams using the ".selecttrace" and ".wheretrace"
    commands in the [command-line shell](cli.html) when compiled with [SQLITE_DEBUG](compile.html#debug),
    SQLITE_ENABLE_SELECTTRACE, and SQLITE_ENABLE_WHERETRACE. Also provide the sqlite3TreeViewExpr()
    and sqlite3TreeViewSelect() entry points that can be invoked from with the debugger
    to show the parse tree when stopped at a breakpoint.
  id: totrans-1523
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [命令行 shell](cli.html) 编译时，使用 ".selecttrace" 和 ".wheretrace" 命令显示 ASCII 艺术风格的抽象语法树图，同时需要编译开启
    [SQLITE_DEBUG](compile.html#debug)、SQLITE_ENABLE_SELECTTRACE 和 SQLITE_ENABLE_WHERETRACE。同时提供
    sqlite3TreeViewExpr() 和 sqlite3TreeViewSelect() 入口点，可以在调试器中断点时调用以显示解析树。
- en: Drop support for SQLITE_ENABLE_TREE_EXPLAIN. The SELECTTRACE mechanism provides
    more useful diagnostics information.
  id: totrans-1524
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 放弃了对 SQLITE_ENABLE_TREE_EXPLAIN 的支持。SELECTTRACE 机制提供了更有用的诊断信息。
- en: 'New options to the [command-line shell](cli.html) for configuring auxiliary
    memory usage: --pagecache, --lookaside, and --scratch.'
  id: totrans-1525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '为配置辅助内存使用增加了新选项到 [命令行 shell](cli.html): --pagecache, --lookaside 和 --scratch。'
- en: 'SQLITE_SOURCE_ID: "2014-10-17 11:24:17 e4ab094f8afce0817f4074e823fabe59fc29ebb4"'
  id: totrans-1526
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-10-17 11:24:17 e4ab094f8afce0817f4074e823fabe59fc29ebb4"'
- en: 'SHA1 for sqlite3.c: 56dcf5e931a9e1fa12fc2d600cd91d3bf9b639cd'
  id: totrans-1527
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c 的 SHA1 校验值: 56dcf5e931a9e1fa12fc2d600cd91d3bf9b639cd'
- en: 2014-08-15 (3.8.6)
  id: totrans-1528
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-08-15 (3.8.6)
- en: 'Added support for [hexadecimal integer literals](lang_expr.html#hexint) in
    the SQL parser. (Ex: 0x123abc)'
  id: totrans-1529
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在 SQL 解析器中添加了对 [十六进制整数字面量](lang_expr.html#hexint) 的支持。 (例如: 0x123abc)'
- en: Enhanced the [PRAGMA integrity_check](pragma.html#pragma_integrity_check) command
    to detect [UNIQUE](lang_createtable.html#uniqueconst) and [NOT NULL](lang_createtable.html#notnullconst)
    constraint violations.
  id: totrans-1530
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 命令，以检测 [UNIQUE](lang_createtable.html#uniqueconst)
    和 [NOT NULL](lang_createtable.html#notnullconst) 约束的违规情况。
- en: Increase the maximum value of [SQLITE_MAX_ATTACHED](limits.html#max_attached)
    from 62 to 125.
  id: totrans-1531
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [SQLITE_MAX_ATTACHED](limits.html#max_attached) 的最大值从 62 增加到 125。
- en: Increase the timeout in [WAL mode](wal.html) before issuing an [SQLITE_PROTOCOL](rescode.html#protocol)
    error from 1 second to 10 seconds.
  id: totrans-1532
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在在[WAL 模式](wal.html)下超时之前发出[SQLITE_PROTOCOL](rescode.html#protocol)错误的时间从1秒增加到10秒。
- en: Added the [likely(X)](lang_corefunc.html#likely) SQL function.
  id: totrans-1533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[likely(X)](lang_corefunc.html#likely) SQL 函数。
- en: The [unicode61](fts3.html#unicode61) tokenizer is now included in [FTS4](fts3.html#fts4)
    by default.
  id: totrans-1534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[FTS4](fts3.html#fts4)现在默认包含[unicode61](fts3.html#unicode61)分词器。'
- en: Trigger automatic reprepares on all prepared statements when [ANALYZE](lang_analyze.html)
    is run.
  id: totrans-1535
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当运行[ANALYZE](lang_analyze.html)时，确保所有预编译语句都会触发自动重新准备。
- en: 'Added a new [loadable extension](loadext.html) source code file to the source
    tree: [fileio.c](https://www.sqlite.org/src/finfo?name=ext/misc/fileio.c)'
  id: totrans-1536
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在源代码树中添加了一个新的[可加载扩展](loadext.html)源代码文件：[fileio.c](https://www.sqlite.org/src/finfo?name=ext/misc/fileio.c)
- en: Add extension functions [readfile(X) and writefile(X,Y)](cli.html#fileio) (using
    code copy/pasted from fileio.c in the previous bullet) to the [command-line shell](cli.html).
  id: totrans-1537
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[命令行 shell](cli.html)中添加了扩展函数[readfile(X) 和 writefile(X,Y)](cli.html#fileio)（使用从前述条目中的
    fileio.c 复制/粘贴的代码）。
- en: Added the [.fullschema](cli.html#fullschema) dot-command to the [command-line
    shell](cli.html).
  id: totrans-1538
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[命令行 shell](cli.html)中添加了[.fullschema](cli.html#fullschema)点命令。
- en: '**Performance Enhancements:**'
  id: totrans-1539
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**性能增强：**'
- en: Deactivate the [DISTINCT](lang_select.html#distinct) keyword on subqueries on
    the right-hand side of the [IN operator](lang_expr.html#in_op).
  id: totrans-1540
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[IN 操作符](lang_expr.html#in_op)右侧的子查询上停用[DISTINCT](lang_select.html#distinct)关键字。
- en: Add the capability of evaluating an [IN operator](lang_expr.html#in_op) as a
    sequence of comparisons as an alternative to using a table lookup. Use the sequence
    of comparisons implementation in circumstances where it is likely to be faster,
    such as when the right-hand side of the IN operator is small and/or changes frequently.
  id: totrans-1541
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了作为一系列比较来评估[IN 操作符](lang_expr.html#in_op)的能力，作为使用表查找的替代方案。在右侧的 IN 操作符较小且/或频繁更改时，使用比较序列实现在可能更快的情况下。
- en: The query planner now uses [sqlite_stat4](fileformat2.html#stat4tab) information
    (created by [ANALYZE](lang_analyze.html)) to help determine if the [skip-scan
    optimization](optoverview.html#skipscan) is appropriate.
  id: totrans-1542
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器现在使用[sqlite_stat4](fileformat2.html#stat4tab)信息（由[ANALYZE](lang_analyze.html)创建）来帮助确定是否适合使用[跳过扫描优化](optoverview.html#skipscan)。
- en: Ensure that the query planner never tries to use a self-made transient index
    in place of a schema-defined index.
  id: totrans-1543
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保查询规划器在尝试使用自制的临时索引替代模式定义的索引时不会出现。
- en: Other minor tweaks to improve the quality of [VDBE](opcode.html) code.
  id: totrans-1544
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[VDBE](opcode.html)代码进行了其他微小的调整，以提高质量。
- en: '**Bug Fixes:**'
  id: totrans-1545
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: Fix a bug in [CREATE UNIQUE INDEX](lang_createindex.html), introduced when [WITHOUT
    ROWID](withoutrowid.html) support added in version 3.8.2, that allows a non-unique
    NOT NULL column to be given a UNIQUE index. Ticket [9a6daf340df99ba93c](https://www.sqlite.org/src/info/9a6daf340df99ba93c)
  id: totrans-1546
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在版本 3.8.2 中添加 [WITHOUT ROWID](withoutrowid.html) 支持时引入的错误，允许给非唯一 NOT NULL
    列添加唯一索引。Ticket [9a6daf340df99ba93c](https://www.sqlite.org/src/info/9a6daf340df99ba93c)
- en: Fix a bug in [R-Tree extension](rtree.html), introduced in the previous release,
    that can cause an incorrect results for queries that use the rowid of the R-Tree
    on the left-hand side of an [IN operator](lang_expr.html#in_op). Ticket [d2889096e7bdeac6](https://www.sqlite.org/src/info/d2889096e7bdeac6).
  id: totrans-1547
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在上一个版本中引入的 [R-Tree 扩展](rtree.html) 中的错误，该错误可能导致在 [IN 操作符](lang_expr.html#in_op)
    的左侧使用 R-Tree 的 rowid 时出现不正确的结果。Ticket [d2889096e7bdeac6](https://www.sqlite.org/src/info/d2889096e7bdeac6)。
- en: Fix the [sqlite3_stmt_busy()](c3ref/stmt_busy.html) interface so that it gives
    the correct answer for [ROLLBACK](lang_transaction.html) statements that have
    been stepped but never reset.
  id: totrans-1548
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sqlite3_stmt_busy()](c3ref/stmt_busy.html) 接口，以便对已经步进但从未重置的 [ROLLBACK](lang_transaction.html)
    语句给出正确的答案。
- en: Fix a bug in that would cause a null pointer to be dereferenced if a column
    with a DEFAULT that is an aggregate function tried to usee its DEFAULT. Ticket
    [3a88d85f36704eebe1](https://www.sqlite.org/src/info/3a88d85f36704eebe1)
  id: totrans-1549
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个错误，如果具有聚合函数的 DEFAULT 列尝试使用其 DEFAULT，将导致空指针被解引用。Ticket [3a88d85f36704eebe1](https://www.sqlite.org/src/info/3a88d85f36704eebe1)
- en: CSV output from the [command-line shell](cli.html) now always uses CRNL for
    the row separator and avoids inserting CR in front of NLs contained in data.
  id: totrans-1550
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自 [命令行 shell](cli.html) 的 CSV 输出现在始终使用 CRNL 作为行分隔符，并避免在数据中插入 CR 前缀的 NL。
- en: Fix a [column affinity](datatype3.html#affinity) problem with the [IN operator](lang_expr.html#in_op).
    Ticket [9a8b09f8e6](https://www.sqlite.org/src/info/9a8b09f8e6).
  id: totrans-1551
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [IN 操作符](lang_expr.html#in_op) 中与 [列亲和性](datatype3.html#affinity) 有关的问题。Ticket
    [9a8b09f8e6](https://www.sqlite.org/src/info/9a8b09f8e6)。
- en: Fix the [ANALYZE](lang_analyze.html) command so that it adds correct samples
    for [WITHOUT ROWID](withoutrowid.html) tables in the [sqlite_stat4](fileformat2.html#stat4tab)
    table. Ticket [b2fa5424e6fcb15](https://www.sqlite.org/src/info/b2fa5424e6fcb15).
  id: totrans-1552
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [ANALYZE](lang_analyze.html) 命令，以便在 [sqlite_stat4](fileformat2.html#stat4tab)
    表中的 [WITHOUT ROWID](withoutrowid.html) 表中添加正确的样本。Ticket [b2fa5424e6fcb15](https://www.sqlite.org/src/info/b2fa5424e6fcb15)。
- en: 'SQLITE_SOURCE_ID: "2014-08-15 11:46:33 9491ba7d738528f168657adb43a198238abde19e"'
  id: totrans-1553
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-08-15 11:46:33 9491ba7d738528f168657adb43a198238abde19e"'
- en: 'SHA1 for sqlite3.c: 72c64f05cd9babb9c0f9b3c82536d83be7804b1c'
  id: totrans-1554
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：72c64f05cd9babb9c0f9b3c82536d83be7804b1c
- en: 2014-06-04 (3.8.5)
  id: totrans-1555
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-06-04 (3.8.5)
- en: Added support for [partial sorting by index](queryplanner.html#partialsort).
  id: totrans-1556
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对索引的 [部分排序](queryplanner.html#partialsort) 的支持。
- en: Enhance the query planner so that it always prefers an index that uses a superset
    of WHERE clause terms relative to some other index.
  id: totrans-1557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了查询规划器，以便始终优先选择使用 WHERE 子句术语的超集的索引而不是其他索引。
- en: Improvements to the [automerge command](fts3.html#*fts4automergecmd) of [FTS4](fts3.html#fts4)
    to better control the index size for a full-text index that is subject to a large
    number of updates.
  id: totrans-1558
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [FTS4](fts3.html#fts4) 的 [automerge 命令](fts3.html#*fts4automergecmd) 进行改进，以更好地控制完全文本索引的索引大小，特别是针对大量更新的情况。
- en: Added the [sqlite3_rtree_query_callback()](rtree.html#xquery) interface to [R-Tree
    extension](rtree.html)
  id: totrans-1559
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_rtree_query_callback()](rtree.html#xquery) 接口到 [R-Tree 扩展](rtree.html)。
- en: Added new [URI query parameters](uri.html#coreqp) "nolock" and "immutable".
  id: totrans-1560
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的 [URI 查询参数](uri.html#coreqp) "nolock" 和 "immutable"。
- en: Use less memory by not remembering CHECK constraints on read-only database connections.
  id: totrans-1561
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在只读数据库连接中不再记住 CHECK 约束，从而减少内存使用。
- en: Enable the [OR optimization](queryplanner.html#or_in_where) for [WITHOUT ROWID](withoutrowid.html)
    tables.
  id: totrans-1562
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [WITHOUT ROWID](withoutrowid.html) 表启用 [OR 优化](queryplanner.html#or_in_where)。
- en: Render expressions of the form "x IN (?)" (with a single value in the list on
    the right-hand side of the IN operator) as if they where "x==?", Similarly optimize
    "x NOT IN (?)"
  id: totrans-1563
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将形如 "x IN (?)"（右侧列表中只有一个值的情况）的表达式优化为 "x==?"，类似地优化 "x NOT IN (?)"。
- en: Add the ".system" and ".once" commands to the [command-line shell](cli.html).
  id: totrans-1564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 [命令行 shell](cli.html) 添加了 ".system" 和 ".once" 命令。
- en: Added the [SQLITE_IOCAP_IMMUTABLE](c3ref/c_iocap_atomic.html) bit to the set
    of bits that can be returned by the xDeviceCharacteristics method of a [VFS](vfs.html).
  id: totrans-1565
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_IOCAP_IMMUTABLE](c3ref/c_iocap_atomic.html) 位到 [VFS](vfs.html) 的
    xDeviceCharacteristics 方法返回的位集合中。
- en: Added the [SQLITE_TESTCTRL_BYTEORDER](c3ref/c_testctrl_always.html) test control.
  id: totrans-1566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_TESTCTRL_BYTEORDER](c3ref/c_testctrl_always.html) 测试控制功能。
- en: '**Bug Fixes:**'
  id: totrans-1567
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**错误修复：**'
- en: OFFSET clause ignored on queries without a FROM clause. Ticket [07d6a0453d](https://www.sqlite.org/src/info/07d6a0453d)
  id: totrans-1568
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在没有 FROM 子句的查询中忽略了 OFFSET 子句。Ticket [07d6a0453d](https://www.sqlite.org/src/info/07d6a0453d)。
- en: Assertion fault on queries involving expressions of the form "x IN (?)". Ticket
    [e39d032577](https://www.sqlite.org/src/info/e39d032577).
  id: totrans-1569
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在涉及形如 "x IN (?)" 的表达式的查询中出现断言错误。Ticket [e39d032577](https://www.sqlite.org/src/info/e39d032577)。
- en: Incorrect column datatype reported. Ticket [a8a0d2996a](https://www.sqlite.org/src/info/a8a0d2996a)
  id: totrans-1570
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 报告了不正确的列数据类型。Ticket [a8a0d2996a](https://www.sqlite.org/src/info/a8a0d2996a)。
- en: Duplicate row returned on a query against a table with more than 16 indices,
    each on a separate column, and all used via OR-connected constraints. Ticket [10fb063b11](https://www.sqlite.org/src/info/10fb063b11)
  id: totrans-1571
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在针对具有超过 16 个索引（每个索引对应不同列）并且通过 OR 连接的约束使用所有索引时，查询返回了重复的行。Ticket [10fb063b11](https://www.sqlite.org/src/info/10fb063b11)。
- en: Partial index causes assertion fault on UPDATE OR REPLACE. Ticket [2ea3e9fe63](https://www.sqlite.org/src/info/2ea3e9fe63)
  id: totrans-1572
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 UPDATE OR REPLACE 操作中，部分索引导致断言错误。Ticket [2ea3e9fe63](https://www.sqlite.org/src/info/2ea3e9fe63)。
- en: Crash when calling undocumented SQL function sqlite_rename_parent() with NULL
    parameters. Ticket [264b970c43](https://www.sqlite.org/src/info/264b970c4379fd)
  id: totrans-1573
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当调用未记录的 SQL 函数 sqlite_rename_parent() 时，参数为空时发生崩溃。Ticket [264b970c43](https://www.sqlite.org/src/info/264b970c4379fd)。
- en: ORDER BY ignored if the query has an identical GROUP BY. Ticket [b75a9ca6b0](https://www.sqlite.org/src/info/b75a9ca6b0499)
  id: totrans-1574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果查询具有相同的 GROUP BY，那么会忽略 ORDER BY。Ticket [b75a9ca6b0](https://www.sqlite.org/src/info/b75a9ca6b0499)
- en: The group_concat(x,'') SQL function returns NULL instead of an empty string
    when all inputs are empty strings. Ticket [55746f9e65](https://www.sqlite.org/src/info/55746f9e65f85)
  id: totrans-1575
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: group_concat(x,'') SQL 函数在所有输入都是空字符串时返回 NULL，而不是空字符串。Ticket [55746f9e65](https://www.sqlite.org/src/info/55746f9e65f85)
- en: Fix a bug in the VDBE code generator that caused crashes when doing an INSERT
    INTO ... SELECT statement where the number of columns being inserted is larger
    than the number of columns in the destination table. Ticket [e9654505cfd](https://www.sqlite.org/src/info/e9654505cfda9)
  id: totrans-1576
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 VDBE 代码生成器中的 bug，在执行 INSERT INTO ... SELECT 语句时，被插入的列数大于目标表中的列数时会导致崩溃。Ticket
    [e9654505cfd](https://www.sqlite.org/src/info/e9654505cfda9)
- en: Fix a problem in CSV import in the [command-line shell](cli.html) where if the
    leftmost field of the first row in the CSV file was both zero bytes in size and
    unquoted no data would be imported.
  id: totrans-1577
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了命令行 shell 中 CSV 导入的问题，当 CSV 文件第一行最左侧字段大小为零字节且未引用时，不会导入任何数据。
- en: Fix a problem in FTS4 where the left-most column that contained the [notindexed
    column](fts3.html#fts4notindexed) name as a prefix was not indexed rather than
    the column whose name matched exactly.
  id: totrans-1578
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 FTS4 中的问题，左起第一列包含 [notindexed 列](fts3.html#fts4notindexed) 名称作为前缀时未被索引而不是其名称完全匹配的列。
- en: Fix the [sqlite3_db_readonly()](c3ref/db_readonly.html) interface so that it
    returns true if the database is read-only due to the file format write version
    number being too large.
  id: totrans-1579
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [sqlite3_db_readonly()](c3ref/db_readonly.html) 接口，以便在数据库由于文件格式写入版本号过大而只读时返回
    true。
- en: 'SQLITE_SOURCE_ID: "2014-06-04 14:06:34 b1ed4f2a34ba66c29b130f8d13e9092758019212"'
  id: totrans-1580
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-06-04 14:06:34 b1ed4f2a34ba66c29b130f8d13e9092758019212"'
- en: 'SHA1 for sqlite3.c: 7bc194957238c61b1a47f301270286be5bc5208c'
  id: totrans-1581
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1：7bc194957238c61b1a47f301270286be5bc5208c
- en: 2014-04-03 (3.8.4.3)
  id: totrans-1582
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-04-03 (3.8.4.3)
- en: Add a [one-character fix](https://www.sqlite.org/src/fdiff?sbs=1&v1=7d539cedb1c&v2=ebad891b7494d&smhdr)
    for a problem that might cause incorrect query results on a query that mixes DISTINCT,
    GROUP BY in a subquery, and ORDER BY. [Ticket 98825a79ce14](https://www.sqlite.org/src/info/98825a79ce1456863).
  id: totrans-1583
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为可能导致在混合 DISTINCT、子查询中的 GROUP BY 和 ORDER BY 的查询上产生不正确结果的问题添加了一个 [一字符修复](https://www.sqlite.org/src/fdiff?sbs=1&v1=7d539cedb1c&v2=ebad891b7494d&smhdr)。Ticket
    98825a79ce14](https://www.sqlite.org/src/info/98825a79ce1456863)。
- en: 'SQLITE_SOURCE_ID: "2014-04-03 16:53:12 a611fa96c4a848614efe899130359c9f6fb889c3"'
  id: totrans-1584
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-04-03 16:53:12 a611fa96c4a848614efe899130359c9f6fb889c3"'
- en: 'SHA1 for sqlite3.c: 310a1faeb9332a3cd8d1f53b4a2e055abf537bdc'
  id: totrans-1585
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1：310a1faeb9332a3cd8d1f53b4a2e055abf537bdc
- en: 2014-03-26 (3.8.4.2)
  id: totrans-1586
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-03-26 (3.8.4.2)
- en: Fix a potential buffer overread that could result when trying to search a corrupt
    database file.
  id: totrans-1587
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复搜索损坏的数据库文件时可能导致的潜在缓冲区溢出问题。
- en: 'SQLITE_SOURCE_ID: "2014-03-26 18:51:19 02ea166372bdb2ef9d8dfbb05e78a97609673a8e"'
  id: totrans-1588
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-03-26 18:51:19 02ea166372bdb2ef9d8dfbb05e78a97609673a8e"'
- en: 'SHA1 for sqlite3.c: 4685ca86c2ea0649ed9f59a500013e90b3fe6d03'
  id: totrans-1589
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: 4685ca86c2ea0649ed9f59a500013e90b3fe6d03'
- en: 2014-03-11 (3.8.4.1)
  id: totrans-1590
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-03-11 (3.8.4.1)
- en: Work around a C-preprocessor macro conflict that breaks the build for some configurations
    with Microsoft Visual Studio.
  id: totrans-1591
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了破坏一些配置下使用 Microsoft Visual Studio 构建的 C 预处理宏冲突问题。
- en: When computing the cost of the [skip-scan optimization](optoverview.html#skipscan),
    take into account the fact that multiple seeks are required.
  id: totrans-1592
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在计算 [skip-scan 优化](optoverview.html#skipscan) 的成本时，考虑到需要多次查找的事实。
- en: 'SQLITE_SOURCE_ID: "2014-03-11 15:27:36 018d317b1257ce68a92908b05c9c7cf1494050d0"'
  id: totrans-1593
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2014-03-11 15:27:36 018d317b1257ce68a92908b05c9c7cf1494050d0"'
- en: 'SHA1 for sqlite3.c: d5cd1535053a50aa8633725e3595740b33709ac5'
  id: totrans-1594
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: d5cd1535053a50aa8633725e3595740b33709ac5'
- en: 2014-03-10 (3.8.4)
  id: totrans-1595
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-03-10 (3.8.4)
- en: Code optimization and refactoring for improved performance.
  id: totrans-1596
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了提高性能进行代码优化和重构。
- en: Add the ".clone" and ".save" commands to the command-line shell.
  id: totrans-1597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行 shell 中增加了 ".clone" 和 ".save" 命令。
- en: Update the banner on the command-line shell to alert novice users when they
    are using an ephemeral in-memory database.
  id: totrans-1598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新命令行 shell 上的横幅，以便在用户使用临时内存数据库时向新手用户发出警告。
- en: Fix editline support in the command-line shell.
  id: totrans-1599
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复命令行 shell 中对 editline 的支持。
- en: Add support for coverage testing of VDBE programs using the [SQLITE_TESTCTRL_VDBE_COVERAGE](c3ref/c_testctrl_always.html)
    verb of [sqlite3_test_control()](c3ref/test_control.html).
  id: totrans-1600
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对使用 [sqlite3_test_control()](c3ref/test_control.html) 的 [SQLITE_TESTCTRL_VDBE_COVERAGE](c3ref/c_testctrl_always.html)
    动词进行 VDBE 程序覆盖测试支持的功能。
- en: Update the _FILE_OFFSET_BITS macro so that builds work again on QNX.
  id: totrans-1601
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新 _FILE_OFFSET_BITS 宏，以便在 QNX 上再次正常构建。
- en: Change the datatype of SrcList.nSrc from type u8 to type int to work around
    an issue in the C compiler on AIX.
  id: totrans-1602
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 SrcList.nSrc 的数据类型从 u8 更改为 int，以解决 AIX 上 C 编译器的问题。
- en: Get extension loading working on Cygwin.
  id: totrans-1603
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使得扩展在 Cygwin 上加载正常工作。
- en: 'Bug fix: Fix the [char()](lang_corefunc.html#char) SQL function so that it
    returns an empty string rather than an "out of memory" error when called with
    zero arguments.'
  id: totrans-1604
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Bug fix: 修复 [char()](lang_corefunc.html#char) SQL 函数在没有参数调用时返回空字符串而不是"内存不足"错误的问题。'
- en: 'Bug fix: DISTINCT now recognizes that a [zeroblob](lang_corefunc.html#zeroblob)
    and a blob of all 0x00 bytes are the same thing. [Ticket [fccbde530a]](https://www.sqlite.org/src/info/fccbde530a)'
  id: totrans-1605
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Bug fix: DISTINCT 现在能够识别 [zeroblob](lang_corefunc.html#zeroblob) 和全 0x00 字节的
    blob 是相同的东西。[票号 [fccbde530a]](https://www.sqlite.org/src/info/fccbde530a)'
- en: 'Bug fix: Compute the correct answer for queries that contain an IS NOT NULL
    term in the WHERE clause and also contain an OR term in the WHERE clause and are
    compiled with [SQLITE_ENABLE_STAT4](compile.html#enable_stat4). [Ticket [4c86b126f2]](https://www.sqlite.org/src/info/4c86b126f2)'
  id: totrans-1606
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复错误：修正在 WHERE 子句中包含 IS NOT NULL 条件和同时包含 OR 条件，以及使用 [SQLITE_ENABLE_STAT4](compile.html#enable_stat4)
    编译的查询时计算正确答案的问题。[票号 [4c86b126f2]](https://www.sqlite.org/src/info/4c86b126f2)
- en: 'Bug fix: Make sure "rowid" columns are correctly resolved in joins between
    normal tables and WITHOUT ROWID tables. [Ticket [c34d0557f7]](https://www.sqlite.org/src/info/c34d0557f7)'
  id: totrans-1607
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保在普通表与WITHOUT ROWID表之间的连接中正确解析"rowid"列。[票据 [c34d0557f7]](https://www.sqlite.org/src/info/c34d0557f7)
- en: 'Bug fix: Make sure the same temporary registers are not used in concurrent
    co-routines used to implement compound SELECT statements containing ORDER BY clauses,
    as such use can lead to incorrect answers. [Ticket [8c63ff0eca]](https://www.sqlite.org/src/info/8c63ff0eca)'
  id: totrans-1608
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保在并发协程中不会使用相同的临时寄存器来实现包含ORDER BY子句的复合SELECT语句，因为这样的使用可能导致错误的答案。[票据 [8c63ff0eca]](https://www.sqlite.org/src/info/8c63ff0eca)
- en: 'Bug fix: Ensure that "ORDER BY random()" clauses do not get optimized out.
    [Ticket [65bdeb9739]](https://www.sqlite.org/src/info/65bdeb9739)'
  id: totrans-1609
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保"ORDER BY random()"子句不会被优化掉。[票据 [65bdeb9739]](https://www.sqlite.org/src/info/65bdeb9739)
- en: 'Bug fix: Repair a name-resolution error that can occur in sub-select statements
    contained within a TRIGGER. [Ticket [4ef7e3cfca]](https://www.sqlite.org/src/info/4ef7e3cfca)'
  id: totrans-1610
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：修复了在TRIGGER内包含的子查询语句中可能发生的名称解析错误。[票据 [4ef7e3cfca]](https://www.sqlite.org/src/info/4ef7e3cfca)
- en: 'Bug fix: Fix column default values expressions of the form "DEFAULT(-(-9223372036854775808))"
    so that they work correctly, initializing the column to a floating point value
    approximately equal to +9223372036854775808.0.'
  id: totrans-1611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：修复形如"DEFAULT(-(-9223372036854775808))"的列默认值表达式，使其能够正确工作，将列初始化为大约等于+9223372036854775808.0的浮点值。
- en: 'SQLITE_SOURCE_ID: "2014-03-10 12:20:37 530a1ee7dc2435f80960ce4710a3c2d2bfaaccc5"'
  id: totrans-1612
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2014-03-10 12:20:37 530a1ee7dc2435f80960ce4710a3c2d2bfaaccc5"
- en: 'SHA1 for sqlite3.c: b0c22e5f15f5ba2afd017ecd990ea507918afe1c'
  id: totrans-1613
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值：b0c22e5f15f5ba2afd017ecd990ea507918afe1c
- en: 2014-02-11 (3.8.3.1)
  id: totrans-1614
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-02-11 (3.8.3.1)
- en: Fix a bug (ticket [4c86b126f2](https://www.sqlite.org/src/info/4c86b126f2))
    that causes rows to go missing on some queries with OR clauses and IS NOT NULL
    operators in the WHERE clause, when the [SQLITE_ENABLE_STAT3](compile.html#enable_stat3)
    or [SQLITE_ENABLE_STAT4](compile.html#enable_stat4) compile-time options are used.
  id: totrans-1615
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug（票据 [4c86b126f2](https://www.sqlite.org/src/info/4c86b126f2)），当使用[SQLITE_ENABLE_STAT3](compile.html#enable_stat3)或[SQLITE_ENABLE_STAT4](compile.html#enable_stat4)编译时选项，在WHERE子句中的OR子句和IS
    NOT NULL操作符一起使用时，某些查询可能会导致行丢失。
- en: Fix a harmless compiler warning that was causing problems for VS2013.
  id: totrans-1616
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个对VS2013造成问题的无害编译器警告。
- en: 'SQLITE_SOURCE_ID: "2014-02-11 14:52:19 ea3317a4803d71d88183b29f1d3086f46d68a00e"'
  id: totrans-1617
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2014-02-11 14:52:19 ea3317a4803d71d88183b29f1d3086f46d68a00e"
- en: 'SHA1 for sqlite3.c: 990004ef2d0eec6a339e4caa562423897fe02bf0'
  id: totrans-1618
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值：990004ef2d0eec6a339e4caa562423897fe02bf0
- en: 2014-02-03 (3.8.3)
  id: totrans-1619
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2014-02-03 (3.8.3)
- en: Added support for [common table expressions](lang_with.html) and the [WITH clause](lang_with.html).
  id: totrans-1620
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[通用表达式](lang_with.html)和[WITH子句](lang_with.html)的支持。
- en: Added the [printf()](lang_corefunc.html#printf) SQL function.
  id: totrans-1621
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[printf()](lang_corefunc.html#printf) SQL函数。
- en: Added [SQLITE_DETERMINISTIC](c3ref/c_deterministic.html#sqlitedeterministic)
    as an optional bit in the 4th argument to the [sqlite3_create_function()](c3ref/create_function.html)
    and related interfaces, providing applications with the ability to create new
    functions that can be factored out of inner loops when they have constant arguments.
  id: totrans-1622
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[sqlite3_create_function()](c3ref/create_function.html)及其相关接口的第四个参数中添加了[SQLITE_DETERMINISTIC](c3ref/c_deterministic.html#sqlitedeterministic)作为可选位，使应用程序能够创建新函数，这些函数可以在具有常量参数时从内部循环中分离出来。
- en: Add [SQLITE_READONLY_DBMOVED](rescode.html#readonly_dbmoved) error code, returned
    at the beginning of a transaction, to indicate that the underlying database file
    has been renamed or moved out from under SQLite.
  id: totrans-1623
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加[SQLITE_READONLY_DBMOVED](rescode.html#readonly_dbmoved)错误代码，在事务开始时返回，表示基础数据库文件已被重命名或移动。
- en: Allow arbitrary expressions, including function calls and subqueries, in the
    filename argument to [ATTACH](lang_attach.html).
  id: totrans-1624
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在[ATTACH](lang_attach.html)的文件名参数中使用任意表达式，包括函数调用和子查询。
- en: Allow a [VALUES clause](lang_select.html#values) to be used anywhere a [SELECT](lang_select.html)
    statement is valid.
  id: totrans-1625
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在任何适用于[SELECT](lang_select.html)语句的地方使用[VALUES子句](lang_select.html#values)。
- en: Reseed the PRNG used by [sqlite3_randomness(N,P)](c3ref/randomness.html) when
    invoked with N==0. Automatically reseed after a fork() on unix.
  id: totrans-1626
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当N==0时，重新播种[sqlite3_randomness(N,P)](c3ref/randomness.html)使用的PRNG。在Unix上进行fork()后自动重新播种。
- en: Enhance the [spellfix1](spellfix1.html) virtual table so that it can search
    efficiently by rowid.
  id: totrans-1627
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[spellfix1](spellfix1.html)虚拟表，使其能够通过rowid进行高效搜索。
- en: Performance enhancements.
  id: totrans-1628
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能增强。
- en: Improvements to the comments in the VDBE byte-code display when running [EXPLAIN](lang_explain.html).
  id: totrans-1629
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在运行[EXPLAIN](lang_explain.html)时改进了VDBE字节码显示的注释。
- en: Add the "%token_class" directive to [Lemon parser generator](lemon.html) and
    use it to simplify the grammar.
  id: totrans-1630
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加"%token_class"指令到[Lemon解析器生成器](lemon.html)，并用它来简化语法。
- en: 'Change the [Lemon](lemon.html) source code to avoid calling C-library functions
    that OpenBSD considers dangerous. (Ex: sprintf).'
  id: totrans-1631
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改[Lemon](lemon.html)源代码，避免调用OpenBSD认为危险的C库函数（例如：sprintf）。
- en: 'Bug fix: In the [command-line shell](cli.html) CSV import feature, do not end
    a field when an escaped double-quote occurs at the end of a CRLN line.'
  id: totrans-1632
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复错误：在[命令行shell](cli.html)的CSV导入功能中，当转义的双引号出现在CRLN行的末尾时，不要结束字段。
- en: 'SQLITE_SOURCE_ID: "2014-02-03 13:52:03 e816dd924619db5f766de6df74ea2194f3e3b538"'
  id: totrans-1633
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2014-02-03 13:52:03 e816dd924619db5f766de6df74ea2194f3e3b538"
- en: 'SHA1 for sqlite3.c: 98a07da78f71b0275e8d9c510486877adc31dbee'
  id: totrans-1634
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值：98a07da78f71b0275e8d9c510486877adc31dbee
- en: 2013-12-06 (3.8.2)
  id: totrans-1635
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-12-06 (3.8.2)
- en: Changed the defined behavior for the [CAST expression](lang_expr.html#castexpr)
    when floating point values greater than +9223372036854775807 are cast into integers
    so that the result is the largest possible integer, +9223372036854775807, instead
    of the smallest possible integer, -9223372036854775808\. After this change, CAST(9223372036854775809.0
    as INT) yields +9223372036854775807 instead of -9223372036854775808. **← Potentially
    Incompatible Change!**
  id: totrans-1636
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改了[CAST表达式](lang_expr.html#castexpr)的定义行为，当将浮点值大于+9223372036854775807转换为整数时，结果是最大可能的整数+9223372036854775807，而不是最小可能的整数-9223372036854775808。在此更改后，CAST(9223372036854775809.0
    as INT)的结果为+9223372036854775807，而不是-9223372036854775808。 **← 可能存在不兼容的更改！**
- en: Added support for [WITHOUT ROWID](withoutrowid.html) tables.
  id: totrans-1637
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[WITHOUT ROWID](withoutrowid.html)表的支持。
- en: Added the [skip-scan optimization](optoverview.html#skipscan) to the query planner.
  id: totrans-1638
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将跳跃扫描优化器（[skip-scan optimization](optoverview.html#skipscan)）添加到查询规划器中。
- en: Extended the [virtual table](vtab.html) interface, and in particular the [sqlite3_index_info](c3ref/index_info.html)
    object to allow a virtual table to report its estimate on the number of rows that
    will be returned by a query.
  id: totrans-1639
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扩展了虚拟表接口，特别是[sqlite3_index_info](c3ref/index_info.html)对象，允许虚拟表报告其查询将返回的行数估计。
- en: Update the [R-Tree extension](rtree.html) to make use of the enhanced virtual
    table interface.
  id: totrans-1640
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了[R-Tree扩展](rtree.html)，以利用增强的虚拟表接口。
- en: Add the [SQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)
    compile-time option.
  id: totrans-1641
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)编译时选项。
- en: Enhanced the comments that are inserted into [EXPLAIN](lang_explain.html) output
    when the [SQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)
    compile-time option is enabled.
  id: totrans-1642
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了插入到[EXPLAIN](lang_explain.html)输出中的注释，当启用[SQLITE_ENABLE_EXPLAIN_COMMENTS](compile.html#enable_explain_comments)编译时选项时。
- en: Performance enhancements in the VDBE, especially to the OP_Column opcode.
  id: totrans-1643
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: VDBE性能增强，尤其是OP_Column操作码。
- en: Factor constant subexpressions in inner loops out to the initialization code
    in prepared statements.
  id: totrans-1644
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在预处理语句中，将内部循环中的常量子表达式因子提取到初始化代码中。
- en: Enhanced the ".explain" output formatting of the [command-line shell](cli.html)
    so that loops are indented to better show the structure of the program.
  id: totrans-1645
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[命令行 shell](cli.html)的".explain"输出格式，使循环缩进，更好地显示程序的结构。
- en: Enhanced the ".timer" feature of the [command-line shell](cli.html) so that
    it shows wall-clock time in addition to system and user times.
  id: totrans-1646
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了[命令行 shell](cli.html)的".timer"功能，除了系统和用户时间外，还显示了墙钟时间。
- en: 'SQLITE_SOURCE_ID: "2013-12-06 14:53:30 27392118af4c38c5203a04b8013e1afdb1cebd0d"'
  id: totrans-1647
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2013-12-06 14:53:30 27392118af4c38c5203a04b8013e1afdb1cebd0d"
- en: 'SHA1 for sqlite3.c: 6422c7d69866f5ea3db0968f67ee596e7114544e'
  id: totrans-1648
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1哈希值：6422c7d69866f5ea3db0968f67ee596e7114544e
- en: 2013-10-17 (3.8.1)
  id: totrans-1649
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-10-17 (3.8.1)
- en: Added the [unlikely()](lang_corefunc.html#unlikely) and [likelihood()](lang_corefunc.html#likelihood)
    SQL functions to be used as hints to the query planner.
  id: totrans-1650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了用作查询规划器提示的 [unlikely()](lang_corefunc.html#unlikely) 和 [likelihood()](lang_corefunc.html#likelihood)
    SQL 函数。
- en: 'Enhancements to the query planner:'
  id: totrans-1651
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器的增强：
- en: Take into account the fact WHERE clause terms that cannot be used with indices
    still probably reduce the number of output rows.
  id: totrans-1652
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 考虑 WHERE 子句中不能与索引一起使用的条件仍可能减少输出行数的事实。
- en: Estimate the sizes of table and index rows and use the smallest applicable B-Tree
    for full scans and "count(*)" operations.
  id: totrans-1653
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 估算表和索引行的大小，并在全表扫描和 "count(*)" 操作中使用最小适用的 B-Tree。
- en: Added the [soft_heap_limit pragma](pragma.html#pragma_soft_heap_limit).
  id: totrans-1654
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [soft_heap_limit pragma](pragma.html#pragma_soft_heap_limit)。
- en: Added support for [SQLITE_ENABLE_STAT4](compile.html#enable_stat4)
  id: totrans-1655
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对 [SQLITE_ENABLE_STAT4](compile.html#enable_stat4) 的支持。
- en: Added support for "sz=NNN" parameters at the end of [sqlite_stat1.stat](fileformat2.html#stat1tab)
    fields used to specify the average length in bytes for table and index rows.
  id: totrans-1656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [sqlite_stat1.stat](fileformat2.html#stat1tab) 字段末尾增加了对 "sz=NNN" 参数的支持，用于指定表和索引行的平均字节长度。
- en: Avoid running foreign-key constraint checks on an UPDATE if none of the modified
    columns are associated with foreign keys.
  id: totrans-1657
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果更新操作未涉及到任何外键相关的列，则避免在更新操作中运行外键约束检查。
- en: Added the [SQLITE_MINIMUM_FILE_DESCRIPTOR](compile.html#minimum_file_descriptor)
    compile-time option
  id: totrans-1658
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [SQLITE_MINIMUM_FILE_DESCRIPTOR](compile.html#minimum_file_descriptor) 编译时选项。
- en: Added the win32-longpath VFS on windows, permitting filenames up to 32K characters
    in length.
  id: totrans-1659
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Windows 上添加了 win32-longpath VFS，允许文件名长度达到 32K 字符。
- en: 'The [Date And Time Functions](lang_datefunc.html) are enhanced so that the
    current time (ex: julianday(''now'')) is always the same for multiple function
    invocations within the same [sqlite3_step()](c3ref/step.html) call.'
  id: totrans-1660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [Date And Time Functions](lang_datefunc.html) 进行增强，确保同一 [sqlite3_step()](c3ref/step.html)
    调用中多次函数调用返回的当前时间（例如 julianday('now')）始终相同。
- en: Add the "totype.c" extension, implementing the tointeger() and toreal() SQL
    functions.
  id: totrans-1661
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 "totype.c" 扩展，实现了 tointeger() 和 toreal() SQL 函数。
- en: '[FTS4](fts3.html#fts4) queries are better able to make use of docid<$limit
    constraints to limit the amount of I/O required.'
  id: totrans-1662
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[FTS4](fts3.html#fts4) 查询更能够利用 docid<$limit 约束来限制所需的 I/O 数量。'
- en: Added the hidden [fts4aux languageid column](fts3.html#f4alid) to the [fts4aux](fts3.html#fts4aux)
    virtual table.
  id: totrans-1663
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [fts4aux](fts3.html#fts4aux) 虚拟表中添加了隐藏的 [fts4aux languageid column](fts3.html#f4alid)。
- en: The [VACUUM](lang_vacuum.html) command packs the database about 1% tighter.
  id: totrans-1664
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[VACUUM](lang_vacuum.html) 命令使数据库压缩约 1%。'
- en: The sqlite3_analyzer utility program is updated to provide better descriptions
    and to compute a more accurate estimate for "Non-sequential pages"
  id: totrans-1665
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了 sqlite3_analyzer 实用程序程序，以提供更好的描述并在 "Non-sequential pages" 计算更精确的估计。
- en: Refactor the implementation of PRAGMA statements to improve parsing performance.
  id: totrans-1666
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重构 PRAGMA 语句的实现，以提升解析性能。
- en: The directory used to hold temporary files on unix can now be set using the
    SQLITE_TMPDIR environment variable, which takes precedence over the TMPDIR environment
    variable. The [sqlite3_temp_directory](c3ref/temp_directory.html) global variable
    still has higher precedence than both environment variables, however.
  id: totrans-1667
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Unix 系统上用于保存临时文件的目录现在可以通过 SQLITE_TMPDIR 环境变量进行设置，该变量优先于 TMPDIR 环境变量。然而，全局变量
    [sqlite3_temp_directory](c3ref/temp_directory.html) 的优先级仍高于这两个环境变量。
- en: Added the [PRAGMA stats](pragma.html#pragma_stats) statement.
  id: totrans-1668
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [PRAGMA stats](pragma.html#pragma_stats) 语句。
- en: '**Bug fix:** Return the correct answer for "SELECT count(*) FROM table" even
    if there is a [partial index](partialindex.html) on the table. Ticket [a5c8ed66ca](https://www.sqlite.org/src/info/a5c8ed66ca).'
  id: totrans-1669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Bug fix:** 即使表上有 [部分索引](partialindex.html)，也返回 "SELECT count(*) FROM table"
    的正确答案。Ticket [a5c8ed66ca](https://www.sqlite.org/src/info/a5c8ed66ca)。'
- en: 'SQLITE_SOURCE_ID: "2013-10-17 12:57:35 c78be6d786c19073b3a6730dfe3fb1be54f5657a"'
  id: totrans-1670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-10-17 12:57:35 c78be6d786c19073b3a6730dfe3fb1be54f5657a"'
- en: 'SHA1 for sqlite3.c: 0a54d76566728c2ba96292a49b138e4f69a7c391'
  id: totrans-1671
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：0a54d76566728c2ba96292a49b138e4f69a7c391
- en: 2013-09-03 (3.8.0.2)
  id: totrans-1672
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-09-03 (3.8.0.2)
- en: Fix a bug in the optimization that attempts to omit unused LEFT JOINs
  id: totrans-1673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了优化中的一个 bug，该优化尝试省略未使用的 LEFT JOIN。
- en: 'SQLITE_SOURCE_ID: "2013-09-03 17:11:13 7dd4968f235d6e1ca9547cda9cf3bd570e1609ef"'
  id: totrans-1674
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-09-03 17:11:13 7dd4968f235d6e1ca9547cda9cf3bd570e1609ef"'
- en: 'SHA1 for sqlite3.c: 6cf0c7b46975a87a0dc3fba69c229a7de61b0c21'
  id: totrans-1675
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：6cf0c7b46975a87a0dc3fba69c229a7de61b0c21
- en: 2013-08-29 (3.8.0.1)
  id: totrans-1676
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-08-29 (3.8.0.1)
- en: Fix an off-by-one error that caused quoted empty string at the end of a CRNL-terminated
    line of CSV input to be misread by the command-line shell.
  id: totrans-1677
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个错误，该错误导致 CSV 输入行以 CRNL 结尾时的带引号空字符串被命令行 shell 误读。
- en: Fix a query planner bug involving a LEFT JOIN with a BETWEEN or LIKE/GLOB constraint
    and then another INNER JOIN to the right that involves an OR constraint.
  id: totrans-1678
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询计划器中的一个 bug，涉及带有 BETWEEN 或 LIKE/GLOB 约束的 LEFT JOIN，然后再内连接到右侧，该 bug 包含 OR
    约束。
- en: Fix a query planner bug that could result in a segfault when querying tables
    with a UNIQUE or PRIMARY KEY constraint with more than four columns.
  id: totrans-1679
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复查询计划器的一个 bug，该 bug 在查询带有多于四列的 UNIQUE 或 PRIMARY KEY 约束的表时可能导致段错误。
- en: 'SQLITE_SOURCE_ID: "2013-08-29 17:35:01 352362bc01660edfbda08179d60f09e2038a2f49"'
  id: totrans-1680
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-08-29 17:35:01 352362bc01660edfbda08179d60f09e2038a2f49"'
- en: 'SHA1 for sqlite3.c: 99906bf63e6cef63d6f3d7f8526ac4a70e76559e'
  id: totrans-1681
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：99906bf63e6cef63d6f3d7f8526ac4a70e76559e
- en: 2013-08-26 (3.8.0)
  id: totrans-1682
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-08-26 (3.8.0)
- en: Add support for [partial indexes](partialindex.html)
  id: totrans-1683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对[部分索引](partialindex.html)的支持。
- en: Cut-over to the [next generation query planner](queryplanner-ng.html) for faster
    and better query plans.
  id: totrans-1684
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 切换至用于更快速和更好的查询计划的 [下一代查询计划器](queryplanner-ng.html)。
- en: The [EXPLAIN QUERY PLAN](eqp.html) output no longer shows an estimate of the
    number of rows generated by each loop in a join.
  id: totrans-1685
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[EXPLAIN QUERY PLAN](eqp.html) 输出不再显示每个连接中生成的行数的估算值。'
- en: Added the [FTS4 notindexed option](fts3.html#fts4notindexed), allowing non-indexed
    columns in an FTS4 table.
  id: totrans-1686
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [FTS4 notindexed option](fts3.html#fts4notindexed)，允许在 FTS4 表中使用非索引列。
- en: Added the [SQLITE_STMTSTATUS_VM_STEP](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusvmstep)
    option to [sqlite3_stmt_status()](c3ref/stmt_status.html).
  id: totrans-1687
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_stmt_status()](c3ref/stmt_status.html)的[SQLITE_STMTSTATUS_VM_STEP](c3ref/c_stmtstatus_counter.html#sqlitestmtstatusvmstep)选项。
- en: Added the [cache_spill pragma](pragma.html#pragma_cache_spill).
  id: totrans-1688
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[cache_spill pragma](pragma.html#pragma_cache_spill)。
- en: Added the [query_only pragma](pragma.html#pragma_query_only).
  id: totrans-1689
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[query_only pragma](pragma.html#pragma_query_only)。
- en: Added the [defer_foreign_keys pragma](pragma.html#pragma_defer_foreign_keys)
    and the [sqlite3_db_status](c3ref/db_status.html)(db, [SQLITE_DBSTATUS_DEFERRED_FKS](c3ref/c_dbstatus_options.html#sqlitedbstatusdeferredfks),...)
    C-language interface.
  id: totrans-1690
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[defer_foreign_keys pragma](pragma.html#pragma_defer_foreign_keys)和[sqlite3_db_status](c3ref/db_status.html)(db,
    [SQLITE_DBSTATUS_DEFERRED_FKS](c3ref/c_dbstatus_options.html#sqlitedbstatusdeferredfks),...)
    C语言接口。
- en: Added the "percentile()" function as a [loadable extension](loadext.html) in
    the ext/misc subdirectory of the source tree.
  id: totrans-1691
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在源代码树的ext/misc子目录中作为[可加载扩展](loadext.html)添加了"percentile()"函数。
- en: Added the [SQLITE_ALLOW_URI_AUTHORITY](compile.html#allow_uri_authority) compile-time
    option.
  id: totrans-1692
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_ALLOW_URI_AUTHORITY](compile.html#allow_uri_authority)编译时选项。
- en: Add the [sqlite3_cancel_auto_extension(X)](c3ref/cancel_auto_extension.html)
    interface.
  id: totrans-1693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_cancel_auto_extension(X)](c3ref/cancel_auto_extension.html)接口。
- en: A running SELECT statement that lacks a FROM clause (or any other statement
    that never reads or writes from any database file) will not prevent a read transaction
    from closing.
  id: totrans-1694
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 缺少FROM子句的运行中SELECT语句（或任何从未读取或写入任何数据库文件的其他语句）不会阻止读取事务关闭。
- en: Add the [SQLITE_DEFAULT_AUTOMATIC_INDEX](compile.html#default_automatic_index)
    compile-time option. Setting this option to 0 disables automatic indices by default.
  id: totrans-1695
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DEFAULT_AUTOMATIC_INDEX](compile.html#default_automatic_index)编译时选项。将此选项设置为0可默认禁用自动索引。
- en: Issue an [SQLITE_WARNING_AUTOINDEX](rescode.html#warning_autoindex) warning
    on the [SQLITE_CONFIG_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog)
    whenever the query planner uses an automatic index.
  id: totrans-1696
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[SQLITE_CONFIG_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog)使用自动索引时，对[SQLITE_WARNING_AUTOINDEX](rescode.html#warning_autoindex)发出警告的查询计划器。
- en: Added the [SQLITE_FTS3_MAX_EXPR_DEPTH](compile.html#fts3_max_expr_depth) compile-time
    option.
  id: totrans-1697
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_FTS3_MAX_EXPR_DEPTH](compile.html#fts3_max_expr_depth)编译时选项。
- en: Added an optional 5th parameter defining the collating sequence to the next_char()
    extension SQL function.
  id: totrans-1698
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向next_char()扩展SQL函数添加了可选的第五个参数，定义排序序列。
- en: The [SQLITE_BUSY_SNAPSHOT](rescode.html#busy_snapshot) extended error code is
    returned in WAL mode when a read transaction cannot be upgraded to a write transaction
    because the read is on an older snapshot.
  id: totrans-1699
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当读取事务在较旧的快照上时，以WAL模式返回[SQLITE_BUSY_SNAPSHOT](rescode.html#busy_snapshot)扩展错误代码，因为读取事务无法升级为写入事务。
- en: Enhancements to the sqlite3_analyzer utility program to provide size information
    separately for each individual index of a table, in addition to the aggregate
    size.
  id: totrans-1700
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对sqlite3_analyzer实用程序进行了增强，以提供表的每个单独索引的大小信息，除了聚合大小之外。
- en: Allow read transactions to be freely opened and closed by SQL statements run
    from within the implementation of [application-defined SQL functions](appfunc.html)
    if the function is called by a SELECT statement that does not access any database
    table.
  id: totrans-1701
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许通过SQL语句从[应用程序定义的SQL函数](appfunc.html)的实现中自由地打开和关闭读取事务，如果该函数由不访问任何数据库表的SELECT语句调用。
- en: Disable the use of posix_fallocate() on all (unix) systems unless the HAVE_POSIX_FALLOCATE
    compile-time option is used.
  id: totrans-1702
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所有（unix）系统上禁用posix_fallocate()，除非使用了HAVE_POSIX_FALLOCATE编译时选项。
- en: Update the ".import" command in the [command-line shell](cli.html) to support
    multi-line fields and correct RFC-4180 quoting and to issue warning and/or error
    messages if the input text is not strictly RFC-4180 compliant.
  id: totrans-1703
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新[命令行 shell](cli.html)中的".import"命令，以支持多行字段和正确的RFC-4180引用，并在输入文本不严格符合RFC-4180时发出警告和/或错误消息。
- en: 'Bug fix: In the [unicode61](fts3.html#unicode61) tokenizer of [FTS4](fts3.html#fts4),
    treat all private code points as identifier symbols.'
  id: totrans-1704
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在[FTS4](fts3.html#fts4)的[unicode61](fts3.html#unicode61)分词器中，将所有私有代码点视为标识符符号。
- en: 'Bug fix: Bare identifiers in ORDER BY clauses bind more tightly to output column
    names, but identifiers in expressions bind more tightly to input column names.
    Identifiers in GROUP BY clauses always prefer output column names, however.'
  id: totrans-1705
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在ORDER BY子句中的裸标识符紧密绑定到输出列名，但在表达式中的标识符紧密绑定到输入列名。在GROUP BY子句中的标识符始终优先选择输出列名。
- en: 'Bug fixes: Multiple problems in the legacy query optimizer were fixed by the
    move to [NGQP](queryplanner-ng.html).'
  id: totrans-1706
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：通过迁移到[NGQP](queryplanner-ng.html)解决了传统查询优化器中的多个问题。
- en: 'SQLITE_SOURCE_ID: "2013-08-26 04:50:08 f64cd21e2e23ed7cff48f7dafa5e76adde9321c2"'
  id: totrans-1707
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2013-08-26 04:50:08 f64cd21e2e23ed7cff48f7dafa5e76adde9321c2"
- en: 'SHA1 for sqlite3.c: b7347f4b4c2a840e6ba12040093d606bd16ea21e'
  id: totrans-1708
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1：b7347f4b4c2a840e6ba12040093d606bd16ea21e
- en: 2013-05-20 (3.7.17)
  id: totrans-1709
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-05-20（3.7.17）
- en: Add support for [memory-mapped I/O](mmap.html).
  id: totrans-1710
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[memory-mapped I/O](mmap.html)添加支持。
- en: Add the [sqlite3_strglob()](c3ref/strglob.html) convenience interface.
  id: totrans-1711
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_strglob()](c3ref/strglob.html)便捷接口。
- en: Assigned the integer at offset 68 in the [database header](fileformat2.html#database_header)
    as the [Application ID](fileformat2.html#appid) for when SQLite is used as an
    [application file-format](appfileformat.html). Added the [PRAGMA application_id](pragma.html#pragma_application_id)
    command to query and set the Application ID.
  id: totrans-1712
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将整数分配给[数据库头](fileformat2.html#database_header)中偏移量为68的位置，作为SQLite用作[应用文件格式](appfileformat.html)时的[应用程序ID](fileformat2.html#appid)。添加了[PRAGMA
    application_id](pragma.html#pragma_application_id)命令以查询和设置应用程序ID。
- en: Report rollback recovery in the [error log](errlog.html) as SQLITE_NOTICE_RECOVER_ROLLBACK.
    Change the error log code for WAL recover from SQLITE_OK to SQLITE_NOTICE_RECOVER_WAL.
  id: totrans-1713
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[错误日志](errlog.html)中报告回滚恢复为SQLITE_NOTICE_RECOVER_ROLLBACK。将WAL恢复的错误日志代码从SQLITE_OK更改为SQLITE_NOTICE_RECOVER_WAL。
- en: Report the risky uses of [unlinked database files](howtocorrupt.html#unlink)
    and [database filename aliasing](howtocorrupt.html#alias) as SQLITE_WARNING messages
    in the [error log](errlog.html).
  id: totrans-1714
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[错误日志](errlog.html)中将[未链接的数据库文件](howtocorrupt.html#unlink)和[数据库文件名别名](howtocorrupt.html#alias)的风险使用报告为SQLITE_WARNING消息。
- en: Added the [SQLITE_TRACE_SIZE_LIMIT](compile.html#trace_size_limit) compile-time
    option.
  id: totrans-1715
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加[SQLITE_TRACE_SIZE_LIMIT](compile.html#trace_size_limit)编译时选项。
- en: Increase the default value of [SQLITE_MAX_SCHEMA_RETRY](compile.html#max_schema_retry)
    to 50 and make sure that it is honored in every place that a schema change might
    force a statement retry.
  id: totrans-1716
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[SQLITE_MAX_SCHEMA_RETRY](compile.html#max_schema_retry)的默认值增加到50，并确保在可能强制语句重试的每个地方都遵守。
- en: Add a new test harness called "mptester" used to verify correct operation when
    multiple processes are using the same database file at the same time.
  id: totrans-1717
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个名为"mptester"的新测试工具，用于验证当多个进程同时使用相同的数据库文件时的正确操作。
- en: 'Enhance the [extension loading](loadext.html) mechanism to be more flexible
    (while still maintaining backwards compatibility) in two ways:'
  id: totrans-1718
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[扩展加载](loadext.html)机制，以使其更加灵活（同时仍然保持向后兼容性）：
- en: If the default entry point "sqlite3_extension_init" is not present in the loadable
    extension, also try an entry point "sqlite3_X_init" where "X" is based on the
    shared library filename. This allows every extension to have a different entry
    point, which allows them to be statically linked with no code changes.
  id: totrans-1719
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果默认入口点"sqlite3_extension_init"在可加载扩展中不存在，还可以尝试一个入口点"sqlite3_X_init"，其中"X"基于共享库文件名。这允许每个扩展有一个不同的入口点，从而使它们可以在没有代码更改的情况下进行静态链接。
- en: The shared library filename passed to [sqlite3_load_extension()](c3ref/load_extension.html)
    may omit the filename suffix, and an appropriate architecture-dependent suffix
    (".so", ".dylib", or ".dll") will be added automatically.
  id: totrans-1720
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 传递给[sqlite3_load_extension()](c3ref/load_extension.html)的共享库文件名可以省略文件名后缀，将自动添加适当的体系结构相关后缀（".so"，".dylib"或".dll"）。
- en: Added many new loadable extensions to the source tree, including amatch, closure,
    fuzzer, ieee754, nextchar, regexp, spellfix, and wholenumber. See header comments
    on each extension source file for further information about what that extension
    does.
  id: totrans-1721
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将许多新的可加载扩展添加到源代码树中，包括amatch，closure，fuzzer，ieee754，nextchar，regexp，spellfix和wholenumber。有关每个扩展执行的详细信息，请参阅每个扩展源文件的标头注释。
- en: Enhance [FTS3](fts3.html) to avoid using excess stack space when there are a
    huge number of terms on the right-hand side of the MATCH operator. A side-effect
    of this change is that the MATCH operator can only accommodate 12 NEAR operators
    at a time.
  id: totrans-1722
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强[FTS3](fts3.html)以避免在匹配运算符的右侧有大量术语时使用过多的堆栈空间。这种变化的副作用是MATCH运算符一次只能容纳12个NEAR运算符。
- en: Enhance the [fts4aux](fts3.html#fts4aux) virtual table so that it can be a TEMP
    table.
  id: totrans-1723
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强[fts4aux](fts3.html#fts4aux)虚拟表，使其可以成为一个临时表。
- en: Added the [fts3tokenize virtual table](fts3.html#fts3tok) to the [full-text
    search](fts3.html) logic.
  id: totrans-1724
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[fts3tokenize虚拟表](fts3.html#fts3tok)添加到[全文搜索](fts3.html)逻辑中。
- en: 'Query planner enhancement: Use the transitive property of constraints to move
    constraints into the outer loops of a join whenever possible, thereby reducing
    the amount of work that needs to occur in inner loops.'
  id: totrans-1725
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划增强：尽可能使用约束的传递属性将约束移到联接的外部循环中，从而减少内部循环中需要执行的工作量。
- en: Discontinue the use of posix_fallocate() on unix, as it does not work on all
    filesystems.
  id: totrans-1726
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Unix上停止使用posix_fallocate()，因为它不适用于所有文件系统。
- en: Improved tracing and debugging facilities in the Windows [VFS](vfs.html).
  id: totrans-1727
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows [VFS](vfs.html)中改进了跟踪和调试功能。
- en: 'Bug fix: Fix a potential **database corruption bug** in [shared cache mode](sharedcache.html)
    when one [database connection](c3ref/sqlite3.html) is closed while another is
    in the middle of a write transaction. Ticket [e636a050b7](https://www.sqlite.org/src/info/e636a050b7)'
  id: totrans-1728
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在一个数据库连接关闭时，另一个连接处于写事务中时，在[共享缓存模式](sharedcache.html)中修复潜在的**数据库损坏bug**。票号[e636a050b7](https://www.sqlite.org/src/info/e636a050b7)。
- en: 'Bug fix: Only consider AS names from the result set as candidates for resolving
    identifiers in the WHERE clause if there are no other matches. In the ORDER BY
    clause, AS names take priority over any column names. Ticket [2500cdb9be05](https://www.sqlite.org/src/info/2500cdb9be05)'
  id: totrans-1729
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：只有在没有其他匹配项时，才考虑结果集中的AS名称来解析WHERE子句中的标识符。在ORDER BY子句中，AS名称优先于任何列名。票号[2500cdb9be05](https://www.sqlite.org/src/info/2500cdb9be05)
- en: 'Bug fix: Do not allow a virtual table to cancel the ORDER BY clause unless
    all outer loops are guaranteed to return no more than one row result. Ticket [ba82a4a41eac1](https://www.sqlite.org/src/info/ba82a4a41eac1).'
  id: totrans-1730
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：除非保证所有外部循环最多只返回一行结果，否则不允许虚拟表取消ORDER BY子句。票号[ba82a4a41eac1](https://www.sqlite.org/src/info/ba82a4a41eac1)。
- en: 'Bug fix: Do not suppress the ORDER BY clause on a virtual table query if an
    IN constraint is used. Ticket [f69b96e3076e](https://www.sqlite.org/src/info/f69b96e3076e).'
  id: totrans-1731
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：如果使用IN约束条件，则不要抑制虚拟表查询的ORDER BY子句。票号[f69b96e3076e](https://www.sqlite.org/src/info/f69b96e3076e)。
- en: 'Bug fix: The [command-line shell](cli.html) gives an exit code of 0 when terminated
    using the ".quit" command.'
  id: totrans-1732
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：当使用“.quit”命令终止时，[命令行shell](cli.html)会返回退出码0。
- en: 'Bug fix: Make sure [PRAGMA](pragma.html#syntax) statements appear in [sqlite3_trace()](c3ref/profile.html)
    output.'
  id: totrans-1733
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保[PRAGMA](pragma.html#syntax)语句出现在[sqlite3_trace()](c3ref/profile.html)输出中。
- en: 'Bug fix: When a [compound query](lang_select.html#compound) that uses an ORDER
    BY clause with a [COLLATE operator](lang_expr.html#collateop), make sure that
    the sorting occurs according to the specified collation and that the comparisons
    associate with the compound query use the native collation. Ticket [6709574d2a8d8](https://www.sqlite.org/src/info/6709574d2a8d8).'
  id: totrans-1734
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：当使用带有[COLLATE操作符](lang_expr.html#collateop)的ORDER BY子句的[复合查询](lang_select.html#compound)时，确保排序按指定的排序规则进行，并且与复合查询相关的比较使用本地排序。票号[6709574d2a8d8](https://www.sqlite.org/src/info/6709574d2a8d8)。
- en: 'Bug fix: Makes sure the [authorizer](c3ref/set_authorizer.html) callback gets
    a valid pointer to the string "ROWID" for the column-name parameter when doing
    an [UPDATE](lang_update.html) that changes the rowid. Ticket [0eb70d77cb05bb2272](https://www.sqlite.org/src/info/0eb70d77cb05bb2272)'
  id: totrans-1735
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保在进行[UPDATE](lang_update.html)更改行ID时，[authorizer](c3ref/set_authorizer.html)回调得到一个有效指向字符串"ROWID"的指针。票号[0eb70d77cb05bb2272](https://www.sqlite.org/src/info/0eb70d77cb05bb2272)。
- en: 'Bug fix: Do not move WHERE clause terms inside OR expressions that are contained
    within an ON clause of a LEFT JOIN. Ticket [f2369304e4](https://www.sqlite.org/src/info/f2369304e4)'
  id: totrans-1736
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：不要将WHERE子句项移动到LEFT JOIN的ON子句中包含的OR表达式内部。票号[f2369304e4](https://www.sqlite.org/src/info/f2369304e4)。
- en: 'Bug fix: Make sure an error is always reported when attempting to preform an
    operation that requires a [collating sequence](datatype3.html#collation) that
    is missing. Ticket [0fc59f908b](https://www.sqlite.org/src/info/0fc59f908b)'
  id: totrans-1737
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：确保在尝试执行需要缺失的[排序序列](datatype3.html#collation)的操作时始终报告错误。票号[0fc59f908b](https://www.sqlite.org/src/info/0fc59f908b)。
- en: 'SQLITE_SOURCE_ID: "2013-05-20 00:56:22 118a3b35693b134d56ebd780123b7fd6f1497668"'
  id: totrans-1738
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-05-20 00:56:22 118a3b35693b134d56ebd780123b7fd6f1497668"'
- en: 'SHA1 for sqlite3.c: 246987605d0503c700a08b9ee99a6b5d67454aab'
  id: totrans-1739
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: 246987605d0503c700a08b9ee99a6b5d67454aab'
- en: 2013-04-12 (3.7.16.2)
  id: totrans-1740
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-04-12 (3.7.16.2)
- en: Fix a bug (present since version 3.7.13) that could result in database corruption
    on windows if two or more processes try to access the same database file at the
    same time and immediately after third process crashed in the middle of committing
    to that same file. See ticket [7ff3120e4f](https://www.sqlite.org/src/info/7ff3120e4f)
    for further information.
  id: totrans-1741
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复自版本3.7.13以来存在的一个bug，当两个或更多进程尝试同时访问同一数据库文件，并且第三个进程在向同一文件提交时崩溃时，可能导致数据库损坏。详见票号[7ff3120e4f](https://www.sqlite.org/src/info/7ff3120e4f)。
- en: 'SQLITE_SOURCE_ID: "2013-04-12 11:52:43 cbea02d93865ce0e06789db95fd9168ebac970c7"'
  id: totrans-1742
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-04-12 11:52:43 cbea02d93865ce0e06789db95fd9168ebac970c7"'
- en: 'SHA1 for sqlite3.c: d466b54789dff4fb0238b9232e74896deaefab94'
  id: totrans-1743
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SHA1 for sqlite3.c: d466b54789dff4fb0238b9232e74896deaefab94'
- en: 2013-03-29 (3.7.16.1)
  id: totrans-1744
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-03-29 (3.7.16.1)
- en: Fix for a bug in the ORDER BY optimizer that was introduced in [version 3.7.15](#version_3_7_15)
    which would sometimes optimize out the sorting step when in fact the sort was
    required. Ticket [a179fe7465](https://www.sqlite.org/src/info/a179fe7465)
  id: totrans-1745
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在[版本3.7.15](#version_3_7_15)中引入的ORDER BY优化器中的一个bug，有时会优化掉实际上需要排序步骤的情况。票号[a179fe7465](https://www.sqlite.org/src/info/a179fe7465)。
- en: Fix a long-standing bug in the [CAST expression](lang_expr.html#castexpr) that
    would recognize UTF16 characters as digits even if their most-significant-byte
    was not zero. Ticket [689137afb6da41](https://www.sqlite.org/src/info/689137afb6da41).
  id: totrans-1746
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在[CAST表达式](lang_expr.html#castexpr)中长期存在的一个bug，即使它们的最高有效字节不为零，也会将UTF16字符识别为数字。票号[689137afb6da41](https://www.sqlite.org/src/info/689137afb6da41)。
- en: Fix a bug in the NEAR operator of [FTS3](fts3.html) when applied to subfields.
    Ticket [38b1ae018f](https://www.sqlite.org/src/info/38b1ae018f).
  id: totrans-1747
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了应用于子字段时 [FTS3](fts3.html) 的 NEAR 运算符中的一个 bug。Ticket [38b1ae018f](https://www.sqlite.org/src/info/38b1ae018f)。
- en: Fix a long-standing bug in the storage engine that would (very rarely) cause
    a spurious report of an SQLITE_CORRUPT error but which was otherwise harmless.
    Ticket [6bfb98dfc0c](https://www.sqlite.org/src/info/6bfb98dfc0c).
  id: totrans-1748
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了存储引擎中一个长期存在的 bug，该 bug（非常罕见地）会导致虚报 SQLITE_CORRUPT 错误，但在其他情况下是无害的。Ticket [6bfb98dfc0c](https://www.sqlite.org/src/info/6bfb98dfc0c)。
- en: The SQLITE_OMIT_MERGE_SORT option has been removed. The merge sorter is now
    a required component of SQLite.
  id: totrans-1749
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_OMIT_MERGE_SORT 选项已被移除。合并排序器现在是 SQLite 的必需组件。
- en: Fixed lots of spelling errors in the source-code comments
  id: totrans-1750
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复源代码注释中的大量拼写错误。
- en: 'SQLITE_SOURCE_ID: "2013-03-29 13:44:34 527231bc67285f01fb18d4451b28f61da3c4e39d"'
  id: totrans-1751
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-03-29 13:44:34 527231bc67285f01fb18d4451b28f61da3c4e39d"'
- en: 'SHA1 for sqlite3.c: 7a91ceceac9bcf47ceb8219126276e5518f7ff5a'
  id: totrans-1752
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：7a91ceceac9bcf47ceb8219126276e5518f7ff5a
- en: 2013-03-18 (3.7.16)
  id: totrans-1753
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-03-18 (3.7.16)
- en: Added the [PRAGMA foreign_key_check](pragma.html#pragma_foreign_key_check) command.
  id: totrans-1754
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [PRAGMA foreign_key_check](pragma.html#pragma_foreign_key_check) 命令。
- en: Added new extended error codes for all SQLITE_CONSTRAINT errors
  id: totrans-1755
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为所有 SQLITE_CONSTRAINT 错误添加了新的扩展错误码。
- en: Added the SQLITE_READONLY_ROLLBACK extended error code for when a database cannot
    be opened because it needs rollback recovery but is read-only.
  id: totrans-1756
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为当数据库由于需要回滚恢复但是只读时无法打开时，添加了 SQLITE_READONLY_ROLLBACK 扩展错误码。
- en: Added SQL functions [unicode(A)](lang_corefunc.html#unicode) and [char(X1,...,XN)](lang_corefunc.html#char).
  id: totrans-1757
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 SQL 函数 [unicode(A)](lang_corefunc.html#unicode) 和 [char(X1,...,XN)](lang_corefunc.html#char)。
- en: Performance improvements for [PRAGMA incremental_vacuum](pragma.html#pragma_incremental_vacuum),
    especially in cases where the number of free pages is greater than what will fit
    on a single trunk page of the freelist.
  id: totrans-1758
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 [PRAGMA incremental_vacuum](pragma.html#pragma_incremental_vacuum) 的性能，特别是在空闲页数量大于可适应于自由列表的单个主干页的情况下。
- en: Improved optimization of queries containing aggregate min() or max().
  id: totrans-1759
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了包含聚合函数 min() 或 max() 的查询的优化。
- en: Enhance virtual tables so that they can potentially use an index when the WHERE
    clause contains the IN operator.
  id: totrans-1760
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进虚拟表，使其在 WHERE 子句包含 IN 操作符时可以潜在地使用索引。
- en: Allow indices to be used for sorting even if prior terms of the index are constrained
    by IN operators in the WHERE clause.
  id: totrans-1761
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许即使在 WHERE 子句中的前置索引受到 IN 操作符的约束，也可以用于排序的索引。
- en: Enhance the [PRAGMA table_info](pragma.html#pragma_table_info) command so that
    the "pk" column is an increasing integer to show the order of columns in the primary
    key.
  id: totrans-1762
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 [PRAGMA table_info](pragma.html#pragma_table_info) 命令，使 "pk" 列成为递增整数，以显示主键中列的顺序。
- en: Enhance the query optimizer to exploit transitive join constraints.
  id: totrans-1763
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进查询优化器，以利用传递连接约束。
- en: Performance improvements in the query optimizer.
  id: totrans-1764
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了查询优化器的性能。
- en: Allow the error message from [PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    to be longer than 20000 bytes.
  id: totrans-1765
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 的错误消息长度超过 20000
    字节。
- en: Improved name resolution for deeply nested queries.
  id: totrans-1766
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了深度嵌套查询的名称解析。
- en: Added the test_regexp.c module as a demonstration of how to implement the REGEXP
    operator.
  id: totrans-1767
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 test_regexp.c 模块，用于演示如何实现 REGEXP 操作符。
- en: Improved error messages in the [RTREE](rtree.html) extension.
  id: totrans-1768
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[RTREE](rtree.html) 扩展中改进了错误消息。'
- en: Enhance the [command-line shell](cli.html) so that a non-zero argument to the
    ".exit" command causes the shell to exit immediately without cleanly shutting
    down the database connection.
  id: totrans-1769
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强命令行 shell，使得对 ".exit" 命令的非零参数立即导致 shell 关闭数据库连接而不是正常关闭。
- en: Improved error messages for invalid boolean arguments to dot-commands in the
    [command-line shell](cli.html).
  id: totrans-1770
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了命令行 shell 中对无效布尔参数 dot-commands 的错误消息。
- en: Improved error messages for "foreign key mismatch" showing the names of the
    two tables involved.
  id: totrans-1771
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了“外键不匹配”的错误消息，显示涉及的两个表的名称。
- en: Remove all uses of umask() in the unix VFS.
  id: totrans-1772
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除 unix VFS 中所有对 umask() 的使用。
- en: Added the [PRAGMA vdbe_addoptrace](pragma.html#pragma_vdbe_addoptrace) and [PRAGMA
    vdbe_debug](pragma.html#pragma_vdbe_debug) commands.
  id: totrans-1773
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [PRAGMA vdbe_addoptrace](pragma.html#pragma_vdbe_addoptrace) 和 [PRAGMA vdbe_debug](pragma.html#pragma_vdbe_debug)
    命令。
- en: Change to use strncmp() or the equivalent instead of memcmp() when comparing
    non-zero-terminated strings.
  id: totrans-1774
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改用 strncmp() 或等效函数替代 memcmp() 比较非零结尾的字符串。
- en: Update cygwin interfaces to omit deprecated API calls.
  id: totrans-1775
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新 cygwin 接口，省略已弃用的 API 调用。
- en: Enhance the [spellfix1](spellfix1.html) extension so that the edit distance
    cost table can be changed at runtime by inserting a string like 'edit_cost_table=TABLE'
    into the "command" field.
  id: totrans-1776
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强 [spellfix1](spellfix1.html) 扩展，使得可以通过将类似 'edit_cost_table=TABLE' 的字符串插入到
    "command" 字段中在运行时更改编辑距离成本表。
- en: 'Bug fix: repair a long-standing problem that could cause incorrect query results
    in a 3-way or larger join that compared INTEGER fields against TEXT fields in
    two or more places. Ticket [fc7bd6358f](https://www.sqlite.org/src/info/fc7bd6358f)'
  id: totrans-1777
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：修复长期存在的问题，该问题可能导致在将整数字段与两个或多个文本字段进行比较的三路或更大连接中出现错误的查询结果。Ticket [fc7bd6358f](https://www.sqlite.org/src/info/fc7bd6358f)
- en: 'Bug fix: Issue an error message if the 16-bit reference counter on a view overflows
    due to an overly complex query.'
  id: totrans-1778
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：如果视图上的 16 位引用计数器因查询过于复杂而溢出，则发出错误消息。
- en: 'Bug fix: Avoid leaking memory on LIMIT and OFFSET clauses in deeply nested
    UNION ALL queries.'
  id: totrans-1779
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：在深度嵌套的 UNION ALL 查询中，避免在 LIMIT 和 OFFSET 子句中泄漏内存。
- en: 'Bug fix: Make sure the schema is up-to-date prior to running pragmas table_info,
    index_list, index_info, and foreign_key_list.'
  id: totrans-1780
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：确保在运行 pragmas table_info、index_list、index_info 和 foreign_key_list 之前，模式是最新的。
- en: 'SQLITE_SOURCE_ID: "2013-03-18 11:39:23 66d5f2b76750f3520eb7a495f6247206758f5b90"'
  id: totrans-1781
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2013-03-18 11:39:23 66d5f2b76750f3520eb7a495f6247206758f5b90"'
- en: 'SHA1 for sqlite3.c: 7308ab891ca1b2ebc596025cfe4dc36f1ee89cf6'
  id: totrans-1782
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：7308ab891ca1b2ebc596025cfe4dc36f1ee89cf6
- en: 2013-01-09 (3.7.15.2)
  id: totrans-1783
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2013-01-09 (3.7.15.2)
- en: Fix a bug, introduced in [version 3.7.15](#version_3_7_15), that causes an ORDER
    BY clause to be optimized out of a three-way join when the ORDER BY is actually
    required. Ticket [598f5f7596b055](https://www.sqlite.org/src/info/598f5f7596b055)
  id: totrans-1784
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，在[版本3.7.15](#version_3_7_15)中引入，导致在需要时优化掉三路联接中的ORDER BY子句。Ticket [598f5f7596b055](https://www.sqlite.org/src/info/598f5f7596b055)。
- en: 'SQLITE_SOURCE_ID: "2013-01-09 11:53:05 c0e09560d26f0a6456be9dd3447f5311eb4f238f"'
  id: totrans-1785
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID为："2013-01-09 11:53:05 c0e09560d26f0a6456be9dd3447f5311eb4f238f"。
- en: 'SHA1 for sqlite3.c: 5741f47d1bc38aa0a8c38f09e60a5fe0031f272d'
  id: totrans-1786
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：5741f47d1bc38aa0a8c38f09e60a5fe0031f272d。
- en: 2012-12-19 (3.7.15.1)
  id: totrans-1787
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-12-19 (3.7.15.1)
- en: Fix a bug, introduced in [version 3.7.15](#version_3_7_15), that causes a segfault
    if the AS name of a result column of a SELECT statement is used as a logical term
    in the WHERE clause. Ticket [a7b7803e8d1e869](https://www.sqlite.org/src/info/a7b7803e8d1e869).
  id: totrans-1788
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，在[版本3.7.15](#version_3_7_15)中引入，导致在SELECT语句的结果列的AS名称用作WHERE子句中的逻辑项时导致段错误。Ticket
    [a7b7803e8d1e869](https://www.sqlite.org/src/info/a7b7803e8d1e869)。
- en: 'SQLITE_SOURCE_ID: "2012-12-19 20:39:10 6b85b767d0ff7975146156a99ad673f2c1a23318"'
  id: totrans-1789
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID为："2012-12-19 20:39:10 6b85b767d0ff7975146156a99ad673f2c1a23318"。
- en: 'SHA1 for sqlite3.c: bbbaa68061e925bd4d7d18d7e1270935c5f7e39a'
  id: totrans-1790
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：bbbaa68061e925bd4d7d18d7e1270935c5f7e39a。
- en: 2012-12-12 (3.7.15)
  id: totrans-1791
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-12-12 (3.7.15)
- en: Added the [sqlite3_errstr()](c3ref/errcode.html) interface.
  id: totrans-1792
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[sqlite3_errstr()](c3ref/errcode.html)接口。
- en: Avoid invoking the [sqlite3_trace()](c3ref/profile.html) callback multiple times
    when a statement is automatically reprepared due to [SQLITE_SCHEMA](rescode.html#schema)
    errors.
  id: totrans-1793
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当由于[SQLITE_SCHEMA](rescode.html#schema)错误而自动重新准备语句时，避免多次调用[sqlite3_trace()](c3ref/profile.html)回调函数。
- en: Added support for Windows Phone 8 platforms
  id: totrans-1794
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对Windows Phone 8平台的支持。
- en: Enhance IN operator processing to make use of indices with numeric affinities.
  id: totrans-1795
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了IN操作符的处理，以利用数值亲和性的索引。
- en: Do full-table scans using covering indices when possible, under the theory that
    an index will be smaller and hence can be scanned with less I/O.
  id: totrans-1796
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在可能的情况下，通过使用覆盖索引进行全表扫描，理论上索引较小，因此可以通过较少的I/O进行扫描。
- en: Enhance the query optimizer so that ORDER BY clauses are more aggressively optimized,
    especially in joins where various terms of the ORDER BY clause come from separate
    tables of the join.
  id: totrans-1797
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了查询优化器，使得ORDER BY子句更加积极地进行优化，特别是在联接中，ORDER BY子句的各项来自不同的表。
- en: Add the ability to implement FROM clause subqueries as coroutines rather that
    manifesting the subquery into a temporary table.
  id: totrans-1798
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了作为协程实现FROM子句子查询的能力，而不是将子查询显现为临时表。
- en: 'Enhancements the command-line shell:'
  id: totrans-1799
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了命令行 shell：
- en: Added the ".print" command
  id: totrans-1800
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了".print"命令。
- en: Negative numbers in the ".width" command cause right-alignment
  id: totrans-1801
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '".width"命令中的负数导致右对齐。'
- en: Add the ".wheretrace" command when compiled with SQLITE_DEBUG
  id: totrans-1802
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在使用SQLITE_DEBUG编译时添加了".wheretrace"命令。
- en: Added the [busy_timeout pragma](pragma.html#pragma_busy_timeout).
  id: totrans-1803
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[busy_timeout pragma](pragma.html#pragma_busy_timeout)。
- en: Added the [instr()](lang_corefunc.html#instr) SQL function.
  id: totrans-1804
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[instr()](lang_corefunc.html#instr) SQL函数。
- en: Added the [SQLITE_FCNTL_BUSYHANDLER](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlbusyhandler)
    file control, used to allow VFS implementations to get access to the busy handler
    callback.
  id: totrans-1805
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_FCNTL_BUSYHANDLER](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlbusyhandler)文件控制，用于允许VFS实现获取繁忙处理程序回调的访问。
- en: The xDelete method in the built-in [VFSes](vfs.html) now return SQLITE_IOERR_DELETE_NOENT
    if the file to be deleted does not exist.
  id: totrans-1806
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内置[VFSes](vfs.html)中的xDelete方法现在在要删除的文件不存在时返回SQLITE_IOERR_DELETE_NOENT。
- en: Enhanced support for QNX.
  id: totrans-1807
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了对QNX的支持。
- en: Work around an optimizer bug in the MSVC compiler when targeting ARM.
  id: totrans-1808
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了MSVC编译器在ARM目标时的优化器错误。
- en: 'Bug fix: Avoid various concurrency problems in [shared cache mode](sharedcache.html).'
  id: totrans-1809
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在[共享缓存模式](sharedcache.html)中避免各种并发问题。
- en: 'Bug fix: Avoid a deadlock or crash if the [backup API](backup.html), [shared
    cache](sharedcache.html), and the SQLite Encryption Extension are all used at
    once.'
  id: totrans-1810
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：避免在同时使用[备份API](backup.html)，[共享缓存](sharedcache.html)和SQLite加密扩展时发生死锁或崩溃。
- en: 'Bug fix: SQL functions created using the TCL interface honor the "nullvalue"
    setting.'
  id: totrans-1811
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：使用TCL接口创建的SQL函数遵循“nullvalue”设置。
- en: 'Bug fix: Fix a 32-bit overflow problem on CREATE INDEX for databases larger
    than 16GB.'
  id: totrans-1812
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：修复了在大于16GB的数据库上为CREATE INDEX时发生的32位溢出问题。
- en: 'Bug fix: Avoid segfault when using the [COLLATE operator](lang_expr.html#collateop)
    inside of a [CHECK constraint](lang_createtable.html#ckconst) or [view](lang_createview.html)
    in [shared cache mode](sharedcache.html).'
  id: totrans-1813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在[共享缓存模式](sharedcache.html)中，在[CHECK约束](lang_createtable.html#ckconst)或[视图](lang_createview.html)内使用[COLLATE操作符](lang_expr.html#collateop)时避免段错误。
- en: 'SQLITE_SOURCE_ID: "2012-12-12 13:36:53 cd0b37c52658bfdf992b1e3dc467bae1835a94ae"'
  id: totrans-1814
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2012-12-12 13:36:53 cd0b37c52658bfdf992b1e3dc467bae1835a94ae"
- en: 'SHA1 for sqlite3.c: 2b413611f5e3e3b6ef5f618f2a9209cdf25cbcff"'
  id: totrans-1815
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值：2b413611f5e3e3b6ef5f618f2a9209cdf25cbcff"
- en: 2012-10-04 (3.7.14.1)
  id: totrans-1816
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-10-04 (3.7.14.1)
- en: Fix a bug (ticket [[d02e1406a58ea02d]]](https://www.sqlite.org/src/tktview/d02e1406a58ea02d))
    that causes a segfault on a LEFT JOIN that includes an OR in the ON clause.
  id: totrans-1817
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个错误（票证[[d02e1406a58ea02d]]](https://www.sqlite.org/src/tktview/d02e1406a58ea02d))，导致在LEFT
    JOIN中包含ON子句中的OR时发生段错误。
- en: Work around a bug in the optimizer in the VisualStudio-2012 compiler that causes
    invalid code to be generated when compiling SQLite on ARM.
  id: totrans-1818
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决VisualStudio-2012编译器优化器中的一个错误，导致在ARM上编译SQLite时生成无效代码。
- en: Fix the TCL interface so that the "nullvalue" setting is honored for TCL implementations
    of SQL functions.
  id: totrans-1819
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了TCL接口，以便TCL实现的SQL函数尊重“nullvalue”设置。
- en: 'SQLITE_SOURCE_ID: "2012-10-04 19:37:12 091570e46d04e84b67228e0bdbcd6e1fb60c6bdb"'
  id: totrans-1820
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2012-10-04 19:37:12 091570e46d04e84b67228e0bdbcd6e1fb60c6bdb"
- en: 'SHA1 for sqlite3.c: 62aaecaacab3a4bf4a8fe4aec1cfdc1571fe9a44'
  id: totrans-1821
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值：62aaecaacab3a4bf4a8fe4aec1cfdc1571fe9a44
- en: 2012-09-03 (3.7.14)
  id: totrans-1822
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-09-03 (3.7.14)
- en: Drop built-in support for OS/2\. If you need to upgrade an OS/2 application
    to use this or a later version of SQLite, then add an application-defined [VFS](vfs.html)
    using the [sqlite3_vfs_register()](c3ref/vfs_find.html) interface. The code removed
    in this release can serve as a baseline for the application-defined VFS.
  id: totrans-1823
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 放弃了对 OS/2 的内置支持。如果需要升级 OS/2 应用程序以使用此版本或更高版本的 SQLite，则可以使用 [sqlite3_vfs_register()](c3ref/vfs_find.html)
    接口添加一个应用程序定义的 [VFS](vfs.html)。本次发布中删除的代码可以作为应用程序定义的 VFS 的基线。
- en: Ensure that floating point values are preserved exactly when reconstructing
    a database from the output of the ".dump" command of the [command-line shell](cli.html).
  id: totrans-1824
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从命令行 shell 的“.dump”命令的输出重建数据库时，确保浮点值的精确保留。
- en: Added the [sqlite3_close_v2()](c3ref/close.html) interface.
  id: totrans-1825
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_close_v2()](c3ref/close.html) 接口。
- en: Updated the [command-line shell](cli.html) so that it can be built using [SQLITE_OMIT_FLOATING_POINT](compile.html#omit_floating_point)
    and [SQLITE_OMIT_AUTOINIT](compile.html#omit_autoinit).
  id: totrans-1826
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了命令行 shell，以便可以使用 [SQLITE_OMIT_FLOATING_POINT](compile.html#omit_floating_point)
    和 [SQLITE_OMIT_AUTOINIT](compile.html#omit_autoinit) 进行构建。
- en: Improvements to the windows makefiles and build processes.
  id: totrans-1827
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 Windows 的 makefile 和构建过程。
- en: Enhancements to [PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    and [PRAGMA quick_check](pragma.html#pragma_quick_check) so that they can optionally
    check just a single attached database instead of all attached databases.
  id: totrans-1828
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 和 [PRAGMA quick_check](pragma.html#pragma_quick_check)，使其可以选择性地仅检查单个附加数据库，而不是所有附加数据库。
- en: Enhancements to [WAL mode](wal.html) processing that ensure that at least one
    valid read-mark is available at all times, so that read-only processes can always
    read the database.
  id: totrans-1829
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 [WAL mode](wal.html) 处理，确保始终至少有一个有效的读标记可用，以便只读进程始终可以读取数据库。
- en: Performance enhancements in the sorter used by ORDER BY and CREATE INDEX.
  id: totrans-1830
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 ORDER BY 和 CREATE INDEX 中使用的排序器中的性能增强。
- en: Added the [SQLITE_DISABLE_FTS4_DEFERRED](compile.html#disable_fts4_deferred)
    compile-time option.
  id: totrans-1831
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DISABLE_FTS4_DEFERRED](compile.html#disable_fts4_deferred)编译时选项。
- en: Better handling of aggregate queries where the aggregate functions are contained
    within subqueries.
  id: totrans-1832
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更好地处理包含在子查询中的聚合查询。
- en: Enhance the query planner so that it will try to use a [covering index](queryplanner.html#covidx)
    on queries that make use of [or optimization](optoverview.html#or_opt).
  id: totrans-1833
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强查询规划器，使其在使用 [or optimization](optoverview.html#or_opt) 的查询上尝试使用 [covering
    index](queryplanner.html#covidx)。
- en: 'SQLITE_SOURCE_ID: "2012-09-03 15:42:36 c0d89d4a9752922f9e367362366efde4f1b06f2a"'
  id: totrans-1834
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2012-09-03 15:42:36 c0d89d4a9752922f9e367362366efde4f1b06f2a"
- en: 'SHA1 for sqlite3.c: 5fdf596b29bb426001f28b488ff356ae14d5a5a6'
  id: totrans-1835
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：5fdf596b29bb426001f28b488ff356ae14d5a5a6
- en: 2012-06-11 (3.7.13)
  id: totrans-1836
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-06-11 (3.7.13)
- en: '[In-memory databases](inmemorydb.html) that are specified using [URI filenames](uri.html)
    are allowed to use [shared cache](sharedcache.html#inmemsharedcache), so that
    the same in-memory database can be accessed from multiple database connections.'
  id: totrans-1837
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许使用 [URI 文件名](uri.html) 指定的 [内存数据库](inmemorydb.html) 使用 [共享缓存](sharedcache.html#inmemsharedcache)，因此可以从多个数据库连接访问同一内存数据库。
- en: Recognize and use the [mode=memory](uri.html#coreqp) query parameter in [URI
    filenames](uri.html).
  id: totrans-1838
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 识别并使用 [URI 文件名](uri.html) 中的 [mode=memory](uri.html#coreqp) 查询参数。
- en: Avoid resetting the schema of [shared cache](sharedcache.html) connections when
    any one connection closes. Instead, wait for the last connection to close before
    resetting the schema.
  id: totrans-1839
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在任何一个连接关闭时避免重置 [共享缓存](sharedcache.html) 连接的模式。而是等待最后一个连接关闭后再重置模式。
- en: In the [RTREE](rtree.html) extension, when rounding 64-bit floating point numbers
    to 32-bit for storage, always round in a direction that causes the bounding box
    to get larger.
  id: totrans-1840
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 [RTREE](rtree.html) 扩展中，将 64 位浮点数舍入为 32 位以进行存储时，始终选择使边界框变大的舍入方向。
- en: Adjust the unix driver to avoid unnecessary calls to fchown().
  id: totrans-1841
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整 Unix 驱动程序，避免不必要地调用 fchown()。
- en: Add interfaces sqlite3_quota_ferror() and sqlite3_quota_file_available() to
    the test_quota.c module.
  id: totrans-1842
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将接口 sqlite3_quota_ferror() 和 sqlite3_quota_file_available() 添加到 test_quota.c
    模块中。
- en: The [sqlite3_create_module()](c3ref/create_module.html) and [sqlite3_create_module_v2()](c3ref/create_module.html)
    interfaces return SQLITE_MISUSE on any attempt to overload or replace a [virtual
    table](vtab.html) module. The destructor is always called in this case, in accordance
    with historical and current documentation.
  id: totrans-1843
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_create_module()](c3ref/create_module.html) 和 [sqlite3_create_module_v2()](c3ref/create_module.html)
    接口在任何尝试重载或替换 [虚拟表](vtab.html) 模块时返回 SQLITE_MISUSE。在这种情况下始终调用析构函数，符合历史和当前文档的要求。'
- en: 'SQLITE_SOURCE_ID: "2012-06-11 02:05:22 f5b5a13f7394dc143aa136f1d4faba6839eaa6dc"'
  id: totrans-1844
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2012-06-11 02:05:22 f5b5a13f7394dc143aa136f1d4faba6839eaa6dc"'
- en: 'SHA1 for sqlite3.c: ff0a771d6252545740ba9685e312b0e3bb6a641b'
  id: totrans-1845
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为 ff0a771d6252545740ba9685e312b0e3bb6a641b
- en: 2012-05-22 (3.7.12.1)
  id: totrans-1846
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-05-22 (3.7.12.1)
- en: Fix a bug [(ticket c2ad16f997)](https://www.sqlite.org/src/info/c2ad16f997ee9c)
    in the 3.7.12 release that can cause a segfault for certain obscure nested aggregate
    queries.
  id: totrans-1847
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在 3.7.12 版本中可能导致某些复杂嵌套聚合查询段错误的 bug [(ticket c2ad16f997)](https://www.sqlite.org/src/info/c2ad16f997ee9c)。
- en: Fix various other minor test script problems.
  id: totrans-1848
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复各种其他次要测试脚本问题。
- en: 'SQLITE_SOURCE_ID: "2012-05-22 02:45:53 6d326d44fd1d626aae0e8456e5fa2049f1ce0789"'
  id: totrans-1849
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2012-05-22 02:45:53 6d326d44fd1d626aae0e8456e5fa2049f1ce0789"'
- en: 'SHA1 for sqlite3.c: d494e8d81607f0515d4f386156fb0fd86d5ba7df'
  id: totrans-1850
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为 d494e8d81607f0515d4f386156fb0fd86d5ba7df
- en: 2012-05-14 (3.7.12)
  id: totrans-1851
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-05-14 (3.7.12)
- en: Add the [SQLITE_DBSTATUS_CACHE_WRITE](c3ref/c_dbstatus_options.html#sqlitedbstatuscachewrite)
    option for [sqlite3_db_status()](c3ref/db_status.html).
  id: totrans-1852
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [sqlite3_db_status()](c3ref/db_status.html) 添加 [SQLITE_DBSTATUS_CACHE_WRITE](c3ref/c_dbstatus_options.html#sqlitedbstatuscachewrite)
    选项。
- en: Optimize the [typeof()](lang_corefunc.html#typeof) and [length()](lang_corefunc.html#length)
    SQL functions so that they avoid unnecessary reading of database content from
    disk.
  id: totrans-1853
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化 [typeof()](lang_corefunc.html#typeof) 和 [length()](lang_corefunc.html#length)
    SQL 函数，以避免不必要地从磁盘读取数据库内容。
- en: Add the [FTS4 "merge" command](fts3.html#*fts4mergecmd), the [FTS4 "automerge"
    command](fts3.html#*fts4automergecmd), and the [FTS4 "integrity-check" command](fts3.html#*fts4ickcmd).
  id: totrans-1854
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 [FTS4 "merge" 命令](fts3.html#*fts4mergecmd)，[FTS4 "automerge" 命令](fts3.html#*fts4automergecmd)
    和 [FTS4 "integrity-check" 命令](fts3.html#*fts4ickcmd)。
- en: Report the name of specific [CHECK](lang_createtable.html#ckconst) constraints
    that fail.
  id: totrans-1855
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 报告特定 [CHECK](lang_createtable.html#ckconst) 约束失败的名称。
- en: In the command-line shell, use popen() instead of fopen() if the first character
    of the argument to the ".output" command is "|".
  id: totrans-1856
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行 shell 中，如果 ".output" 命令的参数的第一个字符是 "|"，则使用 popen() 而不是 fopen()。
- en: Make use of OVERLAPPED in the windows [VFS](vfs.html) to avoid some system calls
    and thereby obtain a performance improvement.
  id: totrans-1857
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 利用 Windows 的 OVERLAPPED 特性在 VFS 中，避免一些系统调用，从而获得性能改进。
- en: More aggressive optimization of the AND operator when one side or the other
    is always false.
  id: totrans-1858
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当其中一侧始终为假时，更加积极地优化 AND 运算符。
- en: Improved performance of queries with many OR-connected terms in the WHERE clause
    that can all be indexed.
  id: totrans-1859
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 WHERE 子句中包含许多可全部索引的 OR 连接术语的查询中，提高性能。
- en: Add the [SQLITE_RTREE_INT_ONLY](compile.html#rtree_int_only) compile-time option
    to force the [R*Tree Extension Module](rtree.html) to use integer instead of floating
    point values for both storage and computation.
  id: totrans-1860
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 [SQLITE_RTREE_INT_ONLY](compile.html#rtree_int_only) 编译时选项，以强制 [R*Tree 扩展模块](rtree.html)
    使用整数而不是浮点值进行存储和计算。
- en: Enhance the [PRAGMA integrity_check](pragma.html#pragma_integrity_check) command
    to use much less memory when processing multi-gigabyte databases.
  id: totrans-1861
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强 [PRAGMA integrity_check](pragma.html#pragma_integrity_check) 命令，在处理多千兆字节数据库时大大减少内存使用。
- en: New interfaces added to the test_quota.c add-on module.
  id: totrans-1862
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加到 test_quota.c 附加模块的新接口。
- en: Added the ".trace" dot-command to the command-line shell.
  id: totrans-1863
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 ".trace" dot-command 到命令行 shell。
- en: Allow virtual table constructors to be invoked recursively.
  id: totrans-1864
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许递归调用虚拟表构造函数。
- en: Improved optimization of ORDER BY clauses on compound queries.
  id: totrans-1865
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在复合查询的 ORDER BY 子句上改进优化。
- en: Improved optimization of aggregate subqueries contained within an aggregate
    query.
  id: totrans-1866
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在聚合查询中包含的聚合子查询的优化改进。
- en: 'Bug fix: Fix the [RELEASE](lang_savepoint.html) command so that it does not
    cancel pending queries. This repairs a problem introduced in 3.7.11.'
  id: totrans-1867
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：修复 [RELEASE](lang_savepoint.html) 命令，以防止取消待处理的查询。这修复了 3.7.11 中引入的问题。
- en: 'Bug fix: Do not discard the DISTINCT as superfluous unless a subset of the
    result set is subject to a UNIQUE constraint *and* it none of the columns in that
    subset can be NULL. Ticket [385a5b56b9](https://www.sqlite.org/src/info/385a5b56b9).'
  id: totrans-1868
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：只有在结果集的子集受到 UNIQUE 约束并且该子集中的列均不为空时，才不将 DISTINCT 丢弃。Ticket [385a5b56b9](https://www.sqlite.org/src/info/385a5b56b9)。
- en: 'Bug fix: Do not optimize away an ORDER BY clause that has the same terms as
    a UNIQUE index unless those terms are also NOT NULL. Ticket [2a5629202f](https://www.sqlite.org/src/info/2a5629202f).'
  id: totrans-1869
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：不要优化掉一个具有与唯一索引相同项的ORDER BY子句，除非这些项也是NOT NULL。Ticket [2a5629202f](https://www.sqlite.org/src/info/2a5629202f)。
- en: 'SQLITE_SOURCE_ID: "2012-05-14 01:41:23 8654aa9540fe9fd210899d83d17f3f407096c004"'
  id: totrans-1870
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2012-05-14 01:41:23 8654aa9540fe9fd210899d83d17f3f407096c004"'
- en: 'SHA1 for sqlite3.c: 57e2104a0f7b3f528e7f6b7a8e553e2357ccd2e1'
  id: totrans-1871
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为57e2104a0f7b3f528e7f6b7a8e553e2357ccd2e1
- en: 2012-03-20 (3.7.11)
  id: totrans-1872
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-03-20 (3.7.11)
- en: Enhance the [INSERT](lang_insert.html) syntax to allow multiple rows to be inserted
    via the VALUES clause.
  id: totrans-1873
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[INSERT](lang_insert.html)语法，允许通过VALUES子句插入多行。
- en: Enhance the [CREATE VIRTUAL TABLE](lang_createvtab.html) command to support
    the IF NOT EXISTS clause.
  id: totrans-1874
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[CREATE VIRTUAL TABLE](lang_createvtab.html)命令，以支持IF NOT EXISTS子句。
- en: Added the [sqlite3_stricmp()](c3ref/stricmp.html) interface as a counterpart
    to [sqlite3_strnicmp()](c3ref/stricmp.html).
  id: totrans-1875
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_stricmp()](c3ref/stricmp.html)接口，作为[sqlite3_strnicmp()](c3ref/stricmp.html)的对应物。
- en: Added the [sqlite3_db_readonly()](c3ref/db_readonly.html) interface.
  id: totrans-1876
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_db_readonly()](c3ref/db_readonly.html)接口。
- en: Added the [SQLITE_FCNTL_PRAGMA](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlpragma)
    file control, giving [VFS](vfs.html) implementations the ability to add new [PRAGMA](pragma.html#syntax)
    statements or to override built-in PRAGMAs.
  id: totrans-1877
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[SQLITE_FCNTL_PRAGMA](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlpragma)文件控制，允许[VFS](vfs.html)实现添加新的[PRAGMA](pragma.html#syntax)语句或覆盖内置的PRAGMA。
- en: 'Queries of the form: "SELECT max(x), y FROM table" returns the value of y on
    the same row that contains the maximum x value.'
  id: totrans-1878
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 形式为："SELECT max(x), y FROM table"的查询将返回包含最大x值的同一行上的y值。
- en: Added support for the [FTS4 languageid option](fts3.html#*fts4languageid).
  id: totrans-1879
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[FTS4 languageid option](fts3.html#*fts4languageid)的支持。
- en: Documented support for the [FTS4 content option](fts3.html#*fts4content). This
    feature has actually been in the code since [version 3.7.9](#version_3_7_9) but
    is only now considered to be officially supported.
  id: totrans-1880
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档中记录了对[FTS4 content option](fts3.html#*fts4content)的支持。实际上，这个功能从[version 3.7.9](#version_3_7_9)开始就已经存在于代码中，但现在才被正式支持。
- en: Pending statements no longer block [ROLLBACK](lang_transaction.html). Instead,
    the pending statement will return SQLITE_ABORT upon next access after the ROLLBACK.
  id: totrans-1881
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 待处理语句不再阻塞[ROLLBACK](lang_transaction.html)，而是在ROLLBACK后的下一次访问时返回SQLITE_ABORT。
- en: Improvements to the handling of CSV inputs in the [command-line shell](cli.html)
  id: totrans-1882
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了[命令行 shell](cli.html)中CSV输入的处理。
- en: Fix a [bug](https://www.sqlite.org/src/info/b7c8682cc1) introduced in [version
    3.7.10](#version_3_7_10) that might cause a LEFT JOIN to be incorrectly converted
    into an INNER JOIN if the WHERE clause indexable terms connected by OR.
  id: totrans-1883
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个[bug](https://www.sqlite.org/src/info/b7c8682cc1)，该bug在[version 3.7.10](#version_3_7_10)中引入，可能会导致LEFT
    JOIN在WHERE子句由OR连接的可索引项时被错误地转换为INNER JOIN。
- en: 'SQLITE_SOURCE_ID: "2012-03-20 11:35:50 00bb9c9ce4f465e6ac321ced2a9d0062dc364669"'
  id: totrans-1884
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2012-03-20 11:35:50 00bb9c9ce4f465e6ac321ced2a9d0062dc364669"'
- en: 'SHA1 for sqlite3.c: d460d7eda3a9dccd291aed2a9fda868b9b120a10'
  id: totrans-1885
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值为：d460d7eda3a9dccd291aed2a9fda868b9b120a10
- en: 2012-01-16 (3.7.10)
  id: totrans-1886
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2012-01-16 (3.7.10)
- en: The default [schema format number](fileformat2.html#schemaformat) is changed
    from 1 to 4. This means that, unless the [PRAGMA legacy_file_format=ON](pragma.html#pragma_legacy_file_format)
    statement is run, newly created database files will be unreadable by version of
    SQLite prior to 3.3.0 (2006-01-10). It also means that the [descending indices](lang_createindex.html#descidx)
    are enabled by default.
  id: totrans-1887
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认的 [schema format number](fileformat2.html#schemaformat) 从 1 改为 4。这意味着，除非运行
    [PRAGMA legacy_file_format=ON](pragma.html#pragma_legacy_file_format) 语句，否则新创建的数据库文件将无法被
    SQLite 3.3.0 (2006-01-10) 之前的版本读取。它还意味着默认启用了 [descending indices](lang_createindex.html#descidx)。
- en: The sqlite3_pcache_methods structure and the [SQLITE_CONFIG_PCACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpcache)
    and [SQLITE_CONFIG_GETPCACHE](c3ref/c_config_covering_index_scan.html#sqliteconfiggetpcache)
    configuration parameters are deprecated. They are replaced by a new [sqlite3_pcache_methods2](c3ref/pcache_methods2.html)
    structure and [SQLITE_CONFIG_PCACHE2](c3ref/c_config_covering_index_scan.html#sqliteconfigpcache2)
    and [SQLITE_CONFIG_GETPCACHE2](c3ref/c_config_covering_index_scan.html#sqliteconfiggetpcache2)
    configuration parameters.
  id: totrans-1888
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`sqlite3_pcache_methods` 结构和 [SQLITE_CONFIG_PCACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpcache)
    和 [SQLITE_CONFIG_GETPCACHE](c3ref/c_config_covering_index_scan.html#sqliteconfiggetpcache)
    配置参数已被弃用。它们被一个新的 [sqlite3_pcache_methods2](c3ref/pcache_methods2.html) 结构体和 [SQLITE_CONFIG_PCACHE2](c3ref/c_config_covering_index_scan.html#sqliteconfigpcache2)
    和 [SQLITE_CONFIG_GETPCACHE2](c3ref/c_config_covering_index_scan.html#sqliteconfiggetpcache2)
    配置参数所取代。'
- en: Added the [powersafe overwrite](psow.html) property to the VFS interface. Provide
    the [SQLITE_IOCAP_POWERSAFE_OVERWRITE](c3ref/c_iocap_atomic.html) I/O capability,
    the [SQLITE_POWERSAFE_OVERWRITE](compile.html#powersafe_overwrite) compile-time
    option, and the "psow=BOOLEAN" query parameter for [URI filenames](uri.html).
  id: totrans-1889
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 VFS 接口中添加了 [powersafe overwrite](psow.html) 属性。提供了 [SQLITE_IOCAP_POWERSAFE_OVERWRITE](c3ref/c_iocap_atomic.html)
    I/O 能力、[SQLITE_POWERSAFE_OVERWRITE](compile.html#powersafe_overwrite) 编译时选项，以及
    [URI filenames](uri.html) 的 "psow=BOOLEAN" 查询参数。
- en: Added the [sqlite3_db_release_memory()](c3ref/db_release_memory.html) interface
    and the [shrink_memory pragma](pragma.html#pragma_shrink_memory).
  id: totrans-1890
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [sqlite3_db_release_memory()](c3ref/db_release_memory.html) 接口和 [shrink_memory
    pragma](pragma.html#pragma_shrink_memory)。
- en: Added the [sqlite3_db_filename()](c3ref/db_filename.html) interface.
  id: totrans-1891
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [sqlite3_db_filename()](c3ref/db_filename.html) 接口。
- en: Added the [sqlite3_stmt_busy()](c3ref/stmt_busy.html) interface.
  id: totrans-1892
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [sqlite3_stmt_busy()](c3ref/stmt_busy.html) 接口。
- en: Added the [sqlite3_uri_boolean()](c3ref/uri_boolean.html) and [sqlite3_uri_int64()](c3ref/uri_boolean.html)
    interfaces.
  id: totrans-1893
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 [sqlite3_uri_boolean()](c3ref/uri_boolean.html) 和 [sqlite3_uri_int64()](c3ref/uri_boolean.html)
    接口。
- en: If the argument to [PRAGMA cache_size](pragma.html#pragma_cache_size) is negative
    N, that means to use approximately -1024*N bytes of memory for the page cache
    regardless of the page size.
  id: totrans-1894
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 [PRAGMA cache_size](pragma.html#pragma_cache_size) 的参数为负数 N，则意味着无论页面大小如何，要使用大约
    -1024*N 字节的内存作为页面缓存。
- en: Enhanced the default memory allocator to make use of _msize() on windows, malloc_size()
    on Mac, and malloc_usable_size() on Linux.
  id: totrans-1895
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了默认内存分配器，利用Windows上的_msize()，Mac上的malloc_size()和Linux上的malloc_usable_size()。
- en: Enhanced the query planner to support index queries with range constraints on
    the rowid.
  id: totrans-1896
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了查询规划器，以支持在rowid上具有范围约束的索引查询。
- en: Enhanced the query planner flattening logic to allow UNION ALL compounds to
    be promoted upwards to replace a simple wrapper SELECT even if the compounds are
    joins.
  id: totrans-1897
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了查询规划器的展平逻辑，允许UNION ALL复合体被提升到替换简单包装的SELECT，即使这些复合体是连接操作。
- en: Enhanced the query planner so that the xfer optimization can be used with INTEGER
    PRIMARY KEY ON CONFLICT as long as the destination table is initially empty.
  id: totrans-1898
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了查询规划器，使得xfer优化可以在目标表最初为空的情况下与INTEGER PRIMARY KEY ON CONFLICT一起使用。
- en: Enhanced the windows [VFS](vfs.html) so that all system calls can be overridden
    using the xSetSystemCall interface.
  id: totrans-1899
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了windows [VFS](vfs.html)，使得所有系统调用都可以使用xSetSystemCall接口进行覆盖。
- en: Updated the "unix-dotfile" [VFS](vfs.html) to use locking directories with mkdir()
    and rmdir() instead of locking files with open() and unlink().
  id: totrans-1900
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了"unix-dotfile" [VFS](vfs.html)，使用mkdir()和rmdir()代替open()和unlink()来锁定目录。
- en: Enhancements to the test_quota.c extension to support stdio-like interfaces
    with quotas.
  id: totrans-1901
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了test_quota.c扩展以支持带配额的类似stdio的接口。
- en: Change the unix [VFS](vfs.html) to be tolerant of read() system calls that return
    less then the full number of requested bytes.
  id: totrans-1902
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将unix [VFS](vfs.html)更改为能够容忍返回请求字节不足的read()系统调用。
- en: Change both unix and windows [VFSes](vfs.html) to report a sector size of 4096
    instead of the old default of 512.
  id: totrans-1903
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改了unix和windows [VFS](vfs.html)，将扇区大小报告为4096，而不是旧的默认512。
- en: In the [TCL Interface](tclsqlite.html), add the -uri option to the "sqlite3"
    TCL command used for creating new database connection objects.
  id: totrans-1904
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[TCL接口](tclsqlite.html)中，为用于创建新数据库连接对象的"sqlite3" TCL命令添加了-uri选项。
- en: Added the [SQLITE_TESTCTRL_EXPLAIN_STMT](c3ref/c_testctrl_always.html) test-control
    option with the [SQLITE_ENABLE_TREE_EXPLAIN](compile.html#enable_tree_explain)
    compile-time option to enable the [command-line shell](cli.html) to display ASCII-art
    parse trees of SQL statements that it processes, for debugging and analysis.
  id: totrans-1905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_TESTCTRL_EXPLAIN_STMT](c3ref/c_testctrl_always.html)测试控制选项，与[SQLITE_ENABLE_TREE_EXPLAIN](compile.html#enable_tree_explain)编译时选项一起使用，以便使命令行shell能够显示它处理的SQL语句的ASCII艺术解析树，用于调试和分析。
- en: '**Bug fix:** Add an additional xSync when restarting a WAL in order to prevent
    an exceedingly unlikely but theoretically possible database corruption following
    power-loss. Ticket [ff5be73dee](https://www.sqlite.org/src/info/ff5be73dee).'
  id: totrans-1906
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Bug fix:** 在重新启动WAL时添加了额外的xSync，以防止在断电后极不可能但理论上可能发生的数据库损坏。票号[ff5be73dee](https://www.sqlite.org/src/info/ff5be73dee)'
- en: '**Bug fix:** Change the VDBE so that all registers are initialized to Invalid
    instead of NULL. Ticket [7bbfb7d442](https://www.sqlite.org/src/info/7bbfb7d442)'
  id: totrans-1907
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Bug fix:** 更改VDBE，使所有寄存器初始化为Invalid而不是NULL。票号[7bbfb7d442](https://www.sqlite.org/src/info/7bbfb7d442)'
- en: '**Bug fix:** Fix problems that can result from 32-bit integer overflow. Ticket
    [ac00f496b7e2](https://www.sqlite.org/src/info/ac0ff496b7e2)'
  id: totrans-1908
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Bug 修复：** 修复了由于 32 位整数溢出可能导致的问题。 票 [ac00f496b7e2](https://www.sqlite.org/src/info/ac0ff496b7e2)'
- en: 'SQLITE_SOURCE_ID: "2012-01-16 13:28:40 ebd01a8deffb5024a5d7494eef800d2366d97204"'
  id: totrans-1909
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2012-01-16 13:28:40 ebd01a8deffb5024a5d7494eef800d2366d97204"'
- en: 'SHA1 for sqlite3.c: 6497cbbaad47220bd41e2e4216c54706e7ae95d4'
  id: totrans-1910
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c 的 SHA1 值：6497cbbaad47220bd41e2e4216c54706e7ae95d4
- en: 2011-11-01 (3.7.9)
  id: totrans-1911
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-11-01 (3.7.9)
- en: If a search token (on the right-hand side of the MATCH operator) in [FTS4](fts3.html#fts4)
    begins with "^" then that token must be the first in its field of the document.
    **** Potentially Incompatible Change ****
  id: totrans-1912
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果在 [FTS4](fts3.html#fts4) 中搜索的标记（MATCH 运算符的右侧）以 "^" 开头，则该标记必须是文档字段中的第一个。 ****
    可能的不兼容变更 ****
- en: Added options [SQLITE_DBSTATUS_CACHE_HIT](c3ref/c_dbstatus_options.html#sqlitedbstatuscachehit)
    and [SQLITE_DBSTATUS_CACHE_MISS](c3ref/c_dbstatus_options.html#sqlitedbstatuscachemiss)
    to the [sqlite3_db_status()](c3ref/db_status.html) interface.
  id: totrans-1913
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了选项 [SQLITE_DBSTATUS_CACHE_HIT](c3ref/c_dbstatus_options.html#sqlitedbstatuscachehit)
    和 [SQLITE_DBSTATUS_CACHE_MISS](c3ref/c_dbstatus_options.html#sqlitedbstatuscachemiss)
    到 [sqlite3_db_status()](c3ref/db_status.html) 接口。
- en: Removed support for [SQLITE_ENABLE_STAT2](compile.html#enable_stat2), replacing
    it with the much more capable [SQLITE_ENABLE_STAT3](compile.html#enable_stat3)
    option.
  id: totrans-1914
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除了对 [SQLITE_ENABLE_STAT2](compile.html#enable_stat2) 的支持，并用更强大的 [SQLITE_ENABLE_STAT3](compile.html#enable_stat3)
    选项替换。
- en: Enhancements to the sqlite3_analyzer utility program, including the --pageinfo
    and --stats options and support for multiplexed databases.
  id: totrans-1915
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 sqlite3_analyzer 实用程序程序进行了增强，包括 --pageinfo 和 --stats 选项以及对多路复用数据库的支持。
- en: Enhance the [sqlite3_data_count()](c3ref/data_count.html) interface so that
    it can be used to determine if SQLITE_DONE has been seen on the prepared statement.
  id: totrans-1916
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [sqlite3_data_count()](c3ref/data_count.html) 接口，使其可以用来确定在准备好的语句上是否已经看到了
    SQLITE_DONE。
- en: Added the [SQLITE_FCNTL_OVERWRITE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntloverwrite)
    file-control by which the SQLite core indicates to the VFS that the current transaction
    will overwrite the entire database file.
  id: totrans-1917
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_FCNTL_OVERWRITE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntloverwrite)
    文件控制，SQLite 核心通过它向 VFS 表示当前事务将覆盖整个数据库文件。
- en: Increase the default [lookaside memory allocator](malloc.html#lookaside) allocation
    size from 100 to 128 bytes.
  id: totrans-1918
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将默认的 [lookaside 内存分配器](malloc.html#lookaside) 分配大小从 100 增加到 128 字节。
- en: Enhanced the query planner so that it can factor terms in and out of OR expressions
    in the WHERE clause in an effort to find better indices.
  id: totrans-1919
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了查询规划器，使其能够在 WHERE 子句中的 OR 表达式中因子化术语，以便寻找更好的索引。
- en: Added the [SQLITE_DIRECT_OVERFLOW_READ](compile.html#direct_overflow_read) compile-time
    option, causing [overflow pages](fileformat2.html#ovflpgs) to be read directly
    from the database file, bypassing the [page cache](c3ref/pcache_methods2.html).
  id: totrans-1920
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_DIRECT_OVERFLOW_READ](compile.html#direct_overflow_read) 编译时选项，导致直接从数据库文件中读取溢出页面，绕过
    [页面缓存](c3ref/pcache_methods2.html)。
- en: Remove limits on the magnitude of precision and width value in the format specifiers
    of the [sqlite3_mprintf()](c3ref/mprintf.html) family of string rendering routines.
  id: totrans-1921
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了[sqlite3_mprintf()](c3ref/mprintf.html)字符串渲染例程中格式说明符的精度和宽度值的限制。
- en: Fix a bug that prevent [ALTER TABLE ... RENAME](lang_altertable.html) from working
    on some virtual tables in a database with a UTF16 encoding.
  id: totrans-1922
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，阻止UTF16编码数据库中某些虚拟表上的[ALTER TABLE ... RENAME](lang_altertable.html)操作。
- en: Fix a bug in ASCII-to-float conversion that causes slow performance and incorrect
    results when converting numbers with ridiculously large exponents.
  id: totrans-1923
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了ASCII到浮点转换中的一个bug，导致在转换具有极大指数的数字时性能慢且结果不正确。
- en: Fix a bug that causes incorrect results in aggregate queries that use multiple
    aggregate functions whose arguments contain complicated expressions that differ
    only in the case of string literals contained within those expressions.
  id: totrans-1924
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，在聚合查询中使用多个聚合函数且其参数包含复杂表达式的情况下，由于字符串文字内部的大小写不同而导致结果不正确。
- en: Fix a bug that prevented the [page_count](pragma.html#pragma_page_count) and
    [quick_check](pragma.html#pragma_quick_check) pragmas from working correctly if
    their names were capitalized.
  id: totrans-1925
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，如果其名称大写，导致[page_count](pragma.html#pragma_page_count)和[quick_check](pragma.html#pragma_quick_check)
    pragmas工作不正确。
- en: Fix a bug that caused [VACUUM](lang_vacuum.html) to fail if the [count_changes
    pragma](pragma.html#pragma_count_changes) was engaged.
  id: totrans-1926
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，如果启用[count_changes pragma](pragma.html#pragma_count_changes)，导致[VACUUM](lang_vacuum.html)失败。
- en: Fix a bug in [virtual table](vtab.html) implementation that causes a crash if
    an [FTS4](fts3.html#fts4) table is [dropped](lang_droptable.html) inside a transaction
    and a [SAVEPOINT](lang_savepoint.html) occurs afterwards.
  id: totrans-1927
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了虚拟表实现中的一个bug，如果在事务内部[删除](lang_droptable.html)FTS4表并且之后发生[SAVEPOINT](lang_savepoint.html)，则会导致崩溃。
- en: 'SQLITE_SOURCE_ID: "2011-11-01 00:52:41 c7c6050ef060877ebe77b41d959e9df13f8c9b5e"'
  id: totrans-1928
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2011-11-01 00:52:41 c7c6050ef060877ebe77b41d959e9df13f8c9b5e"
- en: 'SHA1 for sqlite3.c: becd16877f4f9b281b91c97e106089497d71bb47'
  id: totrans-1929
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：becd16877f4f9b281b91c97e106089497d71bb47
- en: 2011-09-19 (3.7.8)
  id: totrans-1930
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-09-19 (3.7.8)
- en: Orders of magnitude performance improvement for [CREATE INDEX](lang_createindex.html)
    on very large tables.
  id: totrans-1931
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于非常大的表，[创建索引](lang_createindex.html)的性能提升达到数量级的改进。
- en: Improved the windows VFS to better defend against interference from anti-virus
    software.
  id: totrans-1932
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了Windows VFS以更好地抵御来自防病毒软件的干扰。
- en: Improved query plan optimization when the DISTINCT keyword is present.
  id: totrans-1933
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在存在DISTINCT关键字时，改进了查询计划优化。
- en: Allow more system calls to be overridden in the unix VFS - to provide better
    support for chromium sandboxes.
  id: totrans-1934
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在Unix VFS中覆盖更多系统调用，以提供更好的Chromium沙盒支持。
- en: Increase the default size of a lookahead cache line from 100 to 128 bytes.
  id: totrans-1935
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将前瞻缓存行的默认大小从100增加到128字节。
- en: Enhancements to the test_quota.c module so that it can track preexisting files.
  id: totrans-1936
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对test_quota.c模块进行了增强，以便可以跟踪预先存在的文件。
- en: 'Bug fix: Virtual tables now handle IS NOT NULL constraints correctly.'
  id: totrans-1937
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：虚拟表现在正确处理IS NOT NULL约束。
- en: 'Bug fixes: Correctly handle nested correlated subqueries used with indices
    in a WHERE clause.'
  id: totrans-1938
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在WHERE子句中与索引一起使用的嵌套相关子查询的处理正确。
- en: 'SQLITE_SOURCE_ID: "2011-09-19 14:49:19 3e0da808d2f5b4d12046e05980ca04578f581177"'
  id: totrans-1939
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2011-09-19 14:49:19 3e0da808d2f5b4d12046e05980ca04578f581177"'
- en: 'SHA1 for sqlite3.c: bfcd74a655636b592c5dba6d0d5729c0f8e3b4de'
  id: totrans-1940
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c的SHA1: bfcd74a655636b592c5dba6d0d5729c0f8e3b4de'
- en: 2011-06-28 (3.7.7.1)
  id: totrans-1941
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-06-28 (3.7.7.1)
- en: Fix [a bug](https://www.sqlite.org/src/info/25ee812710) causing [PRAGMA case_sensitive_like](pragma.html#pragma_case_sensitive_like)
    statements compiled using sqlite3_prepare() to fail with an [SQLITE_SCHEMA](rescode.html#schema)
    error.
  id: totrans-1942
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个导致使用sqlite3_prepare()编译的[PRAGMA case_sensitive_like](pragma.html#pragma_case_sensitive_like)语句在[SQLITE_SCHEMA](rescode.html#schema)错误下失败的[错误](https://www.sqlite.org/src/info/25ee812710)。
- en: 'SQLITE_SOURCE_ID: "2011-06-28 17:39:05 af0d91adf497f5f36ec3813f04235a6e195a605f"'
  id: totrans-1943
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2011-06-28 17:39:05 af0d91adf497f5f36ec3813f04235a6e195a605f"'
- en: 'SHA1 for sqlite3.c: d47594b8a02f6cf58e91fb673e96cb1b397aace0'
  id: totrans-1944
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c的SHA1: d47594b8a02f6cf58e91fb673e96cb1b397aace0'
- en: 2011-06-23 (3.7.7)
  id: totrans-1945
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-06-23 (3.7.7)
- en: Add support for [URI filenames](uri.html)
  id: totrans-1946
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[URI文件名](uri.html)的支持。
- en: Add the [sqlite3_vtab_config()](c3ref/vtab_config.html) interface in support
    of [ON CONFLICT](lang_conflict.html) clauses with [virtual tables](vtab.html).
  id: totrans-1947
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_vtab_config()](c3ref/vtab_config.html)接口，以支持带有[虚拟表](vtab.html)的[ON
    CONFLICT](lang_conflict.html)子句。
- en: Add the [xSavepoint](vtab.html#xsavepoint), [xRelease](vtab.html#xsavepoint)
    and [xRollbackTo](vtab.html#xsavepoint) methods in [virtual tables](vtab.html)
    in support of [SAVEPOINT](lang_savepoint.html) for virtual tables.
  id: totrans-1948
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[虚拟表](vtab.html)中添加了[xSavepoint](vtab.html#xsavepoint)、[xRelease](vtab.html#xsavepoint)和[xRollbackTo](vtab.html#xsavepoint)方法，以支持[SAVEPOINT](lang_savepoint.html)。
- en: Update the built-in [FTS3/FTS4](fts3.html) and [RTREE](rtree.html) virtual tables
    to support [ON CONFLICT](lang_conflict.html) clauses and [REPLACE](lang_replace.html).
  id: totrans-1949
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新内置的[FTS3/FTS4](fts3.html)和[RTREE](rtree.html)虚拟表，以支持[ON CONFLICT](lang_conflict.html)子句和[REPLACE](lang_replace.html)。
- en: Avoid unnecessary reparsing of the database schema.
  id: totrans-1950
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免不必要地重新解析数据库模式。
- en: Added support for the [FTS4 prefix option](fts3.html#fts4prefix) and the [FTS4
    order option](fts3.html#fts4order).
  id: totrans-1951
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[FTS4前缀选项](fts3.html#fts4prefix)和[FTS4排序选项](fts3.html#fts4order)的支持。
- en: Allow [WAL-mode](wal.html) databases to be opened read-only as long as there
    is an existing read/write connection.
  id: totrans-1952
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在存在读/写连接时以只读模式打开[WAL模式](wal.html)数据库。
- en: Added support for [short filenames](shortnames.html).
  id: totrans-1953
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[短文件名](shortnames.html)的支持。
- en: 'SQLITE_SOURCE_ID: "2011-06-23 19:49:22 4374b7e83ea0a3fbc3691f9c0c936272862f32f2"'
  id: totrans-1954
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'SQLITE_SOURCE_ID: "2011-06-23 19:49:22 4374b7e83ea0a3fbc3691f9c0c936272862f32f2"'
- en: 'SHA1 for sqlite3.c: 5bbe79e206ae5ffeeca760dbd0d66862228db551'
  id: totrans-1955
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'sqlite3.c的SHA1: 5bbe79e206ae5ffeeca760dbd0d66862228db551'
- en: 2011-05-19 (3.7.6.3)
  id: totrans-1956
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-05-19 (3.7.6.3)
- en: Fix a problem with [WAL mode](wal.html) which could cause transactions to silently
    rollback if the [cache_size](pragma.html#pragma_cache_size) is set very small
    (less than 10) and SQLite comes under memory pressure.
  id: totrans-1957
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[WAL模式](wal.html)的一个问题，如果[cache_size](pragma.html#pragma_cache_size)设置得非常小（小于10），并且SQLite受到内存压力，事务可能会静默回滚。
- en: 2011-04-17 (3.7.6.2)
  id: totrans-1958
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-04-17 (3.7.6.2)
- en: Fix the function prototype for the open(2) system call to agree with POSIX.
    Without this fix, pthreads does not work correctly on NetBSD.
  id: totrans-1959
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了open(2)系统调用的函数原型，以符合POSIX标准。如果不修复此问题，在NetBSD上pthread将无法正常工作。
- en: 'SQLITE_SOURCE_ID: "2011-04-17 17:25:17 154ddbc17120be2915eb03edc52af1225eb7cb5e"'
  id: totrans-1960
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2011-04-17 17:25:17 154ddbc17120be2915eb03edc52af1225eb7cb5e"
- en: 'SHA1 for sqlite3.c: 806577fd524dd5f3bfd8d4d27392ed2752bc9701'
  id: totrans-1961
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：806577fd524dd5f3bfd8d4d27392ed2752bc9701
- en: 2011-04-13 (3.7.6.1)
  id: totrans-1962
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-04-13 (3.7.6.1)
- en: Fix a bug in 3.7.6 that only appears if the [SQLITE_FCNTL_SIZE_HINT](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsizehint)
    file control is used with a build of SQLite that makes use of the HAVE_POSIX_FALLOCATE
    compile-time option and which has SQLITE_ENABLE_LOCKING_MODE turned off.
  id: totrans-1963
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了3.7.6版本中的一个错误，只有在使用带有HAVE_POSIX_FALLOCATE编译时选项的SQLite构建，并且关闭了SQLITE_ENABLE_LOCKING_MODE时，才会出现此错误，当使用[SQLITE_FCNTL_SIZE_HINT](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsizehint)文件控制时。
- en: 'SQLITE_SOURCE_ID: "2011-04-13 14:40:25 a35e83eac7b185f4d363d7fa51677f2fdfa27695"'
  id: totrans-1964
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2011-04-13 14:40:25 a35e83eac7b185f4d363d7fa51677f2fdfa27695"
- en: 'SHA1 for sqlite3.c: b81bfa27d3e09caf3251475863b1ce6dd9f6ab66'
  id: totrans-1965
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值为：b81bfa27d3e09caf3251475863b1ce6dd9f6ab66
- en: 2011-04-12 (3.7.6)
  id: totrans-1966
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-04-12 (3.7.6)
- en: Added the [sqlite3_wal_checkpoint_v2()](c3ref/wal_checkpoint_v2.html) interface
    and enhanced the [wal_checkpoint pragma](pragma.html#pragma_wal_checkpoint) to
    support blocking checkpoints.
  id: totrans-1967
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_wal_checkpoint_v2()](c3ref/wal_checkpoint_v2.html)接口，并增强了[wal_checkpoint
    pragma](pragma.html#pragma_wal_checkpoint)以支持阻塞检查点。
- en: Improvements to the query planner so that it makes better estimates of plan
    costs and hence does a better job of choosing the right plan, especially when
    [SQLITE_ENABLE_STAT2](compile.html#enable_stat2) is used.
  id: totrans-1968
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了查询规划器，使其更准确地估计计划成本，并因此在选择正确的计划时做得更好，特别是在使用[SQLITE_ENABLE_STAT2](compile.html#enable_stat2)时。
- en: Fix a bug which prevented deferred foreign key constraints from being enforced
    when [sqlite3_finalize()](c3ref/finalize.html) was not called by one statement
    with a failed foreign key constraint prior to another statement with foreign key
    constraints running.
  id: totrans-1969
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个错误，该错误导致在未通过调用[sqlite3_finalize()](c3ref/finalize.html)终止之前的具有失败外键约束的一个语句之后，运行具有外键约束的另一个语句时，延迟外键约束未被执行。
- en: Integer arithmetic operations that would have resulted in overflow are now performed
    using floating-point instead.
  id: totrans-1970
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在对可能导致溢出的整数算术操作使用浮点数进行执行。
- en: Increased the version number on the [VFS object](c3ref/vfs.html) to 3 and added
    new methods xSetSysCall, xGetSysCall, and xNextSysCall used for doing full-coverage
    testing.
  id: totrans-1971
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[VFS对象](c3ref/vfs.html)上的版本号增加到3，并添加了新的方法xSetSysCall、xGetSysCall和xNextSysCall，用于进行全覆盖测试。
- en: Increase the maximum value of [SQLITE_MAX_ATTACHED](limits.html#max_attached)
    from 30 to 62 (though the default value remains at 10).
  id: totrans-1972
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[SQLITE_MAX_ATTACHED](limits.html#max_attached)的最大值从30增加到62（尽管默认值仍为10）。
- en: 'Enhancements to FTS4:'
  id: totrans-1973
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对FTS4的增强：
- en: Added the [fts4aux](fts3.html#fts4aux) table
  id: totrans-1974
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[fts4aux](fts3.html#fts4aux)表
- en: Added support for [compressed FTS4 content](fts3.html#*fts4compression)
  id: totrans-1975
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[压缩的FTS4内容](fts3.html#*fts4compression)的支持
- en: Enhance the [ANALYZE](lang_analyze.html) command to support the name of an index
    as its argument, in order to analyze just that one index.
  id: totrans-1976
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[ANALYZE](lang_analyze.html)命令，支持将索引名称作为其参数，以便仅分析该索引。
- en: Added the "unix-excl" built-in VFS on unix and unix-like platforms.
  id: totrans-1977
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在unix和类unix平台上添加了"unix-excl"内置VFS。
- en: 'SQLITE_SOURCE_ID: "2011-04-12 01:58:40 f9d43fa363d54beab6f45db005abac0a7c0c47a7"'
  id: totrans-1978
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SOURCE_ID："2011-04-12 01:58:40 f9d43fa363d54beab6f45db005abac0a7c0c47a7"
- en: 'SHA1 for sqlite3.c: f38df08547efae0ff4343da607b723f588bbd66b'
  id: totrans-1979
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3.c的SHA1值：f38df08547efae0ff4343da607b723f588bbd66b
- en: 2011-02-01 (3.7.5)
  id: totrans-1980
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2011-02-01 (3.7.5)
- en: Added the [sqlite3_vsnprintf()](c3ref/mprintf.html) interface.
  id: totrans-1981
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_vsnprintf()](c3ref/mprintf.html)接口。
- en: Added the [SQLITE_DBSTATUS_LOOKASIDE_HIT](c3ref/c_dbstatus_options.html#sqlitedbstatuslookasidehit),
    [SQLITE_DBSTATUS_LOOKASIDE_MISS_SIZE](c3ref/c_dbstatus_options.html#sqlitedbstatuslookasidemisssize),
    and [SQLITE_DBSTATUS_LOOKASIDE_MISS_FULL](c3ref/c_dbstatus_options.html#sqlitedbstatuslookasidemissfull)
    options for the [sqlite3_db_status()](c3ref/db_status.html) interface.
  id: totrans-1982
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DBSTATUS_LOOKASIDE_HIT](c3ref/c_dbstatus_options.html#sqlitedbstatuslookasidehit)，[SQLITE_DBSTATUS_LOOKASIDE_MISS_SIZE](c3ref/c_dbstatus_options.html#sqlitedbstatuslookasidemisssize)和[SQLITE_DBSTATUS_LOOKASIDE_MISS_FULL](c3ref/c_dbstatus_options.html#sqlitedbstatuslookasidemissfull)选项，用于[sqlite3_db_status()](c3ref/db_status.html)接口。
- en: Added the [SQLITE_OMIT_AUTORESET](compile.html#omit_autoreset) compile-time
    option.
  id: totrans-1983
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[SQLITE_OMIT_AUTORESET](compile.html#omit_autoreset)编译时选项。
- en: Added the [SQLITE_DEFAULT_FOREIGN_KEYS](compile.html#default_foreign_keys) compile-time
    option.
  id: totrans-1984
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_DEFAULT_FOREIGN_KEYS](compile.html#default_foreign_keys)编译时选项。
- en: Updates to [sqlite3_stmt_readonly()](c3ref/stmt_readonly.html) so that its result
    is well-defined for all prepared statements and so that it works with [VACUUM](lang_vacuum.html).
  id: totrans-1985
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了[sqlite3_stmt_readonly()](c3ref/stmt_readonly.html)，使其对所有已准备好的语句的结果具有明确定义，并使其与[VACUUM](lang_vacuum.html)一起使用。
- en: Added the "-heap" option to the [command-line shell](cli.html)
  id: totrans-1986
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[命令行 shell](cli.html)添加了"-heap"选项。
- en: Fix [a bug](https://www.sqlite.org/src/info/5d863f876e) involving frequent changes
    in and out of WAL mode and VACUUM that could (in theory) cause database corruption.
  id: totrans-1987
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个关于频繁进出WAL模式和VACUUM可能导致数据库损坏的bug（理论上）[bug](https://www.sqlite.org/src/info/5d863f876e)。
- en: Enhance the [sqlite3_trace()](c3ref/profile.html) mechanism so that nested SQL
    statements such as might be generated by virtual tables are shown but are shown
    in comments and without parameter expansion. This greatly improves tracing output
    when using the FTS3/4 and/or RTREE virtual tables.
  id: totrans-1988
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了[sqlite3_trace()](c3ref/profile.html)机制，以便显示由虚拟表生成的嵌套SQL语句，但以注释形式显示且不展开参数。这在使用FTS3/4和/或RTREE虚拟表时极大地改善了跟踪输出。
- en: Change the xFileControl() methods on all built-in VFSes to return [SQLITE_NOTFOUND](rescode.html#notfound)
    instead of [SQLITE_ERROR](rescode.html#error) for an unrecognized operation code.
  id: totrans-1989
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将所有内置VFS的xFileControl()方法更改为在识别操作码不明确时返回[SQLITE_NOTFOUND](rescode.html#notfound)而不是[SQLITE_ERROR](rescode.html#error)。
- en: The SQLite core invokes the [SQLITE_FCNTL_SYNC_OMITTED](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsyncomitted)
    [file control](c3ref/file_control.html) to the VFS in place of a call to xSync
    if the database has [PRAGMA synchronous](pragma.html#pragma_synchronous) set to
    OFF.
  id: totrans-1990
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLite 核心在数据库的 [PRAGMA synchronous](pragma.html#pragma_synchronous) 设置为 OFF
    时，会通过 [SQLITE_FCNTL_SYNC_OMITTED](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlsyncomitted)
    [文件控制](c3ref/file_control.html) 调用 VFS，而不是调用 xSync。
- en: 2010-12-07 (3.7.4)
  id: totrans-1991
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-12-07 (3.7.4)
- en: Added the [sqlite3_blob_reopen()](c3ref/blob_reopen.html) interface to allow
    an existing [sqlite3_blob](c3ref/blob.html) object to be rebound to a new row.
  id: totrans-1992
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_blob_reopen()](c3ref/blob_reopen.html) 接口，允许将现有的 [sqlite3_blob](c3ref/blob.html)
    对象重新绑定到新行。
- en: Use the new [sqlite3_blob_reopen()](c3ref/blob_reopen.html) interface to improve
    the performance of FTS.
  id: totrans-1993
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新的 [sqlite3_blob_reopen()](c3ref/blob_reopen.html) 接口来改善 FTS 的性能。
- en: '[VFSes](c3ref/vfs.html) that do not support shared memory are allowed to access
    [WAL](wal.html) databases if [PRAGMA locking_mode](pragma.html#pragma_locking_mode)
    is set to EXCLUSIVE.'
  id: totrans-1994
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 [PRAGMA locking_mode](pragma.html#pragma_locking_mode) 设置为 EXCLUSIVE，则允许不支持共享内存的
    [VFS](c3ref/vfs.html) 访问 [WAL](wal.html) 数据库。
- en: Enhancements to [EXPLAIN QUERY PLAN](eqp.html).
  id: totrans-1995
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 [EXPLAIN QUERY PLAN](eqp.html) 的功能。
- en: Added the [sqlite3_stmt_readonly()](c3ref/stmt_readonly.html) interface.
  id: totrans-1996
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_stmt_readonly()](c3ref/stmt_readonly.html) 接口。
- en: Added [PRAGMA checkpoint_fullfsync](pragma.html#pragma_checkpoint_fullfsync).
  id: totrans-1997
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [PRAGMA checkpoint_fullfsync](pragma.html#pragma_checkpoint_fullfsync)。
- en: Added the [SQLITE_FCNTL_FILE_POINTER](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlfilepointer)
    option to [sqlite3_file_control()](c3ref/file_control.html).
  id: totrans-1998
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [SQLITE_FCNTL_FILE_POINTER](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlfilepointer)
    选项到 [sqlite3_file_control()](c3ref/file_control.html)。
- en: Added support for [FTS4](fts3.html#fts4) and enhancements to the FTS [matchinfo()](fts3.html#matchinfo)
    function.
  id: totrans-1999
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对 [FTS4](fts3.html#fts4) 的支持，并增强了 FTS 的 [matchinfo()](fts3.html#matchinfo)
    函数。
- en: Added the test_superlock.c module which provides example code for obtaining
    an exclusive lock to a rollback or WAL database.
  id: totrans-2000
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 test_superlock.c 模块，该模块提供了获取独占锁到回滚或 WAL 数据库的示例代码。
- en: Added the test_multiplex.c module which provides an example VFS that provides
    multiplexing (sharding) of a DB, splitting it over multiple files of fixed size.
  id: totrans-2001
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 test_multiplex.c 模块，该模块提供了一个示例 VFS，可以将 DB 分割为多个固定大小的文件进行多路复用（分片）。
- en: A [very obscure bug](https://www.sqlite.org/src/info/80ba201079) associated
    with the [or optimization](optoverview.html#or_opt) was fixed.
  id: totrans-2002
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了与 [or 优化](optoverview.html#or_opt) 相关的 [非常隐晦的 bug](https://www.sqlite.org/src/info/80ba201079)。
- en: 2010-10-08 (3.7.3)
  id: totrans-2003
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-10-08 (3.7.3)
- en: Added the [sqlite3_create_function_v2()](c3ref/create_function.html) interface
    that includes a destructor callback.
  id: totrans-2004
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了带有析构回调的 [sqlite3_create_function_v2()](c3ref/create_function.html) 接口。
- en: Added support for [custom r-tree queries](rtree.html#customquery) using application-supplied
    callback routines to define the boundary of the query region.
  id: totrans-2005
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了支持使用应用程序提供的回调函数定义查询区域边界的 [自定义 r-tree 查询](rtree.html#customquery)。
- en: The default page cache strives more diligently to avoid using memory beyond
    what is allocated to it by [SQLITE_CONFIG_PAGECACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache).
    Or if using page cache is allocating from the heap, it strives to avoid going
    over the [sqlite3_soft_heap_limit64()](c3ref/hard_heap_limit64.html), even if
    [SQLITE_ENABLE_MEMORY_MANAGEMENT](compile.html#enable_memory_management) is not
    set.
  id: totrans-2006
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认页面缓存更加努力地避免使用超出 [SQLITE_CONFIG_PAGECACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache)
    分配的内存。或者如果页面缓存从堆中分配，它也会尽量避免超过 [sqlite3_soft_heap_limit64()](c3ref/hard_heap_limit64.html)，即使没有设置
    [SQLITE_ENABLE_MEMORY_MANAGEMENT](compile.html#enable_memory_management)。
- en: Added the [sqlite3_soft_heap_limit64()](c3ref/hard_heap_limit64.html) interface
    as a replacement for [sqlite3_soft_heap_limit()](c3ref/soft_heap_limit.html).
  id: totrans-2007
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_soft_heap_limit64()](c3ref/hard_heap_limit64.html) 接口，作为 [sqlite3_soft_heap_limit()](c3ref/soft_heap_limit.html)
    的替代品。
- en: The [ANALYZE](lang_analyze.html) command now gathers statistics on tables even
    if they have no indices.
  id: totrans-2008
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在即使表没有索引，[ANALYZE](lang_analyze.html) 命令也会收集表的统计信息。
- en: Tweaks to the query planner to help it do a better job of finding the most efficient
    query plan for each query.
  id: totrans-2009
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对查询规划器进行了调整，帮助其更好地找到每个查询的最有效查询计划。
- en: Enhanced the internal text-to-numeric conversion routines so that they work
    with UTF8 or UTF16, thereby avoiding some UTF16-to-UTF8 text conversions.
  id: totrans-2010
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了内部文本到数字转换程序，使其能够与 UTF8 或 UTF16 一起工作，从而避免一些 UTF16 到 UTF8 的文本转换。
- en: Fix a problem that was causing excess memory usage with large [WAL](wal.html)
    transactions in win32 systems.
  id: totrans-2011
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 win32 系统中大型 [WAL](wal.html) 事务导致过多内存使用的问题。
- en: The interface between the VDBE and B-Tree layer is enhanced such that the VDBE
    provides hints to the B-Tree layer letting the B-Tree layer know when it is safe
    to use hashing instead of B-Trees for transient tables.
  id: totrans-2012
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了 VDBE 与 B-Tree 层之间的接口，使 VDBE 提供提示给 B-Tree 层，告知何时可以安全地在临时表中使用哈希而不是 B-Tree。
- en: Miscellaneous documentation enhancements.
  id: totrans-2013
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种文档增强。
- en: 2010-08-24 (3.7.2)
  id: totrans-2014
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-08-24 (3.7.2)
- en: Fix an [old and very obscure bug](https://www.sqlite.org/src/info/5e10420e8d)
    that can lead to corruption of the database [free-page list](fileformat2.html#freelist)
    when [incremental_vacuum](pragma.html#pragma_incremental_vacuum) is used.
  id: totrans-2015
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个[古老且非常隐蔽的 bug](https://www.sqlite.org/src/info/5e10420e8d)，在使用 [incremental_vacuum](pragma.html#pragma_incremental_vacuum)
    时可能导致数据库 [free-page list](fileformat2.html#freelist) 损坏的问题。
- en: 2010-08-23 (3.7.1)
  id: totrans-2016
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-08-23 (3.7.1)
- en: Added new commands [SQLITE_DBSTATUS_SCHEMA_USED](c3ref/c_dbstatus_options.html#sqlitedbstatusschemaused)
    and [SQLITE_DBSTATUS_STMT_USED](c3ref/c_dbstatus_options.html#sqlitedbstatusstmtused)
    to the [sqlite3_db_status()](c3ref/db_status.html) interface, in order to report
    out the amount of memory used to hold the schema and prepared statements of a
    connection.
  id: totrans-2017
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新命令 [SQLITE_DBSTATUS_SCHEMA_USED](c3ref/c_dbstatus_options.html#sqlitedbstatusschemaused)
    和 [SQLITE_DBSTATUS_STMT_USED](c3ref/c_dbstatus_options.html#sqlitedbstatusstmtused)
    到 [sqlite3_db_status()](c3ref/db_status.html) 接口，用于报告连接中用于保存模式和准备语句的内存量。
- en: Increase the maximum size of a database pages from 32KiB to 64KiB.
  id: totrans-2018
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据库页面的最大大小从 32KiB 增加到 64KiB。
- en: Use the [LIKE optimization](optoverview.html#like_opt) even if the right-hand
    side string contains no wildcards.
  id: totrans-2019
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使右侧字符串不包含通配符，也要使用[LIKE 优化](optoverview.html#like_opt)。
- en: Added the [SQLITE_FCNTL_CHUNK_SIZE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlchunksize)
    verb to the [sqlite3_file_control()](c3ref/file_control.html) interface for both
    unix and windows, to cause database files to grow in large chunks in order to
    reduce disk fragmentation.
  id: totrans-2020
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 unix 和 windows 都添加了[SQLITE_FCNTL_CHUNK_SIZE](c3ref/c_fcntl_begin_atomic_write.html#sqlitefcntlchunksize)动词，以便通过[sqlite3_file_control()](c3ref/file_control.html)接口使数据库文件以大块增长，以减少磁盘碎片化。
- en: Fixed a bug in the query planner that caused performance regressions relative
    to 3.6.23.1 on some complex joins.
  id: totrans-2021
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了查询规划器中的一个错误，该错误导致在某些复杂连接中相对于 3.6.23.1 版本出现性能回退。
- en: Fixed a typo in the OS/2 backend.
  id: totrans-2022
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 OS/2 后端中的一个拼写错误。
- en: Refactored the pager module.
  id: totrans-2023
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重构了分页器模块。
- en: The SQLITE_MAX_PAGE_SIZE compile-time option is now silently ignored. The maximum
    page size is hard-coded at 65536 bytes.
  id: totrans-2024
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编译时选项 SQLITE_MAX_PAGE_SIZE 现在被静默忽略。最大页大小已硬编码为 65536 字节。
- en: 2010-08-04 (3.7.0.1)
  id: totrans-2025
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-08-04 (3.7.0.1)
- en: Fix a potential database corruption bug that can occur if version 3.7.0 and
    version 3.6.23.1 alternately write to the same database file. [Ticket [51ae9cad317a1]](https://www.sqlite.org/src/info/51ae9cad317a1)
  id: totrans-2026
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个潜在的数据库损坏错误，如果版本 3.7.0 和版本 3.6.23.1 交替写入同一数据库文件时可能会发生。[Ticket [51ae9cad317a1]](https://www.sqlite.org/src/info/51ae9cad317a1)
- en: Fix a performance regression related to the query planner enhancements of version
    3.7.0.
  id: totrans-2027
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了与版本 3.7.0 查询规划器增强相关的性能回退。
- en: 2010-07-21 (3.7.0)
  id: totrans-2028
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-07-21 (3.7.0)
- en: Added support for [write-ahead logging](wal.html).
  id: totrans-2029
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[预写式日志](wal.html)的支持。
- en: Query planner enhancement - automatic transient indices are created when doing
    so reduces the estimated query time.
  id: totrans-2030
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器增强 - 当这样做可以减少预估查询时间时，将自动创建瞬时索引。
- en: Query planner enhancement - the ORDER BY becomes a no-op if the query also contains
    a GROUP BY clause that forces the correct output order.
  id: totrans-2031
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器增强 - 如果查询还包含强制正确输出顺序的 GROUP BY 子句，则 ORDER BY 将成为无操作。
- en: Add the [SQLITE_DBSTATUS_CACHE_USED](c3ref/c_dbstatus_options.html#sqlitedbstatuscacheused)
    verb for [sqlite3_db_status()](c3ref/db_status.html).
  id: totrans-2032
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为[sqlite3_db_status()](c3ref/db_status.html)接口添加了[SQLITE_DBSTATUS_CACHE_USED](c3ref/c_dbstatus_options.html#sqlitedbstatuscacheused)动词。
- en: The logical database size is now stored in the database header so that bytes
    can be appended to the end of the database file without corrupting it and so that
    SQLite will work correctly on systems that lack support for ftruncate().
  id: totrans-2033
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在逻辑数据库大小存储在数据库头部，以便可以在不损坏数据库的情况下向数据库文件末尾附加字节，并且 SQLite 可以在缺乏 ftruncate() 支持的系统上正常工作。
- en: 2010-03-26 (3.6.23.1)
  id: totrans-2034
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-03-26 (3.6.23.1)
- en: Fix a bug in the offsets() function of [FTS3](fts3.html)
  id: totrans-2035
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[FTS3](fts3.html)的 offsets() 函数中的一个拼写错误。
- en: Fix a missing "sync" that when omitted could lead to database corruption if
    a power failure or OS crash occurred just as a ROLLBACK operation was finishing.
  id: totrans-2036
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个遗漏的 "sync"，如果省略可能会导致数据库损坏，特别是当一个回滚操作正在完成时发生电源故障或操作系统崩溃时。
- en: 2010-03-09 (3.6.23)
  id: totrans-2037
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-03-09 (3.6.23)
- en: Added the [secure_delete pragma](pragma.html#pragma_secure_delete).
  id: totrans-2038
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [secure_delete pragma](pragma.html#pragma_secure_delete)。
- en: Added the [sqlite3_compileoption_used()](c3ref/compileoption_get.html) and [sqlite3_compileoption_get()](c3ref/compileoption_get.html)
    interfaces as well as the [compile_options pragma](pragma.html#pragma_compile_options)
    and the [sqlite_compileoption_used()](lang_corefunc.html#sqlite_compileoption_used)
    and [sqlite_compileoption_get()](lang_corefunc.html#sqlite_compileoption_get)
    SQL functions.
  id: totrans-2039
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_compileoption_used()](c3ref/compileoption_get.html) 和 [sqlite3_compileoption_get()](c3ref/compileoption_get.html)
    接口，以及 [compile_options pragma](pragma.html#pragma_compile_options)，以及 [sqlite_compileoption_used()](lang_corefunc.html#sqlite_compileoption_used)
    和 [sqlite_compileoption_get()](lang_corefunc.html#sqlite_compileoption_get) SQL
    函数。
- en: Added the [sqlite3_log()](c3ref/log.html) interface together with the [SQLITE_CONFIG_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog)
    verb to [sqlite3_config()](c3ref/config.html). The ".log" command is added to
    the [Command Line Interface](cli.html).
  id: totrans-2040
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_log()](c3ref/log.html) 接口，以及 [SQLITE_CONFIG_LOG](c3ref/c_config_covering_index_scan.html#sqliteconfiglog)
    动词到 [sqlite3_config()](c3ref/config.html)。".log" 命令添加到 [命令行界面](cli.html)。
- en: Improvements to [FTS3](fts3.html).
  id: totrans-2041
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [FTS3](fts3.html) 进行了改进。
- en: Improvements and bug-fixes in support for [SQLITE_OMIT_FLOATING_POINT](compile.html#omit_floating_point).
  id: totrans-2042
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在支持 [SQLITE_OMIT_FLOATING_POINT](compile.html#omit_floating_point) 方面进行了改进和bug修复。
- en: The [integrity_check pragma](pragma.html#pragma_integrity_check) is enhanced
    to detect out-of-order rowids.
  id: totrans-2043
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[integrity_check pragma](pragma.html#pragma_integrity_check) 已增强以检测乱序的行标识。'
- en: The ".genfkey" operator has been removed from the [Command Line Interface](cli.html).
  id: totrans-2044
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [命令行界面](cli.html) 中移除了 ".genfkey" 操作符。
- en: Updates to the co-hosted [Lemon LALR(1) parser generator](lemon.html). (These
    updates did not affect SQLite.)
  id: totrans-2045
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对共托管的 [Lemon LALR(1) parser generator](lemon.html) 进行更新（这些更新没有影响到 SQLite）。
- en: Various minor bug fixes and performance enhancements.
  id: totrans-2046
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种小bug修复和性能提升。
- en: 2010-01-06 (3.6.22)
  id: totrans-2047
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2010-01-06 (3.6.22)
- en: Fix bugs that can (rarely) lead to incorrect query results when the CAST or
    OR operators are used in the WHERE clause of a query.
  id: totrans-2048
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在查询的 WHERE 子句中使用 CAST 或 OR 运算符时可能（很少）导致查询结果不正确的错误。
- en: Continuing enhancements and improvements to [FTS3](fts3.html).
  id: totrans-2049
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续改进和完善 [FTS3](fts3.html)。
- en: Other miscellaneous bug fixes.
  id: totrans-2050
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他杂项bug修复。
- en: 2009-12-07 (3.6.21)
  id: totrans-2051
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-12-07 (3.6.21)
- en: The SQL output resulting from [sqlite3_trace()](c3ref/profile.html) is now modified
    to include the values of [bound parameters](lang_expr.html#varparam).
  id: totrans-2052
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由 [sqlite3_trace()](c3ref/profile.html) 生成的 SQL 输出现在修改为包括 [bound parameters](lang_expr.html#varparam)
    的值。
- en: 'Performance optimizations targeting a specific use case from a single high-profile
    user of SQLite. A 12% reduction in the number of CPU operations is achieved (as
    measured by Valgrind). Actual performance improvements in practice may vary depending
    on workload. Changes include:'
  id: totrans-2053
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 针对 SQLite 的一个特定用户的使用场景进行了性能优化。通过 Valgrind 测量，CPU 操作次数减少了 12%。实际的性能提升可能因工作负载的不同而有所不同。具体变化包括：
- en: The [ifnull()](lang_corefunc.html#ifnull) and [coalesce()](lang_corefunc.html#coalesce)
    SQL functions are now implemented using in-line VDBE code rather than calling
    external functions, so that unused arguments need never be evaluated.
  id: totrans-2054
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ifnull()](lang_corefunc.html#ifnull) 和 [coalesce()](lang_corefunc.html#coalesce)
    SQL 函数现在使用内联 VDBE 代码实现，而不是调用外部函数，因此不需要评估未使用的参数。'
- en: The [substr()](lang_corefunc.html#substr) SQL function does not bother to measure
    the length its entire input string if it is only computing a prefix
  id: totrans-2055
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 [substr()](lang_corefunc.html#substr) SQL 函数只计算前缀，则不必测量整个输入字符串的长度。
- en: Unnecessary OP_IsNull, OP_Affinity, and OP_MustBeInt VDBE opcodes are suppressed
  id: totrans-2056
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 禁止了不必要的 OP_IsNull、OP_Affinity 和 OP_MustBeInt VDBE 操作码。
- en: Various code refactorizations for performance
  id: totrans-2057
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了性能进行了各种代码重构。
- en: The FTS3 extension has undergone a major rework and cleanup. New [FTS3 documentation](fts3.html)
    is now available.
  id: totrans-2058
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: FTS3 扩展经过了重大的重构和清理。现在提供了新的 [FTS3 文档](fts3.html)。
- en: The [SQLITE_SECURE_DELETE](compile.html#secure_delete) compile-time option fixed
    to make sure that content is deleted even when the [truncate optimization](lang_delete.html#truncateopt)
    applies.
  id: totrans-2059
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [SQLITE_SECURE_DELETE](compile.html#secure_delete) 编译时选项，确保即使应用了 [truncate
    优化](lang_delete.html#truncateopt)，内容也会被删除。
- en: Improvements to "dot-command" handling in the [Command Line Interface](cli.html).
  id: totrans-2060
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [命令行界面](cli.html) 中的“点命令”处理进行了改进。
- en: Other minor bug fixes and documentation enhancements.
  id: totrans-2061
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他一些小的 bug 修复和文档增强。
- en: 2009-11-04 (3.6.20)
  id: totrans-2062
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-11-04 (3.6.20)
- en: 'Optimizer enhancement: [prepared statements](c3ref/stmt.html) are automatically
    re-compiled when a binding on the RHS of a LIKE operator changes or when any range
    constraint changes under [SQLITE_ENABLE_STAT2](compile.html#enable_stat2).'
  id: totrans-2063
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化器增强：当 LIKE 操作符的右操作数绑定发生变化或任何范围约束在 [SQLITE_ENABLE_STAT2](compile.html#enable_stat2)
    下发生变化时，[prepared statements](c3ref/stmt.html) 会自动重新编译。
- en: Various minor bug fixes and documentation enhancements.
  id: totrans-2064
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种小 bug 修复和文档增强。
- en: 2009-10-30 (3.6.16.1)
  id: totrans-2065
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-10-30 (3.6.16.1)
- en: A small patch to version 3.6.16 to fix [the OP_If bug](https://www.sqlite.org/src/info/6b00e0a34c).
  id: totrans-2066
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对版本 3.6.16 的一个小补丁，修复了 [OP_If bug](https://www.sqlite.org/src/info/6b00e0a34c)。
- en: 2009-10-14 (3.6.19)
  id: totrans-2067
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-10-14 (3.6.19)
- en: Added support for [foreign key constraints](foreignkeys.html). Foreign key constraints
    are disabled by default. Use the [foreign_keys pragma](pragma.html#pragma_foreign_keys)
    to turn them on.
  id: totrans-2068
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [外键约束](foreignkeys.html) 的支持。外键约束默认禁用。使用 [foreign_keys pragma](pragma.html#pragma_foreign_keys)
    来启用它们。
- en: Generalized the IS and IS NOT operators to take arbitrary expressions on their
    right-hand side.
  id: totrans-2069
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 IS 和 IS NOT 操作符泛化为可以接受任意表达式作为其右操作数。
- en: The [TCL Interface](tclsqlite.html) has been enhanced to use the [Non-Recursive
    Engine (NRE)](http://www.tcl-lang.org/cgi-bin/tct/tip/322.html) interface to the
    TCL interpreter when linked against TCL 8.6 or later.
  id: totrans-2070
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[TCL接口](tclsqlite.html)已增强，当链接到TCL 8.6或更高版本时，使用[TCL解释器的非递归引擎（NRE）](http://www.tcl-lang.org/cgi-bin/tct/tip/322.html)接口。'
- en: Fix a bug introduced in 3.6.18 that can lead to a segfault when an attempt is
    made to write on a read-only database.
  id: totrans-2071
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了3.6.18中引入的一个错误，可能会导致尝试在只读数据库上写入时出现段错误。
- en: 2009-09-11 (3.6.18)
  id: totrans-2072
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-09-11 (3.6.18)
- en: Versioning of the SQLite source code has transitioned from CVS to [Fossil](http://www.fossil-scm.org/).
  id: totrans-2073
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLite源代码的版本控制已从CVS过渡到[Fossil](http://www.fossil-scm.org/)。
- en: Query planner enhancements.
  id: totrans-2074
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询规划器增强。
- en: The [SQLITE_ENABLE_STAT2](compile.html#enable_stat2) compile-time option causes
    the [ANALYZE](lang_analyze.html) command to collect a small histogram of each
    index, to help SQLite better select among competing range query indices.
  id: totrans-2075
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编译时选项[SQLITE_ENABLE_STAT2](compile.html#enable_stat2)会导致[ANALYZE](lang_analyze.html)命令收集每个索引的一个小直方图，以帮助SQLite在竞争的范围查询索引中做出更好的选择。
- en: Recursive triggers can be enabled using the [PRAGMA recursive_triggers](pragma.html#pragma_recursive_triggers)
    statement.
  id: totrans-2076
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以使用[PRAGMA recursive_triggers](pragma.html#pragma_recursive_triggers)语句启用递归触发器。
- en: Delete triggers fire when rows are removed due to a [REPLACE conflict resolution](lang_conflict.html).
    This feature is only enabled when recursive triggers are enabled.
  id: totrans-2077
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当递归触发器启用时，删除触发器在由于[REPLACE冲突解决](lang_conflict.html)而删除行时触发。此功能仅在启用递归触发器时才可用。
- en: Added the [SQLITE_OPEN_SHAREDCACHE](c3ref/c_open_autoproxy.html) and [SQLITE_OPEN_PRIVATECACHE](c3ref/c_open_autoproxy.html)
    flags for [sqlite3_open_v2()](c3ref/open.html) used to override the global [shared
    cache mode](sharedcache.html) settings for individual database connections.
  id: totrans-2078
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_OPEN_SHAREDCACHE](c3ref/c_open_autoproxy.html)和[SQLITE_OPEN_PRIVATECACHE](c3ref/c_open_autoproxy.html)标志，用于[sqlite3_open_v2()](c3ref/open.html)，用于覆盖单个数据库连接的全局[共享缓存模式](sharedcache.html)设置。
- en: 'Added improved version identification features: C-Preprocessor macro [SQLITE_SOURCE_ID](c3ref/c_source_id.html),
    C/C++ interface [sqlite3_sourceid()](c3ref/libversion.html), and SQL function
    [sqlite_source_id()](lang_corefunc.html#sqlite_source_id).'
  id: totrans-2079
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了改进的版本识别功能：C预处理器宏[SQLITE_SOURCE_ID](c3ref/c_source_id.html)，C/C++接口[sqlite3_sourceid()](c3ref/libversion.html)，以及SQL函数[sqlite_source_id()](lang_corefunc.html#sqlite_source_id)。
- en: Obscure bug fix on triggers ([[efc02f9779]](https://www.sqlite.org/src/info/efc02f9779)).
  id: totrans-2080
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 触发器修复了一个模糊的错误([[efc02f9779]](https://www.sqlite.org/src/info/efc02f9779))。
- en: 2009-08-10 (3.6.17)
  id: totrans-2081
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-08-10 (3.6.17)
- en: Expose the [sqlite3_strnicmp()](c3ref/stricmp.html) interface for use by extensions
    and applications.
  id: totrans-2082
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 公开了[sqlite3_strnicmp()](c3ref/stricmp.html)接口，供扩展和应用程序使用。
- en: Remove the restriction on [virtual tables](vtab.html) and [shared cache mode](sharedcache.html).
    Virtual tables and shared cache can now be used at the same time.
  id: totrans-2083
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除了对[虚拟表](vtab.html)和[共享缓存模式](sharedcache.html)的限制。现在可以同时使用虚拟表和共享缓存。
- en: Many code simplifications and obscure bug fixes in support of providing [100%
    branch test coverage](testing.html#coverage).
  id: totrans-2084
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在支持提供 [100% 分支测试覆盖率](testing.html#coverage) 的过程中，简化了许多代码并修复了模糊 bug。
- en: 2009-06-27 (3.6.16)
  id: totrans-2085
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-06-27 (3.6.16)
- en: 'Fix a bug (ticket #3929) that occasionally causes INSERT or UPDATE operations
    to fail on an indexed table that has a self-modifying trigger.'
  id: totrans-2086
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了偶尔会导致带有自修改触发器的索引表的 INSERT 或 UPDATE 操作失败的 bug (票号 #3929)。'
- en: Other minor bug fixes and performance optimizations.
  id: totrans-2087
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要 bug 修复和性能优化。
- en: 2009-06-15 (3.6.15)
  id: totrans-2088
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-06-15 (3.6.15)
- en: Refactor the internal representation of SQL expressions so that they use less
    memory on embedded platforms.
  id: totrans-2089
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重构了 SQL 表达式的内部表示，以在嵌入式平台上减少内存使用。
- en: Reduce the amount of stack space used
  id: totrans-2090
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 减少了使用的堆栈空间量。
- en: Fix an 64-bit alignment bug on HP/UX and Sparc
  id: totrans-2091
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 HP/UX 和 Sparc 上的 64 位对齐 bug。
- en: The [sqlite3_create_function()](c3ref/create_function.html) family of interfaces
    now return [SQLITE_MISUSE](rescode.html#misuse) instead of [SQLITE_ERROR](rescode.html#error)
    when passed invalid parameter combinations.
  id: totrans-2092
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_create_function()](c3ref/create_function.html) 接口系列现在在传递无效参数组合时返回
    [SQLITE_MISUSE](rescode.html#misuse)，而不是 [SQLITE_ERROR](rescode.html#error)。'
- en: When new tables are created using CREATE TABLE ... AS SELECT ... the datatype
    of the columns is the simplified SQLite datatype (TEXT, INT, REAL, NUMERIC, or
    BLOB) instead of a copy of the original datatype from the source table.
  id: totrans-2093
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当使用 CREATE TABLE ... AS SELECT ... 创建新表时，列的数据类型为简化的 SQLite 数据类型 (TEXT、INT、REAL、NUMERIC
    或 BLOB)，而不是源表的原始数据类型的副本。
- en: Resolve race conditions when checking for a hot rollback journal.
  id: totrans-2094
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了检查热回滚日志时的竞争条件。
- en: The [sqlite3_shutdown()](c3ref/initialize.html) interface frees all mutexes
    under windows.
  id: totrans-2095
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_shutdown()](c3ref/initialize.html) 接口在 Windows 下释放所有互斥锁。'
- en: Enhanced robustness against corrupt database files
  id: totrans-2096
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了对损坏数据库文件的健壮性。
- en: Continuing improvements to the test suite and fixes to obscure bugs and inconsistencies
    that the test suite improvements are uncovering.
  id: totrans-2097
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续改进测试套件，并修复测试套件改进中发现的模糊 bug 和不一致性。
- en: 2009-05-25 (3.6.14.2)
  id: totrans-2098
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-05-25 (3.6.14.2)
- en: 'Fix a code generator bug introduced in [version 3.6.14](#version_3_6_14). This
    bug can cause incorrect query results under obscure circumstances. Ticket #3879.'
  id: totrans-2099
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了在 [version 3.6.14](#version_3_6_14) 中引入的代码生成器 bug。在模糊情况下，此 bug 可能导致查询结果不正确。票号
    #3879。'
- en: 2009-05-19 (3.6.14.1)
  id: totrans-2100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-05-19 (3.6.14.1)
- en: 'Fix a bug in [group_concat()](lang_aggfunc.html#group_concat), ticket #3841'
  id: totrans-2101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了 [group_concat()](lang_aggfunc.html#group_concat) 中的一个 bug，票号 #3841'
- en: 'Fix a performance bug in the pager cache, ticket #3844'
  id: totrans-2102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了分页缓存中的性能 bug，票号 #3844'
- en: 'Fix a bug in the [sqlite3_backup](c3ref/backup.html) implementation that can
    lead to a corrupt backup database. Ticket #3858.'
  id: totrans-2103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了 [sqlite3_backup](c3ref/backup.html) 实现中的一个 bug，可能导致备份数据库损坏。票号 #3858。'
- en: 2009-05-07 (3.6.14)
  id: totrans-2104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-05-07 (3.6.14)
- en: Added the optional [asynchronous VFS](asyncvfs.html) module.
  id: totrans-2105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了可选的 [异步 VFS](asyncvfs.html) 模块。
- en: Enhanced the query optimizer so that [virtual tables](vtab.html) are able to
    make use of OR and IN operators in the WHERE clause.
  id: totrans-2106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了查询优化器，以便[virtual tables](vtab.html)能够在WHERE子句中使用OR和IN运算符。
- en: Speed improvements in the btree and pager layers.
  id: totrans-2107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在btree和pager层的速度改进。
- en: Added the [SQLITE_HAVE_ISNAN](compile.html#have_isnan) compile-time option which
    will cause the isnan() function from the standard math library to be used instead
    of SQLite's own home-brew NaN checker.
  id: totrans-2108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_HAVE_ISNAN](compile.html#have_isnan)编译时选项，这将导致使用标准数学库中的isnan()函数，而不是SQLite自己的自制NaN检查器。
- en: Countless minor bug fixes, documentation improvements, new and improved test
    cases, and code simplifications and cleanups.
  id: totrans-2109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无数次要bug修复、文档改进、新的和改进的测试用例、代码简化和清理。
- en: 2009-04-13 (3.6.13)
  id: totrans-2110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-04-13 (3.6.13)
- en: 'Fix a bug in [version 3.6.12](#version_3_6_12) that causes a segfault when
    running a count(*) on the sqlite_master table of an empty database. Ticket #3774.'
  id: totrans-2111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了在[版本3.6.12](#version_3_6_12)中的一个bug，当在空数据库的sqlite_master表上运行count(*)时导致段错误。Ticket
    #3774。'
- en: 'Fix a bug in [version 3.6.12](#version_3_6_12) that causes a segfault that
    when inserting into a table using a DEFAULT value where there is a function as
    part of the DEFAULT value expression. Ticket #3791.'
  id: totrans-2112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了在[版本3.6.12](#version_3_6_12)中的一个bug，该bug导致在使用DEFAULT值插入表时，DEFAULT值表达式中存在函数时发生段错误。Ticket
    #3791。'
- en: 'Fix data structure alignment issues on Sparc. Ticket #3777.'
  id: totrans-2113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了在Sparc上的数据结构对齐问题。Ticket #3777。'
- en: Other minor bug fixes.
  id: totrans-2114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要的bug修复。
- en: 2009-03-31 (3.6.12)
  id: totrans-2115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-03-31 (3.6.12)
- en: 'Fixed a bug that caused database corruption when an [incremental_vacuum](pragma.html#pragma_incremental_vacuum)
    is rolled back in an in-memory database. Ticket #3761.'
  id: totrans-2116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了一个bug，在内存数据库中回滚[incremental_vacuum](pragma.html#pragma_incremental_vacuum)时导致数据库损坏。Ticket
    #3761。'
- en: Added the [sqlite3_unlock_notify()](c3ref/unlock_notify.html) interface.
  id: totrans-2117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_unlock_notify()](c3ref/unlock_notify.html)接口。
- en: Added the [reverse_unordered_selects pragma](pragma.html#pragma_reverse_unordered_selects).
  id: totrans-2118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[reverse_unordered_selects pragma](pragma.html#pragma_reverse_unordered_selects)。
- en: The default page size on windows is automatically adjusted to match the capabilities
    of the underlying filesystem.
  id: totrans-2119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows上的默认页面大小会自动调整以匹配底层文件系统的能力。
- en: Add the new ".genfkey" command in the [CLI](cli.html) for generating triggers
    to implement foreign key constraints.
  id: totrans-2120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[CLI](cli.html)中添加了新的".genfkey"命令，用于生成实现外键约束的触发器。
- en: Performance improvements for "count(*)" queries.
  id: totrans-2121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '"count(*)"查询的性能改进。'
- en: Reduce the amount of heap memory used, especially by TRIGGERs.
  id: totrans-2122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 减少了堆内存的使用量，特别是TRIGGERs。
- en: 2009-02-18 (3.6.11)
  id: totrans-2123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-02-18 (3.6.11)
- en: Added the [hot-backup interface](c3ref/backup_finish.html#sqlite3backupinit).
  id: totrans-2124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[热备份接口](c3ref/backup_finish.html#sqlite3backupinit)。
- en: Added new commands ".backup" and ".restore" to the [CLI](cli.html).
  id: totrans-2125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[CLI](cli.html)中添加了新的命令".backup"和".restore"。
- en: Added new methods [backup](tclsqlite.html#backup) and [restore](tclsqlite.html#restore)
    to the TCL interface.
  id: totrans-2126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在TCL接口中添加了新方法[backup](tclsqlite.html#backup)和[restore](tclsqlite.html#restore)。
- en: Improvements to the [syntax bubble diagrams](syntaxdiagrams.html)
  id: totrans-2127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[syntaxdiagrams.html](语法泡泡图)进行了改进。
- en: Various minor bug fixes
  id: totrans-2128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种次要错误修复。
- en: 2009-01-15 (3.6.10)
  id: totrans-2129
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-01-15 (3.6.10)
- en: 'Fix a cache coherency problem that could lead to database corruption. Ticket
    #3584.'
  id: totrans-2130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了一个可能导致数据库损坏的缓存一致性问题。票号 #3584。'
- en: 2009-01-14 (3.6.9)
  id: totrans-2131
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-01-14 (3.6.9)
- en: 'Fix two bugs, which when combined might result in incorrect query results.
    Both bugs were harmless by themselves; only when they team up do they cause problems.
    Ticket #3581.'
  id: totrans-2132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了两个bug，它们结合在一起可能导致查询结果不正确。这两个bug单独来看是无害的；只有在它们一起出现时才会引起问题。票号 #3581。'
- en: 2009-01-12 (3.6.8)
  id: totrans-2133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2009-01-12 (3.6.8)
- en: Added support for [nested transactions](lang_savepoint.html)
  id: totrans-2134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对嵌套事务的支持[lang_savepoint.html](lang_savepoint.html)。
- en: Enhanced the query optimizer so that it is able to use multiple indices to efficiently
    process [OR-connected constraints](optoverview.html#or_opt) in a WHERE clause.
  id: totrans-2135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加强了查询优化器，使其能够有效地处理WHERE子句中的[OR-connected constraints](optoverview.html#or_opt)，利用多个索引。
- en: Added support for parentheses in FTS3 query patterns using the [SQLITE_ENABLE_FTS3_PARENTHESIS](compile.html#enable_fts3_parenthesis)
    compile-time option.
  id: totrans-2136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对FTS3查询模式中使用括号的支持，使用[SQLITE_ENABLE_FTS3_PARENTHESIS](compile.html#enable_fts3_parenthesis)编译时选项。
- en: 2008-12-16 (3.6.7)
  id: totrans-2137
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-12-16 (3.6.7)
- en: Reorganize the Unix interface in os_unix.c
  id: totrans-2138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在os_unix.c中重新组织Unix接口。
- en: Added support for "Proxy Locking" on Mac OS X.
  id: totrans-2139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Mac OS X上添加了"Proxy Locking"支持。
- en: Changed the prototype of the [sqlite3_auto_extension()](c3ref/auto_extension.html)
    interface in a way that is backwards compatible but which might cause warnings
    in new builds of applications that use that interface.
  id: totrans-2140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改了[sqlite3_auto_extension()](c3ref/auto_extension.html)接口的原型，保证向后兼容，但可能会在新版本的应用程序中引起警告。
- en: Changed the signature of the xDlSym method of the [sqlite3_vfs](c3ref/vfs.html)
    object in a way that is backwards compatible but which might cause compiler warnings.
  id: totrans-2141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改了[sqlite3_vfs](c3ref/vfs.html)对象的xDlSym方法签名，保证向后兼容，但可能会引起编译器警告。
- en: Added superfluous casts and variable initializations in order to suppress nuisance
    compiler warnings.
  id: totrans-2142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了不必要的强制转换和变量初始化，以抑制烦人的编译器警告。
- en: Fixes for various minor bugs.
  id: totrans-2143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了各种次要错误。
- en: 2008-11-26 (3.6.6.2)
  id: totrans-2144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-11-26 (3.6.6.2)
- en: Fix a bug in the b-tree delete algorithm that seems like it might be able to
    cause database corruption. The bug was first introduced in [version 3.6.6](#version_3_6_6)
    by check-in [5899] on 2008-11-13.
  id: totrans-2145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了B树删除算法中的一个错误，可能导致数据库损坏。该错误首次在[version 3.6.6](#version_3_6_6)的[5899]提交中出现，时间为2008-11-13。
- en: Fix a memory leak that can occur following a disk I/O error.
  id: totrans-2146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在磁盘I/O错误后可能导致的内存泄漏。
- en: 2008-11-22 (3.6.6.1)
  id: totrans-2147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-11-22 (3.6.6.1)
- en: Fix a bug in the page cache that can lead database corruption following a rollback.
    This bug was first introduced in [version 3.6.4](#version_3_6_4).
  id: totrans-2148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了页缓存中的一个错误，可能导致回滚后数据库损坏。此错误首次出现在[version 3.6.4](#version_3_6_4)中。
- en: Two other very minor bug fixes
  id: totrans-2149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另外两个非常次要的bug修复。
- en: 2008-11-19 (3.6.6)
  id: totrans-2150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-11-19 (3.6.6)
- en: 'Fix a #define that prevented [memsys5](malloc.html#memsys5) from compiling'
  id: totrans-2151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个宏定义问题，导致[malloc.html#memsys5](memsys5)无法编译。
- en: 'Fix a problem in the virtual table commit mechanism that was causing a crash
    in FTS3\. Ticket #3497.'
  id: totrans-2152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了虚拟表提交机制中的问题，导致 FTS3 崩溃。票号 #3497。'
- en: Add the [application-defined page cache](c3ref/pcache_methods2.html)
  id: totrans-2153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [应用程序定义的页面缓存](c3ref/pcache_methods2.html)。
- en: Added built-in support for VxWorks
  id: totrans-2154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 VxWorks 的内置支持。
- en: 2008-11-12 (3.6.5)
  id: totrans-2155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-11-12 (3.6.5)
- en: Add the MEMORY option to the [journal_mode pragma](pragma.html#pragma_journal_mode).
  id: totrans-2156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 [journal_mode pragma](pragma.html#pragma_journal_mode) 添加了 MEMORY 选项。
- en: Added the [sqlite3_db_mutex()](c3ref/db_mutex.html) interface.
  id: totrans-2157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_db_mutex()](c3ref/db_mutex.html) 接口。
- en: Added the [SQLITE_OMIT_TRUNCATE_OPTIMIZATION](compile.html#omit_truncate_optimization)
    compile-time option.
  id: totrans-2158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了编译时选项 [SQLITE_OMIT_TRUNCATE_OPTIMIZATION](compile.html#omit_truncate_optimization)。
- en: Fixed the [truncate optimization](lang_delete.html#truncateopt) so that [sqlite3_changes()](c3ref/changes.html)
    and [sqlite3_total_changes()](c3ref/total_changes.html) interfaces and the [count_changes
    pragma](pragma.html#pragma_count_changes) return the correct values.
  id: totrans-2159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 [truncate optimization](lang_delete.html#truncateopt)，使得 [sqlite3_changes()](c3ref/changes.html)
    和 [sqlite3_total_changes()](c3ref/total_changes.html) 接口以及 [count_changes pragma](pragma.html#pragma_count_changes)
    返回正确的值。
- en: Added the [sqlite3_extended_errcode()](c3ref/errcode.html) interface.
  id: totrans-2160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_extended_errcode()](c3ref/errcode.html) 接口。
- en: The [COMMIT](lang_transaction.html) command now succeeds even if there are pending
    queries. It returns [SQLITE_BUSY](rescode.html#busy) if there are pending incremental
    BLOB I/O requests.
  id: totrans-2161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在即使存在待处理的查询，[COMMIT](lang_transaction.html) 命令也会成功执行。如果存在待处理的增量 BLOB I/O 请求，则返回
    [SQLITE_BUSY](rescode.html#busy)。
- en: The error code is changed to [SQLITE_BUSY](rescode.html#busy) (instead of [SQLITE_ERROR](rescode.html#error))
    when an attempt is made to [ROLLBACK](lang_transaction.html) while one or more
    queries are still pending.
  id: totrans-2162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当尝试在仍有一个或多个查询挂起时 [ROLLBACK](lang_transaction.html) 时，错误代码更改为 [SQLITE_BUSY](rescode.html#busy)（而不是
    [SQLITE_ERROR](rescode.html#error)）。
- en: Drop all support for the [experimental memory allocators](malloc.html#memsysx)
    memsys4 and memsys6.
  id: totrans-2163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了对实验性内存分配器 memsys4 和 memsys6 的所有支持。
- en: Added the [SQLITE_ZERO_MALLOC](compile.html#zero_malloc) compile-time option.
  id: totrans-2164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了编译时选项 [SQLITE_ZERO_MALLOC](compile.html#zero_malloc)。
- en: 2008-10-15 (3.6.4)
  id: totrans-2165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-10-15 (3.6.4)
- en: Add option support for LIMIT and ORDER BY clauses on [DELETE](lang_delete.html)
    and [UPDATE](lang_update.html) statements. Only works if SQLite is compiled with
    [SQLITE_ENABLE_UPDATE_DELETE_LIMIT](compile.html#enable_update_delete_limit).
  id: totrans-2166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 [DELETE](lang_delete.html) 和 [UPDATE](lang_update.html) 语句添加对 LIMIT 和 ORDER
    BY 子句的选项支持。仅在 SQLite 编译时启用了 [SQLITE_ENABLE_UPDATE_DELETE_LIMIT](compile.html#enable_update_delete_limit)
    时有效。
- en: Added the [sqlite3_stmt_status()](c3ref/stmt_status.html) interface for performance
    monitoring.
  id: totrans-2167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了用于性能监控的 [sqlite3_stmt_status()](c3ref/stmt_status.html) 接口。
- en: Add the [INDEXED BY](lang_indexedby.html) clause.
  id: totrans-2168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [INDEXED BY](lang_indexedby.html) 子句。
- en: The LOCKING_STYLE extension is now enabled by default on Mac OS X
  id: totrans-2169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Mac OS X 上，默认启用了 LOCKING_STYLE 扩展。
- en: Added the TRUNCATE option to [PRAGMA journal_mode](pragma.html#pragma_journal_mode)
  id: totrans-2170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 TRUNCATE 选项到 [PRAGMA journal_mode](pragma.html#pragma_journal_mode)。
- en: Performance enhancements to tree balancing logic in the B-Tree layer.
  id: totrans-2171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在B-Tree层的树平衡逻辑中进行了性能增强。
- en: Added the [source code](https://www.sqlite.org/src/finfo?name=tool/genfkey.c)
    and [documentation](https://www.sqlite.org/src/finfo?name=tool/genfkey.README)
    for the **genfkey** program for automatically generating triggers to enforce foreign
    key constraints.
  id: totrans-2172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了用于自动生成触发器以强制执行外键约束的**genfkey**程序的[源代码](https://www.sqlite.org/src/finfo?name=tool/genfkey.c)和[文档](https://www.sqlite.org/src/finfo?name=tool/genfkey.README)。
- en: Added the [SQLITE_OMIT_TRUNCATE_OPTIMIZATION](compile.html#omit_truncate_optimization)
    compile-time option.
  id: totrans-2173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_OMIT_TRUNCATE_OPTIMIZATION](compile.html#omit_truncate_optimization)编译时选项。
- en: The [SQL language documentation](lang.html) is converted to use [syntax diagrams](syntaxdiagrams.html)
    instead of BNF.
  id: totrans-2174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[SQL语言文档](lang.html)已转换为使用[syntax diagrams](syntaxdiagrams.html)，而非BNF。'
- en: Other minor bug fixes
  id: totrans-2175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要错误修复
- en: 2008-09-22 (3.6.3)
  id: totrans-2176
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-09-22 (3.6.3)
- en: Fix for a bug in the SELECT DISTINCT logic that was introduced by the prior
    version.
  id: totrans-2177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了由前一个版本引入的SELECT DISTINCT逻辑中的错误。
- en: Other minor bug fixes
  id: totrans-2178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要错误修复
- en: 2008-08-30 (3.6.2)
  id: totrans-2179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-08-30 (3.6.2)
- en: Split the pager subsystem into separate pager and pcache subsystems.
  id: totrans-2180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将页面管理器子系统拆分为单独的页面管理器和页缓存子系统。
- en: Factor out identifier resolution procedures into separate files.
  id: totrans-2181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将标识符解析过程分离为单独的文件。
- en: Bug fixes
  id: totrans-2182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug fixes
- en: 2008-08-06 (3.6.1)
  id: totrans-2183
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-08-06 (3.6.1)
- en: Added the [lookaside memory allocator](malloc.html#lookaside) for a speed improvement
    in excess of 15% on some workloads. (Your mileage may vary.)
  id: totrans-2184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[lookaside内存分配器](malloc.html#lookaside)，在某些工作负载上可以提高超过15%的速度。（具体效果可能有所不同。）
- en: Added the [SQLITE_CONFIG_LOOKASIDE](c3ref/c_config_covering_index_scan.html#sqliteconfiglookaside)
    verb to [sqlite3_config()](c3ref/config.html) to control the default lookaside
    configuration.
  id: totrans-2185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了用于控制默认lookaside配置的[sqlite3_config()](c3ref/config.html)的[SQLITE_CONFIG_LOOKASIDE](c3ref/c_config_covering_index_scan.html#sqliteconfiglookaside)动词。
- en: Added verbs [SQLITE_STATUS_PAGECACHE_SIZE](c3ref/c_status_malloc_count.html#sqlitestatuspagecachesize)
    and [SQLITE_STATUS_SCRATCH_SIZE](c3ref/c_status_malloc_count.html#sqlitestatusscratchsize)
    to the [sqlite3_status()](c3ref/status.html) interface.
  id: totrans-2186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_status()](c3ref/status.html)接口的[SQLITE_STATUS_PAGECACHE_SIZE](c3ref/c_status_malloc_count.html#sqlitestatuspagecachesize)和[SQLITE_STATUS_SCRATCH_SIZE](c3ref/c_status_malloc_count.html#sqlitestatusscratchsize)动词。
- en: Modified [SQLITE_CONFIG_PAGECACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache)
    and [SQLITE_CONFIG_SCRATCH](c3ref/c_config_covering_index_scan.html#sqliteconfigscratch)
    to remove the "+4" magic number in the buffer size computation.
  id: totrans-2187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了[SQLITE_CONFIG_PAGECACHE](c3ref/c_config_covering_index_scan.html#sqliteconfigpagecache)和[SQLITE_CONFIG_SCRATCH](c3ref/c_config_covering_index_scan.html#sqliteconfigscratch)，以消除在缓冲区大小计算中的"+4"魔数。
- en: Added the [sqlite3_db_config()](c3ref/db_config.html) and [sqlite3_db_status()](c3ref/db_status.html)
    interfaces for controlling and monitoring the lookaside allocator separately on
    each [database connection](c3ref/sqlite3.html).
  id: totrans-2188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了用于在每个[数据库连接](c3ref/sqlite3.html)上单独控制和监视lookaside分配器的[sqlite3_db_config()](c3ref/db_config.html)和[sqlite3_db_status()](c3ref/db_status.html)接口。
- en: Numerous other performance enhancements
  id: totrans-2189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大量其他性能增强
- en: Miscellaneous minor bug fixes
  id: totrans-2190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项次要错误修复
- en: 2008-07-16 (3.6.0 beta)
  id: totrans-2191
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-07-16 (3.6.0 beta)
- en: Modifications to the [virtual file system](c3ref/vfs.html) interface to support
    a wider range of embedded systems. See [35to36.html](35to36.html) for additional
    information. *** Potentially incompatible change ***
  id: totrans-2192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了虚拟文件系统接口，以支持更广泛的嵌入式系统。详细信息请参见[35to36.html](35to36.html)。***潜在的不兼容更改***
- en: All C-preprocessor macros used to control compile-time options now begin with
    the prefix "SQLITE_". This may require changes to applications that compile SQLite
    using their own makefiles and with custom compile-time options, hence we mark
    this as a *** Potentially incompatible change ***
  id: totrans-2193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有用于控制编译时选项的C预处理宏现在都以前缀"SQLITE_"开头。这可能需要更改使用自定义makefile和自定义编译时选项编译SQLite的应用程序，因此我们标记这一点为***潜在的不兼容更改***
- en: The SQLITE_MUTEX_APPDEF compile-time option is no longer supported. Alternative
    mutex implementations can now be added at run-time using the [sqlite3_config()](c3ref/config.html)
    interface with the [SQLITE_CONFIG_MUTEX](c3ref/c_config_covering_index_scan.html#sqliteconfigmutex)
    verb. *** Potentially incompatible change ***
  id: totrans-2194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编译时选项`SQLITE_MUTEX_APPDEF`不再受支持。现在可以使用[sqlite3_config()](c3ref/config.html)接口并使用[SQLITE_CONFIG_MUTEX](c3ref/c_config_covering_index_scan.html#sqliteconfigmutex)动词在运行时添加替代的互斥实现。***潜在的不兼容更改***
- en: The handling of IN and NOT IN operators that contain a NULL on their right-hand
    side expression is brought into compliance with the SQL standard and with other
    SQL database engines. This is a bug fix, but as it has the potential to break
    legacy applications that depend on the older buggy behavior, we mark that as a
    *** Potentially incompatible change ***
  id: totrans-2195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将包含右侧表达式中NULL的IN和NOT IN操作符的处理与SQL标准及其他SQL数据库引擎进行了兼容。这是一个错误修复，但由于可能会破坏依赖于旧有错误行为的遗留应用程序，因此我们标记它为***潜在的不兼容更改***
- en: The result column names generated for compound subqueries have been simplified
    to show only the name of the column of the original table and omit the table name.
    This makes SQLite operate more like other SQL database engines.
  id: totrans-2196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对复合子查询生成的结果列名进行了简化，只显示原始表的列名而省略表名。这使得SQLite的操作更像其他SQL数据库引擎。
- en: Added the [sqlite3_config()](c3ref/config.html) interface for doing run-time
    configuration of the entire SQLite library.
  id: totrans-2197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_config()](c3ref/config.html)接口，用于对整个SQLite库进行运行时配置。
- en: Added the [sqlite3_status()](c3ref/status.html) interface used for querying
    run-time status information about the overall SQLite library and its subsystems.
  id: totrans-2198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_status()](c3ref/status.html)接口，用于查询关于整个SQLite库及其子系统的运行时状态信息。
- en: Added the [sqlite3_initialize()](c3ref/initialize.html) and [sqlite3_shutdown()](c3ref/initialize.html)
    interfaces.
  id: totrans-2199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_initialize()](c3ref/initialize.html)和[sqlite3_shutdown()](c3ref/initialize.html)接口。
- en: The [SQLITE_OPEN_NOMUTEX](c3ref/c_open_autoproxy.html) option was added to [sqlite3_open_v2()](c3ref/open.html).
  id: totrans-2200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[SQLITE_OPEN_NOMUTEX](c3ref/c_open_autoproxy.html)选项到[sqlite3_open_v2()](c3ref/open.html)。
- en: Added the [PRAGMA page_count](pragma.html#pragma_page_count) command.
  id: totrans-2201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA page_count](pragma.html#pragma_page_count)命令。
- en: Added the [sqlite3_next_stmt()](c3ref/next_stmt.html) interface.
  id: totrans-2202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_next_stmt()](c3ref/next_stmt.html)接口。
- en: Added a new [R*Tree virtual table](rtree.html)
  id: totrans-2203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个新的[R*Tree虚拟表](rtree.html)
- en: 2008-05-14 (3.5.9)
  id: totrans-2204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-05-14 (3.5.9)
- en: Added *experimental* support for the [journal_mode](pragma.html#pragma_journal_mode)
    PRAGMA and persistent journal.
  id: totrans-2205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对[日志模式](pragma.html#pragma_journal_mode)PRAGMA和持久日志的*实验性*支持。
- en: '[Journal mode PERSIST](pragma.html#pragma_journal_mode) is the default behavior
    in [exclusive locking mode](pragma.html#pragma_locking_mode).'
  id: totrans-2206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[持久日志模式](pragma.html#pragma_journal_mode)是[独占锁定模式](pragma.html#pragma_locking_mode)下的默认行为。'
- en: 'Fix a performance regression on LEFT JOIN (see ticket #3015) that was mistakenly
    introduced in [version 3.5.8](#version_3_5_8).'
  id: totrans-2207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了左连接的性能退化问题（参见票号 #3015），该问题错误地引入在[版本 3.5.8](#version_3_5_8)中。'
- en: 'Performance enhancement: Reengineer the internal routines used to interpret
    and render variable-length integers.'
  id: totrans-2208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能增强：重新设计了用于解释和渲染可变长度整数的内部例程。
- en: Fix a buffer-overrun problem in [sqlite3_mprintf()](c3ref/mprintf.html) which
    occurs when a string without a zero-terminator is passed to "%.*s".
  id: totrans-2209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[sqlite3_mprintf()](c3ref/mprintf.html)中的缓冲区溢出问题，当传递没有零终止符的字符串给“%.*s”时发生。
- en: 'Always convert IEEE floating point NaN values into NULL during processing.
    (Ticket #3060)'
  id: totrans-2210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在处理过程中，始终将IEEE浮点NaN值转换为NULL。（票号 #3060）'
- en: 'Make sure that when a connection blocks on a RESERVED lock that it is able
    to continue after the lock is released. (Ticket #3093)'
  id: totrans-2211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '确保当连接在保留锁上阻塞时，能够在释放锁后继续操作。（票号 #3093）'
- en: The "configure" scripts should now automatically configure Unix systems for
    large file support. Improved error messages for when large files are encountered
    and large file support is disabled.
  id: totrans-2212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，“配置”脚本应该会自动为Unix系统配置大文件支持。当遇到大文件且未启用大文件支持时，改进了错误消息。
- en: Avoid cache pages leaks following disk-full or I/O errors
  id: totrans-2213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免在磁盘满或I/O错误后缓存页面泄漏。
- en: And, many more minor bug fixes and performance enhancements....
  id: totrans-2214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还有许多次要的错误修复和性能增强……
- en: 2008-04-16 (3.5.8)
  id: totrans-2215
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-04-16 (3.5.8)
- en: Expose SQLite's internal pseudo-random number generator (PRNG) via the [sqlite3_randomness()](c3ref/randomness.html)
    interface
  id: totrans-2216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过[sqlite3_randomness()](c3ref/randomness.html)接口公开SQLite的内部伪随机数生成器（PRNG）。
- en: New interface [sqlite3_context_db_handle()](c3ref/context_db_handle.html) that
    returns the [database connection](c3ref/sqlite3.html) handle that has invoked
    an application-defined SQL function.
  id: totrans-2217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新接口[sqlite3_context_db_handle()](c3ref/context_db_handle.html)返回调用应用定义的SQL函数的[数据库连接](c3ref/sqlite3.html)句柄。
- en: New interface [sqlite3_limit()](c3ref/limit.html) allows size and length limits
    to be set on a per-connection basis and at run-time.
  id: totrans-2218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新接口[sqlite3_limit()](c3ref/limit.html)允许在每个连接和运行时设置大小和长度限制。
- en: 'Improved crash-robustness: write the database page size into the rollback journal
    header.'
  id: totrans-2219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了崩溃鲁棒性：将数据库页面大小写入回滚日志头部。
- en: Allow the [VACUUM](lang_vacuum.html) command to change the page size of a database
    file.
  id: totrans-2220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许[VACUUM](lang_vacuum.html)命令更改数据库文件的页面大小。
- en: The xAccess() method of the VFS is allowed to return -1 to signal a memory allocation
    error.
  id: totrans-2221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许VFS的xAccess（）方法返回-1以表示内存分配错误。
- en: 'Performance improvement: The OP_IdxDelete opcode uses unpacked records, obviating
    the need for one OP_MakeRecord opcode call for each index record deleted.'
  id: totrans-2222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能改进：OP_IdxDelete操作码使用非压缩记录，避免为每个索引记录删除调用一个OP_MakeRecord操作码。
- en: 'Performance improvement: Constant subexpressions are factored out of loops.'
  id: totrans-2223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能改进：常量子表达式从循环中分离出来。
- en: 'Performance improvement: Results of OP_Column are reused rather than issuing
    multiple OP_Column opcodes.'
  id: totrans-2224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能改进：OP_Column的结果被重复使用，而不是发出多个OP_Column操作码。
- en: Fix a bug in the RTRIM collating sequence.
  id: totrans-2225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了RTRIM排序序列中的一个错误。
- en: Fix a bug in the SQLITE_SECURE_DELETE option that was causing Firefox crashes.
    Make arrangements to always test SQLITE_SECURE_DELETE prior to each release.
  id: totrans-2226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了导致Firefox崩溃的SQLITE_SECURE_DELETE选项中的错误。确保在每次发布之前始终测试SQLITE_SECURE_DELETE。
- en: Other miscellaneous performance enhancements.
  id: totrans-2227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他杂项性能增强。
- en: Other miscellaneous minor bug fixes.
  id: totrans-2228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他杂项小错误修复。
- en: 2008-03-17 (3.5.7)
  id: totrans-2229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-03-17（3.5.7）
- en: 'Fix a bug (ticket #2927) in the register allocation for compound selects -
    introduced by the new VM code in version 3.5.5.'
  id: totrans-2230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个错误（票号＃2927），该错误出现在3.5.5版本新的虚拟机代码中，用于复合选择的寄存器分配。
- en: ALTER TABLE uses double-quotes instead of single-quotes for quoting filenames.
  id: totrans-2231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ALTER TABLE使用双引号而不是单引号引用文件名。
- en: Use the WHERE clause to reduce the size of a materialized VIEW in an UPDATE
    or DELETE statement. (Optimization)
  id: totrans-2232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用WHERE子句在UPDATE或DELETE语句中减少物化视图的大小。（优化）
- en: 'Do not apply the flattening optimization if the outer query is an aggregate
    and the inner query contains ORDER BY. (Ticket #2943)'
  id: totrans-2233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果外部查询是聚合并且内部查询包含ORDER BY，则不应用平坦化优化。（票号＃2943）
- en: Additional OS/2 updates
  id: totrans-2234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 额外的OS/2更新。
- en: Added an experimental power-of-two, first-fit memory allocator.
  id: totrans-2235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个实验性的二次幂、首次适配内存分配器。
- en: Remove all instances of sprintf() from the code
  id: totrans-2236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从代码中删除所有sprintf（）的实例。
- en: Accept "Z" as the zulu timezone at the end of date strings
  id: totrans-2237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受“Z”作为日期字符串末尾的协调世界时时区。
- en: Fix a bug in the LIKE optimizer that occurs when the last character before the
    first wildcard is an upper-case "Z"
  id: totrans-2238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在LIKE优化器中的一个错误，当第一个通配符之前的最后一个字符是大写字母“Z”时发生。
- en: Added the "bitvec" object for keeping track of which pages have been journalled.
    Improves speed and reduces memory consumption, especially for large database files.
  id: totrans-2239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了“bitvec”对象，用于跟踪已记录哪些页面。特别适用于大型数据库文件，提高速度并减少内存消耗。
- en: Get the SQLITE_ENABLE_LOCKING_STYLE macro working again on Mac OS X.
  id: totrans-2240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在Mac OS X上使SQLITE_ENABLE_LOCKING_STYLE宏再次起作用的错误。
- en: Store the statement journal in the temporary file directory instead of collocated
    with the database file.
  id: totrans-2241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将语句日志存储在临时文件目录中，而不是与数据库文件一起存放。
- en: Many improvements and cleanups to the configure script
  id: totrans-2242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对配置脚本进行了许多改进和清理。
- en: 2008-02-06 (3.5.6)
  id: totrans-2243
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-02-06（3.5.6）
- en: 'Fix a bug (ticket #2913) that prevented virtual tables from working in a LEFT
    JOIN. The problem was introduced into shortly before the 3.5.5 release.'
  id: totrans-2244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了一个 bug (票号 #2913)，阻止虚拟表在 LEFT JOIN 中工作。该问题是在 3.5.5 发布前不久引入的。'
- en: Bring the OS/2 porting layer up-to-date.
  id: totrans-2245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了 OS/2 移植层。
- en: Add the new [sqlite3_result_error_code()](c3ref/result_blob.html) API and use
    it in the implementation of [ATTACH](lang_attach.html) so that proper error codes
    are returned when an [ATTACH](lang_attach.html) fails.
  id: totrans-2246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的 [sqlite3_result_error_code()](c3ref/result_blob.html) API，并在 [ATTACH](lang_attach.html)
    的实现中使用它，以便在 [ATTACH](lang_attach.html) 失败时返回正确的错误代码。
- en: 2008-01-31 (3.5.5)
  id: totrans-2247
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2008-01-31 (3.5.5)
- en: Convert the underlying virtual machine to be a register-based machine rather
    than a stack-based machine. The only user-visible change is in the output of EXPLAIN.
  id: totrans-2248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将底层虚拟机转换为基于寄存器而不是基于堆栈的机器。唯一可见的用户更改在 EXPLAIN 的输出中。
- en: Add the build-in RTRIM collating sequence.
  id: totrans-2249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了内建的 RTRIM 排序序列。
- en: 2007-12-14 (3.5.4)
  id: totrans-2250
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-12-14 (3.5.4)
- en: 'Fix a critical bug in UPDATE or DELETE that occurs when an OR REPLACE clause
    or a trigger causes rows in the same table to be deleted as side effects. (See
    ticket #2832.) The most likely result of this bug is a segmentation fault, though
    database corruption is a possibility.'
  id: totrans-2251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复了在 UPDATE 或 DELETE 中发生的严重 bug，当 OR REPLACE 子句或触发器导致删除同一表中的行时。 (参见票号 #2832。)
    这个 bug 最有可能导致段错误，尽管数据库损坏也是可能的。'
- en: 'Bring the processing of ORDER BY into compliance with the SQL standard for
    case where a result alias and a table column name are in conflict. Correct behavior
    is to prefer the result alias. Older versions of SQLite incorrectly picked the
    table column. (See ticket #2822.)'
  id: totrans-2252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '将 ORDER BY 的处理带入符合 SQL 标准的情况，即结果别名和表列名冲突的情况。正确的行为是优先选择结果别名。旧版本的 SQLite 错误地选择了表列。
    (参见票号 #2822。)'
- en: 'The [VACUUM](lang_vacuum.html) command preserves the setting of the [legacy_file_format
    pragma](pragma.html#pragma_legacy_file_format). (Ticket #2804.)'
  id: totrans-2253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[VACUUM](lang_vacuum.html) 命令保留了 [legacy_file_format pragma](pragma.html#pragma_legacy_file_format)
    的设置。 (票号 #2804。)'
- en: Productize and officially support the group_concat() SQL function.
  id: totrans-2254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 产品化并正式支持 group_concat() SQL 函数。
- en: Better optimization of some IN operator expressions.
  id: totrans-2255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化了一些 IN 操作符表达式的优化。
- en: Add the ability to change the [auto_vacuum](pragma.html#pragma_auto_vacuum)
    status of a database by setting the auto_vaccum pragma and VACUUMing the database.
  id: totrans-2256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了通过设置 auto_vacuum pragma 并对数据库进行 VACUUM 来更改数据库的 [自动清理](pragma.html#pragma_auto_vacuum)
    状态的功能。
- en: Prefix search in FTS3 is much more efficient.
  id: totrans-2257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: FTS3 中的前缀搜索更加高效。
- en: Relax the SQL statement length restriction in the CLI so that the ".dump" output
    of databases with very large BLOBs and strings can be played back to recreate
    the database.
  id: totrans-2258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 放宽 CLI 中的 SQL 语句长度限制，以便可以播放具有非常大的 BLOB 和字符串的数据库的 ".dump" 输出以重新创建数据库。
- en: Other small bug fixes and optimizations.
  id: totrans-2259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他一些小的错误修复和优化。
- en: 2007-11-27 (3.5.3)
  id: totrans-2260
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-11-27 (3.5.3)
- en: Move website and documentation files out of the source tree into a [separate
    CM system](https://www.sqlite.org/docsrc/).
  id: totrans-2261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将网站和文档文件从源代码树中移出，放入[单独的CM系统](https://www.sqlite.org/docsrc/)。
- en: Fix a long-standing bug in INSERT INTO ... SELECT ... statements where the SELECT
    is compound.
  id: totrans-2262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了INSERT INTO ... SELECT ...语句中存在已久的多行选择问题。
- en: Fix a long-standing bug in RAISE(IGNORE) as used in BEFORE triggers.
  id: totrans-2263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在BEFORE触发器中使用RAISE(IGNORE)存在的长期bug。
- en: Fixed the operator precedence for the ~ operator.
  id: totrans-2264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了~运算符的操作符优先级。
- en: On Win32, do not return an error when attempting to delete a file that does
    not exist.
  id: totrans-2265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Win32平台上，当尝试删除不存在的文件时，不返回错误。
- en: Allow collating sequence names to be quoted.
  id: totrans-2266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许排序序列名称用引号引起来。
- en: Modify the TCL interface to use [sqlite3_prepare_v2()](c3ref/prepare.html).
  id: totrans-2267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了TCL接口，使用[sqlite3_prepare_v2()](c3ref/prepare.html)。
- en: Fix multiple bugs that can occur following a malloc() failure.
  id: totrans-2268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在malloc()失败后可能出现的多个错误。
- en: '[sqlite3_step()](c3ref/step.html) returns [SQLITE_MISUSE](rescode.html#misuse)
    instead of crashing when called with a NULL parameter.'
  id: totrans-2269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_step()](c3ref/step.html)在传入NULL参数时，不再崩溃，而是返回[SQLITE_MISUSE](rescode.html#misuse)。'
- en: FTS3 now uses the SQLite memory allocator exclusively. The FTS3 amalgamation
    can now be appended to the SQLite amalgamation to generate a super-amalgamation
    containing both.
  id: totrans-2270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: FTS3现在完全使用SQLite内存分配器。可以将FTS3集成附加到SQLite集成中，生成包含两者的超级集成。
- en: The DISTINCT keyword now will sometimes use an INDEX if an appropriate index
    is available and the optimizer thinks its use might be advantageous.
  id: totrans-2271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: DISTINCT关键字现在有时会在适当的索引可用且优化器认为其使用有利时使用索引。
- en: 2007-11-05 (3.5.2)
  id: totrans-2272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-11-05 (3.5.2)
- en: Dropped support for the [SQLITE_OMIT_MEMORY_ALLOCATION](compile.html#omitfeatures)
    compile-time option.
  id: totrans-2273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 放弃了[SQLITE_OMIT_MEMORY_ALLOCATION](compile.html#omitfeatures)编译时选项的支持。
- en: Always open files using FILE_FLAG_RANDOM_ACCESS under Windows.
  id: totrans-2274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows下始终使用FILE_FLAG_RANDOM_ACCESS打开文件。
- en: The 3rd parameter of the built-in SUBSTR() function is now optional.
  id: totrans-2275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内置的SUBSTR()函数的第三个参数现在是可选的。
- en: 'Bug fix: do not invoke the authorizer when reparsing the schema after a schema
    change.'
  id: totrans-2276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug：在模式更改后重新解析模式时，不要调用授权器。
- en: Added the experimental malloc-free memory allocator in mem3.c.
  id: totrans-2277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在mem3.c中添加了实验性的无malloc内存分配器。
- en: Virtual machine stores 64-bit integer and floating point constants in binary
    instead of text for a performance boost.
  id: totrans-2278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 虚拟机将64位整数和浮点常数存储在二进制而非文本中，以提升性能。
- en: Fix a race condition in test_async.c.
  id: totrans-2279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了test_async.c中的竞争条件。
- en: Added the ".timer" command to the CLI
  id: totrans-2280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向CLI添加了".timer"命令。
- en: 2007-10-04 (3.5.1)
  id: totrans-2281
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-10-04 (3.5.1)
- en: '***Nota Bene:** We are not using terms "alpha" or "beta" on this release because
    the code is stable and because if we use those terms, nobody will upgrade. However,
    we still reserve the right to make incompatible changes to the new VFS interface
    in future releases.*'
  id: totrans-2282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '***Nota Bene:** 我们在此版本中不使用"alpha"或"beta"术语，因为代码稳定，如果使用这些术语，没有人会升级。然而，我们仍保留在未来版本中对新VFS接口进行不兼容更改的权利。*'
- en: 'Fix a bug in the handling of [SQLITE_FULL](rescode.html#full) errors that could
    lead to database corruption. Ticket #2686.'
  id: totrans-2283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了处理[SQLITE_FULL](rescode.html#full)错误时可能导致数据库损坏的错误。票号#2686。
- en: The test_async.c drive now does full file locking and works correctly when used
    simultaneously by multiple processes on the same database.
  id: totrans-2284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`test_async.c`驱动现在在同一数据库上被多个进程同时使用时可以正确执行完全文件锁定。'
- en: The CLI ignores whitespace (including comments) at the end of lines
  id: totrans-2285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CLI忽略行尾的空白字符（包括注释）。
- en: 'Make sure the query optimizer checks dependencies on all terms of a compound
    SELECT statement. Ticket #2640.'
  id: totrans-2286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保查询优化器检查复合SELECT语句的所有项的依赖关系。票号#2640。
- en: Add demonstration code showing how to build a VFS for a raw mass storage without
    a filesystem.
  id: totrans-2287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加演示代码，展示如何为不带文件系统的原始大容量存储构建VFS。
- en: Added an output buffer size parameter to the xGetTempname() method of the VFS
    layer.
  id: totrans-2288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在VFS层的`xGetTempname()`方法中增加了输出缓冲区大小参数。
- en: Sticky [SQLITE_FULL](rescode.html#full) or [SQLITE_IOERR](rescode.html#ioerr)
    errors in the pager are reset when a new transaction is started.
  id: totrans-2289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当启动新事务时，页面器中的粘性[SQLITE_FULL](rescode.html#full)或[SQLITE_IOERR](rescode.html#ioerr)错误会被重置。
- en: 2007-09-04 (3.5.0) alpha
  id: totrans-2290
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-09-04（3.5.0）alpha
- en: Redesign the OS interface layer. See [34to35.html](34to35.html) for details.
    *** Potentially incompatible change ***
  id: totrans-2291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新设计操作系统接口层。详见[34to35.html](34to35.html)。***可能存在不兼容的改动***。
- en: The [sqlite3_release_memory()](c3ref/release_memory.html), [sqlite3_soft_heap_limit()](c3ref/soft_heap_limit.html),
    and [sqlite3_enable_shared_cache()](c3ref/enable_shared_cache.html) interfaces
    now work cross all threads in the process, not just the single thread in which
    they are invoked. *** Potentially incompatible change ***
  id: totrans-2292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_release_memory()](c3ref/release_memory.html)、[sqlite3_soft_heap_limit()](c3ref/soft_heap_limit.html)和[sqlite3_enable_shared_cache()](c3ref/enable_shared_cache.html)接口现在可以跨所有进程中的所有线程工作，而不仅限于它们被调用的单个线程。***可能存在不兼容的改动***。'
- en: Added the [sqlite3_open_v2()](c3ref/open.html) interface.
  id: totrans-2293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了[sqlite3_open_v2()](c3ref/open.html)接口。
- en: Reimplemented the memory allocation subsystem and made it replaceable at compile-time.
  id: totrans-2294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新实现了内存分配子系统，并使其在编译时可替换。
- en: Created a new mutex subsystem and made it replicable at compile-time.
  id: totrans-2295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建了一个新的互斥子系统，并使其在编译时可复制。
- en: The same database connection may now be used simultaneously by separate threads.
  id: totrans-2296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在可以通过不同线程同时使用同一个数据库连接。
- en: 2007-08-13 (3.4.2)
  id: totrans-2297
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-08-13（3.4.2）
- en: 'Fix a database corruption bug that might occur if a ROLLBACK command is executed
    in [auto-vacuum mode](pragma.html#pragma_auto_vacuum) and a very small [sqlite3_soft_heap_limit](c3ref/soft_heap_limit.html)
    is set. Ticket #2565.'
  id: totrans-2298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在[自动清理模式](pragma.html#pragma_auto_vacuum)下执行ROLLBACK命令并设置非常小的[sqlite3_soft_heap_limit](c3ref/soft_heap_limit.html)时可能出现的数据库损坏错误。票号#2565。
- en: Add the ability to run a full regression test with a small [sqlite3_soft_heap_limit](c3ref/soft_heap_limit.html).
  id: totrans-2299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加能够通过小型[sqlite3_soft_heap_limit](c3ref/soft_heap_limit.html)运行完整回归测试的功能。
- en: Fix other minor problems with using small soft heap limits.
  id: totrans-2300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了使用较小软堆限制时的其他小问题。
- en: Work-around for [GCC bug 32575](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=32575).
  id: totrans-2301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[GCC bug 32575](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=32575)的解决方法。
- en: Improved error detection of misused aggregate functions.
  id: totrans-2302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了对误用的聚合函数的错误检测。
- en: Improvements to the amalgamation generator script so that all symbols are prefixed
    with either SQLITE_PRIVATE or SQLITE_API.
  id: totrans-2303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进合并生成脚本，以便所有符号都以SQLITE_PRIVATE或SQLITE_API为前缀。
- en: 2007-07-20 (3.4.1)
  id: totrans-2304
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-07-20 (3.4.1)
- en: Fix a bug in [VACUUM](lang_vacuum.html) that can lead to database corruptio
    if two processes are connected to the database at the same time and one VACUUMs
    then the other then modifies the database.
  id: totrans-2305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复[VACUUM](lang_vacuum.html)中的一个bug，如果两个进程同时连接到数据库，并且一个进程先执行了VACUUM，然后另一个进程修改了数据库，可能导致数据库损坏。
- en: The expression "+column" is now considered the same as "column" when computing
    the collating sequence to use on the expression.
  id: totrans-2306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当计算要在表达式上使用的排序序列时，现在将"+column"表达式视为与"column"相同。
- en: In the [TCL language interface](tclsqlite.html), "@variable" instead of "$variable"
    always binds as a blob.
  id: totrans-2307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[TCL语言接口](tclsqlite.html)中，"@variable"代替"$variable"将始终绑定为blob。
- en: Added [PRAGMA freelist_count](pragma.html#pragma_freelist_count) for determining
    the current size of the freelist.
  id: totrans-2308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[PRAGMA freelist_count](pragma.html#pragma_freelist_count)以确定当前freelist的大小。
- en: The [PRAGMA auto_vacuum=incremental](pragma.html#pragma_auto_vacuum) setting
    is now persistent.
  id: totrans-2309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PRAGMA auto_vacuum=incremental](pragma.html#pragma_auto_vacuum)设置现在是持久的。'
- en: Add FD_CLOEXEC to all open files under Unix.
  id: totrans-2310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Unix下将FD_CLOEXEC添加到所有打开的文件。
- en: Fix a bug in the [min()/max() optimization](optoverview.html#minmax) when applied
    to descending indices.
  id: totrans-2311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在应用于降序索引时的[min()/max()优化](optoverview.html#minmax)中的一个bug。
- en: Make sure the TCL language interface works correctly with 64-bit integers on
    64-bit machines.
  id: totrans-2312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在64位机器上TCL语言接口能正确处理64位整数。
- en: Allow the value -9223372036854775808 as an integer literal in SQL statements.
  id: totrans-2313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在SQL语句中使用值为-9223372036854775808的整数字面量。
- en: Add the capability of "hidden" columns in virtual tables.
  id: totrans-2314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在虚拟表中添加了“隐藏”列的功能。
- en: Use the macro SQLITE_PRIVATE (defaulting to "static") on all internal functions
    in the amalgamation.
  id: totrans-2315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在合并编译中的所有内部函数上使用宏SQLITE_PRIVATE（默认为"static"）。
- en: Add pluggable tokenizers and [ICU](https://icu.unicode.org) tokenization support
    to FTS2
  id: totrans-2316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将可插拔的标记器和[ICU](https://icu.unicode.org)的分词支持添加到FTS2中。
- en: Other minor bug fixes and documentation enhancements
  id: totrans-2317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他小bug修复和文档增强。
- en: 2007-06-18 (3.4.0)
  id: totrans-2318
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-06-18 (3.4.0)
- en: 'Fix a bug that can lead to database corruption if an [SQLITE_BUSY](rescode.html#busy)
    error occurs in the middle of an explicit transaction and that transaction is
    later committed. Ticket #2409.'
  id: totrans-2319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复一个bug，如果在显式事务的中间发生[SQLITE_BUSY](rescode.html#busy)错误，并且稍后提交了该事务，可能导致数据库损坏。Ticket
    #2409。'
- en: 'Fix a bug that can lead to database corruption if autovacuum mode is on and
    a malloc() failure follows a CREATE TABLE or CREATE INDEX statement which itself
    follows a cache overflow inside a transaction. See ticket #2418.'
  id: totrans-2320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复一个bug，如果自动VACUUM模式打开，并且在事务中的缓存溢出之后的CREATE TABLE或CREATE INDEX语句遭遇malloc()失败，可能导致数据库损坏。参见ticket
    #2418。'
- en: Added explicit [upper bounds](limits.html) on the sizes and quantities of things
    SQLite can process. This change might cause compatibility problems for applications
    that use SQLite in the extreme, which is why the current release is 3.4.0 instead
    of 3.3.18.
  id: totrans-2321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 明确添加了 SQLite 可处理的大小和数量上限，详见 [上限页面](limits.html)。这一变更可能会对极端使用 SQLite 的应用程序造成兼容性问题，这也是当前版本为
    3.4.0 而不是 3.3.18 的原因。
- en: Added support for [Incremental BLOB I/O](c3ref/blob_open.html).
  id: totrans-2322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [增量 BLOB I/O](c3ref/blob_open.html) 的支持。
- en: Added the [sqlite3_bind_zeroblob()](c3ref/bind_blob.html) API and the [zeroblob()](lang_corefunc.html#zeroblob)
    SQL function.
  id: totrans-2323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [sqlite3_bind_zeroblob()](c3ref/bind_blob.html) API 和 [zeroblob()](lang_corefunc.html#zeroblob)
    SQL 函数。
- en: Added support for [Incremental Vacuum](pragma.html#pragma_incremental_vacuum).
  id: totrans-2324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [增量 VACUUM](pragma.html#pragma_incremental_vacuum) 的支持。
- en: Added the SQLITE_MIXED_ENDIAN_64BIT_FLOAT compile-time option to support ARM7
    processors with goofy endianness.
  id: totrans-2325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 SQLITE_MIXED_ENDIAN_64BIT_FLOAT 编译时选项，以支持具有特殊字节顺序的 ARM7 处理器。
- en: Removed all instances of sprintf() and strcpy() from the core library.
  id: totrans-2326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从核心库中移除了所有 sprintf() 和 strcpy() 的实例。
- en: Added support for [International Components for Unicode (ICU)](https://icu.unicode.org)
    to the full-text search extensions.
  id: totrans-2327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 [Unicode 国际组件 (ICU)](https://icu.unicode.org) 在全文搜索扩展中的支持。
- en: 'In the Windows OS driver, reacquire a SHARED lock if an attempt to acquire
    an EXCLUSIVE lock fails. Ticket #2354'
  id: totrans-2328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在 Windows 操作系统驱动程序中，如果尝试获取排他锁失败，则重新获取共享锁。票号 #2354。'
- en: 'Fix the REPLACE() function so that it returns NULL if the second argument is
    an empty string. Ticket #2324.'
  id: totrans-2329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复 REPLACE() 函数，使其在第二个参数为空字符串时返回 NULL。票号 #2324。'
- en: 'Document the hazards of type conversions in [sqlite3_column_blob()](c3ref/column_blob.html)
    and related APIs. Fix unnecessary type conversions. Ticket #2321.'
  id: totrans-2330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在 [sqlite3_column_blob()](c3ref/column_blob.html) 和相关 API 中，记录类型转换的危险，并修复不必要的类型转换。票号
    #2321。'
- en: 'Internationalization of the TRIM() function. Ticket #2323'
  id: totrans-2331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '对 TRIM() 函数进行国际化。票号 #2323。'
- en: 'Use memmove() instead of memcpy() when moving between memory regions that might
    overlap. Ticket #2334'
  id: totrans-2332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在移动可能重叠的内存区域之间时，使用 memmove() 而不是 memcpy()。票号 #2334。'
- en: 'Fix an optimizer bug involving subqueries in a compound SELECT that has both
    an ORDER BY and a LIMIT clause. Ticket #2339.'
  id: totrans-2333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复涉及子查询的优化器 bug，在同时具有 ORDER BY 和 LIMIT 子句的复合 SELECT 中。票号 #2339。'
- en: 'Make sure the [sqlite3_snprintf()](c3ref/mprintf.html) interface does not zero-terminate
    the buffer if the buffer size is less than 1\. Ticket #2341'
  id: totrans-2334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '确保 [sqlite3_snprintf()](c3ref/mprintf.html) 接口在缓冲区大小小于 1 时不会对缓冲区进行零终止。票号 #2341。'
- en: 'Fix the built-in printf logic so that it prints "NaN" not "Inf" for floating-point
    NaNs. Ticket #2345'
  id: totrans-2335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复内置的 printf 逻辑，使其在打印浮点 NaN 时输出 "NaN" 而不是 "Inf"。票号 #2345。'
- en: 'When converting BLOB to TEXT, use the text encoding of the main database. Ticket
    #2349'
  id: totrans-2336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在将 BLOB 转换为 TEXT 时，使用主数据库的文本编码。票号 #2349。'
- en: 'Keep the full precision of integers (if possible) when casting to NUMERIC.
    Ticket #2364'
  id: totrans-2337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在将整数转换为 NUMERIC 时，尽量保留完整精度。票号 #2364。'
- en: Fix a bug in the handling of UTF16 codepoint 0xE000
  id: totrans-2338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了对 UTF16 代码点 0xE000 处理的 bug。
- en: 'Consider explicit collate clauses when matching WHERE constraints to indices
    in the query optimizer. Ticket #2391'
  id: totrans-2339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在查询优化器中匹配WHERE约束与索引时，考虑显式的collate子句。Ticket #2391'
- en: 'Fix the query optimizer to correctly handle constant expressions in the ON
    clause of a LEFT JOIN. Ticket #2403'
  id: totrans-2340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复查询优化器，以正确处理左连接的ON子句中的常量表达式。Ticket #2403'
- en: 'Fix the query optimizer to handle rowid comparisons to NULL correctly. Ticket
    #2404'
  id: totrans-2341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复查询优化器，以正确处理rowid与NULL的比较。Ticket #2404'
- en: Fix many potential segfaults that could be caused by malicious SQL statements.
  id: totrans-2342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复可能由恶意SQL语句引起的许多潜在段错误。
- en: 2007-04-25 (3.3.17)
  id: totrans-2343
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-04-25 (3.3.17)
- en: When the "write_version" value of the database header is larger than what the
    library understands, make the database read-only instead of unreadable.
  id: totrans-2344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当数据库头的"write_version"值大于库理解的值时，将数据库设置为只读，而不是不可读。
- en: Other minor bug fixes
  id: totrans-2345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要bug修复
- en: 2007-04-18 (3.3.16)
  id: totrans-2346
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-04-18 (3.3.16)
- en: Fix a bug that caused VACUUM to fail if NULLs appeared in a UNIQUE column.
  id: totrans-2347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个导致在UNIQUE列中出现NULL时导致VACUUM失败的错误。
- en: Reinstate performance improvements that were added in [Version 3.3.14](#version_3_3_14)
    but regressed in [Version 3.3.15](#version_3_3_15).
  id: totrans-2348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 恢复在[Version 3.3.14](#version_3_3_14)中添加的性能改进，但在[Version 3.3.15](#version_3_3_15)中退化的部分。
- en: Fix problems with the handling of ORDER BY expressions on compound SELECT statements
    in subqueries.
  id: totrans-2349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在子查询中处理ORDER BY表达式在复合SELECT语句中的问题。
- en: Fix a potential segfault when destroying locks on WinCE in a multi-threaded
    environment.
  id: totrans-2350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在多线程环境中销毁WinCE上锁时可能导致的潜在段错误。
- en: Documentation updates.
  id: totrans-2351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档更新。
- en: 2007-04-09 (3.3.15)
  id: totrans-2352
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-04-09 (3.3.15)
- en: Fix a bug introduced in 3.3.14 that caused a rollback of CREATE TEMP TABLE to
    leave the database connection wedged.
  id: totrans-2353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在3.3.14中引入的一个bug，导致CREATE TEMP TABLE回滚时使数据库连接卡住。
- en: Fix a bug that caused an extra NULL row to be returned when a descending query
    was interrupted by a change to the database.
  id: totrans-2354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个导致在降序查询被数据库更改中断时返回额外NULL行的bug。
- en: The FOR EACH STATEMENT clause on a trigger now causes a syntax error. It used
    to be silently ignored.
  id: totrans-2355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 触发器上的FOR EACH STATEMENT子句现在会导致语法错误。以前会被静默忽略。
- en: Fix an obscure and relatively harmless problem that might have caused a resource
    leak following an I/O error.
  id: totrans-2356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个微不足道且相对无害的问题，可能会在I/O错误后导致资源泄漏。
- en: Many improvements to the test suite. Test coverage now exceeded 98%
  id: totrans-2357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对测试套件进行了许多改进。测试覆盖率现在超过了98%
- en: 2007-04-02 (3.3.14)
  id: totrans-2358
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-04-02 (3.3.14)
- en: 'Fix a bug (ticket #2273) that could cause a segfault when the IN operator is
    used one term of a two-column index and the right-hand side of the IN operator
    contains a NULL.'
  id: totrans-2359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '修复一个bug（ticket #2273），当IN运算符用于两列索引的一个术语时，右边的IN运算符包含NULL时可能导致段错误。'
- en: 'Added a new OS interface method for determining the sector size of underlying
    media: sqlite3OsSectorSize().'
  id: totrans-2360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个用于确定底层介质扇区大小的新OS接口方法：sqlite3OsSectorSize()。
- en: A new algorithm for statements of the form INSERT INTO *table1* SELECT * FROM
    *table2* is faster and reduces fragmentation. VACUUM uses statements of this form
    and thus runs faster and defragments better.
  id: totrans-2361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一种针对形如 INSERT INTO *table1* SELECT * FROM *table2* 的语句的新算法更快且减少了碎片化。VACUUM 使用这种形式的语句，因此运行更快且碎片化更少。
- en: 'Performance enhancements through reductions in disk I/O:'
  id: totrans-2362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过减少磁盘 I/O 实现的性能增强：
- en: Do not read the last page of an overflow chain when deleting the row - just
    add that page to the freelist.
  id: totrans-2363
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在删除行时不要读取溢出链的最后一页 - 只需将该页添加到空闲列表。
- en: Do not store pages being deleted in the rollback journal.
  id: totrans-2364
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不要将正在删除的页面存储在回滚日志中。
- en: Do not read in the (meaningless) content of pages extracted from the freelist.
  id: totrans-2365
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不要读取从空闲列表提取的页面的（无意义的）内容。
- en: Do not flush the page cache (and thus avoiding a cache refill) unless another
    process changes the underlying database file.
  id: totrans-2366
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除非另一个进程更改了底层数据库文件，否则不要刷新页缓存（从而避免缓存重新填充）。
- en: Truncate rather than delete the rollback journal when committing a transaction
    in exclusive access mode, or when committing the TEMP database.
  id: totrans-2367
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在排他访问模式下提交事务或提交 TEMP 数据库时，截断而不是删除回滚日志。
- en: Added support for exclusive access mode using ["PRAGMA locking_mode=EXCLUSIVE"](pragma.html#pragma_locking_mode)
  id: totrans-2368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了使用 ["PRAGMA locking_mode=EXCLUSIVE"](pragma.html#pragma_locking_mode) 支持独占访问模式的功能。
- en: Use heap space instead of stack space for large buffers in the pager - useful
    on embedded platforms with stack-space limitations.
  id: totrans-2369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在嵌入式平台上具有堆栈空间限制时，使用堆空间而不是栈空间来存储大缓冲区在页中 - 这非常有用。
- en: Add a makefile target "sqlite3.c" that builds an amalgamation containing the
    core SQLite library C code in a single file.
  id: totrans-2370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个名为 "sqlite3.c" 的 makefile 目标，用于构建包含核心 SQLite 库 C 代码的单个文件的合并文件。
- en: Get the library working correctly when compiled with GCC option "-fstrict-aliasing".
  id: totrans-2371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 GCC 选项“-fstrict-aliasing”编译时，确保库正常工作。
- en: Removed the vestigal SQLITE_PROTOCOL error.
  id: totrans-2372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了残留的 SQLITE_PROTOCOL 错误。
- en: Improvements to test coverage, other minor bugs fixed, memory leaks plugged,
    code refactored and/or recommended in places for easier reading.
  id: totrans-2373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提高了测试覆盖率，修复了其他一些小错误，修补了内存泄漏，重构了代码并/或建议在某些地方进行更轻松的阅读。
- en: 2007-02-13 (3.3.13)
  id: totrans-2374
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-02-13 (3.3.13)
- en: Add a "fragmentation" measurement in the output of sqlite3_analyzer.
  id: totrans-2375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 sqlite3_analyzer 输出中添加“碎片化”测量。
- en: Add the COLLATE operator used to explicitly set the collating sequence used
    by an expression. This feature is considered experimental pending additional testing.
  id: totrans-2376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加 COLLATE 操作符，用于显式设置表达式使用的排序顺序。此功能在额外测试后被视为实验性功能。
- en: Allow up to 64 tables in a join - the old limit was 32.
  id: totrans-2377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在联接中最多使用 64 个表 - 旧的限制是 32。
- en: 'Added two new experimental functions: [randomblob()](lang_corefunc.html#randomblob)
    and [hex()](lang_corefunc.html#hex). Their intended use is to facilitate generating
    [UUIDs](http://en.wikipedia.org/wiki/UUID).'
  id: totrans-2378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了两个新的实验性函数：[randomblob()](lang_corefunc.html#randomblob) 和 [hex()](lang_corefunc.html#hex)。它们的预期用途是帮助生成
    [UUIDs](http://en.wikipedia.org/wiki/UUID)。
- en: Fix a problem where [PRAGMA count_changes](pragma.html#pragma_count_changes)
    was causing incorrect results for updates on tables with triggers
  id: totrans-2379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了[PRAGMA count_changes](pragma.html#pragma_count_changes) 导致在具有触发器的表上更新时产生不正确结果的问题。
- en: Fix a bug in the ORDER BY clause optimizer for joins where the left-most table
    in the join is constrained by a UNIQUE index.
  id: totrans-2380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在具有唯一索引约束的连接中，ORDER BY 子句优化器中的一个bug。
- en: Fixed a bug in the "copy" method of the TCL interface.
  id: totrans-2381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了TCL接口的"copy"方法中的一个bug。
- en: Bug fixes in fts1 and fts2 modules.
  id: totrans-2382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在fts1和fts2模块中修复了bug。
- en: 2007-01-27 (3.3.12)
  id: totrans-2383
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-01-27 (3.3.12)
- en: Fix another bug in the IS NULL optimization that was added in version 3.3.9.
  id: totrans-2384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在版本3.3.9中添加的IS NULL优化中的另一个 bug。
- en: Fix an assertion fault that occurred on deeply nested views.
  id: totrans-2385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在深度嵌套视图中发生的断言错误。
- en: Limit the amount of output that [PRAGMA integrity_check](pragma.html#pragma_integrity_check)
    generates.
  id: totrans-2386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 限制了[PRAGMA integrity_check](pragma.html#pragma_integrity_check) 生成的输出量。
- en: Minor syntactic changes to support a wider variety of compilers.
  id: totrans-2387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对语法进行了轻微的更改，以支持更广泛的编译器。
- en: 2007-01-22 (3.3.11)
  id: totrans-2388
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-01-22 (3.3.11)
- en: Fix another bug in the implementation of the new [sqlite3_prepare_v2()](c3ref/prepare.html)
    API. We'll get it right eventually...
  id: totrans-2389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的[sqlite3_prepare_v2()](c3ref/prepare.html) API实现中的另一个 bug。我们最终会搞定它的……
- en: Fix a bug in the IS NULL optimization that was added in version 3.3.9 - the
    bug was causing incorrect results on certain LEFT JOINs that included in the WHERE
    clause an IS NULL constraint for the right table of the LEFT JOIN.
  id: totrans-2390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在版本3.3.9中添加的IS NULL优化中的另一个bug - 此bug导致包含在LEFT JOIN的WHERE子句中，对左连接的右表进行IS NULL约束时产生不正确的结果。
- en: Make AreFileApisANSI() a no-op macro in WinCE since WinCE does not support this
    function.
  id: totrans-2391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在WinCE中，将AreFileApisANSI()设置为无操作宏，因为WinCE不支持此函数。
- en: 2007-01-09 (3.3.10)
  id: totrans-2392
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-01-09 (3.3.10)
- en: Fix bugs in the implementation of the new [sqlite3_prepare_v2()](c3ref/prepare.html)
    API that can lead to segfaults.
  id: totrans-2393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的[sqlite3_prepare_v2()](c3ref/prepare.html) API实现中可能导致段错误的bug。
- en: Fix 1-second round-off errors in the strftime() function
  id: totrans-2394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了strftime()函数中的1秒钟舍入误差。
- en: Enhance the Windows OS layer to provide detailed error codes
  id: totrans-2395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了Windows操作系统层，提供详细的错误代码。
- en: Work around a win2k problem so that SQLite can use single-character database
    file names
  id: totrans-2396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了一个Win2k的问题，使得SQLite可以使用单字符数据库文件名。
- en: The [user_version](pragma.html#pragma_user_version) and [schema_version](pragma.html#pragma_schema_version)
    pragmas correctly set their column names in the result set
  id: totrans-2397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[user_version](pragma.html#pragma_user_version) 和 [schema_version](pragma.html#pragma_schema_version)
    pragmas 现在在结果集中正确设置其列名。'
- en: Documentation updates
  id: totrans-2398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了文档
- en: 2007-01-04 (3.3.9)
  id: totrans-2399
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2007-01-04 (3.3.9)
- en: Fix bugs in pager.c that could lead to database corruption if two processes
    both try to recover a hot journal at the same instant
  id: totrans-2400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了pager.c中的bug，如果两个进程同时尝试恢复热日志，可能会导致数据库损坏。
- en: Added the [sqlite3_prepare_v2()](c3ref/prepare.html) API.
  id: totrans-2401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了[sqlite3_prepare_v2()](c3ref/prepare.html) API。
- en: Fixed the ".dump" command in the command-line shell to show indices, triggers
    and views again.
  id: totrans-2402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了命令行shell中".dump"命令，以再次显示索引、触发器和视图。
- en: Change the table_info pragma so that it returns NULL for the default value if
    there is no default value
  id: totrans-2403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 table_info pragma，如果没有默认值则返回 NULL。
- en: Support for non-ASCII characters in win95 filenames
  id: totrans-2404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持在 win95 文件名中使用非 ASCII 字符。
- en: 'Query optimizer enhancements:'
  id: totrans-2405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询优化器增强：
- en: Optimizer does a better job of using indices to satisfy ORDER BY clauses that
    sort on the integer primary key
  id: totrans-2406
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化器更好地使用索引满足基于整数主键排序的 ORDER BY 子句。
- en: Use an index to satisfy an IS NULL operator in the WHERE clause
  id: totrans-2407
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用索引满足 WHERE 子句中的 IS NULL 操作符。
- en: Fix a bug that was causing the optimizer to miss an OR optimization opportunity
  id: totrans-2408
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个导致优化器错过 OR 优化机会的 bug。
- en: The optimizer has more freedom to reorder tables in the FROM clause even in
    there are LEFT joins.
  id: totrans-2409
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化器在 FROM 子句中即使存在 LEFT JOIN，也有更多重排表的自由度。
- en: Extension loading supported added to WinCE
  id: totrans-2410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 WinCE 的扩展加载支持。
- en: Allow constraint names on the DEFAULT clause in a table definition
  id: totrans-2411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在表定义的 DEFAULT 子句中使用约束名。
- en: Added the ".bail" command to the command-line shell
  id: totrans-2412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了“.bail”命令到命令行 shell。
- en: Make CSV (comma separate value) output from the command-line shell more closely
    aligned to accepted practice
  id: totrans-2413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使命令行 shell 输出的 CSV（逗号分隔值）更符合通用实践。
- en: Experimental FTS2 module added
  id: totrans-2414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的 FTS2 模块。
- en: Use sqlite3_mprintf() instead of strdup() to avoid libc dependencies
  id: totrans-2415
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 sqlite3_mprintf() 替代 strdup()，以避免对 libc 的依赖。
- en: VACUUM uses a temporary file in the official TEMP folder, not in the same directory
    as the original database
  id: totrans-2416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: VACUUM 使用官方 TEMP 文件夹中的临时文件，而不是与原始数据库相同的目录。
- en: The prefix on temporary filenames on Windows is changed from "sqlite" to "etilqs".
  id: totrans-2417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows 上临时文件名前缀从“sqlite”更改为“etilqs”。
- en: 2006-10-09 (3.3.8)
  id: totrans-2418
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-10-09（3.3.8）
- en: Support for full text search using the FTS1 module (beta)
  id: totrans-2419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持使用 FTS1 模块进行全文搜索。
- en: Added Mac OS X locking patches (beta - disabled by default)
  id: totrans-2420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 Mac OS X 锁定补丁（beta - 默认禁用）。
- en: Introduce extended error codes and add error codes for various kinds of I/O
    errors.
  id: totrans-2421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 引入扩展错误代码并添加各种类型的 I/O 错误代码。
- en: Added support for IF EXISTS on CREATE/DROP TRIGGER/VIEW
  id: totrans-2422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对 CREATE/DROP TRIGGER/VIEW 的 IF EXISTS 支持。
- en: Fix the regression test suite so that it works with Tcl8.5
  id: totrans-2423
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了回归测试套件，使其与 Tcl8.5 兼容。
- en: Enhance sqlite3_set_authorizer() to provide notification of calls to SQL functions.
  id: totrans-2424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 sqlite3_set_authorizer() 以提供对 SQL 函数调用的通知。
- en: 'Added experimental API: sqlite3_auto_extension()'
  id: totrans-2425
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性 API：sqlite3_auto_extension()。
- en: Various minor bug fixes
  id: totrans-2426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种次要 bug 修复。
- en: 2006-08-12 (3.3.7)
  id: totrans-2427
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-08-12（3.3.7）
- en: Added support for virtual tables (beta)
  id: totrans-2428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对虚拟表的支持（beta 版）。
- en: Added support for dynamically loaded extensions (beta)
  id: totrans-2429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对动态加载扩展的支持（beta 版）。
- en: The [sqlite3_interrupt()](c3ref/interrupt.html) routine can be called for a
    different thread
  id: totrans-2430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[sqlite3_interrupt()](c3ref/interrupt.html) 例程可以为不同线程调用。'
- en: Added the [MATCH](lang_expr.html#match) operator.
  id: totrans-2431
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 [MATCH](lang_expr.html#match) 操作符。
- en: The default file format is now 1.
  id: totrans-2432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认文件格式现在是 1。
- en: 2006-06-06 (3.3.6)
  id: totrans-2433
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-06-06（3.3.6）
- en: Plays better with virus scanners on Windows
  id: totrans-2434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Windows 上与病毒扫描程序更兼容。
- en: 'Faster :memory: databases'
  id: totrans-2435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '更快的 :memory: 数据库。'
- en: Fix an obscure segfault in UTF-8 to UTF-16 conversions
  id: totrans-2436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 UTF-8 到 UTF-16 转换中的一个难以察觉的段错误。
- en: Added driver for OS/2
  id: totrans-2437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 OS/2 的驱动程序。
- en: Correct column meta-information returned for aggregate queries
  id: totrans-2438
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于聚合查询，正确返回列的元信息。
- en: Enhanced output from EXPLAIN QUERY PLAN
  id: totrans-2439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了 EXPLAIN QUERY PLAN 的输出。
- en: LIMIT 0 now works on subqueries
  id: totrans-2440
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在子查询中可以使用 LIMIT 0。
- en: Bug fixes and performance enhancements in the query optimizer
  id: totrans-2441
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询优化器中的错误修复和性能增强。
- en: Correctly handle NULL filenames in ATTACH and DETACH
  id: totrans-2442
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正确处理 ATTACH 和 DETACH 中的空文件名。
- en: Improved syntax error messages in the parser
  id: totrans-2443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了解析器中的语法错误消息。
- en: Fix type coercion rules for the IN operator
  id: totrans-2444
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 IN 运算符的类型强制规则。
- en: 2006-04-05 (3.3.5)
  id: totrans-2445
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-04-05 (3.3.5)
- en: CHECK constraints use conflict resolution algorithms correctly.
  id: totrans-2446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CHECK 约束正确使用冲突解决算法。
- en: The SUM() function throws an error on integer overflow.
  id: totrans-2447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SUM() 函数在整数溢出时抛出错误。
- en: Choose the column names in a compound query from the left-most SELECT instead
    of the right-most.
  id: totrans-2448
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在复合查询中选择列名时应从最左边的 SELECT 开始而不是最右边。
- en: The sqlite3_create_collation() function honors the SQLITE_UTF16_ALIGNED flag.
  id: totrans-2449
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3_create_collation() 函数支持 SQLITE_UTF16_ALIGNED 标志。
- en: SQLITE_SECURE_DELETE compile-time option causes deletes to overwrite old data
    with zeros.
  id: totrans-2450
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLITE_SECURE_DELETE 编译时选项使删除操作用零覆盖旧数据。
- en: Detect integer overflow in abs().
  id: totrans-2451
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检测 abs() 中的整数溢出。
- en: The random() function provides 64 bits of randomness instead of only 32 bits.
  id: totrans-2452
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: random() 函数提供了 64 位的随机性而不仅仅是 32 位。
- en: Parser detects and reports automaton stack overflow.
  id: totrans-2453
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析器检测并报告自动机栈溢出。
- en: Change the round() function to return REAL instead of TEXT.
  id: totrans-2454
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 round() 函数返回 REAL 而不是 TEXT。
- en: Allow WHERE clause terms on the left table of a LEFT OUTER JOIN to contain aggregate
    subqueries.
  id: totrans-2455
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许 LEFT OUTER JOIN 的左表中包含聚合子查询的 WHERE 子句项。
- en: Skip over leading spaces in text to numeric conversions.
  id: totrans-2456
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本到数值转换中跳过前导空格。
- en: Various minor bug and documentation typo fixes and performance enhancements.
  id: totrans-2457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种小错误和文档拼写修正以及性能增强。
- en: 2006-02-11 (3.3.4)
  id: totrans-2458
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-02-11 (3.3.4)
- en: Fix a blunder in the Unix mutex implementation that can lead to deadlock on
    multithreaded systems.
  id: totrans-2459
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 Unix 互斥锁实现中的错误，这可能导致多线程系统中的死锁。
- en: Fix an alignment problem on 64-bit machines
  id: totrans-2460
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 64 位机器上的对齐问题。
- en: Added the fullfsync pragma.
  id: totrans-2461
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 fullfsync pragma。
- en: Fix an optimizer bug that could have caused some unusual LEFT OUTER JOINs to
    give incorrect results.
  id: totrans-2462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个优化器 bug，可能导致一些不寻常的 LEFT OUTER JOIN 出现错误结果。
- en: The SUM function detects integer overflow and converts to accumulating an approximate
    result using floating point numbers
  id: totrans-2463
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SUM 函数检测整数溢出并转换为使用浮点数累积近似结果。
- en: Host parameter names can begin with '@' for compatibility with SQL Server.
  id: totrans-2464
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 主机参数名称可以以 '@' 开头，以兼容 SQL Server。
- en: Other miscellaneous bug fixes
  id: totrans-2465
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他杂项 bug 修复。
- en: 2006-01-31 (3.3.3)
  id: totrans-2466
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-01-31 (3.3.3)
- en: Removed support for an ON CONFLICT clause on CREATE INDEX - it never worked
    correctly so this should not present any backward compatibility problems.
  id: totrans-2467
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除了在创建索引时 ON CONFLICT 子句的支持 - 它从未正确工作过，因此不应该造成任何向后兼容性问题。
- en: Authorizer callback now notified of ALTER TABLE ADD COLUMN commands
  id: totrans-2468
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在通知授权回调 ALTER TABLE ADD COLUMN 命令
- en: After any changes to the TEMP database schema, all prepared statements are invalidated
    and must be recreated using a new call to sqlite3_prepare()
  id: totrans-2469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 TEMP 数据库模式进行任何更改后，所有预备语句都无效，并且必须使用新的 sqlite3_prepare() 调用重新创建。
- en: Other minor bug fixes in preparation for the first stable release of version
    3.3
  id: totrans-2470
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为版本 3.3 的首个稳定发布做准备的其他次要 bug 修复
- en: 2006-01-24 (3.3.2 beta)
  id: totrans-2471
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-01-24（3.3.2 beta）
- en: Bug fixes and speed improvements. Improved test coverage.
  id: totrans-2472
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: bug 修复和速度改进。改进的测试覆盖率。
- en: 'Changes to the OS-layer interface: mutexes must now be recursive.'
  id: totrans-2473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: OS 层面接口的变更：现在互斥锁必须是递归的。
- en: Discontinue the use of thread-specific data for out-of-memory exception handling
  id: totrans-2474
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 停止使用线程特定数据处理内存不足异常
- en: 2006-01-16 (3.3.1 alpha)
  id: totrans-2475
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-01-16（3.3.1 alpha）
- en: Countless bug fixes
  id: totrans-2476
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无数 bug 修复
- en: Speed improvements
  id: totrans-2477
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 速度改进
- en: Database connections can now be used by multiple threads, not just the thread
    in which they were created.
  id: totrans-2478
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在数据库连接可以被多个线程使用，而不仅限于它们创建时所在的线程。
- en: 2006-01-11 (3.3.0 alpha)
  id: totrans-2479
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2006-01-11（3.3.0 alpha）
- en: CHECK constraints
  id: totrans-2480
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CHECK 约束
- en: IF EXISTS and IF NOT EXISTS clauses on CREATE/DROP TABLE/INDEX.
  id: totrans-2481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 CREATE/DROP TABLE/INDEX 上的 IF EXISTS 和 IF NOT EXISTS 子句。
- en: DESC indices
  id: totrans-2482
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: DESC 索引
- en: More efficient encoding of boolean values resulting in smaller database files
  id: totrans-2483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更有效地编码布尔值，从而使数据库文件更小
- en: More aggressive [SQLITE_OMIT_FLOATING_POINT](compile.html#omit_floating_point)
  id: totrans-2484
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更积极地使用 [SQLITE_OMIT_FLOATING_POINT](compile.html#omit_floating_point)
- en: Separate INTEGER and REAL affinity
  id: totrans-2485
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分离 INTEGER 和 REAL 的亲和性
- en: Added a virtual function layer for the OS interface
  id: totrans-2486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 OS 接口增加了一个虚拟函数层
- en: '"exists" method added to the TCL interface'
  id: totrans-2487
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 TCL 接口中添加了 "exists" 方法
- en: Improved response to out-of-memory errors
  id: totrans-2488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了对内存不足错误的响应
- en: Database cache can be optionally shared between connections in the same thread
  id: totrans-2489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据库缓存可以选择在同一线程的连接之间共享
- en: Optional READ UNCOMMITTED isolation (instead of the default isolation level
    of SERIALIZABLE) and table level locking when database connections share a common
    cache.
  id: totrans-2490
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可选的 READ UNCOMMITTED 隔离级别（而非默认的 SERIALIZABLE 隔离级别）以及当数据库连接共享一个公共缓存时的表级锁定。
- en: 2005-12-19 (3.2.8)
  id: totrans-2491
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-12-19（3.2.8）
- en: 'Fix an obscure bug that can cause database corruption under the following unusual
    circumstances: A large INSERT or UPDATE statement which is part of an even larger
    transaction fails due to a uniqueness constraint but the containing transaction
    commits.'
  id: totrans-2492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个隐晦的 bug，可能在以下不寻常的情况下导致数据库损坏：一个大的 INSERT 或 UPDATE 语句作为更大事务的一部分失败，因为唯一性约束，但包含的事务提交了。
- en: 2005-12-19 (2.8.17)
  id: totrans-2493
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-12-19（2.8.17）
- en: 'Fix an obscure bug that can cause database corruption under the following unusual
    circumstances: A large INSERT or UPDATE statement which is part of an even larger
    transaction fails due to a uniqueness contraint but the containing transaction
    commits.'
  id: totrans-2494
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个隐晦的 bug，可能在以下不寻常的情况下导致数据库损坏：一个大的 INSERT 或 UPDATE 语句作为更大事务的一部分失败，因为唯一性约束，但包含的事务提交了。
- en: 2005-09-24 (3.2.7)
  id: totrans-2495
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-09-24（3.2.7）
- en: GROUP BY now considers NULLs to be equal again, as it should
  id: totrans-2496
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GROUP BY 现在再次将 NULL 视为相等，正如应该的那样
- en: Now compiles on Solaris and OpenBSD and other Unix variants that lack the fdatasync()
    function
  id: totrans-2497
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在在 Solaris、OpenBSD 和其他不支持 fdatasync() 函数的 Unix 变体上编译
- en: Now compiles on MSVC++6 again
  id: totrans-2498
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在再次在 MSVC++6 上编译
- en: Fix uninitialized variables causing malfunctions for various obscure queries
  id: totrans-2499
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复未初始化变量导致各种复杂查询故障
- en: Correctly compute a LEFT OUTER JOINs that is constrained on the left table only
  id: totrans-2500
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正确计算仅在左表上约束的 LEFT OUTER JOIN
- en: 2005-09-17 (3.2.6)
  id: totrans-2501
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-09-17 (3.2.6)
- en: Fix a bug that can cause database corruption if a VACUUM (or autovacuum) fails
    and is rolled back on a database that is larger than 1GiB
  id: totrans-2502
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在数据库大于 1GiB 的情况下，如果 VACUUM（或自动 VACUUM）失败并回滚可能导致数据库损坏的 bug
- en: LIKE optimization now works for columns with COLLATE NOCASE
  id: totrans-2503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: LIKE 优化现在对 COLLATE NOCASE 的列起作用
- en: ORDER BY and GROUP BY now use bounded memory
  id: totrans-2504
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ORDER BY 和 GROUP BY 现在使用有界内存
- en: Added support for COUNT(DISTINCT expr)
  id: totrans-2505
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对 COUNT(DISTINCT expr) 的支持
- en: Change the way SUM() handles NULL values in order to comply with the SQL standard
  id: totrans-2506
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 SUM() 处理 NULL 值的方式，以符合 SQL 标准
- en: Use fdatasync() instead of fsync() where possible in order to speed up commits
    slightly
  id: totrans-2507
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在可能的情况下使用 fdatasync() 替代 fsync()，以加快提交速度
- en: Use of the CROSS keyword in a join turns off the table reordering optimization
  id: totrans-2508
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在联接中使用 CROSS 关键字会关闭表重新排序优化
- en: Added the experimental and undocumented EXPLAIN QUERY PLAN capability
  id: totrans-2509
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了实验性且未记录的 EXPLAIN QUERY PLAN 功能
- en: Use the unicode API in Windows
  id: totrans-2510
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Windows 中使用 Unicode API
- en: 2005-08-27 (3.2.5)
  id: totrans-2511
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-08-27 (3.2.5)
- en: Fix a bug effecting DELETE and UPDATE statements that changed more than 40960
    rows.
  id: totrans-2512
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 DELETE 和 UPDATE 语句影响超过 40960 行的 bug。
- en: Change the makefile so that it no longer requires GNUmake extensions
  id: totrans-2513
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 makefile，不再需要 GNUmake 扩展
- en: Fix the --enable-threadsafe option on the configure script
  id: totrans-2514
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 configure 脚本上 --enable-threadsafe 选项
- en: Fix a code generator bug that occurs when the left-hand side of an IN operator
    is constant and the right-hand side is a SELECT statement
  id: totrans-2515
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复代码生成器的 bug，当 IN 运算符的左侧是常量且右侧是 SELECT 语句时发生
- en: The PRAGMA synchronous=off statement now disables syncing of the master journal
    file in addition to the normal rollback journals
  id: totrans-2516
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: PRAGMA synchronous=off 语句现在不仅禁用主日志文件的同步，还禁用正常的回滚日志
- en: 2005-08-24 (3.2.4)
  id: totrans-2517
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-08-24 (3.2.4)
- en: Fix a bug introduced in the previous release that can cause a segfault while
    generating code for complex WHERE clauses.
  id: totrans-2518
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在前一个版本中引入的一个 bug，可能在生成复杂 WHERE 子句的代码时导致段错误。
- en: Allow floating point literals to begin or end with a decimal point.
  id: totrans-2519
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许浮点文字以小数点开始或结束。
- en: 2005-08-21 (3.2.3)
  id: totrans-2520
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-08-21 (3.2.3)
- en: Added support for the CAST operator
  id: totrans-2521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对 CAST 操作符的支持
- en: Tcl interface allows BLOB values to be transferred to user-defined functions
  id: totrans-2522
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Tcl 接口允许将 BLOB 值传递给用户定义的函数
- en: Added the "transaction" method to the Tcl interface
  id: totrans-2523
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Tcl 接口中添加了 "transaction" 方法
- en: Allow the DEFAULT value of a column to call functions that have constant operands
  id: totrans-2524
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许列的 DEFAULT 值调用具有常数操作数的函数
- en: Added the ANALYZE command for gathering statistics on indices and using those
    statistics when picking an index in the optimizer
  id: totrans-2525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 ANALYZE 命令，用于收集索引的统计信息，并在选择优化器中使用这些统计信息。
- en: Remove the limit (formerly 100) on the number of terms in the WHERE clause
  id: totrans-2526
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了 WHERE 子句中项数限制（以前为 100）。
- en: The right-hand side of the IN operator can now be a list of expressions instead
    of just a list of constants
  id: totrans-2527
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，IN 操作符的右侧可以是表达式列表，而不仅仅是常量列表。
- en: Rework the optimizer so that it is able to make better use of indices
  id: totrans-2528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重构了优化器，以便更好地利用索引。
- en: The order of tables in a join is adjusted automatically to make better use of
    indices
  id: totrans-2529
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整联接中表的顺序，自动优化以更好地利用索引。
- en: The IN operator is now a candidate for optimization even if the left-hand side
    is not the left-most term of the index. Multiple IN operators can be used with
    the same index.
  id: totrans-2530
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使左侧不是索引的最左项，现在 IN 操作符也是优化的候选项。可以在同一索引上使用多个 IN 操作符。
- en: WHERE clause expressions using BETWEEN and OR are now candidates for optimization
  id: totrans-2531
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 BETWEEN 和 OR 的 WHERE 子句表达式现在可以进行优化。
- en: Added the "case_sensitive_like" pragma and the SQLITE_CASE_SENSITIVE_LIKE compile-time
    option to set its default value to "on".
  id: totrans-2532
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 "case_sensitive_like" pragma 和 SQLITE_CASE_SENSITIVE_LIKE 编译时选项，将其默认值设置为
    "on"。
- en: Use indices to help with GLOB expressions and LIKE expressions too when the
    case_sensitive_like pragma is enabled
  id: totrans-2533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当启用 case_sensitive_like pragma 时，使用索引来辅助 GLOB 表达式和 LIKE 表达式。
- en: Added support for grave-accent quoting for compatibility with MySQL
  id: totrans-2534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了与 MySQL 兼容的重音引号引用支持。
- en: Improved test coverage
  id: totrans-2535
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提升了测试覆盖率。
- en: Dozens of minor bug fixes
  id: totrans-2536
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数十个小 bug 修复。
- en: 2005-06-12 (3.2.2)
  id: totrans-2537
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-06-12 (3.2.2)
- en: Added the sqlite3_db_handle() API
  id: totrans-2538
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 sqlite3_db_handle() API。
- en: Added the sqlite3_get_autocommit() API
  id: totrans-2539
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了 sqlite3_get_autocommit() API。
- en: Added a REGEXP operator to the parser. There is no function to back up this
    operator in the standard build but users can add their own using sqlite3_create_function()
  id: totrans-2540
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向解析器添加了 REGEXP 操作符。标准构建中没有支持此操作符的功能，但用户可以使用 sqlite3_create_function() 自行添加。
- en: Speed improvements and library footprint reductions.
  id: totrans-2541
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提升速度并减小库的占用空间。
- en: Fix byte alignment problems on 64-bit architectures.
  id: totrans-2542
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了 64 位架构上的字节对齐问题。
- en: Many, many minor bug fixes and documentation updates.
  id: totrans-2543
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 多处小 bug 修复和文档更新。
- en: 2005-03-29 (3.2.1)
  id: totrans-2544
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-03-29 (3.2.1)
- en: Fix a memory allocation error in the new ADD COLUMN comment.
  id: totrans-2545
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新 ADD COLUMN 注释中的内存分配错误。
- en: Documentation updates
  id: totrans-2546
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档更新。
- en: 2005-03-21 (3.2.0)
  id: totrans-2547
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-03-21 (3.2.0)
- en: Added support for ALTER TABLE ADD COLUMN.
  id: totrans-2548
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对 ALTER TABLE ADD COLUMN 的支持。
- en: Added support for the "T" separator in ISO-8601 date/time strings.
  id: totrans-2549
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加对 ISO-8601 日期/时间字符串中 "T" 分隔符的支持。
- en: Improved support for Cygwin.
  id: totrans-2550
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进对 Cygwin 的支持。
- en: Numerous bug fixes and documentation updates.
  id: totrans-2551
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大量 bug 修复和文档更新。
- en: 2005-03-17 (3.1.6)
  id: totrans-2552
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-03-17 (3.1.6)
- en: Fix a bug that could cause database corruption when inserting record into tables
    with around 125 columns.
  id: totrans-2553
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了向具有约 125 列的表插入记录时可能导致数据库损坏的 bug。
- en: sqlite3_step() is now much more likely to invoke the busy handler and less likely
    to return SQLITE_BUSY.
  id: totrans-2554
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3_step() 现在更有可能调用繁忙处理程序，并且更不太可能返回 SQLITE_BUSY。
- en: Fix memory leaks that used to occur after a malloc() failure.
  id: totrans-2555
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了以前在 malloc() 失败后可能发生的内存泄漏。
- en: 2005-03-11 (3.1.5)
  id: totrans-2556
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-03-11 (3.1.5)
- en: The ioctl on Mac OS X to control syncing to disk is F_FULLFSYNC, not F_FULLSYNC.
    The previous release had it wrong.
  id: totrans-2557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Mac OS X 上用于控制同步到磁盘的 ioctl 是 F_FULLFSYNC，而不是 F_FULLSYNC。上一个版本出错了。
- en: 2005-03-11 (3.1.4)
  id: totrans-2558
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-03-11 (3.1.4)
- en: Fix a bug in autovacuum that could cause database corruption if a CREATE UNIQUE
    INDEX fails because of a constraint violation. This problem only occurs if the
    new autovacuum feature introduced in version 3.1 is turned on.
  id: totrans-2559
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 autovacuum 中的一个 bug，如果由于约束违反而导致 CREATE UNIQUE INDEX 失败，可能会导致数据库损坏。此问题仅在打开了版本
    3.1 中引入的新 autovacuum 功能时才会出现。
- en: The F_FULLSYNC ioctl (currently only supported on Mac OS X) is disabled if the
    synchronous pragma is set to something other than "full".
  id: totrans-2560
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果 synchronous pragma 设置为非 "full"，则禁用 F_FULLSYNC ioctl（目前仅在 Mac OS X 上支持）。
- en: Add additional forward compatibility to the future version 3.2 database file
    format.
  id: totrans-2561
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向未来的 3.2 版本数据库文件格式增加了额外的前向兼容性。
- en: Fix a bug in WHERE clauses of the form (rowid<'2')
  id: totrans-2562
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 WHERE 子句中 (rowid<'2') 形式的一个 bug
- en: New [SQLITE_OMIT_...](compile.html#omitfeatures) compile-time options added
  id: totrans-2563
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了 [SQLITE_OMIT_...](compile.html#omitfeatures) 编译时选项
- en: Updates to the man page
  id: totrans-2564
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了手册页面
- en: Remove the use of strcasecmp() from the shell
  id: totrans-2565
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了 shell 中使用 strcasecmp() 的用法
- en: Windows DLL exports symbols Tclsqlite_Init and Sqlite_Init
  id: totrans-2566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows DLL 导出符号 Tclsqlite_Init 和 Sqlite_Init
- en: 2005-02-19 (3.1.3)
  id: totrans-2567
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-02-19 (3.1.3)
- en: Fix a problem with VACUUM on databases from which tables containing AUTOINCREMENT
    have been dropped.
  id: totrans-2568
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在删除包含 AUTOINCREMENT 表的表后对数据库进行 VACUUM 的问题。
- en: Add forward compatibility to the future version 3.2 database file format.
  id: totrans-2569
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向未来的 3.2 版本数据库文件格式增加了前向兼容性。
- en: Documentation updates
  id: totrans-2570
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档更新
- en: 2005-02-15 (3.1.2)
  id: totrans-2571
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-02-15 (3.1.2)
- en: Fix a bug that can lead to database corruption if there are two open connections
    to the same database and one connection does a VACUUM and the second makes some
    change to the database.
  id: totrans-2572
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个 bug，如果同一个数据库有两个打开的连接，一个连接执行了 VACUUM，另一个对数据库进行了一些更改，可能导致数据库损坏。
- en: Allow "?" parameters in the LIMIT clause.
  id: totrans-2573
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在 LIMIT 子句中使用 "?" 参数。
- en: Fix VACUUM so that it works with AUTOINCREMENT.
  id: totrans-2574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 VACUUM，使其与 AUTOINCREMENT 一起工作。
- en: Fix a race condition in AUTOVACUUM that can lead to corrupt databases
  id: totrans-2575
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 AUTOVACUUM 中的竞争条件，可能导致数据库损坏。
- en: Add a numeric version number to the sqlite3.h include file.
  id: totrans-2576
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 sqlite3.h 包含文件添加了数值版本号。
- en: Other minor bug fixes and performance enhancements.
  id: totrans-2577
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要 bug 修复和性能优化。
- en: 2005-02-15 (2.8.16)
  id: totrans-2578
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-02-15 (2.8.16)
- en: Fix a bug that can lead to database corruption if there are two open connections
    to the same database and one connection does a VACUUM and the second makes some
    change to the database.
  id: totrans-2579
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个 bug，如果同一个数据库有两个打开的连接，一个连接执行了 VACUUM，另一个对数据库进行了一些更改，可能导致数据库损坏。
- en: Correctly handle quoted names in CREATE INDEX statements.
  id: totrans-2580
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正确处理在 CREATE INDEX 语句中的带引号名称。
- en: Fix a naming conflict between sqlite.h and sqlite3.h.
  id: totrans-2581
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了 sqlite.h 和 sqlite3.h 之间的命名冲突。
- en: Avoid excess heap usage when copying expressions.
  id: totrans-2582
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制表达式时避免过多的堆使用。
- en: Other minor bug fixes.
  id: totrans-2583
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要错误修复。
- en: 2005-02-01 (3.1.1 BETA)
  id: totrans-2584
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-02-01 (3.1.1 BETA)
- en: Automatic caching of prepared statements in the TCL interface
  id: totrans-2585
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 TCL 接口中自动缓存准备好的语句。
- en: ATTACH and DETACH as well as some other operations cause existing prepared statements
    to expire.
  id: totrans-2586
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ATTACH 和 DETACH 以及其他一些操作会导致现有的预处理语句过期。
- en: Numerous minor bug fixes
  id: totrans-2587
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大量次要错误修复。
- en: 2005-01-21 (3.1.0 ALPHA)
  id: totrans-2588
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2005-01-21 (3.1.0 ALPHA)
- en: Autovacuum support added
  id: totrans-2589
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了自动清理支持。
- en: CURRENT_TIME, CURRENT_DATE, and CURRENT_TIMESTAMP added
  id: totrans-2590
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 CURRENT_TIME、CURRENT_DATE 和 CURRENT_TIMESTAMP。
- en: Support for the EXISTS clause added.
  id: totrans-2591
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 EXISTS 子句的支持。
- en: Support for correlated subqueries added.
  id: totrans-2592
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对相关子查询的支持。
- en: Added the ESCAPE clause on the LIKE operator.
  id: totrans-2593
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 LIKE 操作符上添加了 ESCAPE 子句。
- en: Support for ALTER TABLE ... RENAME TABLE ... added
  id: totrans-2594
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对 ALTER TABLE ... RENAME TABLE ... 的支持。
- en: AUTOINCREMENT keyword supported on INTEGER PRIMARY KEY
  id: totrans-2595
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 INTEGER PRIMARY KEY 上支持 AUTOINCREMENT 关键字。
- en: Many SQLITE_OMIT_ macros inserts to omit features at compile-time and reduce
    the library footprint.
  id: totrans-2596
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多 SQLITE_OMIT_ 宏插入以在编译时省略功能并减少库占用空间。
- en: The REINDEX command was added.
  id: totrans-2597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 REINDEX 命令。
- en: The engine no longer consults the main table if it can get all the information
    it needs from an index.
  id: totrans-2598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 引擎如果能从索引获取所需的所有信息，则不再查询主表。
- en: Many nuisance bugs fixed.
  id: totrans-2599
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多讨厌的错误已修复。
- en: 2004-10-12 (3.0.8)
  id: totrans-2600
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-10-12 (3.0.8)
- en: Add support for DEFERRED, IMMEDIATE, and EXCLUSIVE transactions.
  id: totrans-2601
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对 DEFERRED、IMMEDIATE 和 EXCLUSIVE 事务的支持。
- en: Allow new user-defined functions to be created when there are already one or
    more precompiled SQL statements.
  id: totrans-2602
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在已有一个或多个预编译 SQL 语句的情况下创建新的用户定义函数。
- en: Fix portability problems for MinGW/MSYS.
  id: totrans-2603
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 MinGW/MSYS 解决了可移植性问题。
- en: Fix a byte alignment problem on 64-bit Sparc machines.
  id: totrans-2604
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 64 位 Sparc 机器上的字节对齐问题。
- en: Fix the ".import" command of the shell so that it ignores \r characters at the
    end of lines.
  id: totrans-2605
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 shell 的 ".import" 命令，使其忽略行尾的 \r 字符。
- en: The "csv" mode option in the shell puts strings inside double-quotes.
  id: totrans-2606
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: shell 中的 "csv" 模式选项将字符串放在双引号内。
- en: Fix typos in documentation.
  id: totrans-2607
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了文档中的拼写错误。
- en: Convert array constants in the code to have type "const".
  id: totrans-2608
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将代码中的数组常量转换为类型为 "const"。
- en: Numerous code optimizations, specially optimizations designed to make the code
    footprint smaller.
  id: totrans-2609
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大量代码优化，特别是旨在减小代码占用空间的优化。
- en: 2004-09-18 (3.0.7)
  id: totrans-2610
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-09-18 (3.0.7)
- en: The BTree module allocates large buffers using malloc() instead of off of the
    stack, in order to play better on machines with limited stack space.
  id: totrans-2611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: BTree 模块使用 malloc() 分配大缓冲区，而不是从堆栈中分配，以在堆栈空间有限的机器上运行更顺畅。
- en: Fixed naming conflicts so that versions 2.8 and 3.0 can be linked and used together
    in the same ANSI-C source file.
  id: totrans-2612
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解决了命名冲突，使得版本 2.8 和 3.0 可以在同一个 ANSI-C 源文件中链接和使用。
- en: 'New interface: sqlite3_bind_parameter_index()'
  id: totrans-2613
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新接口：sqlite3_bind_parameter_index()
- en: 'Add support for wildcard parameters of the form: "?nnn"'
  id: totrans-2614
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对形如 "?nnn" 的通配符参数的支持。
- en: Fix problems found on 64-bit systems.
  id: totrans-2615
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 64 位系统上发现的问题。
- en: Removed encode.c file (containing unused routines) from the version 3.0 source
    tree.
  id: totrans-2616
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从版本 3.0 中删除了 encode.c 文件（包含未使用的例程）。
- en: The sqlite3_trace() callbacks occur before each statement is executed, not when
    the statement is compiled.
  id: totrans-2617
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3_trace() 回调在每个语句执行之前发生，而不是在编译语句时发生。
- en: Makefile updates and miscellaneous bug fixes.
  id: totrans-2618
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Makefile 更新和杂项错误修复。
- en: 2004-09-02 (3.0.6 beta)
  id: totrans-2619
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-09-02（3.0.6 测试版）
- en: Better detection and handling of corrupt database files.
  id: totrans-2620
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更好地检测和处理损坏的数据库文件。
- en: The sqlite3_step() interface returns SQLITE_BUSY if it is unable to commit a
    change because of a lock
  id: totrans-2621
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite3_step() 接口在由于锁定无法提交更改时返回 SQLITE_BUSY。
- en: Combine the implementations of LIKE and GLOB into a single pattern-matching
    subroutine.
  id: totrans-2622
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 LIKE 和 GLOB 的实现合并为单一的模式匹配子程序。
- en: Miscellaneous code size optimizations and bug fixes
  id: totrans-2623
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 杂项代码大小优化和错误修复。
- en: 2004-08-29 (3.0.5 beta)
  id: totrans-2624
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-08-29（3.0.5 测试版）
- en: Support for ":AAA" style bind parameter names.
  id: totrans-2625
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持 ":AAA" 样式的绑定参数名。
- en: Added the new sqlite3_bind_parameter_name() interface.
  id: totrans-2626
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加新的 sqlite3_bind_parameter_name() 接口。
- en: Support for TCL variable names embedded in SQL statements in the TCL bindings.
  id: totrans-2627
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持在 TCL 绑定的 SQL 语句中嵌入 TCL 变量名。
- en: The TCL bindings transfer data without necessarily doing a conversion to a string.
  id: totrans-2628
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: TCL 绑定在传输数据时不一定需要进行字符串转换。
- en: The database for TEMP tables is not created until it is needed.
  id: totrans-2629
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: TEMP 表的数据库直到需要时才创建。
- en: Add the ability to specify an alternative temporary file directory using the
    "sqlite_temp_directory" global variable.
  id: totrans-2630
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了使用 "sqlite_temp_directory" 全局变量指定替代临时文件目录的功能。
- en: A compile-time option (SQLITE_BUSY_RESERVED_LOCK) causes the busy handler to
    be called when there is contention for a RESERVED lock.
  id: totrans-2631
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编译时选项（SQLITE_BUSY_RESERVED_LOCK）在争夺 RESERVED 锁时调用繁忙处理程序。
- en: Various bug fixes and optimizations
  id: totrans-2632
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种错误修复和优化。
- en: 2004-08-09 (3.0.4 beta)
  id: totrans-2633
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-08-09（3.0.4 测试版）
- en: CREATE TABLE and DROP TABLE now work correctly as prepared statements.
  id: totrans-2634
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CREATE TABLE 和 DROP TABLE 现在可以正确作为预处理语句执行。
- en: Fix a bug in VACUUM and UNIQUE indices.
  id: totrans-2635
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 VACUUM 和 UNIQUE 索引中的错误。
- en: Add the ".import" command to the command-line shell.
  id: totrans-2636
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行 shell 中添加 ".import" 命令。
- en: Fix a bug that could cause index corruption when an attempt to delete rows of
    a table is blocked by a pending query.
  id: totrans-2637
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复可能导致索引损坏的 bug，当尝试删除表的行被挂起查询阻止时。
- en: Library size optimizations.
  id: totrans-2638
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 库大小优化。
- en: Other minor bug fixes.
  id: totrans-2639
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他小错误修复。
- en: 2004-07-22 (2.8.15)
  id: totrans-2640
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-07-22（2.8.15）
- en: This is a maintenance release only. Various minor bugs have been fixed and some
    portability enhancements are added.
  id: totrans-2641
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这只是一个维护版本。修复了各种小错误并增强了可移植性。
- en: 2004-07-22 (3.0.3 beta)
  id: totrans-2642
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-07-22（3.0.3 测试版）
- en: The second beta release for SQLite 3.0.
  id: totrans-2643
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLite 3.0 的第二个测试版发布。
- en: Add support for "PRAGMA page_size" to adjust the page size of the database.
  id: totrans-2644
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加支持 "PRAGMA page_size" 来调整数据库的页面大小。
- en: Various bug fixes and documentation updates.
  id: totrans-2645
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种错误修复和文档更新。
- en: 2004-06-30 (3.0.2 beta)
  id: totrans-2646
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-06-30（3.0.2 测试版）
- en: The first beta release for SQLite 3.0.
  id: totrans-2647
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLite 3.0 的第一个测试版发布。
- en: 2004-06-22 (3.0.1 alpha)
  id: totrans-2648
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-06-22（3.0.1 alpha）
- en: '***** Alpha Release - Research And Testing Use Only *****'
  id: totrans-2649
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '***** Alpha Release - 仅供研究和测试使用 *****'
- en: Lots of bug fixes.
  id: totrans-2650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大量 bug 修复。
- en: 2004-06-18 (3.0.0 alpha)
  id: totrans-2651
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-06-18 (3.0.0 alpha)
- en: '***** Alpha Release - Research And Testing Use Only *****'
  id: totrans-2652
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '***** Alpha Release - 仅供研究和测试使用 *****'
- en: Support for internationalization including UTF-8, UTF-16, and user defined collating
    sequences.
  id: totrans-2653
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持包括 UTF-8、UTF-16 和用户定义排序序列在内的国际化。
- en: New file format that is 25% to 35% smaller for typical use.
  id: totrans-2654
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新的文件格式，对于典型用途大小缩小 25% 到 35%。
- en: Improved concurrency.
  id: totrans-2655
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进并发性能。
- en: Atomic commits for ATTACHed databases.
  id: totrans-2656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ATTACHed 数据库的原子提交。
- en: Remove cruft from the APIs.
  id: totrans-2657
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 清理 APIs 中的无用信息。
- en: BLOB support.
  id: totrans-2658
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持 BLOB。
- en: 64-bit rowids.
  id: totrans-2659
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持 64 位 rowid。
- en: '[More information](version3.html).'
  id: totrans-2660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[更多信息](version3.html)。'
- en: 2004-06-09 (2.8.14)
  id: totrans-2661
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-06-09 (2.8.14)
- en: Fix the min() and max() optimizer so that it works when the FROM clause consists
    of a subquery.
  id: totrans-2662
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 min() 和 max() 优化器，使其在 FROM 子句为子查询时正常工作。
- en: Ignore extra whitespace at the end of "." commands in the shell.
  id: totrans-2663
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 忽略 shell 中 "." 命令末尾的额外空白。
- en: Bundle sqlite_encode_binary() and sqlite_decode_binary() with the library.
  id: totrans-2664
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 sqlite_encode_binary() 和 sqlite_decode_binary() 与库捆绑。
- en: The TEMP_STORE and DEFAULT_TEMP_STORE pragmas now work.
  id: totrans-2665
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: TEMP_STORE 和 DEFAULT_TEMP_STORE pragma 现在起作用。
- en: Code changes to compile cleanly using OpenWatcom.
  id: totrans-2666
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改代码以在 OpenWatcom 中编译干净。
- en: Fix VDBE stack overflow problems with INSTEAD OF triggers and NULLs in IN operators.
  id: totrans-2667
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 INSTEAD OF 触发器和 IN 操作符中的 NULL 导致的 VDBE 栈溢出问题。
- en: Add the global variable sqlite_temp_directory which if set defines the directory
    in which temporary files are stored.
  id: totrans-2668
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加全局变量 sqlite_temp_directory，若设置，则定义临时文件存储目录。
- en: sqlite_interrupt() plays well with VACUUM.
  id: totrans-2669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite_interrupt() 与 VACUUM 协同工作。
- en: Other minor bug fixes.
  id: totrans-2670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要 bug 修复。
- en: 2004-03-08 (2.8.13)
  id: totrans-2671
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-03-08 (2.8.13)
- en: Refactor parts of the code in order to make the code footprint smaller. The
    code is now also a little bit faster.
  id: totrans-2672
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重构部分代码，以减小代码占用空间。现在代码也稍微更快。
- en: sqlite_exec() is now implemented as a wrapper around sqlite_compile() and sqlite_step().
  id: totrans-2673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: sqlite_exec() 现在作为 sqlite_compile() 和 sqlite_step() 的包装器实现。
- en: The built-in min() and max() functions now honor the difference between NUMERIC
    and TEXT datatypes. Formerly, min() and max() always assumed their arguments were
    of type NUMERIC.
  id: totrans-2674
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内置 min() 和 max() 函数现在遵守 NUMERIC 和 TEXT 数据类型之间的差异。以前，min() 和 max() 总是假定其参数为 NUMERIC
    类型。
- en: New HH:MM:SS modifier to the built-in date/time functions.
  id: totrans-2675
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 内置日期/时间函数新增 HH:MM:SS 修改器。
- en: Experimental sqlite_last_statement_changes() API added. Fixed the last_insert_rowid()
    function so that it works correctly with triggers.
  id: totrans-2676
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加实验性的 sqlite_last_statement_changes() API。修复 last_insert_rowid() 函数，以便在触发器中正确工作。
- en: Add functions prototypes for the database encryption API.
  id: totrans-2677
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为数据库加密 API 添加函数原型。
- en: Fix several nuisance bugs.
  id: totrans-2678
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复多个小问题。
- en: 2004-02-08 (2.8.12)
  id: totrans-2679
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-02-08 (2.8.12)
- en: Fix a bug that will might corrupt the rollback journal if a power failure or
    external program halt occurs in the middle of a COMMIT. The corrupt journal can
    lead to database corruption when it is rolled back.
  id: totrans-2680
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个bug，如果在COMMIT操作中断的中间发生了电源故障或外部程序停止，可能会损坏回滚日志。损坏的日志在回滚时可能导致数据库损坏。
- en: Reduce the size and increase the speed of various modules, especially the virtual
    machine.
  id: totrans-2681
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 减小了各种模块的大小并增加了速度，特别是虚拟机。
- en: Allow "<expr> IN <table>" as a shorthand for "<expr> IN (SELECT * FROM <table>".
  id: totrans-2682
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许"<expr> IN <table>"作为"<expr> IN (SELECT * FROM <table>)"的简写。
- en: Optimizations to the sqlite_mprintf() routine.
  id: totrans-2683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化了sqlite_mprintf()例程。
- en: Make sure the MIN() and MAX() optimizations work within subqueries.
  id: totrans-2684
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保MIN()和MAX()优化在子查询中正常工作。
- en: 2004-01-14 (2.8.11)
  id: totrans-2685
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-01-14 (2.8.11)
- en: Fix a bug in how the IN operator handles NULLs in subqueries. The bug was introduced
    by the previous release.
  id: totrans-2686
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了IN操作符在子查询中处理NULL的bug。该bug是上一个版本引入的。
- en: 2004-01-14 (2.8.10)
  id: totrans-2687
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-01-14 (2.8.10)
- en: Fix a potential database corruption problem on Unix caused by the fact that
    all POSIX advisory locks are cleared whenever you close() a file. The work around
    it to embargo all close() calls while locks are outstanding.
  id: totrans-2688
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了Unix平台上潜在的数据库损坏问题，原因是每次close()文件时，所有POSIX咨询锁都会被清除。解决方案是在锁定时禁止所有close()调用。
- en: Performance enhancements on some corner cases of COUNT(*).
  id: totrans-2689
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在某些COUNT(*)的边缘情况下进行了性能增强。
- en: Make sure the in-memory backend response sanely if malloc() fails.
  id: totrans-2690
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保内存后端在malloc()失败时能够合理响应。
- en: Allow sqlite_exec() to be called from within user-defined SQL functions.
  id: totrans-2691
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许从用户定义的SQL函数内部调用sqlite_exec()。
- en: Improved accuracy of floating-point conversions using "long double".
  id: totrans-2692
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用"long double"提高了浮点数转换的精度。
- en: Bug fixes in the experimental date/time functions.
  id: totrans-2693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在实验性日期/时间函数中修复了bug。
- en: 2004-01-06 (2.8.9)
  id: totrans-2694
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2004-01-06 (2.8.9)
- en: Fix a 32-bit integer overflow problem that could result in corrupt indices in
    a database if large negative numbers (less than -2147483648) were inserted into
    an indexed numeric column.
  id: totrans-2695
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了32位整数溢出问题，如果将大的负数（小于-2147483648）插入索引的数值列中，可能导致数据库索引损坏。
- en: Fix a locking problem on multi-threaded Linux implementations.
  id: totrans-2696
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了多线程Linux实现中的锁定问题。
- en: Always use "." instead of "," as the decimal point even if the locale requests
    ",".
  id: totrans-2697
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使区域设置请求","，也始终使用"."作为小数点。
- en: Added UTC to localtime conversions to the experimental date/time functions.
  id: totrans-2698
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向实验性日期/时间函数添加了UTC到本地时间的转换。
- en: Bug fixes to date/time functions.
  id: totrans-2699
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 日期/时间函数的bug修复。
- en: 2003-12-18 (2.8.8)
  id: totrans-2700
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-12-18 (2.8.8)
- en: Fix a critical bug introduced into 2.8.0 which could cause database corruption.
  id: totrans-2701
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在2.8.0中引入的可能导致数据库损坏的关键bug。
- en: Fix a problem with 3-way joins that do not use indices
  id: totrans-2702
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了不使用索引的3路连接的问题。
- en: The VACUUM command now works with the non-callback API
  id: totrans-2703
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: VACUUM命令现在支持非回调API。
- en: Improvements to the "PRAGMA integrity_check" command
  id: totrans-2704
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了"PRAGMA integrity_check"命令的准确性。
- en: 2003-12-04 (2.8.7)
  id: totrans-2705
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-12-04 (2.8.7)
- en: Added experimental sqlite_bind() and sqlite_reset() APIs.
  id: totrans-2706
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的sqlite_bind()和sqlite_reset() API。
- en: If the name of the database is an empty string, open a new database in a temporary
    file that is automatically deleted when the database is closed.
  id: totrans-2707
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果数据库名称为空字符串，则打开一个新的数据库文件，该文件在关闭数据库时自动删除。
- en: Performance enhancements in the [Lemon](lemon.html)-generated parser
  id: totrans-2708
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在由 Lemon 生成的解析器中进行了性能增强。
- en: Experimental date/time functions revised.
  id: totrans-2709
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修订了实验性的日期/时间函数。
- en: Disallow temporary indices on permanent tables.
  id: totrans-2710
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不允许在永久表上使用临时索引。
- en: Documentation updates and typo fixes
  id: totrans-2711
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档更新和错字修正。
- en: Added experimental sqlite_progress_handler() callback API
  id: totrans-2712
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的 sqlite_progress_handler() 回调 API。
- en: Removed support for the Oracle8 outer join syntax.
  id: totrans-2713
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除对 Oracle8 外连接语法的支持。
- en: Allow GLOB and LIKE operators to work as functions.
  id: totrans-2714
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许 GLOB 和 LIKE 操作符作为函数工作。
- en: Other minor documentation and makefile changes and bug fixes.
  id: totrans-2715
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他次要的文档和 makefile 更改以及错误修复。
- en: 2003-08-22 (2.8.6)
  id: totrans-2716
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-08-22 (2.8.6)
- en: Moved the CVS repository to www.sqlite.org
  id: totrans-2717
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 CVS 仓库迁移到 www.sqlite.org。
- en: Update the NULL-handling documentation.
  id: totrans-2718
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了 NULL 处理文档。
- en: Experimental date/time functions added.
  id: totrans-2719
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了实验性的日期/时间函数。
- en: 'Bug fix: correctly evaluate a view of a view without segfaulting.'
  id: totrans-2720
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 错误修复：正确评估视图中的视图而不会段错误。
- en: 'Bug fix: prevent database corruption if you dropped a trigger that had the
    same name as a table.'
  id: totrans-2721
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 错误修复：防止如果删除与表同名的触发器可能会导致数据库损坏。
- en: 'Bug fix: allow a VACUUM (without segfaulting) on an empty database after setting
    the EMPTY_RESULT_CALLBACKS pragma.'
  id: totrans-2722
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 错误修复：在设置 EMPTY_RESULT_CALLBACKS pragma 后，允许在空数据库上执行 VACUUM 而不会段错误。
- en: 'Bug fix: if an integer value will not fit in a 32-bit int, store it in a double
    instead.'
  id: totrans-2723
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 错误修复：如果整数值不能适应 32 位整数，则将其存储为双精度浮点数。
- en: 'Bug fix: Make sure the journal file directory entry is committed to disk before
    writing the database file.'
  id: totrans-2724
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 错误修复：确保在写入数据库文件之前将日志文件目录条目提交到磁盘。
- en: 2003-07-22 (2.8.5)
  id: totrans-2725
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-07-22 (2.8.5)
- en: Make LIMIT work on a compound SELECT statement.
  id: totrans-2726
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使 LIMIT 在复合 SELECT 语句中工作。
- en: LIMIT 0 now shows no rows. Use LIMIT -1 to see all rows.
  id: totrans-2727
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: LIMIT 0 现在显示没有行。使用 LIMIT -1 来查看所有行。
- en: Correctly handle comparisons between an INTEGER PRIMARY KEY and a floating point
    number.
  id: totrans-2728
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正确处理 INTEGER PRIMARY KEY 和浮点数之间的比较。
- en: Fix several important bugs in the new ATTACH and DETACH commands.
  id: totrans-2729
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新的 ATTACH 和 DETACH 命令中的几个重要错误。
- en: Updated the [NULL-handling document](nulls.html).
  id: totrans-2730
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了[NULL 处理文档](nulls.html)。
- en: Allow NULL arguments in sqlite_compile() and sqlite_step().
  id: totrans-2731
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在 sqlite_compile() 和 sqlite_step() 中使用 NULL 参数。
- en: Many minor bug fixes
  id: totrans-2732
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多次要的错误修复。
- en: 2003-06-29 (2.8.4)
  id: totrans-2733
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-06-29 (2.8.4)
- en: Enhanced the "PRAGMA integrity_check" command to verify indices.
  id: totrans-2734
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强了 "PRAGMA integrity_check" 命令以验证索引。
- en: Added authorization hooks for the new ATTACH and DETACH commands.
  id: totrans-2735
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为新的 ATTACH 和 DETACH 命令添加了授权钩子。
- en: Many documentation updates
  id: totrans-2736
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多文档更新。
- en: Many minor bug fixes
  id: totrans-2737
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多次要的错误修复。
- en: 2003-06-04 (2.8.3)
  id: totrans-2738
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-06-04 (2.8.3)
- en: Fix a problem that will corrupt the indices on a table if you do an INSERT OR
    REPLACE or an UPDATE OR REPLACE on a table that contains an INTEGER PRIMARY KEY
    plus one or more indices.
  id: totrans-2739
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个问题，如果在包含 INTEGER PRIMARY KEY 和一个或多个索引的表上执行 INSERT OR REPLACE 或 UPDATE OR
    REPLACE，可能会损坏表上的索引。
- en: Fix a bug in Windows locking code so that locks work correctly when simultaneously
    accessed by Win95 and WinNT systems.
  id: totrans-2740
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了Windows锁定代码中的一个错误，使得Win95和WinNT系统同时访问时锁定正常工作。
- en: Add the ability for INSERT and UPDATE statements to refer to the "rowid" (or
    "_rowid_" or "oid") columns.
  id: totrans-2741
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使INSERT和UPDATE语句能够引用"rowid"（或"_rowid_"或"oid"）列的功能已添加。
- en: Other important bug fixes
  id: totrans-2742
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他重要的bug修复。
- en: 2003-05-17 (2.8.2)
  id: totrans-2743
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-05-17（2.8.2）
- en: Fix a problem that will corrupt the database file if you drop a table from the
    main database that has a TEMP index.
  id: totrans-2744
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个问题，如果从主数据库中删除具有TEMP索引的表，则可能损坏数据库文件。
- en: 2003-05-17 (2.8.1)
  id: totrans-2745
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-05-17（2.8.1）
- en: Reactivated the VACUUM command that reclaims unused disk space in a database
    file.
  id: totrans-2746
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新激活了VACUUM命令，该命令可以回收数据库文件中未使用的磁盘空间。
- en: Added the ATTACH and DETACH commands to allow interacting with multiple database
    files at the same time.
  id: totrans-2747
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了ATTACH和DETACH命令，允许同时与多个数据库文件交互。
- en: Added support for TEMP triggers and indices.
  id: totrans-2748
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对TEMP触发器和索引的支持。
- en: Added support for in-memory databases.
  id: totrans-2749
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对内存数据库的支持。
- en: Removed the experimental sqlite_open_aux_file(). Its function is subsumed in
    the new ATTACH command.
  id: totrans-2750
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除了实验性的sqlite_open_aux_file()。其功能被新的ATTACH命令所取代。
- en: The precedence order for ON CONFLICT clauses was changed so that ON CONFLICT
    clauses on BEGIN statements have a higher precedence than ON CONFLICT clauses
    on constraints.
  id: totrans-2751
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改了ON CONFLICT子句的优先顺序，使得BEGIN语句上的ON CONFLICT子句比约束上的ON CONFLICT子句具有更高的优先级。
- en: Many, many bug fixes and compatibility enhancements.
  id: totrans-2752
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 许多许多bug修复和兼容性增强。
- en: 2003-02-16 (2.8.0)
  id: totrans-2753
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-02-16（2.8.0）
- en: Modified the journal file format to make it more resistant to corruption that
    can occur after an OS crash or power failure.
  id: totrans-2754
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了日志文件格式，使其在操作系统崩溃或停电后更能抵抗损坏。
- en: Added a new C/C++ API that does not use callback for returning data.
  id: totrans-2755
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个新的不使用回调返回数据的C/C++ API。
- en: 2003-01-25 (2.7.6)
  id: totrans-2756
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2003-01-25（2.7.6）
- en: Performance improvements. The library is now much faster.
  id: totrans-2757
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 性能改进。现在库的速度更快了。
- en: Added the **sqlite_set_authorizer()** API. Formal documentation has not been
    written - see the source code comments for instructions on how to use this function.
  id: totrans-2758
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_set_authorizer()** API。尚未撰写正式文档 - 请参阅源代码注释以了解如何使用此函数。
- en: Fix a bug in the GLOB operator that was preventing it from working with upper-case
    letters.
  id: totrans-2759
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了GLOB运算符中的一个错误，该错误导致其无法与大写字母一起工作。
- en: Various minor bug fixes.
  id: totrans-2760
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种次要bug修复。
- en: 2002-12-28 (2.7.5)
  id: totrans-2761
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-12-28（2.7.5）
- en: Fix an uninitialized variable in pager.c which could (with a probability of
    about 1 in 4 billion) result in a corrupted database.
  id: totrans-2762
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了pager.c中未初始化的变量，可能导致数据库损坏的概率约为40亿分之一。
- en: 2002-12-17 (2.7.4)
  id: totrans-2763
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-12-17（2.7.4）
- en: Database files can now grow to be up to 2^41 bytes. The old limit was 2^31 bytes.
  id: totrans-2764
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据库文件现在可以增长到2^41字节。旧的限制为2^31字节。
- en: The optimizer will now scan tables in the reverse if doing so will satisfy an
    ORDER BY ... DESC clause.
  id: totrans-2765
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优化器现在将按相反的顺序扫描表，以满足ORDER BY ... DESC子句的要求时。
- en: The full pathname of the database file is now remembered even if a relative
    path is passed into sqlite_open(). This allows the library to continue operating
    correctly after a chdir().
  id: totrans-2766
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在即使在sqlite_open()中传入相对路径，也会记住数据库文件的完整路径。这允许库在chdir()后继续正确操作。
- en: Speed improvements in the VDBE.
  id: totrans-2767
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: VDBE中的速度改进。
- en: Lots of little bug fixes.
  id: totrans-2768
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大量小错误修复。
- en: 2002-10-31 (2.7.3)
  id: totrans-2769
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-10-31（2.7.3）
- en: Various compiler compatibility fixes.
  id: totrans-2770
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 各种编译器兼容性修复。
- en: Fix a bug in the "expr IN ()" operator.
  id: totrans-2771
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复"expr IN ()"操作符中的一个错误。
- en: Accept column names in parentheses.
  id: totrans-2772
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受括号中的列名。
- en: Fix a problem with string memory management in the VDBE
  id: totrans-2773
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复VDBE中字符串内存管理的问题。
- en: Fix a bug in the "table_info" pragma"
  id: totrans-2774
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复"table_info" pragma中的一个错误。
- en: Export the sqlite_function_type() API function in the Windows DLL
  id: totrans-2775
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows DLL中导出sqlite_function_type() API函数。
- en: Fix locking behavior under Windows
  id: totrans-2776
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在Windows下的锁定行为。
- en: Fix a bug in LEFT OUTER JOIN
  id: totrans-2777
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复LEFT OUTER JOIN中的一个错误。
- en: 2002-09-25 (2.7.2)
  id: totrans-2778
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-09-25（2.7.2）
- en: Prevent journal file overflows on huge transactions.
  id: totrans-2779
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 防止巨大事务中的日志文件溢出。
- en: Fix a memory leak that occurred when sqlite_open() failed.
  id: totrans-2780
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复sqlite_open()失败时发生的内存泄漏。
- en: Honor the ORDER BY and LIMIT clause of a SELECT even if the result set is used
    for an INSERT.
  id: totrans-2781
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 即使结果集用于INSERT，也要遵循SELECT的ORDER BY和LIMIT子句。
- en: Do not put write locks on the file used to hold TEMP tables.
  id: totrans-2782
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不要在用于保存TEMP表的文件上放写锁。
- en: Added documentation on SELECT DISTINCT and on how SQLite handles NULLs.
  id: totrans-2783
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加关于SELECT DISTINCT和SQLite处理NULL的文档。
- en: Fix a problem that was causing poor performance when many thousands of SQL statements
    were executed by a single sqlite_exec() call.
  id: totrans-2784
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复单个sqlite_exec()调用执行数千条SQL语句时性能下降的问题。
- en: 2002-08-31 (2.7.1)
  id: totrans-2785
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-08-31（2.7.1）
- en: Fix a bug in the ORDER BY logic that was introduced in version 2.7.0
  id: totrans-2786
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复版本2.7.0中引入的ORDER BY逻辑中的一个错误。
- en: C-style comments are now accepted by the tokenizer.
  id: totrans-2787
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在分词器接受C风格的注释。
- en: INSERT runs a little faster when the source is a SELECT statement.
  id: totrans-2788
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当源是SELECT语句时，INSERT运行速度稍快。
- en: 2002-08-25 (2.7.0)
  id: totrans-2789
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-08-25（2.7.0）
- en: Make a distinction between numeric and text values when sorting. Text values
    sort according to memcmp(). Numeric values sort in numeric order.
  id: totrans-2790
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在排序时区分数字和文本值。文本值按memcmp()排序。数字值按数值顺序排序。
- en: Allow multiple simultaneous readers under Windows by simulating the reader/writers
    locks that are missing from Win95/98/ME.
  id: totrans-2791
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过模拟缺失于Win95/98/ME的读者/写者锁，在Windows下允许多个同时读取者。
- en: An error is now returned when trying to start a transaction if another transaction
    is already active.
  id: totrans-2792
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果另一个事务已经激活，则尝试启动事务时现在会返回错误。
- en: 2002-08-13 (2.6.3)
  id: totrans-2793
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-08-13（2.6.3）
- en: Add the ability to read both little-endian and big-endian databases. So a database
    created under SunOS or Mac OS X can be read and written under Linux or Windows
    and vice versa.
  id: totrans-2794
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加读取小端和大端数据库的功能。因此，可以在Linux或Windows下读取和写入在SunOS或Mac OS X下创建的数据库，反之亦然。
- en: 'Convert to the new website: https://www.sqlite.org/'
  id: totrans-2795
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转移到新网站：https://www.sqlite.org/
- en: Allow transactions to span Linux Threads
  id: totrans-2796
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许事务跨Linux线程。
- en: Bug fix in the processing of the ORDER BY clause for GROUP BY queries
  id: totrans-2797
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在GROUP BY查询的ORDER BY子句处理中修复了一个错误。
- en: 2002-07-31 (2.6.2)
  id: totrans-2798
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-07-31 (2.6.2)
- en: Text files read by the COPY command can now have line terminators of LF, CRLF,
    or CR.
  id: totrans-2799
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: COPY命令读取的文本文件现在可以具有LF、CRLF或CR作为行终止符。
- en: SQLITE_BUSY is handled correctly if encountered during database initialization.
  id: totrans-2800
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在数据库初始化期间遇到SQLITE_BUSY时进行正确处理。
- en: Fix to UPDATE triggers on TEMP tables.
  id: totrans-2801
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复在临时表上的UPDATE触发器。
- en: Documentation updates.
  id: totrans-2802
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了文档。
- en: 2002-07-19 (2.6.1)
  id: totrans-2803
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-07-19 (2.6.1)
- en: Include a static string in the library that responds to the RCS "ident" command
    and which contains the library version number.
  id: totrans-2804
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在库中包含一个静态字符串，该字符串响应RCS的"ident"命令，并包含库的版本号。
- en: Fix an assertion failure that occurred when deleting all rows of a table with
    the "count_changes" pragma turned on.
  id: totrans-2805
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在打开"count_changes"开关时删除表的所有行时发生的断言失败。
- en: Better error reporting when problems occur during the automatic 2.5.6 to 2.6.0
    database format upgrade.
  id: totrans-2806
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在自动从2.5.6升级到2.6.0数据库格式期间出现问题时进行更好的错误报告。
- en: 2002-07-18 (2.6.0)
  id: totrans-2807
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-07-18 (2.6.0)
- en: Change the format of indices to correct a design flaw the originated with version
    2.1.0\. *** This is an incompatible file format change *** When version 2.6.0
    or later of the library attempts to open a database file created by version 2.5.6
    or earlier, it will automatically and irreversibly convert the file format. **Make
    backup copies of older database files before opening them with version 2.6.0 of
    the library.**
  id: totrans-2808
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改索引格式以纠正从版本2.1.0开始的设计缺陷。*** 这是一种不兼容的文件格式更改 *** 当库的2.6.0或更高版本试图打开由2.5.6或更早版本创建的数据库文件时，它将自动且不可逆地转换文件格式。**在使用库的版本2.6.0打开旧数据库文件之前，请先备份旧的数据库文件。**
- en: 2002-07-07 (2.5.6)
  id: totrans-2809
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-07-07 (2.5.6)
- en: Fix more problems with rollback. Enhance the test suite to exercise the rollback
    logic extensively in order to prevent any future problems.
  id: totrans-2810
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复回滚中的更多问题。增强测试套件，以大量测试回滚逻辑，以防止未来任何问题。
- en: 2002-07-06 (2.5.5)
  id: totrans-2811
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-07-06 (2.5.5)
- en: Fix a bug which could cause database corruption during a rollback. This bugs
    was introduced in version 2.4.0 by the freelist optimization of checkin [410].
  id: totrans-2812
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在回滚期间可能导致数据库损坏的bug。这个bug是在版本2.4.0中由检查[410]的freelist优化引入的。
- en: Fix a bug in aggregate functions for VIEWs.
  id: totrans-2813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了VIEW的聚合函数中的一个bug。
- en: Other minor changes and enhancements.
  id: totrans-2814
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他较小的更改和增强。
- en: 2002-07-01 (2.5.4)
  id: totrans-2815
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-07-01 (2.5.4)
- en: Make the "AS" keyword optional again.
  id: totrans-2816
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次使"AS"关键字可选。
- en: The datatype of columns now appear in the 4th argument to the callback.
  id: totrans-2817
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在列的数据类型出现在回调的第四个参数中。
- en: Added the **sqlite_open_aux_file()** API, though it is still mostly undocumented
    and untested.
  id: totrans-2818
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_open_aux_file()** API，尽管它仍然大部分未记录和未经测试。
- en: Added additional test cases and fixed a few bugs that those test cases found.
  id: totrans-2819
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了额外的测试用例，并修复了这些测试用例发现的一些错误。
- en: 2002-06-25 (2.5.3)
  id: totrans-2820
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-06-25 (2.5.3)
- en: 'Bug fix: Database corruption can occur due to the optimization that was introduced
    in version 2.4.0 (check-in [410]). The problem should now be fixed. The use of
    versions 2.4.0 through 2.5.2 is not recommended.'
  id: totrans-2821
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：由于版本2.4.0中引入的优化（check-in [410]），可能导致数据库损坏。现在该问题应该已经修复。不建议使用版本2.4.0至2.5.2。
- en: 2002-06-25 (2.5.2)
  id: totrans-2822
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-06-25 (2.5.2)
- en: Added the new **SQLITE_TEMP_MASTER** table which records the schema for temporary
    tables in the same way that **SQLITE_MASTER** does for persistent tables.
  id: totrans-2823
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了**SQLITE_TEMP_MASTER**表，用于记录临时表的模式，方式类似于**SQLITE_MASTER**对于持久表的记录。
- en: Added an optimization to UNION ALL
  id: totrans-2824
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对UNION ALL进行了优化。
- en: Fixed a bug in the processing of LEFT OUTER JOIN
  id: totrans-2825
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了LEFT OUTER JOIN处理中的一个bug。
- en: The LIMIT clause now works on subselects
  id: totrans-2826
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在LIMIT子句可以在子查询中工作。
- en: ORDER BY works on subselects
  id: totrans-2827
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ORDER BY在子查询中可以工作。
- en: There is a new TypeOf() function used to determine if an expression is numeric
    or text.
  id: totrans-2828
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新增了TypeOf()函数，用于确定表达式是数值还是文本。
- en: Autoincrement now works for INSERT from a SELECT.
  id: totrans-2829
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自增现在对从SELECT进行的INSERT有效。
- en: 2002-06-19 (2.5.1)
  id: totrans-2830
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-06-19 (2.5.1)
- en: The query optimizer now attempts to implement the ORDER BY clause using an index.
    Sorting is still used if not suitable index is available.
  id: totrans-2831
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查询优化器现在尝试使用索引实现ORDER BY子句。如果适当的索引不可用，则仍然使用排序。
- en: 2002-06-17 (2.5.0)
  id: totrans-2832
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-06-17 (2.5.0)
- en: Added support for row triggers.
  id: totrans-2833
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对行触发器的支持。
- en: Added SQL-92 compliant handling of NULLs.
  id: totrans-2834
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对NULL的SQL-92兼容处理。
- en: Add support for the full SQL-92 join syntax and LEFT OUTER JOINs.
  id: totrans-2835
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了对完整SQL-92连接语法和LEFT OUTER JOIN的支持。
- en: Double-quoted strings interpreted as column names not text literals.
  id: totrans-2836
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双引号括起的字符串解释为列名而不是文本字面量。
- en: Parse (but do not implement) foreign keys.
  id: totrans-2837
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析（但不实现）外键。
- en: Performance improvements in the parser, pager, and WHERE clause code generator.
  id: totrans-2838
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析器、分页器和WHERE子句代码生成器中的性能改进。
- en: Make the LIMIT clause work on subqueries. (ORDER BY still does not work, though.)
  id: totrans-2839
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使得在子查询中LIMIT子句可以工作。（虽然ORDER BY仍然不工作。）
- en: Added the "%Q" expansion to sqlite_*_printf().
  id: totrans-2840
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在sqlite_*_printf()中添加了"%Q"扩展。
- en: Bug fixes too numerous to mention (see the change log).
  id: totrans-2841
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 太多要提及的Bug修复（请查看变更日志）。
- en: 2002-05-10 (2.4.12)
  id: totrans-2842
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-05-10 (2.4.12)
- en: Added logic to detect when the library API routines are called out of sequence.
  id: totrans-2843
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了逻辑以检测库API例程被无序调用的情况。
- en: 2002-05-08 (2.4.11)
  id: totrans-2844
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-05-08 (2.4.11)
- en: 'Bug fix: Column names in the result set were not being generated correctly
    for some (rather complex) VIEWs. This could cause a segfault under certain circumstances.'
  id: totrans-2845
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：某些（相当复杂的）视图的结果集中列名生成不正确。这可能在某些情况下导致段错误。
- en: 2002-05-03 (2.4.10)
  id: totrans-2846
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-05-03 (2.4.10)
- en: 'Bug fix: Generate correct column headers when a compound SELECT is used as
    a subquery.'
  id: totrans-2847
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：当复合SELECT用作子查询时生成正确的列标题。
- en: Added the sqlite_encode_binary() and sqlite_decode_binary() functions to the
    source tree. But they are not yet linked into the library.
  id: totrans-2848
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将sqlite_encode_binary()和sqlite_decode_binary()函数添加到源树中，但尚未链接到库中。
- en: Documentation updates.
  id: totrans-2849
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了文档。
- en: Export the sqlite_changes() function from Windows DLLs.
  id: totrans-2850
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从Windows DLLs导出sqlite_changes()函数。
- en: 'Bug fix: Do not attempt the subquery flattening optimization on queries that
    lack a FROM clause. To do so causes a segfault.'
  id: totrans-2851
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复错误：在缺少FROM子句的查询中不要尝试子查询扁平化优化。这样做会导致段错误。
- en: 2002-04-22 (2.4.9)
  id: totrans-2852
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-04-22 (2.4.9)
- en: Fix a bug that was causing the precompiled binary of SQLITE.EXE to report "out
    of memory" under Windows 98.
  id: totrans-2853
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复导致Windows 98下预编译二进制文件SQLITE.EXE报告"内存不足"的错误。
- en: 2002-04-20 (2.4.8)
  id: totrans-2854
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-04-20 (2.4.8)
- en: Make sure VIEWs are created after their corresponding TABLEs in the output of
    the **.dump** command in the shell.
  id: totrans-2855
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在shell中的**.dump**命令输出中，在对应的TABLE之后创建VIEW。
- en: 'Speed improvements: Do not do synchronous updates on TEMP tables.'
  id: totrans-2856
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 速度提升：不对TEMP表执行同步更新。
- en: Many improvements and enhancements to the shell.
  id: totrans-2857
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对shell进行了许多改进和增强。
- en: Make the GLOB and LIKE operators functions that can be overridden by a programmer.
    This allows, for example, the LIKE operator to be changed to be case sensitive.
  id: totrans-2858
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使GLOB和LIKE操作符成为可以被程序员覆盖的函数。这允许例如将LIKE操作符更改为区分大小写。
- en: 2002-04-12 (2.4.7)
  id: totrans-2859
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-04-12 (2.4.7)
- en: Add the ability to put TABLE.* in the column list of a SELECT statement.
  id: totrans-2860
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在SELECT语句的列列表中使用TABLE.*。
- en: Permit SELECT statements without a FROM clause.
  id: totrans-2861
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许没有FROM子句的SELECT语句。
- en: Added the **last_insert_rowid()** SQL function.
  id: totrans-2862
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**last_insert_rowid()** SQL函数。
- en: Do not count rows where the IGNORE conflict resolution occurs in the row count.
  id: totrans-2863
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不计算发生IGNORE冲突解决的行数。
- en: Make sure functions expressions in the VALUES clause of an INSERT are correct.
  id: totrans-2864
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保INSERT的VALUES子句中函数表达式正确。
- en: Added the **sqlite_changes()** API function to return the number of row that
    changed in the most recent operation.
  id: totrans-2865
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_changes()** API函数，以返回最近操作中更改的行数。
- en: 2002-04-02 (2.4.6)
  id: totrans-2866
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-04-02 (2.4.6)
- en: 'Bug fix: Correctly handle terms in the WHERE clause of a join that do not contain
    a comparison operator.'
  id: totrans-2867
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复错误：正确处理JOIN的WHERE子句中不包含比较运算符的项。
- en: 2002-04-02 (2.4.5)
  id: totrans-2868
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-04-02 (2.4.5)
- en: 'Bug fix: Correctly handle functions that appear in the WHERE clause of a join.'
  id: totrans-2869
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复错误：正确处理出现在JOIN的WHERE子句中的函数。
- en: When the PRAGMA vdbe_trace=ON is set, correctly print the P3 operand value when
    it is a pointer to a structure rather than a pointer to a string.
  id: totrans-2870
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当设置PRAGMA vdbe_trace=ON时，当P3操作数值为指向结构体的指针而不是字符串指针时，正确打印其操作数值。
- en: When inserting an explicit NULL into an INTEGER PRIMARY KEY, convert the NULL
    value into a unique key automatically.
  id: totrans-2871
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当将显式NULL插入INTEGER PRIMARY KEY时，自动将NULL值转换为唯一键。
- en: 2002-03-30 (2.4.4)
  id: totrans-2872
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-03-30 (2.4.4)
- en: Allow "VIEW" to be a column name
  id: totrans-2873
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许"VIEW"作为列名。
- en: Added support for CASE expressions (patch from Dan Kennedy)
  id: totrans-2874
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对CASE表达式的支持（Dan Kennedy的补丁）。
- en: Added RPMS to the delivery (patches from Doug Henry)
  id: totrans-2875
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在交付中添加了RPMS（Doug Henry的补丁）。
- en: Fix typos in the documentation
  id: totrans-2876
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正文档中的拼写错误。
- en: Cut over configuration management to a new CVS repository with its own CVSTrac
    bug tracking system.
  id: totrans-2877
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 切换到一个带有自己CVSTrac bug跟踪系统的新CVS存储库的配置管理。
- en: 2002-03-23 (2.4.3)
  id: totrans-2878
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-03-23 (2.4.3)
- en: Fix a bug in SELECT that occurs when a compound SELECT is used as a subquery
    in the FROM of a SELECT.
  id: totrans-2879
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在 SELECT 中使用复合 SELECT 作为子查询时发生的 bug。
- en: The **sqlite_get_table()** function now returns an error if you give it two
    or more SELECTs that return different numbers of columns.
  id: totrans-2880
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**sqlite_get_table()** 函数现在在给定返回不同列数的两个或更多个 SELECT 的情况下返回错误。'
- en: 2002-03-20 (2.4.2)
  id: totrans-2881
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-03-20 (2.4.2)
- en: 'Bug fix: Fix an assertion failure that occurred when ROWID was a column in
    a SELECT statement on a view.'
  id: totrans-2882
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 Bug：修复了在视图的 SELECT 语句中，当 ROWID 是一个列时导致断言失败的问题。
- en: 'Bug fix: Fix an uninitialized variable in the VDBE that would could an assert
    failure.'
  id: totrans-2883
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复 Bug：修复了在 VDBE 中未初始化的变量可能导致断言失败的问题。
- en: Make the os.h header file more robust in detecting when the compile is for Windows
    and when it is for Unix.
  id: totrans-2884
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改 os.h 头文件，使其更可靠地检测编译是为 Windows 还是 Unix。
- en: 2002-03-13 (2.4.1)
  id: totrans-2885
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-03-13 (2.4.1)
- en: Using an unnamed subquery in a FROM clause would cause a segfault.
  id: totrans-2886
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 FROM 子句中使用未命名子查询会导致段错误。
- en: The parser now insists on seeing a semicolon or the end of input before executing
    a statement. This avoids an accidental disaster if the WHERE keyword is misspelled
    in an UPDATE or DELETE statement.
  id: totrans-2887
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析器现在要求在执行语句之前看到分号或输入结束。这样做可以避免在 UPDATE 或 DELETE 语句中错误拼写 WHERE 关键字时造成意外灾难。
- en: 2002-03-11 (2.4.0)
  id: totrans-2888
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-03-11 (2.4.0)
- en: Change the name of the sanity_check PRAGMA to **integrity_check** and make it
    available in all compiles.
  id: totrans-2889
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 sanity_check PRAGMA 的名称更改为 **integrity_check**，并使其在所有编译中可用。
- en: SELECT min() or max() of an indexed column with no WHERE or GROUP BY clause
    is handled as a special case which avoids a complete table scan.
  id: totrans-2890
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 处理带有索引列的 min() 或 max()，且没有 WHERE 或 GROUP BY 子句的情况，作为一种特殊情况，避免完全表扫描。
- en: Automatically generated ROWIDs are now sequential.
  id: totrans-2891
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动生成的 ROWID 现在是顺序的。
- en: Do not allow dot-commands of the command-line shell to occur in the middle of
    a real SQL command.
  id: totrans-2892
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不允许命令行 shell 的点命令出现在真实 SQL 命令中间。
- en: Modifications to the [Lemon parser generator](lemon.html) so that the parser
    tables are 4 times smaller.
  id: totrans-2893
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了 [Lemon parser generator](lemon.html) 的内容，使得解析器表格缩小了 4 倍。
- en: Added support for user-defined functions implemented in C.
  id: totrans-2894
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对用 C 实现的用户定义函数的支持。
- en: 'Added support for new functions: **coalesce()**, **lower()**, **upper()**,
    and **random()**'
  id: totrans-2895
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对新函数 **coalesce()**、**lower()**、**upper()** 和 **random()** 的支持。
- en: Added support for VIEWs.
  id: totrans-2896
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对 VIEW 的支持。
- en: Added the subquery flattening optimizer.
  id: totrans-2897
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了子查询展开优化器。
- en: Modified the B-Tree and Pager modules so that disk pages that do not contain
    real data (free pages) are not journaled and are not written from memory back
    to the disk when they change. This does not impact database integrity, since the
    pages contain no real data, but it does make large INSERT operations about 2.5
    times faster and large DELETEs about 5 times faster.
  id: totrans-2898
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改 B-Tree 和 Pager 模块，使不包含实际数据（空闲页）的磁盘页面不被日志记录，并且在内存中更改时不会写回磁盘。这不会影响数据库完整性，因为这些页面不包含实际数据，但确实使大型
    INSERT 操作快了大约 2.5 倍，大型 DELETE 操作快了大约 5 倍。
- en: Made the CACHE_SIZE pragma persistent
  id: totrans-2899
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使 CACHE_SIZE pragma 持久化。
- en: Added the SYNCHRONOUS pragma
  id: totrans-2900
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了SYNCHRONOUS pragma。
- en: Fixed a bug that was causing updates to fail inside of transactions when the
    database contained a temporary table.
  id: totrans-2901
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了在数据库包含临时表时事务内更新失败的错误。
- en: 2002-02-19 (2.3.3)
  id: totrans-2902
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-02-19 (2.3.3)
- en: Allow identifiers to be quoted in square brackets, for compatibility with MS-Access.
  id: totrans-2903
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许使用方括号引用标识符，以与MS-Access兼容。
- en: Added support for sub-queries in the FROM clause of a SELECT.
  id: totrans-2904
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在SELECT的FROM子句中添加了对子查询的支持。
- en: More efficient implementation of sqliteFileExists() under Windows. (by Joel
    Luscy)
  id: totrans-2905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows下更高效地实现了sqliteFileExists()。（由Joel Luscy完成）
- en: The VALUES clause of an INSERT can now contain expressions, including scalar
    SELECT clauses.
  id: totrans-2906
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: INSERT的VALUES子句现在可以包含表达式，包括标量SELECT子句。
- en: Added support for CREATE TABLE AS SELECT
  id: totrans-2907
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对CREATE TABLE AS SELECT的支持。
- en: 'Bug fix: Creating and dropping a table all within a single transaction was
    not working.'
  id: totrans-2908
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在单个事务内创建和删除表时无法正常工作。
- en: 2002-02-14 (2.3.2)
  id: totrans-2909
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-02-14 (2.3.2)
- en: 'Bug fix: There was an incorrect assert() in pager.c. The real code was all
    correct (as far as is known) so everything should work OK if you compile with
    -DNDEBUG=1\. When asserts are not disabled, there could be a fault.'
  id: totrans-2910
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在pager.c中存在一个错误的assert()。实际代码都是正确的（据所知），所以如果使用-DNDEBUG=1编译，一切应该正常工作。当未禁用assert时，可能会出现故障。
- en: 2002-02-13 (2.3.1)
  id: totrans-2911
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-02-13 (2.3.1)
- en: 'Bug fix: An assertion was failing if "PRAGMA full_column_names=ON;" was set
    and you did a query that used a rowid, like this: "SELECT rowid, * FROM ...".'
  id: totrans-2912
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：如果设置了"PRAGMA full_column_names=ON;"并且进行了使用rowid的查询（如："SELECT rowid, *
    FROM ..."），则断言失败。
- en: 2002-02-03 (2.3.0)
  id: totrans-2913
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-02-03 (2.3.0)
- en: Fix a serious bug in the INSERT command which was causing data to go into the
    wrong columns if the data source was a SELECT and the INSERT clauses specified
    its columns in some order other than the default.
  id: totrans-2914
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了INSERT命令中的一个严重错误，如果数据源是SELECT，并且INSERT子句指定了除默认顺序外的某些顺序的列，则数据会进入错误的列。
- en: Added the ability to resolve constraint conflicts is ways other than an abort
    and rollback. See the documentation on the "ON CONFLICT" clause for details.
  id: totrans-2915
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了解决冲突约束的能力，除了中止和回滚。详见关于"ON CONFLICT"子句的文档。
- en: Temporary files are now automatically deleted by the operating system when closed.
    There are no more dangling temporary files on a program crash. (If the OS crashes,
    fsck will delete the file after reboot under Unix. I do not know what happens
    under Windows.)
  id: totrans-2916
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当关闭时，临时文件现在会被操作系统自动删除。程序崩溃时不会再有悬挂的临时文件。（如果操作系统崩溃，Unix下重启后fsck会删除文件。我不知道在Windows下会发生什么。）
- en: NOT NULL constraints are honored.
  id: totrans-2917
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在支持NOT NULL约束。
- en: The COPY command puts NULLs in columns whose data is '\N'.
  id: totrans-2918
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在COPY命令中，将NULL放入数据为'\N'的列。
- en: In the COPY command, backslash can now be used to escape a newline.
  id: totrans-2919
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在COPY命令中，现在可以使用反斜杠来转义换行符。
- en: Added the SANITY_CHECK pragma.
  id: totrans-2920
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了SANITY_CHECK pragma。
- en: 2002-01-28 (2.2.5)
  id: totrans-2921
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-01-28 (2.2.5)
- en: 'Important bug fix: the IN operator was not working if either the left-hand
    or right-hand side was derived from an INTEGER PRIMARY KEY.'
  id: totrans-2922
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重要Bug修复：如果IN运算符的左操作数或右操作数源自INTEGER PRIMARY KEY，则无法正常工作。
- en: Do not escape the backslash '\' character in the output of the **sqlite** command-line
    access program.
  id: totrans-2923
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在sqlite命令行访问程序的输出中，不要转义反斜杠'\'字符。
- en: 2002-01-22 (2.2.4)
  id: totrans-2924
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-01-22 (2.2.4)
- en: The label to the right of an AS in the column list of a SELECT can now be used
    as part of an expression in the WHERE, ORDER BY, GROUP BY, and/or HAVING clauses.
  id: totrans-2925
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在SELECT语句的列列表中，AS右侧的标签现在可以作为WHERE、ORDER BY、GROUP BY和/或HAVING子句中表达式的一部分使用。
- en: Fix a bug in the **-separator** command-line option to the **sqlite** command.
  id: totrans-2926
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了sqlite命令的-separator命令行选项中的一个bug。
- en: Fix a problem with the sort order when comparing upper-case strings against
    characters greater than 'Z' but less than 'a'.
  id: totrans-2927
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了比较大写字符串与大于'Z'但小于'a'的字符时排序顺序的问题。
- en: Report an error if an ORDER BY or GROUP BY expression is constant.
  id: totrans-2928
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果ORDER BY或GROUP BY表达式是常量，则报告错误。
- en: 2002-01-16 (2.2.3)
  id: totrans-2929
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-01-16 (2.2.3)
- en: Fix warning messages in VC++ 7.0\. (Patches from nicolas352001)
  id: totrans-2930
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了VC++ 7.0中的警告消息。（来自nicolas352001的补丁）
- en: Make the library thread-safe. (The code is there and appears to work but has
    not been stressed.)
  id: totrans-2931
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使库支持线程安全。（代码已存在且似乎可用，但尚未经过严格测试。）
- en: Added the new **sqlite_last_insert_rowid()** API function.
  id: totrans-2932
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新的**sqlite_last_insert_rowid()** API函数。
- en: 2002-01-14 (2.2.2)
  id: totrans-2933
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-01-14 (2.2.2)
- en: 'Bug fix: An assertion was failing when a temporary table with an index had
    the same name as a permanent table created by a separate process.'
  id: totrans-2934
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：当临时表带有索引并且与由另一个进程创建的永久表同名时，断言失败。
- en: 'Bug fix: Updates to tables containing an INTEGER PRIMARY KEY and an index could
    fail.'
  id: totrans-2935
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：包含INTEGER PRIMARY KEY和索引的表的更新可能会失败。
- en: 2002-01-09 (2.2.1)
  id: totrans-2936
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2002-01-09 (2.2.1)
- en: 'Bug fix: An attempt to delete a single row of a table with a WHERE clause of
    "ROWID=x" when no such rowid exists was causing an error.'
  id: totrans-2937
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在WHERE子句为"ROWID=x"且不存在此rowid的情况下，尝试删除表的单行时导致错误。
- en: 'Bug fix: Passing in a NULL as the 3rd parameter to **sqlite_open()** would
    sometimes cause a coredump.'
  id: totrans-2938
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：将NULL作为sqlite_open()的第三个参数传入有时会导致核心转储。
- en: 'Bug fix: DROP TABLE followed by a CREATE TABLE with the same name all within
    a single transaction was causing a coredump.'
  id: totrans-2939
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在单个事务内连续执行DROP TABLE和使用相同名称创建TABLE会导致核心转储。
- en: Makefile updates from A. Rottmann
  id: totrans-2940
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 来自A. Rottmann的Makefile更新
- en: 2001-12-22 (2.2.0)
  id: totrans-2941
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-12-22 (2.2.0)
- en: Columns of type INTEGER PRIMARY KEY are actually used as the primary key in
    underlying B-Tree representation of the table.
  id: totrans-2942
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 列类型为INTEGER PRIMARY KEY的列实际上在表的底层B-Tree表示中被用作主键。
- en: Several obscure, unrelated bugs were found and fixed while implemented the integer
    primary key change of the previous bullet.
  id: totrans-2943
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在实现上述整数主键更改时，发现并修复了几个晦涩的无关Bug。
- en: 'Added the ability to specify "*" as part of a larger column list in the result
    section of a SELECT statement. For example: <nobr>"**SELECT rowid, * FROM table1;**"</nobr>.'
  id: totrans-2944
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了能够在 SELECT 语句结果部分的较大列列表中放置 "*" 的能力。例如：<nobr>“**SELECT rowid, * FROM table1;**”</nobr>。
- en: Updates to comments and documentation.
  id: totrans-2945
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了注释和文档。
- en: 2001-12-15 (2.1.7)
  id: totrans-2946
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-12-15 (2.1.7)
- en: Fix a bug in **CREATE TEMPORARY TABLE** which was causing the table to be initially
    allocated in the main database file instead of in the separate temporary file.
    This bug could cause the library to suffer an assertion failure and it could cause
    "page leaks" in the main database file.
  id: totrans-2947
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了**CREATE TEMPORARY TABLE**中的一个 bug，导致表最初在主数据库文件中分配，而不是在单独的临时文件中。这个 bug 可能会导致库出现断言失败，并且可能会在主数据库文件中导致“页面泄漏”。
- en: Fix a bug in the b-tree subsystem that could sometimes cause the first row of
    a table to be repeated during a database scan.
  id: totrans-2948
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 b-tree 子系统中的一个 bug，有时会在数据库扫描期间导致表的第一行重复。
- en: 2001-12-14 (2.1.6)
  id: totrans-2949
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-12-14 (2.1.6)
- en: Fix the locking mechanism yet again to prevent **sqlite_exec()** from returning
    SQLITE_PROTOCOL unnecessarily. This time the bug was a race condition in the locking
    code. This change affects both POSIX and Windows users.
  id: totrans-2950
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次修复锁定机制，以防止 **sqlite_exec()** 不必要地返回 SQLITE_PROTOCOL。这次 bug 是锁定代码中的竞争条件。这个变更影响
    POSIX 和 Windows 用户。
- en: 2001-12-06 (2.1.5)
  id: totrans-2951
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-12-06 (2.1.5)
- en: Fix for another problem (unrelated to the one fixed in 2.1.4) that sometimes
    causes **sqlite_exec()** to return SQLITE_PROTOCOL unnecessarily. This time the
    bug was in the POSIX locking code and should not effect Windows users.
  id: totrans-2952
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了另一个问题的 bug（与 2.1.4 中修复的问题无关），有时会导致 **sqlite_exec()** 不必要地返回 SQLITE_PROTOCOL。这次
    bug 在 POSIX 锁定代码中，不会影响 Windows 用户。
- en: 2001-12-05 (2.1.4)
  id: totrans-2953
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-12-05 (2.1.4)
- en: Sometimes **sqlite_exec()** would return SQLITE_PROTOCOL when it should have
    returned SQLITE_BUSY.
  id: totrans-2954
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有时 **sqlite_exec()** 在应该返回 SQLITE_BUSY 时会返回 SQLITE_PROTOCOL。
- en: The fix to the previous bug uncovered a deadlock which was also fixed.
  id: totrans-2955
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复前一个 bug 的修复揭示了一个死锁，也已修复。
- en: Add the ability to put a single .command in the second argument of the sqlite
    shell
  id: totrans-2956
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 sqlite shell 的第二个参数中添加了放置单个 .command 的能力。
- en: Updates to the FAQ
  id: totrans-2957
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了常见问题解答（FAQ）。
- en: 2001-11-24 (2.1.3)
  id: totrans-2958
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-11-24 (2.1.3)
- en: 'Fix the behavior of comparison operators (ex: "**<**", "**==**", etc.) so that
    they are consistent with the order of entries in an index.'
  id: totrans-2959
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复比较操作符（例如：“**<**”，“**==**”等）的行为，使其与索引中条目的顺序一致。
- en: Correct handling of integers in SQL expressions that are larger than what can
    be represented by the machine integer.
  id: totrans-2960
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 正确处理 SQL 表达式中比机器整数表示更大的整数。
- en: 2001-11-23 (2.1.2)
  id: totrans-2961
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-11-23 (2.1.2)
- en: Changes to support 64-bit architectures.
  id: totrans-2962
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改动以支持 64 位架构。
- en: Fix a bug in the locking protocol.
  id: totrans-2963
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了锁定协议中的一个 bug。
- en: Fix a bug that could (rarely) cause the database to become unreadable after
    a DROP TABLE due to corruption to the SQLITE_MASTER table.
  id: totrans-2964
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了一个 bug，这个 bug 可能在 DROP TABLE 后导致数据库变得不可读，因为会损坏 SQLITE_MASTER 表。
- en: Change the code so that version 2.1.1 databases that were rendered unreadable
    by the above bug can be read by this version of the library even though the SQLITE_MASTER
    table is (slightly) corrupted.
  id: totrans-2965
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改代码，以便此版本的库可以读取由上述bug导致的2.1.1版本数据库即使SQLITE_MASTER表（轻微）损坏。
- en: 2001-11-13 (2.1.1)
  id: totrans-2966
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-11-13 (2.1.1)
- en: 'Bug fix: Sometimes arbitrary strings were passed to the callback function when
    the actual value of a column was NULL.'
  id: totrans-2967
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：有时当列的实际值为NULL时，会将任意字符串传递给回调函数。
- en: 2001-11-12 (2.1.0)
  id: totrans-2968
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-11-12 (2.1.0)
- en: Change the format of data records so that records up to 16MB in size can be
    stored.
  id: totrans-2969
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改数据记录的格式，以便可以存储高达16MB大小的记录。
- en: Change the format of indices to allow for better query optimization.
  id: totrans-2970
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改索引的格式，以实现更好的查询优化。
- en: Implement the "LIMIT ... OFFSET ..." clause on SELECT statements.
  id: totrans-2971
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在SELECT语句中实现"LIMIT ... OFFSET ..."子句。
- en: 2001-11-03 (2.0.8)
  id: totrans-2972
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-11-03 (2.0.8)
- en: Made selected parameters in API functions **const**. This should be fully backwards
    compatible.
  id: totrans-2973
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在API函数中选择性地使用**const**。这应该是完全向后兼容的。
- en: Documentation updates
  id: totrans-2974
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新文档
- en: Simplify the design of the VDBE by restricting the number of sorters and lists
    to 1. In practice, no more than one sorter and one list was ever used anyhow.
  id: totrans-2975
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过限制排序器和列表的数量，简化VDBE的设计为1。实际上，无论如何都只会使用一个排序器和一个列表。
- en: 2001-10-22 (2.0.7)
  id: totrans-2976
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-22 (2.0.7)
- en: Any UTF-8 character or ISO8859 character can be used as part of an identifier.
  id: totrans-2977
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 任何UTF-8字符或ISO8859字符都可以作为标识符的一部分使用。
- en: Patches from Christian Werner to improve ODBC compatibility and to fix a bug
    in the round() function.
  id: totrans-2978
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由Christian Werner提供的补丁，以提高ODBC兼容性并修复round()函数中的一个bug。
- en: Plug some memory leaks that use to occur if malloc() failed. We have been and
    continue to be memory leak free as long as malloc() works.
  id: totrans-2979
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复某些内存泄漏问题，如果malloc()失败。只要malloc()正常工作，我们一直没有内存泄漏问题。
- en: Changes to some test scripts so that they work on Windows in addition to Unix.
  id: totrans-2980
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新一些测试脚本，以便在Windows上运行，除了Unix之外。
- en: 2001-10-19 (2.0.6)
  id: totrans-2981
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-19 (2.0.6)
- en: Added the EMPTY_RESULT_CALLBACKS pragma
  id: totrans-2982
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加EMPTY_RESULT_CALLBACKS pragma
- en: Support for UTF-8 and ISO8859 characters in column and table names.
  id: totrans-2983
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 支持在列和表名中使用UTF-8和ISO8859字符。
- en: 'Bug fix: Compute correct table names with the FULL_COLUMN_NAMES pragma is turned
    on.'
  id: totrans-2984
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：在开启FULL_COLUMN_NAMES pragma时计算正确的表名。
- en: 2001-10-15 (2.0.5)
  id: totrans-2985
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-15 (2.0.5)
- en: Added the COUNT_CHANGES pragma.
  id: totrans-2986
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加COUNT_CHANGES pragma。
- en: Changes to the FULL_COLUMN_NAMES pragma to help out the ODBC driver.
  id: totrans-2987
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改FULL_COLUMN_NAMES pragma以帮助ODBC驱动程序。
- en: 'Bug fix: "SELECT count(*)" was returning NULL for empty tables. Now it returns
    0.'
  id: totrans-2988
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复："SELECT count(*)"对空表返回NULL。现在返回0。
- en: 2001-10-13 (2.0.4)
  id: totrans-2989
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-13 (2.0.4)
- en: 'Bug fix: an obscure and relatively harmless bug was causing one of the tests
    to fail when gcc optimizations are turned on. This release fixes the problem.'
  id: totrans-2990
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：一个不太明显且相对无害的bug，在gcc优化开启时导致某个测试失败。此版本修复了该问题。
- en: 2001-10-13 (2.0.3)
  id: totrans-2991
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-13 (2.0.3)
- en: 'Bug fix: the **sqlite_busy_timeout()** function was delaying 1000 times too
    long before failing.'
  id: totrans-2992
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug修复：**sqlite_busy_timeout()**函数在失败之前延迟了1000倍时间过长。
- en: 'Bug fix: an assertion was failing if the disk holding the database file became
    full or stopped accepting writes for some other reason. New tests were added to
    detect similar problems in the future.'
  id: totrans-2993
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 bug：如果持有数据库文件的磁盘变满或由于其他原因停止接受写入，则断言将失败。新测试已添加以检测将来类似的问题。
- en: 'Added new operators: **&** (bitwise-and) **|** (bitwise-or), **~** (ones-complement),
    **<<** (shift left), **>>** (shift right).'
  id: totrans-2994
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新操作符：**&**（按位与）**|**（按位或）、**~**（按位取反）、**<<**（左移）、**>>**（右移）。
- en: 'Added new functions: **round()** and **abs()**.'
  id: totrans-2995
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了新函数：**round()** 和 **abs()**。
- en: 2001-10-09 (2.0.2)
  id: totrans-2996
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-09 (2.0.2)
- en: Fix two bugs in the locking protocol. (One was masking the other.)
  id: totrans-2997
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了锁定协议中的两个 bug。（一个 bug 掩盖了另一个。）
- en: Removed some unused "#include <unistd.h>" that were causing problems for VC++.</unistd.h>
  id: totrans-2998
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了一些未使用的 "#include <unistd.h>"，这些未使用的文件导致 VC++ 出现问题。</unistd.h>
- en: Fixed **sqlite.h** so that it is usable from C++
  id: totrans-2999
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 **sqlite.h**，使其可以从 C++ 中使用。
- en: Added the FULL_COLUMN_NAMES pragma. When set to "ON", the names of columns are
    reported back as TABLE.COLUMN instead of just COLUMN.
  id: totrans-3000
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 FULL_COLUMN_NAMES pragma。当设置为 "ON" 时，列名报告为 TABLE.COLUMN 而不仅仅是 COLUMN。
- en: Added the TABLE_INFO() and INDEX_INFO() pragmas to help support the ODBC interface.
  id: totrans-3001
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了 TABLE_INFO() 和 INDEX_INFO() pragma 以帮助支持 ODBC 接口。
- en: Added support for TEMPORARY tables and indices.
  id: totrans-3002
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对 TEMPORARY 表和索引的支持。
- en: 2001-10-02 (2.0.1)
  id: totrans-3003
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-10-02 (2.0.1)
- en: Remove some C++ style comments from btree.c so that it will compile using compilers
    other than gcc.
  id: totrans-3004
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 btree.c 中删除了一些 C++ 风格的注释，以便它可以使用除 gcc 以外的编译器进行编译。
- en: The ".dump" output from the shell does not work if there are embedded newlines
    anywhere in the data. This is an old bug that was carried forward from version
    1.0\. To fix it, the ".dump" output no longer uses the COPY command. It instead
    generates INSERT statements.
  id: totrans-3005
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果数据中有嵌入式换行符，则 shell 的 ".dump" 输出无法正常工作。这是一个从版本 1.0 传承下来的旧 bug。为了修复它，".dump"
    输出不再使用 COPY 命令，而是生成 INSERT 语句。
- en: Extend the expression syntax to support "expr NOT NULL" (with a space between
    the "NOT" and the "NULL") in addition to "expr NOTNULL" (with no space).
  id: totrans-3006
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扩展表达式语法以支持 "expr NOT NULL"（在 "NOT" 和 "NULL" 之间有一个空格）以及 "expr NOTNULL"（没有空格）。
- en: 2001-09-28 (2.0.0)
  id: totrans-3007
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-09-28 (2.0.0)
- en: Automatically build binaries for Linux and Windows and put them on the website.
  id: totrans-3008
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动构建 Linux 和 Windows 的二进制文件，并将它们放在网站上。
- en: 2001-09-28 (2.0-alpha-4)
  id: totrans-3009
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-09-28 (2.0-alpha-4)
- en: Incorporate makefile patches form A. Rottmann to use LIBTOOL
  id: totrans-3010
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 整合了 A. Rottmann 的 makefile 补丁，以使用 LIBTOOL。
- en: 2001-09-27 (2.0-alpha-3)
  id: totrans-3011
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-09-27 (2.0-alpha-3)
- en: SQLite now honors the UNIQUE keyword in CREATE UNIQUE INDEX. Primary keys are
    required to be unique.
  id: totrans-3012
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQLite 现在在 CREATE UNIQUE INDEX 中遵守 UNIQUE 关键字。主键必须是唯一的。
- en: File format changed back to what it was for alpha-1
  id: totrans-3013
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文件格式已更改回 alpha-1 版本。
- en: Fixes to the rollback and locking behavior
  id: totrans-3014
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了回滚和锁定行为
- en: 2001-09-20 (2.0-alpha-2)
  id: totrans-3015
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-09-20 (2.0-alpha-2)
- en: Initial release of version 2.0\. The idea of renaming the library to "SQLus"
    was abandoned in favor of keeping the "SQLite" name and bumping the major version
    number.
  id: totrans-3016
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 版本 2.0 的初始发布。将库重命名为 "SQLus" 的想法被放弃，而是保留了 "SQLite" 名称并增加了主版本号。
- en: The pager and btree subsystems added back. They are now the only available backend.
  id: totrans-3017
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分页器和btree子系统重新添加。它们现在是唯一可用的后端。
- en: The Dbbe abstraction and the GDBM and memory drivers were removed.
  id: totrans-3018
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除了Dbbe抽象和GDBM和内存驱动程序。
- en: Copyright on all code was disclaimed. The library is now in the public domain.
  id: totrans-3019
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有代码的版权已声明放弃。该库现在属于公共领域。
- en: 2001-07-23 (1.0.32)
  id: totrans-3020
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-07-23 (1.0.32)
- en: Pager and btree subsystems removed. These will be used in a follow-on SQL server
    library named "SQLus".
  id: totrans-3021
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分页器和btree子系统已移除。这些将用于后续的SQL服务器库，名为"SQLus"。
- en: Add the ability to use quoted strings as table and column names in expressions.
  id: totrans-3022
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了使用带引号的字符串作为表名和列名表达式的能力。
- en: 2001-04-15 (1.0.31)
  id: totrans-3023
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-04-15 (1.0.31)
- en: Pager subsystem added but not yet used.
  id: totrans-3024
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了分页子系统，但尚未使用。
- en: More robust handling of out-of-memory errors.
  id: totrans-3025
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更可靠地处理内存不足错误。
- en: New tests added to the test suite.
  id: totrans-3026
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测试套件新增了新的测试。
- en: 2001-04-06 (1.0.30)
  id: totrans-3027
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-04-06 (1.0.30)
- en: Remove the **sqlite_encoding** TCL variable that was introduced in the previous
    version.
  id: totrans-3028
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除了在上一版本中引入的**sqlite_encoding** TCL变量。
- en: Add options **-encoding** and **-tcl-uses-utf** to the **sqlite** TCL command.
  id: totrans-3029
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向sqlite TCL命令添加了**-encoding**和**-tcl-uses-utf**选项。
- en: Add tests to make sure that tclsqlite was compiled using Tcl header files and
    libraries that match.
  id: totrans-3030
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了测试以确保tclsqlite是使用与Tcl头文件和库匹配的编译的。
- en: 2001-04-05 (1.0.29)
  id: totrans-3031
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-04-05 (1.0.29)
- en: The library now assumes data is stored as UTF-8 if the --enable-utf8 option
    is given to configure. The default behavior is to assume iso8859-x, as it has
    always done. This only makes a difference for LIKE and GLOB operators and the
    LENGTH and SUBSTR functions.
  id: totrans-3032
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果在配置时提供了--enable-utf8选项，则库现在默认假定数据存储为UTF-8。默认行为始终假定为iso8859-x。这仅影响LIKE和GLOB运算符以及LENGTH和SUBSTR函数。
- en: If the library is not configured for UTF-8 and the Tcl library is one of the
    newer ones that uses UTF-8 internally, then a conversion from UTF-8 to iso8859
    and back again is done inside the TCL interface.
  id: totrans-3033
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果库未配置为UTF-8，并且Tcl库是使用UTF-8的较新版本之一，则在TCL接口内部会进行从UTF-8到iso8859的转换，然后再转回来。
- en: 2001-04-04 (1.0.28)
  id: totrans-3034
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-04-04 (1.0.28)
- en: Added limited support for transactions. At this point, transactions will do
    table locking on the GDBM backend. There is no support (yet) for rollback or atomic
    commit.
  id: totrans-3035
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对事务的有限支持。目前，事务将在GDBM后端上对表进行锁定。目前还不支持回滚或原子提交。
- en: Added special column names ROWID, OID, and _ROWID_ that refer to the unique
    random integer key associated with every row of every table.
  id: totrans-3036
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了特殊列名ROWID、OID和_ROWID_，它们分别指代每个表的每行的唯一随机整数键。
- en: Additional tests added to the regression suite to cover the new ROWID feature
    and the TCL interface bugs mentioned below.
  id: totrans-3037
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向回归套件添加了额外的测试，以覆盖新的ROWID功能和下文提到的TCL接口漏洞。
- en: Changes to the [Lemon parser generator](lemon.html) to help it work better when
    compiled using MSVC.
  id: totrans-3038
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对[Lemon解析生成器](lemon.html)进行了更改，以便在使用MSVC编译时能更好地工作。
- en: Bug fixes in the TCL interface identified by Oleg Oleinick.
  id: totrans-3039
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在由Oleg Oleinick指出的TCL接口中修复了漏洞。
- en: 2001-03-20 (1.0.27)
  id: totrans-3040
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-03-20 (1.0.27)
- en: When doing DELETE and UPDATE, the library used to write the record numbers of
    records to be deleted or updated into a temporary file. This is changed so that
    the record numbers are held in memory.
  id: totrans-3041
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在执行 DELETE 和 UPDATE 时，库原先会将待删除或更新的记录号写入临时文件中，现在改为将记录号保存在内存中。
- en: The DELETE command without a WHILE clause just removes the database files from
    the disk, rather than going through and deleting record by record.
  id: totrans-3042
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 没有 WHILE 子句的 DELETE 命令只会从磁盘上移除数据库文件，而不是逐条删除记录。
- en: 2001-03-20 (1.0.26)
  id: totrans-3043
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-03-20 (1.0.26)
- en: A serious bug fixed on Windows. Windows users should upgrade. No impact to Unix.
  id: totrans-3044
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 Windows 上的一个严重 bug。Windows 用户应该升级。对 Unix 没有影响。
- en: 2001-03-15 (1.0.25)
  id: totrans-3045
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-03-15 (1.0.25)
- en: Modify the test scripts to identify tests that depend on system load and processor
    speed and to warn the user that a failure of one of those (rare) tests does not
    necessarily mean the library is malfunctioning. No changes to code.
  id: totrans-3046
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改测试脚本，以标识依赖系统负载和处理器速度的测试，并警告用户一个（罕见）测试的失败并不一定意味着库出现故障。代码未更改。
- en: 2001-03-14 (1.0.24)
  id: totrans-3047
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-03-14 (1.0.24)
- en: Fix a bug which was causing the UPDATE command to fail on systems where "malloc(0)"
    returns NULL. The problem does not appear on Windows, Linux, or HPUX but does
    cause the library to fail on QNX.
  id: totrans-3048
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个 bug，该 bug 导致在 "malloc(0)" 返回 NULL 的系统上 UPDATE 命令执行失败。这个问题在 Windows、Linux
    或 HPUX 上不会出现，但会导致在 QNX 上库无法正常工作。
- en: 2001-02-20 (1.0.23)
  id: totrans-3049
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-02-20 (1.0.23)
- en: An unrelated (and minor) bug from Mark Muranwski fixed. The algorithm for figuring
    out where to put temporary files for a "memory:" database was not working quite
    right.
  id: totrans-3050
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了由 Mark Muranwski 发现的一个与 "memory:" 数据库的临时文件放置算法相关的（并且是次要的） bug。
- en: 2001-02-19 (1.0.22)
  id: totrans-3051
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-02-19 (1.0.22)
- en: The previous fix was not quite right. This one seems to work better.
  id: totrans-3052
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 先前的修复并不完全正确。这次修复似乎更有效。
- en: 2001-02-19 (1.0.21)
  id: totrans-3053
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-02-19 (1.0.21)
- en: The UPDATE statement was not working when the WHERE clause contained some terms
    that could be satisfied using indices and other terms that could not. Fixed.
  id: totrans-3054
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当 WHERE 子句包含一些可以使用索引满足的条件和其他无法满足的条件时，UPDATE 语句无法正常工作。已修复。
- en: 2001-02-11 (1.0.20)
  id: totrans-3055
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-02-11 (1.0.20)
- en: Merge development changes into the main trunk. Future work toward using a BTree
    file structure will use a separate CVS source tree. This CVS tree will continue
    to support the GDBM version of SQLite only.
  id: totrans-3056
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将开发变更合并到主干中。未来工作将朝向使用 B 树文件结构，将使用单独的 CVS 源代码树。这个 CVS 树将继续支持 SQLite 的 GDBM 版本。
- en: 2001-02-06 (1.0.19)
  id: totrans-3057
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-02-06 (1.0.19)
- en: Fix a strange (but valid) C declaration that was causing problems for QNX. No
    logical changes.
  id: totrans-3058
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复一个在 QNX 上引起问题的奇怪（但是有效）的 C 声明。逻辑没有变化。
- en: 2001-01-04 (1.0.18)
  id: totrans-3059
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2001-01-04 (1.0.18)
- en: Print the offending SQL statement when an error occurs.
  id: totrans-3060
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在出现错误时打印有问题的 SQL 语句。
- en: Do not require commas between constraints in CREATE TABLE statements.
  id: totrans-3061
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不再要求在 CREATE TABLE 语句的约束之间使用逗号。
- en: Added the "-echo" option to the shell.
  id: totrans-3062
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向 shell 添加了 "-echo" 选项。
- en: Changes to comments.
  id: totrans-3063
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对注释进行了修改。
- en: 2000-12-10 (1.0.17)
  id: totrans-3064
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-12-10 (1.0.17)
- en: Rewrote **sqlite_complete()** to make it faster.
  id: totrans-3065
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新编写 **sqlite_complete()** 以提高其速度。
- en: Minor tweaks to other code to make it run a little faster.
  id: totrans-3066
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对其他代码进行了一些微小的调整，以使其运行速度更快。
- en: Added new tests for **sqlite_complete()** and for memory leaks.
  id: totrans-3067
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_complete()**和内存泄漏的新测试。
- en: 2000-11-28 (1.0.16)
  id: totrans-3068
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-11-28（1.0.16）
- en: Documentation updates. Mostly fixing of typos and spelling errors.
  id: totrans-3069
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档更新。主要是修正了拼写错误和拼写错误。
- en: 2000-10-23 (1.0.15)
  id: totrans-3070
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-10-23（1.0.15）
- en: Documentation updates
  id: totrans-3071
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档更新
- en: Some sanity checking code was removed from the inner loop of vdbe.c to help
    the library to run a little faster. The code is only removed if you compile with
    -DNDEBUG.
  id: totrans-3072
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从vdbe.c的内部循环中删除了一些健全性检查代码，以帮助库运行速度更快。只有在使用-DNDEBUG编译时才删除该代码。
- en: 2000-10-19 (1.0.14)
  id: totrans-3073
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-10-19（1.0.14）
- en: Added a "memory:" backend driver that stores its database in an in-memory hash
    table.
  id: totrans-3074
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个"memory:"后端驱动程序，将其数据库存储在内存哈希表中。
- en: 2000-10-19 (1.0.13)
  id: totrans-3075
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-10-19（1.0.13）
- en: Break out the GDBM driver into a separate file in anticipation to added new
    drivers.
  id: totrans-3076
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将GDBM驱动程序分离到一个单独的文件中，以便预期添加新的驱动程序。
- en: Allow the name of a database to be prefixed by the driver type. For now, the
    only driver type is "gdbm:".
  id: totrans-3077
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许数据库名称以驱动程序类型为前缀。目前，唯一的驱动程序类型是"gdbm:"。
- en: 2000-10-17 (1.0.12)
  id: totrans-3078
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-10-17（1.0.12）
- en: Fixed an off-by-one error that was causing a coredump in the '%q' format directive
    of the new **sqlite_..._printf()** routines.
  id: totrans-3079
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了新**sqlite_..._printf()**例程中'%q'格式指令的一个导致核心转储的偏移错误。
- en: Added the **sqlite_interrupt()** interface.
  id: totrans-3080
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加了**sqlite_interrupt()**接口。
- en: In the shell, **sqlite_interrupt()** is invoked when the user presses Control-C
  id: totrans-3081
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在shell中，当用户按下Control-C时会调用**sqlite_interrupt()**。
- en: Fixed some instances where **sqlite_exec()** was returning the wrong error code.
  id: totrans-3082
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修正了一些**sqlite_exec()**返回错误代码错误的情况。
- en: 2000-10-11 (1.0.10)
  id: totrans-3083
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-10-11（1.0.10）
- en: Added notes on how to compile for Windows95/98.
  id: totrans-3084
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了如何为Windows95/98编译的说明。
- en: Removed a few variables that were not being used. Etc.
  id: totrans-3085
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除了一些未使用的变量。等等。
- en: 2000-10-09 (1.0.9)
  id: totrans-3086
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-10-09（1.0.9）
- en: Added the **sqlite_..._printf()** interface routines.
  id: totrans-3087
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_..._printf()**接口例程。
- en: Modified the **sqlite** shell program to use the new interface routines.
  id: totrans-3088
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了**sqlite** shell程序，以使用新的接口例程。
- en: Modified the **sqlite** shell program to print the schema for the built-in SQLITE_MASTER
    table, if explicitly requested.
  id: totrans-3089
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了**sqlite** shell程序，如果显式请求，打印内置SQLITE_MASTER表的架构。
- en: 2000-09-30 (1.0.8)
  id: totrans-3090
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-09-30（1.0.8）
- en: Begin writing documentation on the TCL interface.
  id: totrans-3091
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始撰写有关TCL接口的文档。
- en: 2000-09-29 (Not Released)
  id: totrans-3092
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-09-29（未发布）
- en: Added the **sqlite_get_table()** API
  id: totrans-3093
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_get_table()** API
- en: Updated the documentation for due to the above change.
  id: totrans-3094
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据上述更改更新了文档。
- en: Modified the **sqlite** shell to make use of the new sqlite_get_table() API
    in order to print a list of tables in multiple columns, similar to the way "ls"
    prints filenames.
  id: totrans-3095
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了**sqlite** shell程序，以使用新的sqlite_get_table() API，以便以多列的方式打印表格列表，类似于"ls"打印文件名。
- en: Modified the **sqlite** shell to print a semicolon at the end of each CREATE
    statement in the output of the ".schema" command.
  id: totrans-3096
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改了**sqlite** shell程序，在“.schema”命令的输出中每个CREATE语句的末尾打印了一个分号。
- en: 2000-09-21 (Not Released)
  id: totrans-3097
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-09-21（未发布）
- en: Change the tclsqlite "eval" method to return a list of results if no callback
    script is specified.
  id: totrans-3098
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改了 tclsqlite 的 "eval" 方法，如果未指定回调脚本，则返回结果列表。
- en: Change tclsqlite.c to use the Tcl_Obj interface
  id: totrans-3099
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 tclsqlite.c 以使用 Tcl_Obj 接口
- en: Add tclsqlite.c to the libsqlite.a library
  id: totrans-3100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 tclsqlite.c 添加到 libsqlite.a 库中
- en: 2000-09-14 (1.0.5)
  id: totrans-3101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-09-14 (1.0.5)
- en: Changed the print format for floating point values from "%g" to "%.15g".
  id: totrans-3102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将浮点数值的打印格式从 "%g" 改为 "%.15g"。
- en: 'Changed the comparison function so that numbers in exponential notation (ex:
    1.234e+05) sort in numerical order.'
  id: totrans-3103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改比较函数，使指数表示的数字（例如：1.234e+05）按数值顺序排序。
- en: 2000-08-28 (1.0.4)
  id: totrans-3104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-08-28 (1.0.4)
- en: Added functions **length()** and **substr()**.
  id: totrans-3105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了函数 **length()** 和 **substr()**。
- en: Fix a bug in the **sqlite** shell program that was causing a coredump when the
    output mode was "column" and the first row of data contained a NULL.
  id: totrans-3106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 **sqlite** shell 程序的一个 bug，当输出模式为 "column" 且数据的第一行包含 NULL 时，导致核心转储。
- en: 2000-08-22 (1.0.3)
  id: totrans-3107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-08-22 (1.0.3)
- en: In the sqlite shell, print the "Database opened READ ONLY" message to stderr
    instead of stdout.
  id: totrans-3108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 sqlite shell 中，将 "Database opened READ ONLY" 消息打印到 stderr 而不是 stdout。
- en: In the sqlite shell, now print the version number on initial startup.
  id: totrans-3109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 sqlite shell 中，现在在初始启动时打印版本号。
- en: Add the **sqlite_version[]** string constant to the library
  id: totrans-3110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 **sqlite_version[]** 字符串常量添加到库中
- en: Makefile updates
  id: totrans-3111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新 Makefile
- en: 'Bug fix: incorrect VDBE code was being generated for the following circumstance:
    a query on an indexed table containing a WHERE clause with an IN operator that
    had a subquery on its right-hand side.'
  id: totrans-3112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bug 修复：对于包含 WHERE 子句且具有子查询的索引表上的查询，生成的 VDBE 代码不正确。
- en: 2000-08-18 (1.0.1)
  id: totrans-3113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-08-18 (1.0.1)
- en: Fix a bug in the configure script.
  id: totrans-3114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了 configure 脚本中的一个 bug。
- en: Minor revisions to the website.
  id: totrans-3115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对网站进行了小幅修订。
- en: 2000-08-17 (1.0)
  id: totrans-3116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2000-08-17 (1.0)
- en: Change the **sqlite** program so that it can read databases for which it lacks
    write permission. (It used to refuse all access if it could not write.)
  id: totrans-3117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 **sqlite** 程序，使其能够读取其没有写权限的数据库。（它以前会拒绝所有访问，如果不能写入。）
- en: '2000-08-09'
  id: totrans-3118
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-08-09'
- en: Treat carriage returns as white space.
  id: totrans-3119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将回车符视为空白。
- en: '2000-08-08'
  id: totrans-3120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-08-08'
- en: Added pattern matching to the ".table" command in the "sqlite" command shell.
  id: totrans-3121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 "sqlite" 命令 shell 的 ".table" 命令中添加了模式匹配。
- en: '2000-08-04'
  id: totrans-3122
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-08-04'
- en: Documentation updates
  id: totrans-3123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新了文档
- en: Added "busy" and "timeout" methods to the Tcl interface
  id: totrans-3124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Tcl 接口中添加了 "busy" 和 "timeout" 方法。
- en: '2000-08-03'
  id: totrans-3125
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-08-03'
- en: File format version number was being stored in sqlite_master.tcl multiple times.
    This was harmless, but unnecessary. It is now fixed.
  id: totrans-3126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文件格式版本号多次存储在 sqlite_master.tcl 中。这虽然无害，但是不必要。现已修复。
- en: '2000-08-02'
  id: totrans-3127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-08-02'
- en: The file format for indices was changed slightly in order to work around an
    inefficiency that can sometimes come up with GDBM when there are large indices
    having many entries with the same key. ** Incompatible Change **
  id: totrans-3128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 索引的文件格式略有更改，以解决在具有大量相同键条目的大型索引中，使用 GDBM 时可能出现的低效率问题。 **不兼容更改**
- en: '2000-08-01'
  id: totrans-3129
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-08-01'
- en: The parser's stack was overflowing on a very long UPDATE statement. This is
    now fixed.
  id: totrans-3130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解析器的堆栈在非常长的UPDATE语句上溢出。此问题现已修复。
- en: '2000-07-31'
  id: totrans-3131
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-07-31'
- en: Finish the [VDBE tutorial](vdbe.html).
  id: totrans-3132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成[VDBE教程](vdbe.html)。
- en: Added documentation on compiling to WinNT.
  id: totrans-3133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了编译到WinNT的文档。
- en: Fix a configuration program for WinNT.
  id: totrans-3134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复WinNT的配置程序问题。
- en: Fix a configuration problem for HPUX.
  id: totrans-3135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复了HPUX的配置问题。
- en: '2000-07-29'
  id: totrans-3136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-07-29'
- en: Better labels on column names of the result.
  id: totrans-3137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果的列名标签更清晰。
- en: '2000-07-28'
  id: totrans-3138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-07-28'
- en: Added the **sqlite_busy_handler()** and **sqlite_busy_timeout()** interface.
  id: totrans-3139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**sqlite_busy_handler()**和**sqlite_busy_timeout()**接口。
- en: '2000-06-23'
  id: totrans-3140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-23'
- en: Begin writing the [VDBE tutorial](vdbe.html).
  id: totrans-3141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始编写[VDBE教程](vdbe.html)。
- en: '2000-06-21'
  id: totrans-3142
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-21'
- en: Clean up comments and variable names. Changes to documentation. No functional
    changes to the code.
  id: totrans-3143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 清理注释和变量名。对文档进行更改。代码没有功能性变化。
- en: '2000-06-19'
  id: totrans-3144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-19'
- en: Column names in UPDATE statements were case sensitive. This mistake has now
    been fixed.
  id: totrans-3145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: UPDATE语句中的列名区分大小写。此错误已修复。
- en: '2000-06-18'
  id: totrans-3146
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-18'
- en: Added the concatenate string operator (||)
  id: totrans-3147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了字符串连接运算符(||)。
- en: '2000-06-12'
  id: totrans-3148
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-12'
- en: Added the fcnt() function to the SQL interpreter. The fcnt() function returns
    the number of database "Fetch" operations that have occurred. This function is
    designed for use in test scripts to verify that queries are efficient and appropriately
    optimized. Fcnt() has no other useful purpose, as far as I know.
  id: totrans-3149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将fcnt()函数添加到SQL解释器中。fcnt()函数返回已发生的数据库“获取”操作次数。此函数设计用于测试脚本，以验证查询是否高效和适当优化。据我所知，fcnt()没有其他有用的目的。
- en: Added a bunch more tests that take advantage of the new fcnt() function. The
    new tests did not uncover any new problems.
  id: totrans-3150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了大量利用新fcnt()函数的测试。新测试未发现任何新问题。
- en: '2000-06-08'
  id: totrans-3151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-08'
- en: Added lots of new test cases
  id: totrans-3152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了大量新的测试用例。
- en: Fix a few bugs discovered while adding test cases
  id: totrans-3153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复添加测试用例时发现的几个错误。
- en: Begin adding lots of new documentation
  id: totrans-3154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始添加大量新文档。
- en: '2000-06-06'
  id: totrans-3155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-06'
- en: 'Added compound select operators: **UNION**, **UNION ALL**, **INTERSECT**, and
    **EXCEPT**'
  id: totrans-3156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了复合选择运算符：**UNION**，**UNION ALL**，**INTERSECT**和**EXCEPT**。
- en: Added support for using **(SELECT ...)** within expressions
  id: totrans-3157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了在表达式中使用**(SELECT ...)**的支持。
- en: Added support for **IN** and **BETWEEN** operators
  id: totrans-3158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对**IN**和**BETWEEN**操作符的支持。
- en: Added support for **GROUP BY** and **HAVING**
  id: totrans-3159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加对**GROUP BY**和**HAVING**的支持。
- en: NULL values are now reported to the callback as a NULL pointer rather than an
    empty string.
  id: totrans-3160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: NULL值现在作为NULL指针而不是空字符串报告给回调函数。
- en: '2000-06-03'
  id: totrans-3161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-03'
- en: Added support for default values on columns of a table.
  id: totrans-3162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对表列默认值的支持。
- en: Improved test coverage. Fixed a few obscure bugs found by the improved tests.
  id: totrans-3163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了测试覆盖率。修复了几个由改进测试发现的隐秘错误。
- en: '2000-06-02'
  id: totrans-3164
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-02'
- en: All database files to be modified by an UPDATE, INSERT or DELETE are now locked
    before any changes are made to any files. This makes it safe (I think) to access
    the same database simultaneously from multiple processes.
  id: totrans-3165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在对任何文件进行UPDATE、INSERT或DELETE更改之前，现在会锁定所有数据库文件。我认为这样做可以安全地同时从多个进程访问同一个数据库。
- en: The code appears stable so we are now calling it "beta".
  id: totrans-3166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 代码看起来稳定，因此我们现在称其为"beta"版本。
- en: '2000-06-01'
  id: totrans-3167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-06-01'
- en: Better support for file locking so that two or more processes (or threads) can
    access the same database simultaneously. More work needed in this area, though.
  id: totrans-3168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改进了文件锁定支持，使得两个或更多进程（或线程）能够同时访问同一个数据库。不过在这方面还需要更多工作。
- en: '2000-05-31'
  id: totrans-3169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-05-31'
- en: 'Added support for aggregate functions (Ex: **COUNT(*)**, **MIN(...)**) to the
    SELECT statement.'
  id: totrans-3170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向SELECT语句添加了对聚合函数的支持（例如**COUNT(*)**，**MIN(...)**
- en: Added support for **SELECT DISTINCT ...**
  id: totrans-3171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了对**SELECT DISTINCT ...**的支持
- en: '2000-05-30'
  id: totrans-3172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-05-30'
- en: Added the **LIKE** operator.
  id: totrans-3173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**LIKE**运算符。
- en: 'Added a **GLOB** operator: similar to **LIKE** but it uses Unix shell globbing
    wildcards instead of the ''%'' and ''_'' wildcards of SQL.'
  id: totrans-3174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个**GLOB**运算符：类似于**LIKE**，但它使用Unix shell的通配符而不是SQL的'%'和'_'通配符。
- en: Added the **COPY** command patterned after [PostgreSQL](http://www.postgresql.org/)
    so that SQLite can now read the output of the **pg_dump** database dump utility
    of PostgreSQL.
  id: totrans-3175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了**COPY**命令，模仿自[PostgreSQL](http://www.postgresql.org/)，使得SQLite现在能够读取PostgreSQL的**pg_dump**数据库转储实用程序的输出。
- en: Added a **VACUUM** command that calls the **gdbm_reorganize()** function on
    the underlying database files.
  id: totrans-3176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加了一个**VACUUM**命令，调用底层数据库文件的**gdbm_reorganize()**函数。
- en: And many, many bug fixes...
  id: totrans-3177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以及许多、许多的错误修复...
- en: '2000-05-29'
  id: totrans-3178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '2000-05-29'
- en: Initial Public Release of Alpha code
  id: totrans-3179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始公开发布的Alpha版本
