- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/grant.html](https://dev.mysql.com/doc/refman/8.0/en/grant.html)
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/grant.html](https://dev.mysql.com/doc/refman/8.0/en/grant.html)
- en: 15.7.1.6 GRANT Statement
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 15.7.1.6 GRANT 语句
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement assigns privileges
    and roles to MySQL user accounts and roles. There are several aspects to the [`GRANT`](grant.html
    "15.7.1.6 GRANT Statement") statement, described under the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[`GRANT`](grant.html "15.7.1.6 GRANT 语句") 语句将特权和角色分配给 MySQL 用户账户和角色。[`GRANT`](grant.html
    "15.7.1.6 GRANT 语句") 语句有几个方面，描述如下主题：'
- en: '[GRANT General Overview](grant.html#grant-overview "GRANT General Overview")'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[GRANT 概述](grant.html#grant-overview "GRANT 概述")'
- en: '[Object Quoting Guidelines](grant.html#grant-quoting "Object Quoting Guidelines")'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[对象引用指南](grant.html#grant-quoting "对象引用指南")'
- en: '[Account Names](grant.html#grant-accounts "Account Names")'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[账户名称](grant.html#grant-accounts "账户名称")'
- en: '[Privileges Supported by MySQL](grant.html#grant-privileges "Privileges Supported
    by MySQL")'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL 支持的特权](grant.html#grant-privileges "MySQL 支持的特权")'
- en: '[Global Privileges](grant.html#grant-global-privileges "Global Privileges")'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[全局特权](grant.html#grant-global-privileges "全局特权")'
- en: '[Database Privileges](grant.html#grant-database-privileges "Database Privileges")'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[数据库特权](grant.html#grant-database-privileges "数据库特权")'
- en: '[Table Privileges](grant.html#grant-table-privileges "Table Privileges")'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[表特权](grant.html#grant-table-privileges "表特权")'
- en: '[Column Privileges](grant.html#grant-column-privileges "Column Privileges")'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[列特权](grant.html#grant-column-privileges "列特权")'
- en: '[Stored Routine Privileges](grant.html#grant-routine-privileges "Stored Routine
    Privileges")'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[存储过程特权](grant.html#grant-routine-privileges "存储过程特权")'
- en: '[Proxy User Privileges](grant.html#grant-proxy-privileges "Proxy User Privileges")'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[代理用户特权](grant.html#grant-proxy-privileges "代理用户特权")'
- en: '[Granting Roles](grant.html#grant-roles "Granting Roles")'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[授予角色](grant.html#grant-roles "授予角色")'
- en: '[The `AS` Clause and Privilege Restrictions](grant.html#grant-as "The AS Clause
    and Privilege Restrictions")'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`AS` 子句和特权限制](grant.html#grant-as "AS 子句和特权限制")'
- en: '[Other Account Characteristics](grant.html#grant-other-characteristics "Other
    Account Characteristics")'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[其他账户特性](grant.html#grant-other-characteristics "其他账户特性")'
- en: '[MySQL and Standard SQL Versions of GRANT](grant.html#grant-mysql-vs-standard-sql
    "MySQL and Standard SQL Versions of GRANT")'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[MySQL 和标准 SQL 版本的 GRANT](grant.html#grant-mysql-vs-standard-sql "MySQL 和标准
    SQL 版本的 GRANT")'
- en: GRANT General Overview
  id: totrans-18
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: GRANT 概述
- en: 'The [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement enables system
    administrators to grant privileges and roles, which can be granted to user accounts
    and roles. These syntax restrictions apply:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[`GRANT`](grant.html "15.7.1.6 GRANT 语句") 语句使系统管理员能够授予特权和角色，这些可以授予给用户账户和角色。这些语法限制适用：'
- en: '[`GRANT`](grant.html "15.7.1.6 GRANT Statement") cannot mix granting both privileges
    and roles in the same statement. A given [`GRANT`](grant.html "15.7.1.6 GRANT
    Statement") statement must grant either privileges or roles.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`GRANT`](grant.html "15.7.1.6 GRANT 语句") 不能在同一语句中混合授予特权和角色。给定的 [`GRANT`](grant.html
    "15.7.1.6 GRANT 语句") 语句必须授予特权或角色之一。'
- en: 'The `ON` clause distinguishes whether the statement grants privileges or roles:'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ON` 子句区分语句是授予特权还是角色：'
- en: With `ON`, the statement grants privileges.
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有了 `ON`，该语句授予特权。
- en: Without `ON`, the statement grants roles.
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有 `ON`，该语句授予角色。
- en: It is permitted to assign both privileges and roles to an account, but you must
    use separate [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statements, each
    with syntax appropriate to what is to be granted.
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许将特权和角色同时分配给一个账户，但必须使用单独的 [`GRANT`](grant.html "15.7.1.6 GRANT 语句") 语句，每个语句的语法适用于所要授予的内容。
- en: For more information about roles, see [Section 8.2.10, “Using Roles”](roles.html
    "8.2.10 Using Roles").
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 有关角色的更多信息，请参见 [第 8.2.10 节，“使用角色”](roles.html "8.2.10 使用角色")。
- en: To grant a privilege with [`GRANT`](grant.html "15.7.1.6 GRANT Statement"),
    you must have the [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    privilege, and you must have the privileges that you are granting. (Alternatively,
    if you have the [`UPDATE`](privileges-provided.html#priv_update) privilege for
    the grant tables in the `mysql` system schema, you can grant any account any privilege.)
    When the [`read_only`](server-system-variables.html#sysvar_read_only) system variable
    is enabled, [`GRANT`](grant.html "15.7.1.6 GRANT Statement") additionally requires
    the [`CONNECTION_ADMIN`](privileges-provided.html#priv_connection-admin) privilege
    (or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用[`GRANT`](grant.html "15.7.1.6 GRANT Statement")授予特权，您必须具有[`GRANT OPTION`](privileges-provided.html#priv_grant-option)特权，并且必须具有您正在授予的特权。
    （或者，如果您对`mysql`系统模式中的授权表具有[`UPDATE`](privileges-provided.html#priv_update)特权，则可以授予任何账户任何特权。）当启用[`read_only`](server-system-variables.html#sysvar_read_only)系统变量时，[`GRANT`](grant.html
    "15.7.1.6 GRANT Statement")还需要[`CONNECTION_ADMIN`](privileges-provided.html#priv_connection-admin)特权（或已弃用的[`SUPER`](privileges-provided.html#priv_super)特权）。
- en: '[`GRANT`](grant.html "15.7.1.6 GRANT Statement") either succeeds for all named
    users and roles or rolls back and has no effect if any error occurs. The statement
    is written to the binary log only if it succeeds for all named users and roles.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[`GRANT`](grant.html "15.7.1.6 GRANT Statement")对所有指定的用户和角色都成功时才会成功，如果出现任何错误，则会回滚并且不会产生任何效果。只有当对所有指定的用户和角色都成功时，该语句才会被写入二进制日志。'
- en: The [`REVOKE`](revoke.html "15.7.1.8 REVOKE Statement") statement is related
    to [`GRANT`](grant.html "15.7.1.6 GRANT Statement") and enables administrators
    to remove account privileges. See [Section 15.7.1.8, “REVOKE Statement”](revoke.html
    "15.7.1.8 REVOKE Statement").
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[`REVOKE`](revoke.html "15.7.1.8 REVOKE Statement")语句与[`GRANT`](grant.html
    "15.7.1.6 GRANT Statement")相关，允许管理员撤销账户特权。参见[Section 15.7.1.8, “REVOKE Statement”](revoke.html
    "15.7.1.8 REVOKE Statement")。'
- en: 'Each account name uses the format described in [Section 8.2.4, “Specifying
    Account Names”](account-names.html "8.2.4 Specifying Account Names"). Each role
    name uses the format described in [Section 8.2.5, “Specifying Role Names”](role-names.html
    "8.2.5 Specifying Role Names"). For example:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 每个账户名称使用[Section 8.2.4, “Specifying Account Names”](account-names.html "8.2.4 Specifying
    Account Names”)中描述的格式。每个角色名称使用[Section 8.2.5, “Specifying Role Names”](role-names.html
    "8.2.5 Specifying Role Names”)中描述的格式。例如：
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The host name part of the account or role name, if omitted, defaults to `'%'`.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如果省略账户或角色名称的主机名部分，则默认为`'%'`。
- en: 'Normally, a database administrator first uses [`CREATE USER`](create-user.html
    "15.7.1.3 CREATE USER Statement") to create an account and define its nonprivilege
    characteristics such as its password, whether it uses secure connections, and
    limits on access to server resources, then uses [`GRANT`](grant.html "15.7.1.6 GRANT
    Statement") to define its privileges. [`ALTER USER`](alter-user.html "15.7.1.1 ALTER
    USER Statement") may be used to change the nonprivilege characteristics of existing
    accounts. For example:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，数据库管理员首先使用[`CREATE USER`](create-user.html "15.7.1.3 CREATE USER Statement")创建一个账户并定义其非特权特征，如密码、是否使用安全连接以及对服务器资源访问的限制，然后使用[`GRANT`](grant.html
    "15.7.1.6 GRANT Statement")定义其特权。可以使用[`ALTER USER`](alter-user.html "15.7.1.1 ALTER
    USER Statement")来更改现有账户的非特权特征。例如：
- en: '[PRE2]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: From the [**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")
    program, [`GRANT`](grant.html "15.7.1.6 GRANT Statement") responds with `Query
    OK, 0 rows affected` when executed successfully. To determine what privileges
    result from the operation, use [`SHOW GRANTS`](show-grants.html "15.7.7.21 SHOW
    GRANTS Statement"). See [Section 15.7.7.21, “SHOW GRANTS Statement”](show-grants.html
    "15.7.7.21 SHOW GRANTS Statement").
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 从[**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")程序中，当成功执行[`GRANT`](grant.html
    "15.7.1.6 GRANT Statement")时，会显示`Query OK, 0 rows affected`。要确定操作的结果产生了哪些特权，请使用[`SHOW
    GRANTS`](show-grants.html "15.7.7.21 SHOW GRANTS Statement")。参见[Section 15.7.7.21,
    “SHOW GRANTS Statement”](show-grants.html "15.7.7.21 SHOW GRANTS Statement")。
- en: Important
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Under some circumstances, [`GRANT`](grant.html "15.7.1.6 GRANT Statement") may
    be recorded in server logs or on the client side in a history file such as `~/.mysql_history`,
    which means that cleartext passwords may be read by anyone having read access
    to that information. For information about the conditions under which this occurs
    for the server logs and how to control it, see [Section 8.1.2.3, “Passwords and
    Logging”](password-logging.html "8.1.2.3 Passwords and Logging"). For similar
    information about client-side logging, see [Section 6.5.1.3, “mysql Client Logging”](mysql-logging.html
    "6.5.1.3 mysql Client Logging").
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，[`GRANT`](grant.html "15.7.1.6 GRANT Statement")可能会记录在服务器日志中或在客户端的历史文件中，例如`~/.mysql_history`，这意味着任何具有读取该信息权限的人都可以读取明文密码。有关在服务器日志中发生这种情况的条件以及如何控制它的信息，请参阅[第8.1.2.3节，“密码和日志记录”](password-logging.html
    "8.1.2.3 Passwords and Logging")。有关客户端日志记录的类似信息，请参阅[第6.5.1.3节，“mysql客户端日志记录”](mysql-logging.html
    "6.5.1.3 mysql Client Logging")。
- en: '[`GRANT`](grant.html "15.7.1.6 GRANT Statement") supports host names up to
    255 characters long (60 characters prior to MySQL 8.0.17). User names can be up
    to 32 characters. Database, table, column, and routine names can be up to 64 characters.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '[`GRANT`](grant.html "15.7.1.6 GRANT Statement")支持长达255个字符的主机名（在MySQL 8.0.17之前为60个字符）。用户名最多可达32个字符。数据库、表、列和例程名称最多可达64个字符。'
- en: Warning
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: '*Do not attempt to change the permissible length for user names by altering
    the `mysql.user` system table. Doing so results in unpredictable behavior which
    may even make it impossible for users to log in to the MySQL server*. Never alter
    the structure of tables in the `mysql` system schema in any manner except by means
    of the procedure described in [Chapter 3, *Upgrading MySQL*](upgrading.html "Chapter 3 Upgrading
    MySQL").'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '*不要尝试通过修改`mysql.user`系统表来更改用户名称的允许长度。这样做会导致不可预测的行为，甚至可能使用户无法登录到MySQL服务器*。除非通过[第3章，“升级MySQL”](upgrading.html
    "Chapter 3 Upgrading MySQL")中描述的过程，否则永远不要以任何方式更改`mysql`系统模式中表的结构。'
- en: Object Quoting Guidelines
  id: totrans-40
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 对象引用指南
- en: 'Several objects within [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statements
    are subject to quoting, although quoting is optional in many cases: Account, role,
    database, table, column, and routine names. For example, if a *`user_name`* or
    *`host_name`* value in an account name is legal as an unquoted identifier, you
    need not quote it. However, quotation marks are necessary to specify a *`user_name`*
    string containing special characters (such as `-`), or a *`host_name`* string
    containing special characters or wildcard characters such as `%` (for example,
    `''test-user''@''%.com''`). Quote the user name and host name separately.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句中，有几个对象需要引用，尽管在许多情况下引用是可选的：账户、角色、数据库、表、列和例程名称。例如，如果账户名中的*`user_name`*或*`host_name`*值作为未引用的标识符是合法的，那么你无需对其进行引用。然而，引号是必要的，以指定包含特殊字符（如`-`）的*`user_name`*字符串，或包含特殊字符或通配符字符（例如，`'test-user'@'%.com'`）的*`host_name`*字符串。分别引用用户名和主机名。
- en: 'To specify quoted values:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 要指定引用值：
- en: Quote database, table, column, and routine names as identifiers.
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据库、表、列和例程名称引用为标识符。
- en: Quote user names and host names as identifiers or as strings.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将用户名称和主机名引用为标识符或字符串。
- en: Quote passwords as strings.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将密码作为字符串进行引用。
- en: For string-quoting and identifier-quoting guidelines, see [Section 11.1.1, “String
    Literals”](string-literals.html "11.1.1 String Literals"), and [Section 11.2,
    “Schema Object Names”](identifiers.html "11.2 Schema Object Names").
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 有关字符串引用和标识符引用的指南，请参阅[第11.1.1节，“字符串文字”](string-literals.html "11.1.1 String Literals")和[第11.2节，“模式对象名称”](identifiers.html
    "11.2 Schema Object Names")。
- en: Important
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 重要
- en: The use of the wildcard characters `%` and `_` as described in the next few
    paragraphs is deprecated as of MySQL 8.0.35 and thus subject to removal in a future
    version of MySQL.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如下几段所述的通配符字符`%`和`_`在MySQL 8.0.35中已被弃用，因此可能在未来的MySQL版本中被移除。
- en: The `_` and `%` wildcards are permitted when specifying database names in [`GRANT`](grant.html
    "15.7.1.6 GRANT Statement") statements that grant privileges at the database level
    (`GRANT ... ON *`db_name`*.*`). This means, for example, that to use a `_` character
    as part of a database name, specify it using the `\` escape character as `\_`
    in the [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement, to prevent
    the user from being able to access additional databases matching the wildcard
    pattern (for example, `GRANT ... ON `foo\_bar`.* TO ...`).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句中指定数据库名称时允许使用`_`和`%`通配符（`GRANT
    ... ON *`db_name`*.*`）。这意味着，例如，要在数据库名称中使用`_`字符，可以在[`GRANT`](grant.html "15.7.1.6 GRANT
    Statement")语句中使用`\`转义字符指定为`\_`，以防止用户能够访问与通配符模式匹配的其他数据库（例如，`GRANT ... ON `foo\_bar`.*
    TO ...`）。
- en: 'Issuing multiple `GRANT` statements containing wildcards may not have the expected
    effect on DML statements; when resolving grants involving wildcards, MySQL takes
    only the first matching grant into consideration. In other words, if a user has
    two database-level grants using wildcards that match the same database, the grant
    which was created first is applied. Consider the database `db` and table `t` created
    using the statements shown here:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 包含通配符的多个`GRANT`语句可能对DML语句产生意外效果；在解析涉及通配符的授权时，MySQL只考虑第一个匹配的授权。换句话说，如果一个用户有两个使用通配符匹配同一数据库的数据库级授权，那么将应用首先创建的授权。考虑使用以下语句创建的数据库`db`和表`t`：
- en: '[PRE3]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Next (assuming that the current account is the MySQL `root` account or another
    account having the necessary privileges), we create a user `u` then issue two
    `GRANT` statements containing wildcards, like this:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来（假设当前账户是MySQL `root`账户或具有必要权限的其他账户），我们创建一个用户`u`，然后发出两个包含通配符的`GRANT`语句，如下所示：
- en: '[PRE4]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'If we end the session and then log in again with the [**mysql**](mysql.html
    "6.5.1 mysql — The MySQL Command-Line Client") client, this time as **u**, we
    see that this account has only the privilege provided by the first matching grant,
    but not the second:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们结束会话，然后使用[**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")客户端再次登录，这次作为**u**，我们会发现该账户只有第一个匹配授权提供的权限，而不是第二个：
- en: '[PRE6]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'In privilege assignments, MySQL interprets occurrences of unescaped `_` and
    `%` SQL wildcard characters in database names as literal characters under these
    circumstances:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在权限分配中，MySQL在以下情况下将数据库名称中未转义的`_`和`%` SQL通配符字符解释为字面字符：
- en: When a database name is not used to grant privileges at the database level,
    but as a qualifier for granting privileges to some other object such as a table
    or routine (for example, `GRANT ... ON *`db_name`*.*`tbl_name`*`).
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当数据库名称未用于在数据库级别授予权限，而是作为授予权限给其他对象（例如表或例程）的限定符时（例如，`GRANT ... ON *`db_name`*.*`tbl_name`*`）。
- en: Enabling [`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)
    causes MySQL to interpret unescaped `_` and `%` wildcard characters in database
    names as literal characters, just as if they had been escaped as `\_` and `\%`.
    Because this changes how MySQL interprets privileges, it may be advisable to avoid
    unescaped wildcard characters in privilege assignments for installations where
    [`partial_revokes`](server-system-variables.html#sysvar_partial_revokes) may be
    enabled. For more information, see [Section 8.2.12, “Privilege Restriction Using
    Partial Revokes”](partial-revokes.html "8.2.12 Privilege Restriction Using Partial
    Revokes").
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用[`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)会导致MySQL将数据库名称中未转义的`_`和`%`通配符字符解释为字面字符，就好像它们已经被转义为`\_`和`\%`一样。因为这会改变MySQL解释权限的方式，建议在可能启用[`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)的安装中避免未转义的通配符字符在权限分配中出现。有关更多信息，请参见[Section 8.2.12，“使用部分撤销进行权限限制”](partial-revokes.html
    "8.2.12 Privilege Restriction Using Partial Revokes")。
- en: Account Names
  id: totrans-61
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 账户名称
- en: A *`user`* value in a [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement
    indicates a MySQL account to which the statement applies. To accommodate granting
    rights to users from arbitrary hosts, MySQL supports specifying the *`user`* value
    in the form `'*`user_name`*'@'*`host_name`*'`.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句中的*`user`*值表示适用于该语句的MySQL账户。为了允许向来自任意主机的用户授予权限，MySQL支持以`'*`user_name`*'@'*`host_name`*'`形式指定*`user`*值。
- en: You can specify wildcards in the host name. For example, `'*`user_name`*'@'%.example.com'`
    applies to *`user_name`* for any host in the `example.com` domain, and `'*`user_name`*'@'198.51.100.%'`
    applies to *`user_name`* for any host in the `198.51.100` class C subnet.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在主机名中指定通配符。例如，`'*`user_name`*'@'%.example.com'`适用于`example.com`域中的*`user_name`*，而`'*`user_name`*'@'198.51.100.%'`适用于`198.51.100`类C子网中的*`user_name`*。
- en: The simple form `'*`user_name`*'` is a synonym for `'*`user_name`*'@'%'`.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 简单形式的`'*`user_name`*'`是`'*`user_name`*'@'%'`的同义词。
- en: Note
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: MySQL automatically assigns all privileges granted to `'*`username`*'@'%'` to
    the `'*`username`*'@'localhost'` account as well. This behavior is deprecated
    in MySQL 8.0.35 and later MySQL 8.0 releases, and is subject to removal in a future
    version of MySQL.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL自动将授予`'*`username`*'@'%'`的所有权限也分配给`'*`username`*'@'localhost'`帐户。此行为在MySQL
    8.0.35及更高版本中已弃用，并可能在将来的MySQL版本中删除。
- en: '*MySQL does not support wildcards in user names*. To refer to an anonymous
    user, specify an account with an empty user name with the [`GRANT`](grant.html
    "15.7.1.6 GRANT Statement") statement:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '*MySQL不支持用户名称中的通配符*。要引用匿名用户，请使用带有空用户名称的帐户在[`GRANT`](grant.html "15.7.1.6 GRANT
    Statement")语句中指定：'
- en: '[PRE8]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: In this case, any user who connects from the local host with the correct password
    for the anonymous user is permitted access, with the privileges associated with
    the anonymous-user account.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，任何使用正确密码从本地主机连接的用户都被允许访问匿名用户帐户关联的权限。
- en: For additional information about user name and host name values in account names,
    see [Section 8.2.4, “Specifying Account Names”](account-names.html "8.2.4 Specifying
    Account Names").
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 有关帐户名称中用户名和主机名值的附加信息，请参阅[Section 8.2.4, “Specifying Account Names”](account-names.html
    "8.2.4 Specifying Account Names")。
- en: Warning
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: 'If you permit local anonymous users to connect to the MySQL server, you should
    also grant privileges to all local users as `''*`user_name`*''@''localhost''`.
    Otherwise, the anonymous user account for `localhost` in the `mysql.user` system
    table is used when named users try to log in to the MySQL server from the local
    machine. For details, see [Section 8.2.6, “Access Control, Stage 1: Connection
    Verification”](connection-access.html "8.2.6 Access Control, Stage 1: Connection
    Verification").'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '如果允许本地匿名用户连接到MySQL服务器，则还应将所有本地用户的权限授予为`''*`user_name`*''@''localhost''`。否则，当命名用户尝试从本地计算机登录到MySQL服务器时，将在`mysql.user`系统表中使用`localhost`的匿名用户帐户。有关详细信息，请参阅[Section 8.2.6,
    “Access Control, Stage 1: Connection Verification”](connection-access.html "8.2.6 Access
    Control, Stage 1: Connection Verification")。'
- en: 'To determine whether this issue applies to you, execute the following query,
    which lists any anonymous users:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 要确定此问题是否适用于您，请执行以下查询，列出任何匿名用户：
- en: '[PRE9]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'To avoid the problem just described, delete the local anonymous user account
    using this statement:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 要避免刚才描述的问题，使用以下语句删除本地匿名用户帐户：
- en: '[PRE10]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Privileges Supported by MySQL
  id: totrans-77
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL支持的权限
- en: The following tables summarize the permissible static and dynamic *`priv_type`*
    privilege types that can be specified for the [`GRANT`](grant.html "15.7.1.6 GRANT
    Statement") and [`REVOKE`](revoke.html "15.7.1.8 REVOKE Statement") statements,
    and the levels at which each privilege can be granted. For additional information
    about each privilege, see [Section 8.2.2, “Privileges Provided by MySQL”](privileges-provided.html
    "8.2.2 Privileges Provided by MySQL"). For information about the differences between
    static and dynamic privileges, see [Static Versus Dynamic Privileges](privileges-provided.html#static-dynamic-privileges
    "Static Versus Dynamic Privileges").
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表总结了可以为[`GRANT`](grant.html "15.7.1.6 GRANT Statement")和[`REVOKE`](revoke.html
    "15.7.1.8 REVOKE Statement")语句指定的静态和动态*`priv_type`*权限类型，以及可以授予每个权限的级别。有关每个权限的更多信息，请参阅[Section 8.2.2,
    “Privileges Provided by MySQL”](privileges-provided.html "8.2.2 Privileges Provided
    by MySQL")。有关静态和动态权限之间的区别，请参阅[Static Versus Dynamic Privileges](privileges-provided.html#static-dynamic-privileges
    "Static Versus Dynamic Privileges")。
- en: '**Table 15.11 Permissible Static Privileges for GRANT and REVOKE**'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '**Table 15.11 Permissible Static Privileges for GRANT and REVOKE**'
- en: '| Privilege | Meaning and Grantable Levels |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| 权限 | 意义和可授予级别 |'
- en: '| [`ALL [PRIVILEGES]`](privileges-provided.html#priv_all) | Grant all privileges
    at specified access level except [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    and [`PROXY`](privileges-provided.html#priv_proxy). |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| [`ALL [PRIVILEGES]`](privileges-provided.html#priv_all) | 在指定的访问级别授予所有权限，除了[`GRANT
    OPTION`](privileges-provided.html#priv_grant-option)和[`PROXY`](privileges-provided.html#priv_proxy)。
    |'
- en: '| [`ALTER`](privileges-provided.html#priv_alter) | Enable use of [`ALTER TABLE`](alter-table.html
    "15.1.9 ALTER TABLE Statement"). Levels: Global, database, table. |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| [`ALTER`](privileges-provided.html#priv_alter) | 启用使用[`ALTER TABLE`](alter-table.html
    "15.1.9 ALTER TABLE Statement")。级别：全局，数据库，表。 |'
- en: '| [`ALTER ROUTINE`](privileges-provided.html#priv_alter-routine) | Enable stored
    routines to be altered or dropped. Levels: Global, database, routine. |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| [`ALTER ROUTINE`](privileges-provided.html#priv_alter-routine) | 启用存储过程的修改或删除。级别：全局，数据库，存储过程。
    |'
- en: '| [`CREATE`](privileges-provided.html#priv_create) | Enable database and table
    creation. Levels: Global, database, table. |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE`](privileges-provided.html#priv_create) | 启用数据库和表的创建。级别：全局，数据库，表。
    |'
- en: '| [`CREATE ROLE`](privileges-provided.html#priv_create-role) | Enable role
    creation. Level: Global. |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE ROLE`](privileges-provided.html#priv_create-role) | 启用角色的创建。级别：全局。
    |'
- en: '| [`CREATE ROUTINE`](privileges-provided.html#priv_create-routine) | Enable
    stored routine creation. Levels: Global, database. |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE ROUTINE`](privileges-provided.html#priv_create-routine) | 启用存储过程的创建。级别：全局，数据库。
    |'
- en: '| [`CREATE TABLESPACE`](privileges-provided.html#priv_create-tablespace) |
    Enable tablespaces and log file groups to be created, altered, or dropped. Level:
    Global. |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE TABLESPACE`](privileges-provided.html#priv_create-tablespace) |
    启用创建、修改或删除表空间和日志文件组。级别：全局。 |'
- en: '| [`CREATE TEMPORARY TABLES`](privileges-provided.html#priv_create-temporary-tables)
    | Enable use of [`CREATE TEMPORARY TABLE`](create-table.html "15.1.20 CREATE TABLE
    Statement"). Levels: Global, database. |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE TEMPORARY TABLES`](privileges-provided.html#priv_create-temporary-tables)
    | 启用使用[`CREATE TEMPORARY TABLE`](create-table.html "15.1.20 CREATE TABLE Statement")。级别：全局，数据库。
    |'
- en: '| [`CREATE USER`](privileges-provided.html#priv_create-user) | Enable use of
    [`CREATE USER`](create-user.html "15.7.1.3 CREATE USER Statement"), [`DROP USER`](drop-user.html
    "15.7.1.5 DROP USER Statement"), [`RENAME USER`](rename-user.html "15.7.1.7 RENAME
    USER Statement"), and [`REVOKE ALL PRIVILEGES`](revoke.html "15.7.1.8 REVOKE Statement").
    Level: Global. |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE USER`](privileges-provided.html#priv_create-user) | 启用使用[`CREATE
    USER`](create-user.html "15.7.1.3 CREATE USER Statement")、[`DROP USER`](drop-user.html
    "15.7.1.5 DROP USER Statement")、[`RENAME USER`](rename-user.html "15.7.1.7 RENAME
    USER Statement")和[`REVOKE ALL PRIVILEGES`](revoke.html "15.7.1.8 REVOKE Statement")。级别：全局。
    |'
- en: '| [`CREATE VIEW`](privileges-provided.html#priv_create-view) | Enable views
    to be created or altered. Levels: Global, database, table. |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| [`CREATE VIEW`](privileges-provided.html#priv_create-view) | 启用视图的创建或修改。级别：全局，数据库，表。
    |'
- en: '| [`DELETE`](privileges-provided.html#priv_delete) | Enable use of [`DELETE`](delete.html
    "15.2.2 DELETE Statement"). Level: Global, database, table. |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| [`DELETE`](privileges-provided.html#priv_delete) | 启用[`DELETE`](delete.html
    "15.2.2 DELETE Statement")的使用。级别：全局，数据库，表。 |'
- en: '| [`DROP`](privileges-provided.html#priv_drop) | Enable databases, tables,
    and views to be dropped. Levels: Global, database, table. |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| [`DROP`](privileges-provided.html#priv_drop) | 启用数据库、表和视图的删除。级别：全局，数据库，表。
    |'
- en: '| [`DROP ROLE`](privileges-provided.html#priv_drop-role) | Enable roles to
    be dropped. Level: Global. |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| [`DROP ROLE`](privileges-provided.html#priv_drop-role) | 启用角色的删除。级别：全局。 |'
- en: '| [`EVENT`](privileges-provided.html#priv_event) | Enable use of events for
    the Event Scheduler. Levels: Global, database. |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| [`EVENT`](privileges-provided.html#priv_event) | 启用事件调度器的事件使用。级别：全局，数据库。
    |'
- en: '| [`EXECUTE`](privileges-provided.html#priv_execute) | Enable the user to execute
    stored routines. Levels: Global, database, routine. |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| [`EXECUTE`](privileges-provided.html#priv_execute) | 启用用户执行存储过程。级别：全局，数据库，存储过程。
    |'
- en: '| [`FILE`](privileges-provided.html#priv_file) | Enable the user to cause the
    server to read or write files. Level: Global. |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| [`FILE`](privileges-provided.html#priv_file) | 启用用户使服务器读取或写入文件。级别：全局。 |'
- en: '| [`GRANT OPTION`](privileges-provided.html#priv_grant-option) | Enable privileges
    to be granted to or removed from other accounts. Levels: Global, database, table,
    routine, proxy. |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| [`GRANT OPTION`](privileges-provided.html#priv_grant-option) | 启用将权限授予或从其他帐户中移除的功能。级别：全局，数据库，表，存储过程，代理。
    |'
- en: '| [`INDEX`](privileges-provided.html#priv_index) | Enable indexes to be created
    or dropped. Levels: Global, database, table. |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| [`INDEX`](privileges-provided.html#priv_index) | 启用索引的创建或删除。级别：全局，数据库，表。
    |'
- en: '| [`INSERT`](privileges-provided.html#priv_insert) | Enable use of [`INSERT`](insert.html
    "15.2.7 INSERT Statement"). Levels: Global, database, table, column. |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| [`INSERT`](privileges-provided.html#priv_insert) | 启用[`INSERT`](insert.html
    "15.2.7 INSERT Statement")的使用。级别：全局，数据库，表，列。 |'
- en: '| [`LOCK TABLES`](privileges-provided.html#priv_lock-tables) | Enable use of
    [`LOCK TABLES`](lock-tables.html "15.3.6 LOCK TABLES and UNLOCK TABLES Statements")
    on tables for which you have the [`SELECT`](select.html "15.2.13 SELECT Statement")
    privilege. Levels: Global, database. |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| [`LOCK TABLES`](privileges-provided.html#priv_lock-tables) | 允许在具有[`SELECT`](select.html
    "15.2.13 SELECT Statement")权限的表上使用[`LOCK TABLES`](lock-tables.html "15.3.6 LOCK
    TABLES and UNLOCK TABLES Statements")。级别：全局，数据库。 |'
- en: '| [`PROCESS`](privileges-provided.html#priv_process) | Enable the user to see
    all processes with [`SHOW PROCESSLIST`](show-processlist.html "15.7.7.29 SHOW
    PROCESSLIST Statement"). Level: Global. |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| [`PROCESS`](privileges-provided.html#priv_process) | 允许用户使用[`SHOW PROCESSLIST`](show-processlist.html
    "15.7.7.29 SHOW PROCESSLIST Statement")查看所有进程。级别：全局。 |'
- en: '| [`PROXY`](privileges-provided.html#priv_proxy) | Enable user proxying. Level:
    From user to user. |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| [`PROXY`](privileges-provided.html#priv_proxy) | 允许��户代理。级别：从用户到用户。 |'
- en: '| [`REFERENCES`](privileges-provided.html#priv_references) | Enable foreign
    key creation. Levels: Global, database, table, column. |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| [`REFERENCES`](privileges-provided.html#priv_references) | 允许创建外键。级别：全局，数据库，表，列。
    |'
- en: '| [`RELOAD`](privileges-provided.html#priv_reload) | Enable use of [`FLUSH`](flush.html
    "15.7.8.3 FLUSH Statement") operations. Level: Global. |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| [`RELOAD`](privileges-provided.html#priv_reload) | 允许使用[`FLUSH`](flush.html
    "15.7.8.3 FLUSH Statement")操作。级别：全局。 |'
- en: '| [`REPLICATION CLIENT`](privileges-provided.html#priv_replication-client)
    | Enable the user to ask where source or replica servers are. Level: Global. |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| [`REPLICATION CLIENT`](privileges-provided.html#priv_replication-client)
    | 允许用户查询源或副本服务器的位置。级别：全局。 |'
- en: '| [`REPLICATION SLAVE`](privileges-provided.html#priv_replication-slave) |
    Enable replicas to read binary log events from the source. Level: Global. |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| [`REPLICATION SLAVE`](privileges-provided.html#priv_replication-slave) |
    允许副本从源读取二进制日志事件。级别：全局。 |'
- en: '| [`SELECT`](privileges-provided.html#priv_select) | Enable use of [`SELECT`](select.html
    "15.2.13 SELECT Statement"). Levels: Global, database, table, column. |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| [`SELECT`](privileges-provided.html#priv_select) | 允许使用[`SELECT`](select.html
    "15.2.13 SELECT Statement")。级别：全局，数据库，表，列。 |'
- en: '| [`SHOW DATABASES`](privileges-provided.html#priv_show-databases) | Enable
    [`SHOW DATABASES`](show-databases.html "15.7.7.14 SHOW DATABASES Statement") to
    show all databases. Level: Global. |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| [`SHOW DATABASES`](privileges-provided.html#priv_show-databases) | 允许使用[`SHOW
    DATABASES`](show-databases.html "15.7.7.14 SHOW DATABASES Statement")显示所有数据库。级别：全局。
    |'
- en: '| [`SHOW VIEW`](privileges-provided.html#priv_show-view) | Enable use of [`SHOW
    CREATE VIEW`](show-create-view.html "15.7.7.13 SHOW CREATE VIEW Statement"). Levels:
    Global, database, table. |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| [`SHOW VIEW`](privileges-provided.html#priv_show-view) | 允许使用[`SHOW CREATE
    VIEW`](show-create-view.html "15.7.7.13 SHOW CREATE VIEW Statement")。级别：全局，数据库，表。
    |'
- en: '| [`SHUTDOWN`](privileges-provided.html#priv_shutdown) | Enable use of [**mysqladmin
    shutdown**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server Administration
    Program"). Level: Global. |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| [`SHUTDOWN`](privileges-provided.html#priv_shutdown) | 允许使用[**mysqladmin
    shutdown**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server Administration
    Program")。级别：全局。 |'
- en: '| [`SUPER`](privileges-provided.html#priv_super) | Enable use of other administrative
    operations such as [`CHANGE REPLICATION SOURCE TO`](change-replication-source-to.html
    "15.4.2.3 CHANGE REPLICATION SOURCE TO Statement"), [`CHANGE MASTER TO`](change-master-to.html
    "15.4.2.1 CHANGE MASTER TO Statement"), [`KILL`](kill.html "15.7.8.4 KILL Statement"),
    [`PURGE BINARY LOGS`](purge-binary-logs.html "15.4.1.1 PURGE BINARY LOGS Statement"),
    [`SET GLOBAL`](set-variable.html "15.7.6.1 SET Syntax for Variable Assignment"),
    and [**mysqladmin debug**](mysqladmin.html "6.5.2 mysqladmin — A MySQL Server
    Administration Program") command. Level: Global. |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| [`SUPER`](privileges-provided.html#priv_super) | 允许使用其他管理操作，如[`CHANGE REPLICATION
    SOURCE TO`](change-replication-source-to.html "15.4.2.3 CHANGE REPLICATION SOURCE
    TO Statement")，[`CHANGE MASTER TO`](change-master-to.html "15.4.2.1 CHANGE MASTER
    TO Statement")，[`KILL`](kill.html "15.7.8.4 KILL Statement")，[`PURGE BINARY LOGS`](purge-binary-logs.html
    "15.4.1.1 PURGE BINARY LOGS Statement")，[`SET GLOBAL`](set-variable.html "15.7.6.1 SET
    Syntax for Variable Assignment")以及[**mysqladmin debug**](mysqladmin.html "6.5.2 mysqladmin
    — A MySQL Server Administration Program")命令。级别：全局。 |'
- en: '| [`TRIGGER`](privileges-provided.html#priv_trigger) | Enable trigger operations.
    Levels: Global, database, table. |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| [`TRIGGER`](privileges-provided.html#priv_trigger) | 允许触发器操作。级别：全局，数据库，表。
    |'
- en: '| [`UPDATE`](privileges-provided.html#priv_update) | Enable use of [`UPDATE`](update.html
    "15.2.17 UPDATE Statement"). Levels: Global, database, table, column. |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| [`UPDATE`](privileges-provided.html#priv_update) | 允许使用[`UPDATE`](update.html
    "15.2.17 UPDATE Statement")。级别：全局，数据库，表，列。 |'
- en: '| [`USAGE`](privileges-provided.html#priv_usage) | Synonym for “no privileges”
    |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| [`USAGE`](privileges-provided.html#priv_usage) | “无权限”的同义词 |'
- en: '| Privilege | Meaning and Grantable Levels |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| 权限 | 含义和可授权级别 |'
- en: '**Table 15.12 Permissible Dynamic Privileges for GRANT and REVOKE**'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**表 15.12 GRANT 和 REVOKE 的可允许动态权限**'
- en: '| Privilege | Meaning and Grantable Levels |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| Privilege | 意义和可授权级别 |'
- en: '| [`APPLICATION_PASSWORD_ADMIN`](privileges-provided.html#priv_application-password-admin)
    | Enable dual password administration. Level: Global. |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| [`APPLICATION_PASSWORD_ADMIN`](privileges-provided.html#priv_application-password-admin)
    | 启用双密码管理。级别：全局。 |'
- en: '| [`AUDIT_ABORT_EXEMPT`](privileges-provided.html#priv_audit-abort-exempt)
    | Allow queries blocked by audit log filter. Level: Global. |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| [`AUDIT_ABORT_EXEMPT`](privileges-provided.html#priv_audit-abort-exempt)
    | 允许通过审计日志过滤器阻止的查询。级别：全局。 |'
- en: '| [`AUDIT_ADMIN`](privileges-provided.html#priv_audit-admin) | Enable audit
    log configuration. Level: Global. |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| [`AUDIT_ADMIN`](privileges-provided.html#priv_audit-admin) | 启用审计日志配置。级别：全局。
    |'
- en: '| [`AUTHENTICATION_POLICY_ADMIN`](privileges-provided.html#priv_authentication-policy-admin)
    | Enable authentication policy administration. Level: Global. |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| [`AUTHENTICATION_POLICY_ADMIN`](privileges-provided.html#priv_authentication-policy-admin)
    | 启用认证策略管理。级别：全局。 |'
- en: '| [`BACKUP_ADMIN`](privileges-provided.html#priv_backup-admin) | Enable backup
    administration. Level: Global. |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| [`BACKUP_ADMIN`](privileges-provided.html#priv_backup-admin) | 启用备份管理。级别：全局。
    |'
- en: '| [`BINLOG_ADMIN`](privileges-provided.html#priv_binlog-admin) | Enable binary
    log control. Level: Global. |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| [`BINLOG_ADMIN`](privileges-provided.html#priv_binlog-admin) | 启用二进制日志控制。级别：全局。
    |'
- en: '| [`BINLOG_ENCRYPTION_ADMIN`](privileges-provided.html#priv_binlog-encryption-admin)
    | Enable activation and deactivation of binary log encryption. Level: Global.
    |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| [`BINLOG_ENCRYPTION_ADMIN`](privileges-provided.html#priv_binlog-encryption-admin)
    | 启用二进制日志加密的激活和停用。级别：全局。 |'
- en: '| [`CLONE_ADMIN`](privileges-provided.html#priv_clone-admin) | Enable clone
    administration. Level: Global. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| [`CLONE_ADMIN`](privileges-provided.html#priv_clone-admin) | 启用克隆管理。级别：全局。
    |'
- en: '| [`CONNECTION_ADMIN`](privileges-provided.html#priv_connection-admin) | Enable
    connection limit/restriction control. Level: Global. |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| [`CONNECTION_ADMIN`](privileges-provided.html#priv_connection-admin) | 启用连接限制/限制控制。级别：全局。
    |'
- en: '| [`ENCRYPTION_KEY_ADMIN`](privileges-provided.html#priv_encryption-key-admin)
    | Enable `InnoDB` key rotation. Level: Global. |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| [`ENCRYPTION_KEY_ADMIN`](privileges-provided.html#priv_encryption-key-admin)
    | 启用`InnoDB`密钥轮换。级别：全局。 |'
- en: '| [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin) | Enable
    firewall rule administration, any user. Level: Global. |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| [`FIREWALL_ADMIN`](privileges-provided.html#priv_firewall-admin) | 启用防火墙规则管理，任何用户。级别：全局。
    |'
- en: '| [`FIREWALL_EXEMPT`](privileges-provided.html#priv_firewall-exempt) | Exempt
    user from firewall restrictions. Level: Global. |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| [`FIREWALL_EXEMPT`](privileges-provided.html#priv_firewall-exempt) | 免除用户防火墙限制。级别：全局。
    |'
- en: '| [`FIREWALL_USER`](privileges-provided.html#priv_firewall-user) | Enable firewall
    rule administration, self. Level: Global. |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| [`FIREWALL_USER`](privileges-provided.html#priv_firewall-user) | 启用防火墙规则管理，自身。级别：全局。
    |'
- en: '| [`FLUSH_OPTIMIZER_COSTS`](privileges-provided.html#priv_flush-optimizer-costs)
    | Enable optimizer cost reloading. Level: Global. |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| [`FLUSH_OPTIMIZER_COSTS`](privileges-provided.html#priv_flush-optimizer-costs)
    | 启用优化器成本重新加载。级别：全局。 |'
- en: '| [`FLUSH_STATUS`](privileges-provided.html#priv_flush-status) | Enable status
    indicator flushing. Level: Global. |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| [`FLUSH_STATUS`](privileges-provided.html#priv_flush-status) | 启用状态指示器刷新。级别：全局。
    |'
- en: '| [`FLUSH_TABLES`](privileges-provided.html#priv_flush-tables) | Enable table
    flushing. Level: Global. |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| [`FLUSH_TABLES`](privileges-provided.html#priv_flush-tables) | 启用表刷新。级别：全局。
    |'
- en: '| [`FLUSH_USER_RESOURCES`](privileges-provided.html#priv_flush-user-resources)
    | Enable user-resource flushing. Level: Global. |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| [`FLUSH_USER_RESOURCES`](privileges-provided.html#priv_flush-user-resources)
    | 启用用户资源刷新。级别：全局。 |'
- en: '| [`GROUP_REPLICATION_ADMIN`](privileges-provided.html#priv_group-replication-admin)
    | Enable Group Replication control. Level: Global. |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| [`GROUP_REPLICATION_ADMIN`](privileges-provided.html#priv_group-replication-admin)
    | 启用组复制控制。级别：全局。 |'
- en: '| [`INNODB_REDO_LOG_ARCHIVE`](privileges-provided.html#priv_innodb-redo-log-archive)
    | Enable redo log archiving administration. Level: Global. |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| [`INNODB_REDO_LOG_ARCHIVE`](privileges-provided.html#priv_innodb-redo-log-archive)
    | 启用重做日志归档管理。级别：全局。 |'
- en: '| [`INNODB_REDO_LOG_ENABLE`](privileges-provided.html#priv_innodb-redo-log-enable)
    | Enable or disable redo logging. Level: Global. |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| [`INNODB_REDO_LOG_ENABLE`](privileges-provided.html#priv_innodb-redo-log-enable)
    | 启用或禁用重做日志记录。级别：全局。 |'
- en: '| [`NDB_STORED_USER`](privileges-provided.html#priv_ndb-stored-user) | Enable
    sharing of user or role between SQL nodes (NDB Cluster). Level: Global. |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| [`NDB_STORED_USER`](privileges-provided.html#priv_ndb-stored-user) | 启用在
    SQL 节点（NDB 集群）之间共享用户或角色。级别：全局。 |'
- en: '| [`PASSWORDLESS_USER_ADMIN`](privileges-provided.html#priv_passwordless-user-admin)
    | Enable passwordless user account administration. Level: Global. |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| [`PASSWORDLESS_USER_ADMIN`](privileges-provided.html#priv_passwordless-user-admin)
    | 启用无密码用户帐户管理。级别：全局。 |'
- en: '| [`PERSIST_RO_VARIABLES_ADMIN`](privileges-provided.html#priv_persist-ro-variables-admin)
    | Enable persisting read-only system variables. Level: Global. |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| [`PERSIST_RO_VARIABLES_ADMIN`](privileges-provided.html#priv_persist-ro-variables-admin)
    | 启用持久化只读系统变量。级别：全局。 |'
- en: '| [`REPLICATION_APPLIER`](privileges-provided.html#priv_replication-applier)
    | Act as the `PRIVILEGE_CHECKS_USER` for a replication channel. Level: Global.
    |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| [`REPLICATION_APPLIER`](privileges-provided.html#priv_replication-applier)
    | 作为复制通道的`PRIVILEGE_CHECKS_USER`。级别：全局。 |'
- en: '| [`REPLICATION_SLAVE_ADMIN`](privileges-provided.html#priv_replication-slave-admin)
    | Enable regular replication control. Level: Global. |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| [`REPLICATION_SLAVE_ADMIN`](privileges-provided.html#priv_replication-slave-admin)
    | 启用常规复制控制。级别：全局。 |'
- en: '| [`RESOURCE_GROUP_ADMIN`](privileges-provided.html#priv_resource-group-admin)
    | Enable resource group administration. Level: Global. |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| [`RESOURCE_GROUP_ADMIN`](privileges-provided.html#priv_resource-group-admin)
    | 启用资源组管理。级别：全局。 |'
- en: '| [`RESOURCE_GROUP_USER`](privileges-provided.html#priv_resource-group-user)
    | Enable resource group administration. Level: Global. |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| [`RESOURCE_GROUP_USER`](privileges-provided.html#priv_resource-group-user)
    | 启用资源组管理。级别：全局。 |'
- en: '| [`ROLE_ADMIN`](privileges-provided.html#priv_role-admin) | Enable roles to
    be granted or revoked, use of `WITH ADMIN OPTION`. Level: Global. |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| [`ROLE_ADMIN`](privileges-provided.html#priv_role-admin) | 启用授予或撤销角色，使用`WITH
    ADMIN OPTION`。级别：全局。 |'
- en: '| [`SESSION_VARIABLES_ADMIN`](privileges-provided.html#priv_session-variables-admin)
    | Enable setting restricted session system variables. Level: Global. |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| [`SESSION_VARIABLES_ADMIN`](privileges-provided.html#priv_session-variables-admin)
    | 启用设置受限会话系统变量。级别：全局。 |'
- en: '| [`SET_USER_ID`](privileges-provided.html#priv_set-user-id) | Enable setting
    non-self `DEFINER` values. Level: Global. |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| [`SET_USER_ID`](privileges-provided.html#priv_set-user-id) | 启用设置非自身`DEFINER`值。级别：全局。
    |'
- en: '| [`SHOW_ROUTINE`](privileges-provided.html#priv_show-routine) | Enable access
    to stored routine definitions. Level: Global. |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| [`SHOW_ROUTINE`](privileges-provided.html#priv_show-routine) | 启用访问存储过程定义。级别：全局。
    |'
- en: '| [`SKIP_QUERY_REWRITE`](privileges-provided.html#priv_skip-query-rewrite)
    | Do not rewrite queries executed by this user. Level: Global. |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| [`SKIP_QUERY_REWRITE`](privileges-provided.html#priv_skip-query-rewrite)
    | 不重写此用户执行的查询。级别：全局。 |'
- en: '| [`SYSTEM_USER`](privileges-provided.html#priv_system-user) | Designate account
    as system account. Level: Global. |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| [`SYSTEM_USER`](privileges-provided.html#priv_system-user) | 指定帐户为系统帐户。级别：全局。
    |'
- en: '| [`SYSTEM_VARIABLES_ADMIN`](privileges-provided.html#priv_system-variables-admin)
    | Enable modifying or persisting global system variables. Level: Global. |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| [`SYSTEM_VARIABLES_ADMIN`](privileges-provided.html#priv_system-variables-admin)
    | 启用修改或持久化全局系统变量。级别：全局。 |'
- en: '| [`TABLE_ENCRYPTION_ADMIN`](privileges-provided.html#priv_table-encryption-admin)
    | Enable overriding default encryption settings. Level: Global. |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| [`TABLE_ENCRYPTION_ADMIN`](privileges-provided.html#priv_table-encryption-admin)
    | 启用覆盖默认加密设置。级别：全局。 |'
- en: '| [`TELEMETRY_LOG_ADMIN`](privileges-provided.html#priv_telemetry-log-admin)
    | Enable telemetry log configuration for MySQL HeatWave on AWS. Level: Global.
    |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| [`TELEMETRY_LOG_ADMIN`](privileges-provided.html#priv_telemetry-log-admin)
    | 启用在AWS上配置MySQL HeatWave的遥测日志。级别：全局。 |'
- en: '| [`TP_CONNECTION_ADMIN`](privileges-provided.html#priv_tp-connection-admin)
    | Enable thread pool connection administration. Level: Global. |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| [`TP_CONNECTION_ADMIN`](privileges-provided.html#priv_tp-connection-admin)
    | 启用线程池连接管理。级别：全局。 |'
- en: '| [`VERSION_TOKEN_ADMIN`](privileges-provided.html#priv_version-token-admin)
    | Enable use of Version Tokens functions. Level: Global. |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| [`VERSION_TOKEN_ADMIN`](privileges-provided.html#priv_version-token-admin)
    | 启用版本令牌函数的使用。级别：全局。 |'
- en: '| [`XA_RECOVER_ADMIN`](privileges-provided.html#priv_xa-recover-admin) | Enable
    [`XA RECOVER`](xa-statements.html "15.3.8.1 XA Transaction SQL Statements") execution.
    Level: Global. |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| [`XA_RECOVER_ADMIN`](privileges-provided.html#priv_xa-recover-admin) | 启用[`XA
    RECOVER`](xa-statements.html "15.3.8.1 XA Transaction SQL Statements")执行。级别：全局。
    |'
- en: '| Privilege | Meaning and Grantable Levels |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '| 权限 | 意义和可授权级别 |'
- en: A trigger is associated with a table. To create or drop a trigger, you must
    have the [`TRIGGER`](privileges-provided.html#priv_trigger) privilege for the
    table, not the trigger.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 触发器与表关联。要创建或删除触发器，必须具有表的[`TRIGGER`](privileges-provided.html#priv_trigger)权限，而不是触发器的权限。
- en: In [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statements, the [`ALL [PRIVILEGES]`](privileges-provided.html#priv_all)
    or [`PROXY`](privileges-provided.html#priv_proxy) privilege must be named by itself
    and cannot be specified along with other privileges. [`ALL [PRIVILEGES]`](privileges-provided.html#priv_all)
    stands for all privileges available for the level at which privileges are to be
    granted except for the [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    and [`PROXY`](privileges-provided.html#priv_proxy) privileges.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在[`GRANT`](grant.html "15.7.1.6 GRANT Statement") 语句中，[`ALL [PRIVILEGES]`](privileges-provided.html#priv_all)
    或 [`PROXY`](privileges-provided.html#priv_proxy) 权限必须单独命名，不能与其他权限一起指定。[`ALL [PRIVILEGES]`](privileges-provided.html#priv_all)
    代表在要授予权限的级别上可用的所有权限，但不包括[`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    和 [`PROXY`](privileges-provided.html#priv_proxy) 权限。
- en: MySQL account information is stored in the tables of the `mysql` system schema.
    For additional details, consult [Section 8.2, “Access Control and Account Management”](access-control.html
    "8.2 Access Control and Account Management"), which discusses the `mysql` system
    schema and the access control system extensively.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 账户信息存储在 `mysql` 系统模式的表中。有关更多详细信息，请参阅 [第8.2节“访问控制和账户管理”](access-control.html
    "8.2 Access Control and Account Management") ，该节详细讨论了 `mysql` 系统模式和访问控制系统。
- en: If the grant tables hold privilege rows that contain mixed-case database or
    table names and the [`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    system variable is set to a nonzero value, [`REVOKE`](revoke.html "15.7.1.8 REVOKE
    Statement") cannot be used to revoke these privileges. It is necessary in such
    cases to manipulate the grant tables directly. ([`GRANT`](grant.html "15.7.1.6 GRANT
    Statement") does not create such rows when [`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    is set, but such rows might have been created prior to setting that variable.
    The [`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    setting can only be configured at server startup.)
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果授权表包含包含大小写混合的数据库或表名的权限行，并且 [`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    系统变量设置为非零值，则无法使用 [`REVOKE`](revoke.html "15.7.1.8 REVOKE Statement") 来撤销这些权限。在这种情况下，需要直接操作授权表。([`GRANT`](grant.html
    "15.7.1.6 GRANT Statement") 在设置 [`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    时不会创建这样的行，但在设置该变量之前可能已创建这样的行。[`lower_case_table_names`](server-system-variables.html#sysvar_lower_case_table_names)
    设置只能在服务器启动时配置。)
- en: Privileges can be granted at several levels, depending on the syntax used for
    the `ON` clause. For [`REVOKE`](revoke.html "15.7.1.8 REVOKE Statement"), the
    same `ON` syntax specifies which privileges to remove.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 `ON` 子句的语法，可以在几个级别授予权限。对于 [`REVOKE`](revoke.html "15.7.1.8 REVOKE Statement")，相同的
    `ON` 语法指定要移除的权限。
- en: For the global, database, table, and routine levels, [`GRANT ALL`](grant.html
    "15.7.1.6 GRANT Statement") assigns only the privileges that exist at the level
    you are granting. For example, `GRANT ALL ON *`db_name`*.*` is a database-level
    statement, so it does not grant any global-only privileges such as [`FILE`](privileges-provided.html#priv_file).
    Granting [`ALL`](privileges-provided.html#priv_all) does not assign the [`GRANT
    OPTION`](privileges-provided.html#priv_grant-option) or [`PROXY`](privileges-provided.html#priv_proxy)
    privilege.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 对于全局、数据库、表和例程级别，[`GRANT ALL`](grant.html "15.7.1.6 GRANT Statement") 仅分配在您授予的级别存在的权限。例如，`GRANT
    ALL ON *`db_name`*.*` 是一个数据库级别的语句，因此不授予任何全局权限，如[`FILE`](privileges-provided.html#priv_file)。授予[`ALL`](privileges-provided.html#priv_all)
    不会分配[`GRANT OPTION`](privileges-provided.html#priv_grant-option) 或 [`PROXY`](privileges-provided.html#priv_proxy)
    权限。
- en: The *`object_type`* clause, if present, should be specified as `TABLE`, `FUNCTION`,
    or `PROCEDURE` when the following object is a table, a stored function, or a stored
    procedure.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 如果存在 *`object_type`* 子句，则当以下对象为表、存储函数或存储过程时，应指定为 `TABLE`、`FUNCTION` 或 `PROCEDURE`。
- en: 'The privileges that a user holds for a database, table, column, or routine
    are formed additively as the logical [`OR`](logical-operators.html#operator_or)
    of the account privileges at each of the privilege levels, including the global
    level. It is not possible to deny a privilege granted at a higher level by absence
    of that privilege at a lower level. For example, this statement grants the [`SELECT`](privileges-provided.html#priv_select)
    and [`INSERT`](privileges-provided.html#priv_insert) privileges globally:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 用户对数据库、表、列或例程拥有的权限形成逻辑[`OR`](logical-operators.html#operator_or)的账户权限的逻辑和，包括全局级别。不可能通过在较低级别缺少该权限来否定在更高级别授予的权限。例如，此语句全局授予[`SELECT`](privileges-provided.html#priv_select)和[`INSERT`](privileges-provided.html#priv_insert)权限：
- en: '[PRE11]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The globally granted privileges apply to all databases, tables, and columns,
    even though not granted at any of those lower levels.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 全局授予的权限适用于所有数据库、表和列，即使在这些较低级别中没有授予。
- en: 'As of MySQL 8.0.16, it is possible to explicitly deny a privilege granted at
    the global level by revoking it for particular databases, if the [`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)
    system variable is enabled:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 从MySQL 8.0.16开始，如果启用了[`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)系统变量，可以显式拒绝在全局级别授予的权限：
- en: '[PRE12]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The result of the preceding statements is that [`SELECT`](privileges-provided.html#priv_select)
    applies globally to all tables, whereas [`INSERT`](privileges-provided.html#priv_insert)
    and [`UPDATE`](privileges-provided.html#priv_update) apply globally except to
    tables in `db1`. Account access to `db1` is read only.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 前述语句的结果是，[`SELECT`](privileges-provided.html#priv_select)全局适用于所有表，而[`INSERT`](privileges-provided.html#priv_insert)和[`UPDATE`](privileges-provided.html#priv_update)全局适用，除了`db1`中的表。对`db1`的账户访问是只读的。
- en: 'Details of the privilege-checking procedure are presented in [Section 8.2.7,
    “Access Control, Stage 2: Request Verification”](request-access.html "8.2.7 Access
    Control, Stage 2: Request Verification").'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 权限检查过程的详细信息在[第8.2.7节，“访问控制，阶段2：请求验证”](request-access.html "8.2.7 访问控制，阶段2：请求验证")中介绍。
- en: If you are using table, column, or routine privileges for even one user, the
    server examines table, column, and routine privileges for all users and this slows
    down MySQL a bit. Similarly, if you limit the number of queries, updates, or connections
    for any users, the server must monitor these values.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您为任何用户使用表、列或例程权限，服务器会检查所有用户的表、列和例程权限，这会稍微减慢MySQL的速度。同样，如果限制任何用户的查询、更新或连接次数，服务器必须监视这些值。
- en: MySQL enables you to grant privileges on databases or tables that do not exist.
    For tables, the privileges to be granted must include the [`CREATE`](privileges-provided.html#priv_create)
    privilege. *This behavior is by design*, and is intended to enable the database
    administrator to prepare user accounts and privileges for databases or tables
    that are to be created at a later time.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL允许您授予不存在的数据库或表的权限。对于表，要授予的权限必须包括[`CREATE`](privileges-provided.html#priv_create)权限。*这种行为是有意设计的*，旨在使数据库管理员能够为稍后创建的数据库或表准备用户账户和权限。
- en: Important
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '*MySQL does not automatically revoke any privileges when you drop a database
    or table*. However, if you drop a routine, any routine-level privileges granted
    for that routine are revoked.'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '*当您删除数据库或表时，MySQL不会自动撤销任何权限*。但是，如果删除例程，则为该例程授予的任何例程级别权限将被撤销。'
- en: Global Privileges
  id: totrans-176
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 全局权限
- en: 'Global privileges are administrative or apply to all databases on a given server.
    To assign global privileges, use `ON *.*` syntax:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 全局权限是管理性的，或者适用于给定服务器上的所有数据库。要分配全局权限，请使用`ON *.*`语法：
- en: '[PRE13]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: The [`CREATE TABLESPACE`](privileges-provided.html#priv_create-tablespace),
    [`CREATE USER`](privileges-provided.html#priv_create-user), [`FILE`](privileges-provided.html#priv_file),
    [`PROCESS`](privileges-provided.html#priv_process), [`RELOAD`](privileges-provided.html#priv_reload),
    [`REPLICATION CLIENT`](privileges-provided.html#priv_replication-client), [`REPLICATION
    SLAVE`](privileges-provided.html#priv_replication-slave), [`SHOW DATABASES`](privileges-provided.html#priv_show-databases),
    [`SHUTDOWN`](privileges-provided.html#priv_shutdown), and [`SUPER`](privileges-provided.html#priv_super)
    static privileges are administrative and can only be granted globally.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '[`CREATE TABLESPACE`](privileges-provided.html#priv_create-tablespace)、[`CREATE
    USER`](privileges-provided.html#priv_create-user)、[`FILE`](privileges-provided.html#priv_file)、[`PROCESS`](privileges-provided.html#priv_process)、[`RELOAD`](privileges-provided.html#priv_reload)、[`REPLICATION
    CLIENT`](privileges-provided.html#priv_replication-client)、[`REPLICATION SLAVE`](privileges-provided.html#priv_replication-slave)、[`SHOW
    DATABASES`](privileges-provided.html#priv_show-databases)、[`SHUTDOWN`](privileges-provided.html#priv_shutdown)和[`SUPER`](privileges-provided.html#priv_super)静态权限是管理权限，只能全局授予。'
- en: Dynamic privileges are all global and can only be granted globally.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 动态权限都是全局的，只能全局授予。
- en: Other privileges can be granted globally or at more specific levels.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 其他权限可以全局授予或在更具体的级别授予。
- en: 'The effect of [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    granted at the global level differs for static and dynamic privileges:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在全局级别授予的[`GRANT OPTION`](privileges-provided.html#priv_grant-option)的影响对于静态和动态权限有所不同：
- en: '[`GRANT OPTION`](privileges-provided.html#priv_grant-option) granted for any
    static global privilege applies to all static global privileges.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为任何静态全局权限授予的[`GRANT OPTION`](privileges-provided.html#priv_grant-option)适用于所有静态全局权限。
- en: '[`GRANT OPTION`](privileges-provided.html#priv_grant-option) granted for any
    dynamic privilege applies only to that dynamic privilege.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为任何动态权限授予的[`GRANT OPTION`](privileges-provided.html#priv_grant-option)仅适用于该动态权限。
- en: '`GRANT ALL` at the global level grants all static global privileges and all
    currently registered dynamic privileges. A dynamic privilege registered subsequent
    to execution of the `GRANT` statement is not granted retroactively to any account.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在全局级别使用`GRANT ALL`将授予所有静态全局权限和所有当前注册的动态权限。在执行`GRANT`语句后注册的动态权限不会向任何帐户追溯授予。
- en: MySQL stores global privileges in the `mysql.user` system table.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL将全局权限存储在`mysql.user`系统表中。
- en: Database Privileges
  id: totrans-187
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据库权限
- en: 'Database privileges apply to all objects in a given database. To assign database-level
    privileges, use `ON *`db_name`*.*` syntax:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库权限适用于给定数据库中的所有对象。要分配数据库级别的权限，请使用`ON *`db_name`*.*`语法：
- en: '[PRE14]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: If you use `ON *` syntax (rather than `ON *.*`), privileges are assigned at
    the database level for the default database. An error occurs if there is no default
    database.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用`ON *`语法（而不是`ON *.*`），则权限将分配给默认数据库的数据库级别。如果没有默认数据库，则会出现错误。
- en: The [`CREATE`](privileges-provided.html#priv_create), [`DROP`](privileges-provided.html#priv_drop),
    [`EVENT`](privileges-provided.html#priv_event), [`GRANT OPTION`](privileges-provided.html#priv_grant-option),
    [`LOCK TABLES`](privileges-provided.html#priv_lock-tables), and [`REFERENCES`](privileges-provided.html#priv_references)
    privileges can be specified at the database level. Table or routine privileges
    also can be specified at the database level, in which case they apply to all tables
    or routines in the database.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[`CREATE`](privileges-provided.html#priv_create)、[`DROP`](privileges-provided.html#priv_drop)、[`EVENT`](privileges-provided.html#priv_event)、[`GRANT
    OPTION`](privileges-provided.html#priv_grant-option)、[`LOCK TABLES`](privileges-provided.html#priv_lock-tables)和[`REFERENCES`](privileges-provided.html#priv_references)权限可以在数据库级别指定。表或例程权限也可以在数据库级别指定，这样它们将适用于数据库中的所有表或例程。'
- en: MySQL stores database privileges in the `mysql.db` system table.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL将数据库权限存储在`mysql.db`系统表中。
- en: Table Privileges
  id: totrans-193
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 表权限
- en: 'Table privileges apply to all columns in a given table. To assign table-level
    privileges, use `ON *`db_name.tbl_name`*` syntax:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 表权限适用于给定表中的所有列。要分配表级别的权限，请使用`ON *`db_name.tbl_name`*`语法：
- en: '[PRE15]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: If you specify *`tbl_name`* rather than *`db_name.tbl_name`*, the statement
    applies to *`tbl_name`* in the default database. An error occurs if there is no
    default database.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您指定*`tbl_name`*而不是*`db_name.tbl_name`*，则该语句适用于默认数据库中的*`tbl_name`*。如果没有默认数据库，则会出现错误。
- en: The permissible *`priv_type`* values at the table level are [`ALTER`](privileges-provided.html#priv_alter),
    [`CREATE VIEW`](privileges-provided.html#priv_create-view), [`CREATE`](privileges-provided.html#priv_create),
    [`DELETE`](privileges-provided.html#priv_delete), [`DROP`](privileges-provided.html#priv_drop),
    [`GRANT OPTION`](privileges-provided.html#priv_grant-option), [`INDEX`](privileges-provided.html#priv_index),
    [`INSERT`](privileges-provided.html#priv_insert), [`REFERENCES`](privileges-provided.html#priv_references),
    [`SELECT`](privileges-provided.html#priv_select), [`SHOW VIEW`](privileges-provided.html#priv_show-view),
    [`TRIGGER`](privileges-provided.html#priv_trigger), and [`UPDATE`](privileges-provided.html#priv_update).
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 表级别的*`priv_type`*值可以是[`ALTER`](privileges-provided.html#priv_alter)、[`CREATE
    VIEW`](privileges-provided.html#priv_create-view)、[`CREATE`](privileges-provided.html#priv_create)、[`DELETE`](privileges-provided.html#priv_delete)、[`DROP`](privileges-provided.html#priv_drop)、[`GRANT
    OPTION`](privileges-provided.html#priv_grant-option)、[`INDEX`](privileges-provided.html#priv_index)、[`INSERT`](privileges-provided.html#priv_insert)、[`REFERENCES`](privileges-provided.html#priv_references)、[`SELECT`](privileges-provided.html#priv_select)、[`SHOW
    VIEW`](privileges-provided.html#priv_show-view)、[`TRIGGER`](privileges-provided.html#priv_trigger)和[`UPDATE`](privileges-provided.html#priv_update)。
- en: Table-level privileges apply to base tables and views. They do not apply to
    tables created with [`CREATE TEMPORARY TABLE`](create-temporary-table.html "15.1.20.2 CREATE
    TEMPORARY TABLE Statement"), even if the table names match. For information about
    `TEMPORARY` table privileges, see [Section 15.1.20.2, “CREATE TEMPORARY TABLE
    Statement”](create-temporary-table.html "15.1.20.2 CREATE TEMPORARY TABLE Statement").
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 表级权限适用于基本表和视图。它们不适用于使用[`CREATE TEMPORARY TABLE`](create-temporary-table.html
    "15.1.20.2 CREATE TEMPORARY TABLE Statement")创建的表，即使表名匹配。有关`TEMPORARY`表权限的信息，请参见[第15.1.20.2节，“CREATE
    TEMPORARY TABLE Statement”](create-temporary-table.html "15.1.20.2 CREATE TEMPORARY
    TABLE Statement")。
- en: MySQL stores table privileges in the `mysql.tables_priv` system table.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL将表权限存储在`mysql.tables_priv`系统表中。
- en: Column Privileges
  id: totrans-200
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 列权限
- en: Column privileges apply to single columns in a given table. Each privilege to
    be granted at the column level must be followed by the column or columns, enclosed
    within parentheses.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 列权限适用于给定表中的单个列。在列级别授予权限时，每个权限都必须跟随列或列，括在括号内。
- en: '[PRE16]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The permissible *`priv_type`* values for a column (that is, when you use a *`column_list`*
    clause) are [`INSERT`](privileges-provided.html#priv_insert), [`REFERENCES`](privileges-provided.html#priv_references),
    [`SELECT`](privileges-provided.html#priv_select), and [`UPDATE`](privileges-provided.html#priv_update).
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在列级（即使用*`column_list`*子句时）的*`priv_type`*值可以是[`INSERT`](privileges-provided.html#priv_insert)、[`REFERENCES`](privileges-provided.html#priv_references)、[`SELECT`](privileges-provided.html#priv_select)和[`UPDATE`](privileges-provided.html#priv_update)。
- en: MySQL stores column privileges in the `mysql.columns_priv` system table.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL将列权限存储在`mysql.columns_priv`系统表中。
- en: Stored Routine Privileges
  id: totrans-205
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 存储例程权限
- en: The [`ALTER ROUTINE`](privileges-provided.html#priv_alter-routine), [`CREATE
    ROUTINE`](privileges-provided.html#priv_create-routine), [`EXECUTE`](privileges-provided.html#priv_execute),
    and [`GRANT OPTION`](privileges-provided.html#priv_grant-option) privileges apply
    to stored routines (procedures and functions). They can be granted at the global
    and database levels. Except for [`CREATE ROUTINE`](privileges-provided.html#priv_create-routine),
    these privileges can be granted at the routine level for individual routines.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '[`ALTER ROUTINE`](privileges-provided.html#priv_alter-routine)、[`CREATE ROUTINE`](privileges-provided.html#priv_create-routine)、[`EXECUTE`](privileges-provided.html#priv_execute)和[`GRANT
    OPTION`](privileges-provided.html#priv_grant-option)权限适用于存储例程（过程和函数）。它们可以在全局和数据库级别授予。除了[`CREATE
    ROUTINE`](privileges-provided.html#priv_create-routine)外，这些权限可以在单个例程的例程级别授予。'
- en: '[PRE17]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The permissible *`priv_type`* values at the routine level are [`ALTER ROUTINE`](privileges-provided.html#priv_alter-routine),
    [`EXECUTE`](privileges-provided.html#priv_execute), and [`GRANT OPTION`](privileges-provided.html#priv_grant-option).
    [`CREATE ROUTINE`](privileges-provided.html#priv_create-routine) is not a routine-level
    privilege because you must have the privilege at the global or database level
    to create a routine in the first place.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 例程级别的*`priv_type`*值可以是[`ALTER ROUTINE`](privileges-provided.html#priv_alter-routine)、[`EXECUTE`](privileges-provided.html#priv_execute)和[`GRANT
    OPTION`](privileges-provided.html#priv_grant-option)。[`CREATE ROUTINE`](privileges-provided.html#priv_create-routine)不是例程级别的权限，因为您必须在全局或数据库级别具有权限才能首先创建例程。
- en: MySQL stores routine-level privileges in the `mysql.procs_priv` system table.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL将例程级权限存储在`mysql.procs_priv`系统表中。
- en: Proxy User Privileges
  id: totrans-210
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 代理用户权限
- en: The [`PROXY`](privileges-provided.html#priv_proxy) privilege enables one user
    to be a proxy for another. The proxy user impersonates or takes the identity of
    the proxied user; that is, it assumes the privileges of the proxied user.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '[`PROXY`](privileges-provided.html#priv_proxy) 权限允许一个用户代表另一个用户。代理用户冒充或者取代被代理用户的身份；也就是说，它承担了被代理用户的权限。'
- en: '[PRE18]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: When [`PROXY`](privileges-provided.html#priv_proxy) is granted, it must be the
    only privilege named in the [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement,
    and the only permitted `WITH` option is `WITH GRANT OPTION`.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 当授予[`PROXY`](privileges-provided.html#priv_proxy)时，它必须是[`GRANT`](grant.html
    "15.7.1.6 GRANT Statement")语句中唯一命名的权限，并且唯一允许的`WITH`选项是`WITH GRANT OPTION`。
- en: Proxying requires that the proxy user authenticate through a plugin that returns
    the name of the proxied user to the server when the proxy user connects, and that
    the proxy user have the `PROXY` privilege for the proxied user. For details and
    examples, see [Section 8.2.19, “Proxy Users”](proxy-users.html "8.2.19 Proxy Users").
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 代理需要代理用户通过插件进行身份验证，当代理用户连接时，插件将返回被代理用户的名称给服务器，并且代理用户必须具有被代理用户的`PROXY`权限。有关详细信息和示例，请参见[第
    8.2.19 节，“代理用户”](proxy-users.html "8.2.19 代理用户")。
- en: MySQL stores proxy privileges in the `mysql.proxies_priv` system table.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 将代理权限存储在`mysql.proxies_priv`系统表中。
- en: Granting Roles
  id: totrans-216
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 授予角色
- en: '`GRANT` syntax without an `ON` clause grants roles rather than individual privileges.
    A role is a named collection of privileges; see [Section 8.2.10, “Using Roles”](roles.html
    "8.2.10 Using Roles"). For example:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 没有`ON`子句的`GRANT`语法授予角色而不是单独的权限。角色是一组命名的权限集合；请参见[第 8.2.10 节，“使用角色”](roles.html
    "8.2.10 使用角色")。例如：
- en: '[PRE19]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Each role to be granted must exist, as well as each user account or role to
    which it is to be granted. As of MySQL 8.0.16, roles cannot be granted to anonymous
    users.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 每个要授予的角色必须存在，以及要授予的每个用户帐户或角色。从 MySQL 8.0.16 开始，无法将角色授予匿名用户。
- en: Granting a role does not automatically cause the role to be active. For information
    about role activation and inactivation, see [Activating Roles](roles.html#roles-activating
    "Activating Roles").
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 授予角色并不会自动使角色处于活动状态。有关角色激活和停用的信息，请参见[激活角色](roles.html#roles-activating "激活角色")。
- en: 'These privileges are required to grant roles:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 授予角色需要以下权限：
- en: If you have the [`ROLE_ADMIN`](privileges-provided.html#priv_role-admin) privilege
    (or the deprecated [`SUPER`](privileges-provided.html#priv_super) privilege),
    you can grant or revoke any role to users or roles.
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您拥有[`ROLE_ADMIN`](privileges-provided.html#priv_role-admin)权限（或已弃用的[`SUPER`](privileges-provided.html#priv_super)权限），则可以向用户或角色授予或撤销任何角色。
- en: If you were granted a role with a [`GRANT`](grant.html "15.7.1.6 GRANT Statement")
    statement that includes the `WITH ADMIN OPTION` clause, you become able to grant
    that role to other users or roles, or revoke it from other users or roles, as
    long as the role is active at such time as you subsequently grant or revoke it.
    This includes the ability to use `WITH ADMIN OPTION` itself.
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您使用包含`WITH ADMIN OPTION`子句的[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句授予了一个角色，那么您就能够将该角色授予其他用户或角色，或者从其他用户或角色中撤销该角色，只要在随后授予或撤销该角色时该角色处于活动状态。这包括使用`WITH
    ADMIN OPTION`本身的能力。
- en: To grant a role that has the [`SYSTEM_USER`](privileges-provided.html#priv_system-user)
    privilege, you must have the [`SYSTEM_USER`](privileges-provided.html#priv_system-user)
    privilege.
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要授予具有[`SYSTEM_USER`](privileges-provided.html#priv_system-user)权限的角色，您必须具有[`SYSTEM_USER`](privileges-provided.html#priv_system-user)权限。
- en: 'It is possible to create circular references with [`GRANT`](grant.html "15.7.1.6 GRANT
    Statement"). For example:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用[`GRANT`](grant.html "15.7.1.6 GRANT Statement")创建循环引用。例如：
- en: '[PRE20]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Circular grant references are permitted but add no new privileges or roles to
    the grantee because a user or role already has its privileges and roles.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 允许循环授权引用，但不会向受权用户添加新的权限或角色，因为用户或角色已经拥有其权限和角色。
- en: The `AS` Clause and Privilege Restrictions
  id: totrans-228
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '`AS` 子句和权限限制'
- en: As of MySQL 8.0.16, [`GRANT`](grant.html "15.7.1.6 GRANT Statement") has an
    `AS *`user`* [WITH ROLE]` clause that specifies additional information about the
    privilege context to use for statement execution. This syntax is visible at the
    SQL level, although its primary purpose is to enable uniform replication across
    all nodes of grantor privilege restrictions imposed by partial revokes, by causing
    those restrictions to appear in the binary log. For information about partial
    revokes, see [Section 8.2.12, “Privilege Restriction Using Partial Revokes”](partial-revokes.html
    "8.2.12 Privilege Restriction Using Partial Revokes").
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 从MySQL 8.0.16开始，[`GRANT`](grant.html "15.7.1.6 GRANT Statement")有一个`AS *`user`*
    [WITH ROLE]`子句，用于指定关于语句执行所使用的权限上下文的附加信息。这种语法在SQL级别可见，尽管其主要目的是通过在二进制日志中显示部分撤销者强加的授权限制，从而实现所有节点之间的统一复制。有关部分撤销的信息，请参见[第8.2.12节，“使用部分撤销进行权限限制”](partial-revokes.html
    "8.2.12 Privilege Restriction Using Partial Revokes")。
- en: When the `AS *`user`*` clause is specified, statement execution takes into account
    any privilege restrictions associated with the named user, including all roles
    specified by `WITH ROLE`, if present. The result is that the privileges actually
    granted by the statement may be reduced relative to those specified.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 当指定`AS *`user`*`子句时，语句执行将考虑与命名用户相关联的任何权限限制，包括`WITH ROLE`指定的所有角色（如果存在）。结果是，实际授予的权限可能相对于指定的权限有所减少。
- en: 'These conditions apply to the `AS *`user`*` clause:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 这些条件适用于`AS *`user`*`子句：
- en: '`AS` has an effect only when the named *`user`* has privilege restrictions
    (which implies that the [`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)
    system variable is enabled).'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当命名的*`user`*具有权限限制时，`AS`才会生效（这意味着[`partial_revokes`](server-system-variables.html#sysvar_partial_revokes)系统变量已启用）。
- en: If `WITH ROLE` is given, all roles named must be granted to the named *`user`*.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果给定了`WITH ROLE`，则必须将所有命名的角色授予命名的*`user`*。
- en: The named *`user`* should be a MySQL account specified as `'*`user_name`*'@'*`host_name`*'`,
    [`CURRENT_USER`](information-functions.html#function_current-user), or [`CURRENT_USER()`](information-functions.html#function_current-user).
    The current user may be named together with `WITH ROLE` for the case that the
    executing user wants [`GRANT`](grant.html "15.7.1.6 GRANT Statement") to execute
    with a set of roles applied that may differ from the roles active within the current
    session.
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 命名的*`user`*应该是一个MySQL帐户，指定为`'*`user_name`*'@'*`host_name`*'`，[`CURRENT_USER`](information-functions.html#function_current-user)，或[`CURRENT_USER()`](information-functions.html#function_current-user)。当前用户可以与`WITH
    ROLE`一起命名，以便执行用户希望[`GRANT`](grant.html "15.7.1.6 GRANT Statement")以应用一组在当前会话中活动的角色不同的角色执行。
- en: '`AS` cannot be used to gain privileges not possessed by the user who executes
    the [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement. The executing
    user must have at least the privileges to be granted, but the `AS` clause can
    only restrict the privileges granted, not escalate them.'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AS`不能用于获取执行[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句的用户不具备的权限。执行用户必须至少具有要授予的权限，但`AS`子句只能限制授予的权限，而不能提升它们。'
- en: With respect to the privileges to be granted, `AS` cannot specify a user/role
    combination that has more privileges (fewer restrictions) than the user who executes
    the [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement. The `AS` user/role
    combination is permitted to have more privileges than the executing user, but
    only if the statement does not grant those additional privileges.
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于要授予的权限，`AS`不能指定一个比执行[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句的用户/角色组合拥有更多权限（更少限制）的用户。`AS`用户/角色组合可以拥有比执行用户更多的权限，但只有在语句不授予这些额外权限时才可以。
- en: '`AS` is supported only for granting global privileges (`ON *.*`).'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AS`仅支持授予全局权限（`ON *.*`）。'
- en: '`AS` is not supported for [`PROXY`](privileges-provided.html#priv_proxy) grants.'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AS`不支持[`PROXY`](privileges-provided.html#priv_proxy)授权。'
- en: 'The following example illustrates the effect of the `AS` clause. Create a user
    `u1` that has some global privileges, as well as restrictions on those privileges:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例说明了`AS`子句的效果。创建一个具有一些全局权限以及对这些权限的限制的用户`u1`：
- en: '[PRE21]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Also create a role `r1` that lifts some of the privilege restrictions and grant
    the role to `u1`:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 同时创建一个角色`r1`，解除一些权限限制并将该角色授予`u1`：
- en: '[PRE22]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Now, using an account that has no privilege restrictions of its own, grant to
    multiple users the same set of global privileges, but each with different restrictions
    imposed by the `AS` clause, and check which privileges are actually granted.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，使用一个没有自己权限限制的帐户，向多个用户授予相同的全局权限集，但每个用户都受`AS`子句施加的不同限制，并检查实际授予了哪些权限。
- en: 'The [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement here has no
    `AS` clause, so the privileges granted are exactly those specified:'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里的[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句没有`AS`子句，因此授予的权限正是指定的那些：
- en: '[PRE23]'
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement here has an
    `AS` clause, so the privileges granted are those specified but with the restrictions
    from `u1` applied:'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里的[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句有一个`AS`子句，因此授予的权限是指定的那些，但应用了来自`u1`的限制：
- en: '[PRE24]'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: As mentioned previously, the `AS` clause can only add privilege restrictions;
    it cannot escalate privileges. Thus, although `u1` has the [`DELETE`](privileges-provided.html#priv_delete)
    privilege, that is not included in the privileges granted because the statement
    does not specify granting [`DELETE`](privileges-provided.html#priv_delete).
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如前所述，`AS`子句只能添加权限限制；它不能提升权限。因此，尽管`u1`具有[`DELETE`](privileges-provided.html#priv_delete)权限，但由于语句没有指定授予[`DELETE`](privileges-provided.html#priv_delete)，所以这不包括在授予的权限中。
- en: 'The `AS` clause for the [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement
    here makes the role `r1` active for `u1`. That role lifts some of the restrictions
    on `u1`. Consequently, the privileges granted have some restrictions, but not
    so many as for the previous [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement:'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这里的[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句的`AS`子句使角色`r1`对`u1`生效。该角色解除了`u1`的一些限制。因此，授予的权限有一些限制，但不像前一个[`GRANT`](grant.html
    "15.7.1.6 GRANT Statement")语句那样多：
- en: '[PRE25]'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: If a [`GRANT`](grant.html "15.7.1.6 GRANT Statement") statement includes an
    `AS *`user`*` clause, privilege restrictions on the user who executes the statement
    are ignored (rather than applied as they would be in the absence of an `AS` clause).
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个[`GRANT`](grant.html "15.7.1.6 GRANT Statement")语句包括一个`AS *`user`*`子句，则执行该语句的用户的权限限制将被忽略（而不是像在没有`AS`子句的情况下那样应用）。
- en: Other Account Characteristics
  id: totrans-252
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 其他帐户特征
- en: The optional `WITH` clause is used to enable a user to grant privileges to other
    users. The `WITH GRANT OPTION` clause gives the user the ability to give to other
    users any privileges the user has at the specified privilege level.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 可选的`WITH`子句用于使用户能够向其他用户授予权限。`WITH GRANT OPTION`子句使用户能够将用户在指定权限级别拥有的任何权限授予其他用户。
- en: 'To grant the [`GRANT OPTION`](privileges-provided.html#priv_grant-option) privilege
    to an account without otherwise changing its privileges, do this:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 要向一个帐户授予[`GRANT OPTION`](privileges-provided.html#priv_grant-option)权限，而不改变其它权限，可以这样做：
- en: '[PRE26]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Be careful to whom you give the [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    privilege because two users with different privileges may be able to combine privileges!
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 谨慎授予[`GRANT OPTION`](privileges-provided.html#priv_grant-option)权限，因为两个具有不同权限的用户可能能够结合权限！
- en: You cannot grant another user a privilege which you yourself do not have; the
    [`GRANT OPTION`](privileges-provided.html#priv_grant-option) privilege enables
    you to assign only those privileges which you yourself possess.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 你不能授予另一个用户你自己没有的权限；[`GRANT OPTION`](privileges-provided.html#priv_grant-option)权限使你只能分配你自己拥有的权限。
- en: Be aware that when you grant a user the [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    privilege at a particular privilege level, any privileges the user possesses (or
    may be given in the future) at that level can also be granted by that user to
    other users. Suppose that you grant a user the [`INSERT`](privileges-provided.html#priv_insert)
    privilege on a database. If you then grant the [`SELECT`](privileges-provided.html#priv_select)
    privilege on the database and specify `WITH GRANT OPTION`, that user can give
    to other users not only the [`SELECT`](privileges-provided.html#priv_select) privilege,
    but also [`INSERT`](privileges-provided.html#priv_insert). If you then grant the
    [`UPDATE`](privileges-provided.html#priv_update) privilege to the user on the
    database, the user can grant [`INSERT`](privileges-provided.html#priv_insert),
    [`SELECT`](privileges-provided.html#priv_select), and [`UPDATE`](privileges-provided.html#priv_update).
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，当您在特定权限级别授予用户 [`GRANT OPTION`](privileges-provided.html#priv_grant-option)
    权限时，用户拥有的（或将来可能被授予的）该级别的任何权限也可以被该用户授予其他用户。假设您在数据库上授予用户 [`INSERT`](privileges-provided.html#priv_insert)
    权限。然后在数据库上授予 [`SELECT`](privileges-provided.html#priv_select) 权限并指定 `WITH GRANT
    OPTION`，那么该用户不仅可以给其他用户 [`SELECT`](privileges-provided.html#priv_select) 权限，还可以给予
    [`INSERT`](privileges-provided.html#priv_insert)。如果您然后在数据库上授予用户 [`UPDATE`](privileges-provided.html#priv_update)
    权限，该用户可以授予 [`INSERT`](privileges-provided.html#priv_insert)、[`SELECT`](privileges-provided.html#priv_select)
    和 [`UPDATE`](privileges-provided.html#priv_update)。
- en: For a nonadministrative user, you should not grant the [`ALTER`](privileges-provided.html#priv_alter)
    privilege globally or for the `mysql` system schema. If you do that, the user
    can try to subvert the privilege system by renaming tables!
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 对于非管理员用户，不应该在全局或 `mysql` 系统模式中授予 [`ALTER`](privileges-provided.html#priv_alter)
    权限。如果这样做，用户可以尝试通过重命名表来破坏权限系统！
- en: For additional information about security risks associated with particular privileges,
    see [Section 8.2.2, “Privileges Provided by MySQL”](privileges-provided.html "8.2.2 Privileges
    Provided by MySQL").
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 有关与特定权限相关的安全风险的更多信息，请参阅 [Section 8.2.2, “Privileges Provided by MySQL”](privileges-provided.html
    "8.2.2 Privileges Provided by MySQL")。
- en: MySQL and Standard SQL Versions of GRANT
  id: totrans-261
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: MySQL 和标准 SQL 版本的 GRANT
- en: 'The biggest differences between the MySQL and standard SQL versions of [`GRANT`](grant.html
    "15.7.1.6 GRANT Statement") are:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 和标准 SQL 版本的 [`GRANT`](grant.html "15.7.1.6 GRANT Statement") 之间最大的区别是：
- en: MySQL associates privileges with the combination of a host name and user name
    and not with only a user name.
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 将权限与主机名和用户名的组合关联起来，而不仅仅是用户名。
- en: Standard SQL does not have global or database-level privileges, nor does it
    support all the privilege types that MySQL supports.
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准 SQL 没有全局或数据库级别的权限，也不支持 MySQL 支持的所有权限类型。
- en: MySQL does not support the standard SQL `UNDER` privilege.
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 不支持标准 SQL 的 `UNDER` 权限。
- en: Standard SQL privileges are structured in a hierarchical manner. If you remove
    a user, all privileges the user has been granted are revoked. This is also true
    in MySQL if you use [`DROP USER`](drop-user.html "15.7.1.5 DROP USER Statement").
    See [Section 15.7.1.5, “DROP USER Statement”](drop-user.html "15.7.1.5 DROP USER
    Statement").
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准 SQL 权限以分层方式结构化。如果您移除一个用户，该用户被授予的所有权限都将被撤销。如果您在 MySQL 中使用 [`DROP USER`](drop-user.html
    "15.7.1.5 DROP USER Statement") 也是如此。请参阅 [Section 15.7.1.5, “DROP USER Statement”](drop-user.html
    "15.7.1.5 DROP USER Statement")。
- en: In standard SQL, when you drop a table, all privileges for the table are revoked.
    In standard SQL, when you revoke a privilege, all privileges that were granted
    based on that privilege are also revoked. In MySQL, privileges can be dropped
    with [`DROP USER`](drop-user.html "15.7.1.5 DROP USER Statement") or [`REVOKE`](revoke.html
    "15.7.1.8 REVOKE Statement") statements.
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在标准 SQL 中，当您删除一个表时，该表的所有权限都将被撤销。在标准 SQL 中，当您撤销一个权限时，基于该权限授予的所有权限也将被撤销。在 MySQL
    中，权限可以通过 [`DROP USER`](drop-user.html "15.7.1.5 DROP USER Statement") 或 [`REVOKE`](revoke.html
    "15.7.1.8 REVOKE Statement") 语句来撤销。
- en: In MySQL, it is possible to have the [`INSERT`](privileges-provided.html#priv_insert)
    privilege for only some of the columns in a table. In this case, you can still
    execute [`INSERT`](insert.html "15.2.7 INSERT Statement") statements on the table,
    provided that you insert values only for those columns for which you have the
    [`INSERT`](privileges-provided.html#priv_insert) privilege. The omitted columns
    are set to their implicit default values if strict SQL mode is not enabled. In
    strict mode, the statement is rejected if any of the omitted columns have no default
    value. (Standard SQL requires you to have the [`INSERT`](privileges-provided.html#priv_insert)
    privilege on all columns.) For information about strict SQL mode and implicit
    default values, see [Section 7.1.11, “Server SQL Modes”](sql-mode.html "7.1.11 Server
    SQL Modes"), and [Section 13.6, “Data Type Default Values”](data-type-defaults.html
    "13.6 Data Type Default Values").
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 MySQL 中，可以仅对表中的某些列拥有[`INSERT`](privileges-provided.html#priv_insert)权限。在这种情况下，只要您为拥有[`INSERT`](privileges-provided.html#priv_insert)权限的列插入值，您仍然可以在表上执行[`INSERT`](insert.html
    "15.2.7 INSERT Statement")语句。如果严格 SQL 模式未启用，则省略的列将设置为它们的隐式默认值。在严格模式下，如果任何省略的列没有默认值，则该语句将被拒绝。（标准
    SQL 要求您对所有列都拥有[`INSERT`](privileges-provided.html#priv_insert)权限。）有关严格 SQL 模式和隐式默认值的信息，请参见[第
    7.1.11 节，“服务器 SQL 模式”](sql-mode.html "7.1.11 Server SQL Modes")和[第 13.6 节，“数据类型默认值”](data-type-defaults.html
    "13.6 Data Type Default Values")。
