- en: 14.16.8 Spatial Operator Functions
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 14.16.8 空间运算符函数
- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/spatial-operator-functions.html](https://dev.mysql.com/doc/refman/8.0/en/spatial-operator-functions.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/spatial-operator-functions.html](https://dev.mysql.com/doc/refman/8.0/en/spatial-operator-functions.html)
- en: OpenGIS proposes a number of functions that can produce geometries. They are
    designed to implement spatial operators. These functions support all argument
    type combinations except those that are inapplicable according to the [Open Geospatial
    Consortium](http://www.opengeospatial.org) specification.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: OpenGIS提出了许多可以生成几何的函数。它们旨在实现空间运算符。这些函数支持除根据[Open Geospatial Consortium](http://www.opengeospatial.org)规范不适用的参数类型组合之外的所有参数类型组合。
- en: 'MySQL also implements certain functions that are extensions to OpenGIS, as
    noted in the function descriptions. In addition, [Section 14.16.7, “Geometry Property
    Functions”](gis-property-functions.html "14.16.7 Geometry Property Functions"),
    discusses several functions that construct new geometries from existing ones.
    See that section for descriptions of these functions:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL还实现了一些作为OpenGIS扩展的特定函数，如函数描述中所述。此外，[第14.16.7节，“几何属性函数”](gis-property-functions.html
    "14.16.7 Geometry Property Functions")讨论了几个从现有几何构造新几何的函数。请参阅该部分以了解这些函数的描述：
- en: '[`ST_Envelope(*`g`*)`](gis-general-property-functions.html#function_st-envelope)'
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Envelope(*`g`*)`](gis-general-property-functions.html#function_st-envelope)'
- en: '[`ST_StartPoint(*`ls`*)`](gis-linestring-property-functions.html#function_st-startpoint)'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_StartPoint(*`ls`*)`](gis-linestring-property-functions.html#function_st-startpoint)'
- en: '[`ST_EndPoint(*`ls`*)`](gis-linestring-property-functions.html#function_st-endpoint)'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_EndPoint(*`ls`*)`](gis-linestring-property-functions.html#function_st-endpoint)'
- en: '[`ST_PointN(*`ls`*, *`N`*)`](gis-linestring-property-functions.html#function_st-pointn)'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_PointN(*`ls`*, *`N`*)`](gis-linestring-property-functions.html#function_st-pointn)'
- en: '[`ST_ExteriorRing(*`poly`*)`](gis-polygon-property-functions.html#function_st-exteriorring)'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_ExteriorRing(*`poly`*)`](gis-polygon-property-functions.html#function_st-exteriorring)'
- en: '[`ST_InteriorRingN(*`poly`*, *`N`*)`](gis-polygon-property-functions.html#function_st-interiorringn)'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_InteriorRingN(*`poly`*, *`N`*)`](gis-polygon-property-functions.html#function_st-interiorringn)'
- en: '[`ST_GeometryN(*`gc`*, *`N`*)`](gis-geometrycollection-property-functions.html#function_st-geometryn)'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_GeometryN(*`gc`*, *`N`*)`](gis-geometrycollection-property-functions.html#function_st-geometryn)'
- en: 'Unless otherwise specified, functions in this section handle their geometry
    arguments as follows:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 除非另有说明，本节中的函数处理其几何参数如下：
- en: If any argument is `NULL`, the return value is `NULL`.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果任何参数为`NULL`，则返回值为`NULL`。
- en: If any geometry argument is not a syntactically well-formed geometry, an [`ER_GIS_INVALID_DATA`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_gis_invalid_data)
    error occurs.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果任何几何参数不是语法上良好形式的几何，则会出现[`ER_GIS_INVALID_DATA`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_gis_invalid_data)错误。
- en: If any geometry argument is a syntactically well-formed geometry in an undefined
    spatial reference system (SRS), an [`ER_SRS_NOT_FOUND`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_srs_not_found)
    error occurs.
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果任何几何参数是在未定义空间参考系统（SRS）中的语法上良好形式的几何，则会出现[`ER_SRS_NOT_FOUND`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_srs_not_found)错误。
- en: For functions that take multiple geometry arguments, if those arguments are
    not in the same SRS, an [`ER_GIS_DIFFERENT_SRIDS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_gis_different_srids)
    error occurs.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于需要多个几何参数的函数，如果这些参数不在相同的SRS中，则会出现[`ER_GIS_DIFFERENT_SRIDS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_gis_different_srids)错误。
- en: If any geometry argument has an SRID value for a geographic SRS and the function
    does not handle geographic geometries, an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error occurs.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果任何几何参数具有地理SRS的SRID值，且函数不处理地理几何，则会出现[`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)错误。
- en: 'For geographic SRS geometry arguments, if any argument has a longitude or latitude
    that is out of range, an error occurs:'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于地理SRS几何参数，如果任何参数的经度或纬度超出范围，将会出现错误：
- en: If a longitude value is not in the range (−180, 180], an [`ER_GEOMETRY_PARAM_LONGITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_geometry_param_longitude_out_of_range)
    error occurs ([`ER_LONGITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_longitude_out_of_range)
    prior to MySQL 8.0.12).
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果经度值不在范围 (−180, 180] 内，会出现一个[`ER_GEOMETRY_PARAM_LONGITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_geometry_param_longitude_out_of_range)错误（在
    MySQL 8.0.12 之前是 [`ER_LONGITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_longitude_out_of_range)）。
- en: If a latitude value is not in the range [−90, 90], an [`ER_GEOMETRY_PARAM_LATITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_geometry_param_latitude_out_of_range)
    error occurs ([`ER_LATITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_latitude_out_of_range)
    prior to MySQL 8.0.12).
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果纬度值不在范围 [−90, 90] 内，会出现一个[`ER_GEOMETRY_PARAM_LATITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_geometry_param_latitude_out_of_range)错误（在
    MySQL 8.0.12 之前是 [`ER_LATITUDE_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_latitude_out_of_range)）。
- en: Ranges shown are in degrees. If an SRS uses another unit, the range uses the
    corresponding values in its unit. The exact range limits deviate slightly due
    to floating-point arithmetic.
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 显示的范围是以度为单位的。如果一个 SRS 使用另一个单位，范围将使用其单位中的相应值。由于浮点运算，确切的范围限制略有偏差。
- en: Otherwise, the return value is non-`NULL`.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则，返回值为非`NULL`。
- en: 'These spatial operator functions are available:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这些空间操作函数可用：
- en: '[`ST_Buffer(*`g`*, *`d`* [, *`strategy1`* [, *`strategy2`* [, *`strategy3`*]]])`](spatial-operator-functions.html#function_st-buffer)'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Buffer(*`g`*, *`d`* [, *`strategy1`* [, *`strategy2`* [, *`strategy3`*]]])`](spatial-operator-functions.html#function_st-buffer)'
- en: Returns a geometry that represents all points whose distance from the geometry
    value *`g`* is less than or equal to a distance of *`d`*. The result is in the
    same SRS as the geometry argument.
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 返回一个表示所有距离几何值 *`g`* 距离小于或等于距离 *`d`* 的点的几何体。结果与几何参数相同的 SRS 中。
- en: If the geometry argument is empty, [`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)
    returns an empty geometry.
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果几何参数为空，[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)
    返回一个空几何体。
- en: 'If the distance is 0, [`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)
    returns the geometry argument unchanged:'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果距离为 0，[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)
    返回不变的几何参数：
- en: '[PRE0]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'If the geometry argument is in a Cartesian SRS:'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果几何参���在笛卡尔 SRS 中：
- en: '[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer) supports
    negative distances for `Polygon` and `MultiPolygon` values, and for geometry collections
    containing `Polygon` or `MultiPolygon` values.'
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer) 支持`Polygon`和`MultiPolygon`值的负距离，以及包含`Polygon`或`MultiPolygon`值的几何集合。'
- en: If the result is reduced so much that it disappears, the result is an empty
    geometry.
  id: totrans-30
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果结果减少到消失，结果是一个空几何体。
- en: An [`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)
    error occurs for [`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)
    with a negative distance for `Point`, `MultiPoint`, `LineString`, and `MultiLineString`
    values, and for geometry collections not containing any `Polygon` or `MultiPolygon`
    values.
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于具有负距离的`Point`、`MultiPoint`、`LineString`和`MultiLineString`值以及不包含任何`Polygon`或`MultiPolygon`值的几何集合的[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)会出现一个[`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)错误。
- en: 'If the geometry argument is in a geographic SRS:'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果几何参数在地理 SRS 中：
- en: Prior to MySQL 8.0.26, an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error occurs.
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 MySQL 8.0.26 之前，会出现一个[`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)错误。
- en: As of MySQL 8.0.26, `Point` geometries in a geographic SRS are permitted. For
    non-`Point` geometries, an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error still occurs.
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 截至 MySQL 8.0.26，允许在地理 SRS 中使用`Point`几何体。对于非`Point`几何体，仍会出现一个[`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)错误。
- en: 'For MySQL versions that permit geographic `Point` geometries:'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于允许地理`Point`几何体的 MySQL 版本：
- en: If the distance is not negative and no strategies are specified, the function
    returns the geographic buffer of the `Point` in its SRS. The distance argument
    must be in the SRS distance unit (currently always meters).
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果距离不为负数且未指定任何策略，则函数返回其SRS中点的地理缓冲区。距离参数必须以SRS距离单位（目前始终为米）表示。
- en: If the distance is negative or any strategy (except `NULL`) is specified, an
    [`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)
    error occurs.
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果距离为负数或指定了任何策略（除了`NULL`），则会发生[`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)错误。
- en: '[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer) permits
    up to three optional strategy arguments following the distance argument. Strategies
    influence buffer computation. These arguments are byte string values produced
    by the [`ST_Buffer_Strategy()`](spatial-operator-functions.html#function_st-buffer-strategy)
    function, to be used for point, join, and end strategies:'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)允许在距离参数后跟随最多三个可选策略参数。策略影响缓冲计算。这些参数是由[`ST_Buffer_Strategy()`](spatial-operator-functions.html#function_st-buffer-strategy)函数生成的字节字符串值，用于点、连接和端点策略：'
- en: Point strategies apply to `Point` and `MultiPoint` geometries. If no point strategy
    is specified, the default is [`ST_Buffer_Strategy('point_circle', 32)`](spatial-operator-functions.html#function_st-buffer-strategy).
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点策略适用于`Point`和`MultiPoint`几何体。如果未指定点策略，则默认为[`ST_Buffer_Strategy('point_circle',
    32)`](spatial-operator-functions.html#function_st-buffer-strategy)。
- en: Join strategies apply to `LineString`, `MultiLineString`, `Polygon`, and `MultiPolygon`
    geometries. If no join strategy is specified, the default is [`ST_Buffer_Strategy('join_round',
    32)`](spatial-operator-functions.html#function_st-buffer-strategy).
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接策略适用于`LineString`、`MultiLineString`、`Polygon`和`MultiPolygon`几何体。如果未指定连接策略，则默认为[`ST_Buffer_Strategy('join_round',
    32)`](spatial-operator-functions.html#function_st-buffer-strategy)。
- en: End strategies apply to `LineString` and `MultiLineString` geometries. If no
    end strategy is specified, the default is [`ST_Buffer_Strategy('end_round', 32)`](spatial-operator-functions.html#function_st-buffer-strategy).
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 端点策略适用于`LineString`和`MultiLineString`几何体。如果未指定端点策略，则默认为[`ST_Buffer_Strategy('end_round',
    32)`](spatial-operator-functions.html#function_st-buffer-strategy)。
- en: Up to one strategy of each type may be specified, and they may be given in any
    order.
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每种类型最多可以指定一个策略，并且可以以任何顺序给出。
- en: 'If the buffer strategies are invalid, an [`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)
    error occurs. Strategies are invalid under any of these circumstances:'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果缓冲策略无效，则会发生[`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)错误。在以下任何情况下，策略都是无效的：
- en: Multiple strategies of a given type (point, join, or end) are specified.
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指定了给定类型（点、连接或端点）的多个策略。
- en: A value that is not a strategy (such as an arbitrary binary string or a number)
    is passed as a strategy.
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 作为策略传递的不是策略的值（例如任意二进制字符串或数字）。
- en: A `Point` strategy is passed and the geometry contains no `Point` or `MultiPoint`
    values.
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递了一个`Point`策略，几何体不包含`Point`或`MultiPoint`值。
- en: An end or join strategy is passed and the geometry contains no `LineString`,
    `Polygon`, `MultiLinestring` or `MultiPolygon` values.
  id: totrans-47
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传递了端点或连接策略，几何体不包含`LineString`、`Polygon`、`MultiLinestring`或`MultiPolygon`值。
- en: '[PRE1]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[`ST_Buffer_Strategy(*`strategy`* [, *`points_per_circle`*])`](spatial-operator-functions.html#function_st-buffer-strategy)'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Buffer_Strategy(*`strategy`* [, *`points_per_circle`*])`](spatial-operator-functions.html#function_st-buffer-strategy)'
- en: This function returns a strategy byte string for use with [`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)
    to influence buffer computation.
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数返回一个策略字节字符串，用于影响[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)的缓冲计算。
- en: Information about strategies is available at [Boost.org](http://www.boost.org).
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 关于策略的信息可在[Boost.org](http://www.boost.org)上找到。
- en: 'The first argument must be a string indicating a strategy option:'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 第一个参数必须是指示策略选项的字符串：
- en: For point strategies, permitted values are `'point_circle'` and `'point_square'`.
  id: totrans-54
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于点策略，允许的值为`'point_circle'`和`'point_square'`。
- en: For join strategies, permitted values are `'join_round'` and `'join_miter'`.
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于连接策略，允许的值为`'join_round'`和`'join_miter'`。
- en: For end strategies, permitted values are `'end_round'` and `'end_flat'`.
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于端点策略，允许的值为`'end_round'`和`'end_flat'`。
- en: If the first argument is `'point_circle'`, `'join_round'`, `'join_miter'`, or
    `'end_round'`, the *`points_per_circle`* argument must be given as a positive
    numeric value. The maximum *`points_per_circle`* value is the value of the [`max_points_in_geometry`](server-system-variables.html#sysvar_max_points_in_geometry)
    system variable.
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果第一个参数是`'point_circle'`、`'join_round'`、`'join_miter'`或`'end_round'`，则*`points_per_circle`*参数必须作为正数值给出。最大*`points_per_circle`*值是[`max_points_in_geometry`](server-system-variables.html#sysvar_max_points_in_geometry)系统变量的值。
- en: For examples, see the description of [`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer).
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关示例，请参阅[`ST_Buffer()`](spatial-operator-functions.html#function_st-buffer)的描述。
- en: '[`ST_Buffer_Strategy()`](spatial-operator-functions.html#function_st-buffer-strategy)
    handles its arguments as described in the introduction to this section, with these
    exceptions:'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_Buffer_Strategy()`](spatial-operator-functions.html#function_st-buffer-strategy)处理其参数如本节介绍的那样，但有以下例外：'
- en: If any argument is invalid, an [`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)
    error occurs.
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果任何参数无效，则会出现[`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)错误。
- en: If the first argument is `'point_square'` or `'end_flat'`, the *`points_per_circle`*
    argument must not be given or an [`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)
    error occurs.
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果第一个参数是`'point_square'`或`'end_flat'`，则*`points_per_circle`*参数不能给出，否则会出现[`ER_WRONG_ARGUMENTS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_wrong_arguments)错误。
- en: '[`ST_ConvexHull(*`g`*)`](spatial-operator-functions.html#function_st-convexhull)'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_ConvexHull(*`g`*)`](spatial-operator-functions.html#function_st-convexhull)'
- en: Returns a geometry that represents the convex hull of the geometry value *`g`*.
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 返回一个表示几何值*`g`*的凸包的几何体。
- en: This function computes a geometry's convex hull by first checking whether its
    vertex points are colinear. The function returns a linear hull if so, a polygon
    hull otherwise. This function processes geometry collections by extracting all
    vertex points of all components of the collection, creating a `MultiPoint` value
    from them, and computing its convex hull.
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数通过首先检查几何体的顶点是否共线来计算几何的凸包。如果是，则函数返回线性凸包，否则返回多边形凸包。此函数通过提取集合的所有组件的所有顶点来处理几何集合，从中创建一个`MultiPoint`值，并计算其凸包。
- en: '[`ST_ConvexHull()`](spatial-operator-functions.html#function_st-convexhull)
    handles its arguments as described in the introduction to this section, with this
    exception:'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_ConvexHull()`](spatial-operator-functions.html#function_st-convexhull)处理其参数如本节介绍的那样，但有一个例外：'
- en: The return value is `NULL` for the additional condition that the argument is
    an empty geometry collection.
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于额外条件，如果参数是空几何集合，则返回值为`NULL`。
- en: '[PRE3]'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[`ST_Difference(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-difference)'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Difference(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-difference)'
- en: Returns a geometry that represents the point set difference of the geometry
    values *`g1`* and *`g2`*. The result is in the same SRS as the geometry arguments.
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 返回一个几何体，表示几何值*`g1`*和*`g2`*的点集差集。结果与几何参数在相同的SRS中。
- en: As of MySQL 8.0.26, [`ST_Difference()`](spatial-operator-functions.html#function_st-difference)
    permits arguments in either a Cartesian or a geographic SRS. Prior to MySQL 8.0.26,
    [`ST_Difference()`](spatial-operator-functions.html#function_st-difference) permits
    arguments in a Cartesian SRS only; for arguments in a geographic SRS, an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error occurs.
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.26，[`ST_Difference()`](spatial-operator-functions.html#function_st-difference)允许在笛卡尔或地理SRS中使用参数。在MySQL
    8.0.26之前，[`ST_Difference()`](spatial-operator-functions.html#function_st-difference)仅允许在笛卡尔SRS中使用参数；对于地理SRS中的参数，会出现[`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)错误。
- en: '[`ST_Difference()`](spatial-operator-functions.html#function_st-difference)
    handles its arguments as described in the introduction to this section.'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_Difference()`](spatial-operator-functions.html#function_st-difference)处理其参数如本节介绍的那样。'
- en: '[PRE4]'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[`ST_Intersection(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-intersection)'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Intersection(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-intersection)'
- en: Returns a geometry that represents the point set intersection of the geometry
    values *`g1`* and *`g2`*. The result is in the same SRS as the geometry arguments.
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 返回一个几何体，表示几何值*`g1`*和*`g2`*的点集交集。结果与几何参数在相同的SRS中。
- en: As of MySQL 8.0.27, [`ST_Intersection()`](spatial-operator-functions.html#function_st-intersection)
    permits arguments in either a Cartesian or a geographic SRS. Prior to MySQL 8.0.27,
    [`ST_Intersection()`](spatial-operator-functions.html#function_st-intersection)
    permits arguments in a Cartesian SRS only; for arguments in a geographic SRS,
    an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error occurs.
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.27，[`ST_Intersection()`](spatial-operator-functions.html#function_st-intersection)允许在笛卡尔或地理SRS中使用参数。在MySQL
    8.0.27之前，[`ST_Intersection()`](spatial-operator-functions.html#function_st-intersection)仅允许在笛卡尔SRS中使用参数；对于地理SRS中的参数，会出现[`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)错误。
- en: '[`ST_Intersection()`](spatial-operator-functions.html#function_st-intersection)
    handles its arguments as described in the introduction to this section.'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_Intersection()`](spatial-operator-functions.html#function_st-intersection)处理其参数的方式如本节介绍的那样。'
- en: '[PRE5]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[`ST_LineInterpolatePoint(*`ls`*, *`fractional_distance`*)`](spatial-operator-functions.html#function_st-lineinterpolatepoint)'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_LineInterpolatePoint(*`ls`*, *`fractional_distance`*)`](spatial-operator-functions.html#function_st-lineinterpolatepoint)'
- en: This function takes a `LineString` geometry and a fractional distance in the
    range [0.0, 1.0] and returns the `Point` along the `LineString` at the given fraction
    of the distance from its start point to its endpoint. It can be used to answer
    questions such as which `Point` lies halfway along the road described by the geometry
    argument.
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数接受一个`LineString`几何和一个范围在[0.0, 1.0]内的分数距离，并返回`LineString`上给定分数距离从起点到终点的距离的`Point`。它可用于回答诸如哪个`Point`位于由几何参数描述的道路中点的问题。
- en: The function is implemented for `LineString` geometries in all spatial reference
    systems, both Cartesian and geographic.
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该函数在所有空间参考系统中实现了对`LineString`几何的支持，包括笛卡尔和地理坐标系。
- en: If the *`fractional_distance`* argument is 1.0, the result may not be exactly
    the last point of the `LineString` argument but a point close to it due to numerical
    inaccuracies in approximate-value computations.
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果*`fractional_distance`*参数为1.0，则由于近似值计算中的数值不准确性，结果可能并非`LineString`参数的确切最后一个点，而是接近它的点。
- en: A related function, [`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints),
    takes similar arguments but returns a `MultiPoint` consisting of `Point` values
    along the `LineString` at each fraction of the distance from its start point to
    its endpoint. For examples of both functions, see the [`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)
    description.
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个相关函数，[`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)，接受类似参数，但返回由`LineString`上每个距离从起点到终点的分数的`Point`值组成的`MultiPoint`。有关这两个函数的示例，请参阅[`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)描述。
- en: '[`ST_LineInterpolatePoint()`](spatial-operator-functions.html#function_st-lineinterpolatepoint)
    handles its arguments as described in the introduction to this section, with these
    exceptions:'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_LineInterpolatePoint()`](spatial-operator-functions.html#function_st-lineinterpolatepoint)处理其参数的方式如本节介绍的那样，但有以下例外：'
- en: If the geometry argument is not a `LineString`, an [`ER_UNEXPECTED_GEOMETRY_TYPE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_unexpected_geometry_type)
    error occurs.
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几何参数不是`LineString`，则会出现[`ER_UNEXPECTED_GEOMETRY_TYPE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_unexpected_geometry_type)错误。
- en: If the fractional distance argument is outside the range [0.0, 1.0], an [`ER_DATA_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_data_out_of_range)
    error occurs.
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果分数距离参数超出范围[0.0, 1.0]，则会出现[`ER_DATA_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_data_out_of_range)错误。
- en: '[`ST_LineInterpolatePoint()`](spatial-operator-functions.html#function_st-lineinterpolatepoint)
    is a MySQL extension to OpenGIS. This function was added in MySQL 8.0.24.'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_LineInterpolatePoint()`](spatial-operator-functions.html#function_st-lineinterpolatepoint)是MySQL对OpenGIS的扩展。此函数在MySQL
    8.0.24中添加。'
- en: '[`ST_LineInterpolatePoints(*`ls`*, *`fractional_distance`*)`](spatial-operator-functions.html#function_st-lineinterpolatepoints)'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_LineInterpolatePoints(*`ls`*, *`fractional_distance`*)`](spatial-operator-functions.html#function_st-lineinterpolatepoints)'
- en: This function takes a `LineString` geometry and a fractional distance in the
    range (0.0, 1.0] and returns the `MultiPoint` consisting of the `LineString` start
    point, plus `Point` values along the `LineString` at each fraction of the distance
    from its start point to its endpoint. It can be used to answer questions such
    as which `Point` values lie every 10% of the way along the road described by the
    geometry argument.
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数接受一个`LineString`几何体和一个范围在(0.0, 1.0]的分数距离，并返回由`LineString`起始点加上沿着`LineString`的每个分数距离处的`Point`值组成的`MultiPoint`。它可以用来回答诸如描述几何参数的道路每隔10%的距离处是哪些`Point`值的问题。
- en: The function is implemented for `LineString` geometries in all spatial reference
    systems, both Cartesian and geographic.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该函数适用于所有空间参考系统中的`LineString`几何体，包括笛卡尔和地理坐标系。
- en: If the *`fractional_distance`* argument divides 1.0 with zero remainder the
    result may not contain the last point of the `LineString` argument but a point
    close to it due to numerical inaccuracies in approximate-value computations.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果*`fractional_distance`*参数将1.0除以零余数，则由于近似值计算中的数值不准确性，结果可能不包含`LineString`参数的最后一个点，而是接近它的点。
- en: A related function, [`ST_LineInterpolatePoint()`](spatial-operator-functions.html#function_st-lineinterpolatepoint),
    takes similar arguments but returns the `Point` along the `LineString` at the
    given fraction of the distance from its start point to its endpoint.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个相关的函数，[`ST_LineInterpolatePoint()`](spatial-operator-functions.html#function_st-lineinterpolatepoint)，接受类似的参数，但返回`LineString`中距离起始点到终点给定分数距离处的`Point`。
- en: '[`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)
    handles its arguments as described in the introduction to this section, with these
    exceptions:'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)处理其参数的方式如本节介绍所述，但有以下例外：'
- en: If the geometry argument is not a `LineString`, an [`ER_UNEXPECTED_GEOMETRY_TYPE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_unexpected_geometry_type)
    error occurs.
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几何参数不是`LineString`，则会发生[`ER_UNEXPECTED_GEOMETRY_TYPE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_unexpected_geometry_type)错误。
- en: If the fractional distance argument is outside the range [0.0, 1.0], an [`ER_DATA_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_data_out_of_range)
    error occurs.
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果分数距离参数超出范围[0.0, 1.0]，则会发生[`ER_DATA_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_data_out_of_range)错误。
- en: '[PRE6]'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)
    is a MySQL extension to OpenGIS. This function was added in MySQL 8.0.24.'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_LineInterpolatePoints()`](spatial-operator-functions.html#function_st-lineinterpolatepoints)是MySQL对OpenGIS的扩展。此函数在MySQL
    8.0.24中添加。'
- en: '[`ST_PointAtDistance(*`ls`*, *`distance`*)`](spatial-operator-functions.html#function_st-pointatdistance)'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_PointAtDistance(*`ls`*, *`distance`*)`](spatial-operator-functions.html#function_st-pointatdistance)'
- en: This function takes a `LineString` geometry and a distance in the range [0.0,
    [`ST_Length(*`ls`*)`](gis-linestring-property-functions.html#function_st-length)]
    measured in the unit of the spatial reference system (SRS) of the `LineString`,
    and returns the `Point` along the `LineString` at that distance from its start
    point. It can be used to answer questions such as which `Point` value is 400 meters
    from the start of the road described by the geometry argument.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此函数接受一个`LineString`几何体和一个距离范围在[0.0, [`ST_Length(*`ls`*)`](gis-linestring-property-functions.html#function_st-length)]之间的距离，以`LineString`的空间参考系统（SRS）单位测量，并返回沿着`LineString`在该距离处于起始点的`Point`。它可以用来回答诸如描述几何参数的道路起点400米处是哪个`Point`值的问题。
- en: The function is implemented for `LineString` geometries in all spatial reference
    systems, both Cartesian and geographic.
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该函数适用于所有空间参考系统中的`LineString`几何体，包括笛卡尔和地理坐标系。
- en: '[`ST_PointAtDistance()`](spatial-operator-functions.html#function_st-pointatdistance)
    handles its arguments as described in the introduction to this section, with these
    exceptions:'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_PointAtDistance()`](spatial-operator-functions.html#function_st-pointatdistance)处理其参数的方式如本节介绍所述，但有以下例外：'
- en: If the geometry argument is not a `LineString`, an [`ER_UNEXPECTED_GEOMETRY_TYPE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_unexpected_geometry_type)
    error occurs.
  id: totrans-101
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几何参数不是`LineString`，则会发生[`ER_UNEXPECTED_GEOMETRY_TYPE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_unexpected_geometry_type)错误。
- en: If the fractional distance argument is outside the range [0.0, [`ST_Length(*`ls`*)`](gis-linestring-property-functions.html#function_st-length)],
    an [`ER_DATA_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_data_out_of_range)
    error occurs.
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果分数距离参数在范围 [0.0, [`ST_Length(*`ls`*)`](gis-linestring-property-functions.html#function_st-length)]
    之外，则会发生 [`ER_DATA_OUT_OF_RANGE`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_data_out_of_range)
    错误。
- en: '[`ST_PointAtDistance()`](spatial-operator-functions.html#function_st-pointatdistance)
    is a MySQL extension to OpenGIS. This function was added in MySQL 8.0.24.'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_PointAtDistance()`](spatial-operator-functions.html#function_st-pointatdistance)
    是 MySQL 对 OpenGIS 的扩展。此函数在 MySQL 8.0.24 中添加。'
- en: '[`ST_SymDifference(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-symdifference)'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_SymDifference(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-symdifference)'
- en: 'Returns a geometry that represents the point set symmetric difference of the
    geometry values *`g1`* and *`g2`*, which is defined as:'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 返回表示几何值 *`g1`* 和 *`g2`* 的点集对称差异的几何体，定义如下：
- en: '[PRE7]'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Or, in function call notation:'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 或者，在函数调用符号中：
- en: '[PRE8]'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The result is in the same SRS as the geometry arguments.
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果与几何参数相同的空间参考系统（SRS）中。
- en: As of MySQL 8.0.27, [`ST_SymDifference()`](spatial-operator-functions.html#function_st-symdifference)
    permits arguments in either a Cartesian or a geographic SRS. Prior to MySQL 8.0.27,
    [`ST_SymDifference()`](spatial-operator-functions.html#function_st-symdifference)
    permits arguments in a Cartesian SRS only; for arguments in a geographic SRS,
    an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error occurs.
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至 MySQL 8.0.27，[`ST_SymDifference()`](spatial-operator-functions.html#function_st-symdifference)
    允许在笛卡尔或地理 SRS 中使用参数。在 MySQL 8.0.27 之前，[`ST_SymDifference()`](spatial-operator-functions.html#function_st-symdifference)
    仅允许在笛卡尔 SRS 中使用参数；对于地理 SRS 中的参数，会出现 [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    错误。
- en: '[`ST_SymDifference()`](spatial-operator-functions.html#function_st-symdifference)
    handles its arguments as described in the introduction to this section.'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_SymDifference()`](spatial-operator-functions.html#function_st-symdifference)
    处理其参数如本节介绍的那样。'
- en: '[PRE9]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[`ST_Transform(*`g`*, *`target_srid`*)`](spatial-operator-functions.html#function_st-transform)'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Transform(*`g`*, *`target_srid`*)`](spatial-operator-functions.html#function_st-transform)'
- en: 'Transforms a geometry from one spatial reference system (SRS) to another. The
    return value is a geometry of the same type as the input geometry with all coordinates
    transformed to the target SRID, *`target_srid`*. Prior to MySQL 8.0.30, transformation
    support was limited to geographic SRSs (unless the SRID of the geometry argument
    was the same as the target SRID value, in which case the return value was the
    input geometry for any valid SRS), and this function did not support Cartesian
    SRSs. Beginning with MySQL 8.0.30, support is provided for the Popular Visualisation
    Pseudo Mercator (EPSG 1024) projection method, used for WGS 84 Pseudo-Mercator
    (SRID 3857). In MySQL 8.0.32 and later, support is extended to all SRSs defined
    by EPSG except for those listed here:'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将几何从一个空间参考系统（SRS）转换到另一个。返回值是与输入几何相同类型的几何，所有坐标都转换为目标 SRID，*`target_srid`*。在 MySQL
    8.0.30 之前，转换支持仅限于地理 SRS（除非几何参数的 SRID 与目标 SRID 值相同，在这种情况下，对于任何有效的 SRS，返回值是输入几何），此函数不支持笛卡尔
    SRS。从 MySQL 8.0.30 开始，支持 Popular Visualisation Pseudo Mercator（EPSG 1024）投影方法，用于
    WGS 84 Pseudo-Mercator（SRID 3857）。在 MySQL 8.0.32 及更高版本中，支持扩展到除以下列出的 SRS 外的所有由
    EPSG 定义的 SRS：
- en: EPSG 1042 Krovak Modified
  id: totrans-115
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: EPSG 1042 Krovak Modified
- en: EPSG 1043 Krovak Modified (North Orientated)
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: EPSG 1043 Krovak Modified（北向）
- en: EPSG 9816 Tunisia Mining Grid
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: EPSG 9816 突尼斯矿业网格
- en: EPSG 9826 Lambert Conic Conformal (West Orientated)
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: EPSG 9826 Lambert Conic Conformal（西向）
- en: '[`ST_Transform()`](spatial-operator-functions.html#function_st-transform) handles
    its arguments as described in the introduction to this section, with these exceptions:'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_Transform()`](spatial-operator-functions.html#function_st-transform) 处理其参数如本节介绍的那样，但有以下例外：'
- en: Geometry arguments that have an SRID value for a geographic SRS do not produce
    an error.
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有地理空间参考系统（SRS）的 SRID 值的几何参数不会产生错误。
- en: If the geometry or target SRID argument has an SRID value that refers to an
    undefined spatial reference system (SRS), an [`ER_SRS_NOT_FOUND`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_srs_not_found)
    error occurs.
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几何或目标 SRID 参数具有指向未定义空间参考系统（SRS）的 SRID 值，则会发生 [`ER_SRS_NOT_FOUND`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_srs_not_found)
    错误。
- en: If the geometry is in an SRS that [`ST_Transform()`](spatial-operator-functions.html#function_st-transform)
    cannot transform from, an [`ER_TRANSFORM_SOURCE_SRS_NOT_SUPPORTED`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_source_srs_not_supported)
    error occurs.
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几何体在一个[`ST_Transform()`](spatial-operator-functions.html#function_st-transform)无法从中转换的SRS中，将会发生[`ER_TRANSFORM_SOURCE_SRS_NOT_SUPPORTED`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_source_srs_not_supported)错误。
- en: If the target SRID is in an SRS that [`ST_Transform()`](spatial-operator-functions.html#function_st-transform)
    cannot transform to, an [`ER_TRANSFORM_TARGET_SRS_NOT_SUPPORTED`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_target_srs_not_supported)
    error occurs.
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果目标SRID在一个[`ST_Transform()`](spatial-operator-functions.html#function_st-transform)无法转换到的SRS中，将会发生[`ER_TRANSFORM_TARGET_SRS_NOT_SUPPORTED`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_target_srs_not_supported)错误。
- en: If the geometry is in an SRS that is not WGS 84 and has no TOWGS84 clause, an
    [`ER_TRANSFORM_SOURCE_SRS_MISSING_TOWGS84`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_source_srs_missing_towgs84)
    error occurs.
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几何体在一个没有TOWGS84子句的不是WGS 84的SRS中，将会发生[`ER_TRANSFORM_SOURCE_SRS_MISSING_TOWGS84`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_source_srs_missing_towgs84)错误。
- en: If the target SRID is in an SRS that is not WGS 84 and has no TOWGS84 clause,
    an [`ER_TRANSFORM_TARGET_SRS_MISSING_TOWGS84`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_target_srs_missing_towgs84)
    error occurs.
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果目标SRID在一个没有TOWGS84子句的不是WGS 84的SRS中，将会发生[`ER_TRANSFORM_TARGET_SRS_MISSING_TOWGS84`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_transform_target_srs_missing_towgs84)错误。
- en: '[`ST_SRID(*`g`*, *`target_srid`*)`](gis-general-property-functions.html#function_st-srid)
    and [`ST_Transform(*`g`*, *`target_srid`*)`](spatial-operator-functions.html#function_st-transform)
    differ as follows:'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_SRID(*`g`*, *`target_srid`*)`](gis-general-property-functions.html#function_st-srid)和[`ST_Transform(*`g`*,
    *`target_srid`*)`](spatial-operator-functions.html#function_st-transform)有以下不同：'
- en: '[`ST_SRID()`](gis-general-property-functions.html#function_st-srid) changes
    the geometry SRID value without transforming its coordinates.'
  id: totrans-127
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_SRID()`](gis-general-property-functions.html#function_st-srid)改变几何SRID值，而不转换其坐标。'
- en: '[`ST_Transform()`](spatial-operator-functions.html#function_st-transform) transforms
    the geometry coordinates in addition to changing its SRID value.'
  id: totrans-128
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Transform()`](spatial-operator-functions.html#function_st-transform)会转换几何坐标，同时改变其SRID值。'
- en: '[PRE10]'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[`ST_Union(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-union)'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`ST_Union(*`g1`*, *`g2`*)`](spatial-operator-functions.html#function_st-union)'
- en: Returns a geometry that represents the point set union of the geometry values
    *`g1`* and *`g2`*. The result is in the same SRS as the geometry arguments.
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 返回一个几何体，表示几何值*`g1`*和*`g2`*的点集并。结果与几何参数在相同的SRS中。
- en: As of MySQL 8.0.26, [`ST_Union()`](spatial-operator-functions.html#function_st-union)
    permits arguments in either a Cartesian or a geographic SRS. Prior to MySQL 8.0.26,
    [`ST_Union()`](spatial-operator-functions.html#function_st-union) permits arguments
    in a Cartesian SRS only; for arguments in a geographic SRS, an [`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)
    error occurs.
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.26，[`ST_Union()`](spatial-operator-functions.html#function_st-union)允许参数在笛卡尔或地理SRS中。在MySQL
    8.0.26之前，[`ST_Union()`](spatial-operator-functions.html#function_st-union)仅允许参数在笛卡尔SRS中；对于地理SRS中的参数，将会发生[`ER_NOT_IMPLEMENTED_FOR_GEOGRAPHIC_SRS`](/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_not_implemented_for_geographic_srs)错误。
- en: '[`ST_Union()`](spatial-operator-functions.html#function_st-union) handles its
    arguments as described in the introduction to this section.'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`ST_Union()`](spatial-operator-functions.html#function_st-union)处理其参数如本节介绍的那样。'
- en: '[PRE11]'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
