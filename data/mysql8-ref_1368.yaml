- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/replication-options-source.html](https://dev.mysql.com/doc/refman/8.0/en/replication-options-source.html)
  id: totrans-0
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/replication-options-source.html](https://dev.mysql.com/doc/refman/8.0/en/replication-options-source.html)
- en: 19.1.6.2 Replication Source Options and Variables
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 19.1.6.2 复制源选项和变量
- en: This section describes the server options and system variables that you can
    use on replication source servers. You can specify the options either on the [command
    line](command-line-options.html "6.2.2.1 Using Options on the Command Line") or
    in an [option file](option-files.html "6.2.2.2 Using Option Files"). You can specify
    system variable values using [`SET`](set-variable.html "15.7.6.1 SET Syntax for
    Variable Assignment").
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本节描述了您可以在复制源服务器上使用的服务器选项和系统变量。您可以在[命令行](command-line-options.html "6.2.2.1 Using
    Options on the Command Line")或[选项文件](option-files.html "6.2.2.2 Using Option Files")中指定选项。您可以使用
    [`SET`](set-variable.html "15.7.6.1 SET Syntax for Variable Assignment") 指定系统变量值。
- en: 'On the source and each replica, you must set the [`server_id`](replication-options.html#sysvar_server_id)
    system variable to establish a unique replication ID. For each server, you should
    pick a unique positive integer in the range from 1 to 2^(32) − 1, and each ID
    must be different from every other ID in use by any other source or replica in
    the replication topology. Example: `server-id=3`.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在源和每个副本上，您必须设置 [`server_id`](replication-options.html#sysvar_server_id) 系统变量以建立唯一的复制
    ID。对于每个服务器，您应该选择一个在 1 到 2^(32) − 1 范围内的唯一正整数，并且每个 ID 必须与复制拓扑中任何其他源或副本使用的任何其他 ID
    不同。例如：`server-id=3`。
- en: For options used on the source for controlling binary logging, see [Section 19.1.6.4,
    “Binary Logging Options and Variables”](replication-options-binary-log.html "19.1.6.4 Binary
    Logging Options and Variables").
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 用于控制二进制日志记录的源上使用的选项，请参阅[第 19.1.6.4 节，“二进制日志选项和变量”](replication-options-binary-log.html
    "19.1.6.4 Binary Logging Options and Variables")。
- en: Startup Options for Replication Source Servers
  id: totrans-5
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 复制源服务器的启动选项
- en: The following list describes startup options for controlling replication source
    servers. Replication-related system variables are discussed later in this section.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 以下列表描述了用于控制复制源服务器的启动选项。复制相关的系统变量将在本节后面讨论。
- en: '[`--show-replica-auth-info`](replication-options-source.html#option_mysqld_show-replica-auth-info)'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`--show-replica-auth-info`](replication-options-source.html#option_mysqld_show-replica-auth-info)'
- en: '| Command-Line Format | `--show-replica-auth-info[={OFF&#124;ON}]` |'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--show-replica-auth-info[={OFF&#124;ON}]` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-9
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| Type | Boolean |'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔 |'
- en: '| Default Value | `OFF` |'
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `OFF` |'
- en: From MySQL 8.0.26, use [`--show-replica-auth-info`](replication-options-source.html#option_mysqld_show-replica-auth-info),
    and before MySQL 8.0.26, use [`--show-slave-auth-info`](replication-options-source.html#option_mysqld_show-slave-auth-info).
    Both options have the same effect. The options display replication user names
    and passwords in the output of [`SHOW REPLICAS`](show-replicas.html "15.7.7.33 SHOW
    REPLICAS Statement") (or before MySQL 8.0.22, [`SHOW SLAVE HOSTS`](show-slave-hosts.html
    "15.7.7.34 SHOW SLAVE HOSTS | SHOW REPLICAS Statement")) on the source for replicas
    started with the [`--report-user`](replication-options-replica.html#sysvar_report_user)
    and [`--report-password`](replication-options-replica.html#sysvar_report_password)
    options.
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从 MySQL 8.0.26 开始，请使用 [`--show-replica-auth-info`](replication-options-source.html#option_mysqld_show-replica-auth-info)，在
    MySQL 8.0.26 之前，请使用 [`--show-slave-auth-info`](replication-options-source.html#option_mysqld_show-slave-auth-info)。这两个选项具有相同的效果。这些选项在源上显示复制用户名和密码在
    [`SHOW REPLICAS`](show-replicas.html "15.7.7.33 SHOW REPLICAS Statement")（或在 MySQL
    8.0.22 之前，[`SHOW SLAVE HOSTS`](show-slave-hosts.html "15.7.7.34 SHOW SLAVE HOSTS
    | SHOW REPLICAS Statement")）的输出中，用于使用 [`--report-user`](replication-options-replica.html#sysvar_report_user)
    和 [`--report-password`](replication-options-replica.html#sysvar_report_password)
    选项启动的副本。
- en: '[`--show-slave-auth-info`](replication-options-source.html#option_mysqld_show-slave-auth-info)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`--show-slave-auth-info`](replication-options-source.html#option_mysqld_show-slave-auth-info)'
- en: '| Command-Line Format | `--show-slave-auth-info[={OFF&#124;ON}]` |'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--show-slave-auth-info[={OFF&#124;ON}]` |'
- en: '| Deprecated | 8.0.26 |'
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 已弃用 | 8.0.26 |'
- en: '| Type | Boolean |'
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔 |'
- en: '| Default Value | `OFF` |'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `OFF` |'
- en: Use this option before MySQL 8.0.26 rather than [`--show-replica-auth-info`](replication-options-source.html#option_mysqld_show-replica-auth-info).
    Both options have the same effect.
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 MySQL 8.0.26 之前，请使用此选项，而不是 [`--show-replica-auth-info`](replication-options-source.html#option_mysqld_show-replica-auth-info)。这两个选项具有相同的效果。
- en: System Variables Used on Replication Source Servers
  id: totrans-19
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 复制源服务器上使用的系统变量
- en: 'The following system variables are used for or by replication source servers:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 以下系统变量用于或由复制源服务器使用：
- en: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)'
- en: '| Command-Line Format | `--auto-increment-increment=#` |'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--auto-increment-increment=#` |'
- en: '| System Variable | `[auto_increment_increment](replication-options-source.html#sysvar_auto_increment_increment)`
    |'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[auto_increment_increment](replication-options-source.html#sysvar_auto_increment_increment)`
    |'
- en: '| Scope | Global, Session |'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 全局，会话 |'
- en: '| Dynamic | Yes |'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | Yes |'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") 提示适用 | 是 |'
- en: '| Type | Integer |'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `1` |'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `1` |'
- en: '| Minimum Value | `1` |'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `1` |'
- en: '| Maximum Value | `65535` |'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `65535` |'
- en: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    and [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    are intended for use with circular (source-to-source) replication, and can be
    used to control the operation of `AUTO_INCREMENT` columns. Both variables have
    global and session values, and each can assume an integer value between 1 and
    65,535 inclusive. Setting the value of either of these two variables to 0 causes
    its value to be set to 1 instead. Attempting to set the value of either of these
    two variables to an integer greater than 65,535 or less than 0 causes its value
    to be set to 65,535 instead. Attempting to set the value of [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    or [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    to a noninteger value produces an error, and the actual value of the variable
    remains unchanged.'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    和 [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    用于循环（源到源）复制，并可用于控制 `AUTO_INCREMENT` 列的操作。这两个变量都有全局和会话值，每个变量的值都可以是介于 1 到 65,535
    之间的整数。将这两个变量中的任何一个的值设置为 0 会使其值改为 1。尝试将这两个变量中的任何一个的值设置为大于 65,535 或小于 0 的整数会使其值改为
    65,535。尝试将 [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    或 [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    的值设置为非整数值会产生错误，并且变量的实际值保持不变。'
- en: Note
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    is also supported for use with [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB
    Cluster 8.0") tables.'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    也支持用于 [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB Cluster 8.0") 表。'
- en: As of MySQL 8.0.18, setting the session value of this system variable is no
    longer a restricted operation.
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至 MySQL 8.0.18，设置此系统变量的会话值不再是受限制的操作。
- en: When Group Replication is started on a server, the value of [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    is changed to the value of [`group_replication_auto_increment_increment`](group-replication-system-variables.html#sysvar_group_replication_auto_increment_increment),
    which defaults to 7, and the value of [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    is changed to the server ID. The changes are reverted when Group Replication is
    stopped. These changes are only made and reverted if [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    and [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    each have their default value of 1\. If their values have already been modified
    from the default, Group Replication does not alter them. From MySQL 8.0, the system
    variables are also not modified when Group Replication is in single-primary mode,
    where only one server writes.
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在服务器上启动组复制时，[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    的值会更改为 [`group_replication_auto_increment_increment`](group-replication-system-variables.html#sysvar_group_replication_auto_increment_increment)
    的值，默认为 7，并且 [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    的值会更改为服务器 ID。当停止组复制时，这些更改会被还原。只有当 [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    和 [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    的默认值都为 1 时，才会进行这些更改和还原。如果它们的值已经从默认值修改过，则组复制不会更改它们。从 MySQL 8.0 开始，当组复制处于单主模式时，即只有一个服务器写入时，系统变量也不会被修改。
- en: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    and [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    affect `AUTO_INCREMENT` column behavior as follows:'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)和[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)影响`AUTO_INCREMENT`列的行为如下：'
- en: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    controls the interval between successive column values. For example:'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)控制连续列值之间的间隔。例如：'
- en: '[PRE0]'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    determines the starting point for the `AUTO_INCREMENT` column value. Consider
    the following, assuming that these statements are executed during the same session
    as the example given in the description for [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment):'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)确定`AUTO_INCREMENT`列值的起始点。考虑以下情况，假设这些语句在与[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)描述中给出的示例相同的会话中执行：'
- en: '[PRE1]'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: When the value of [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    is greater than that of [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment),
    the value of [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    is ignored.
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)的值大于[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)的值时，将忽略[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)的值。
- en: 'If either of these variables is changed, and then new rows inserted into a
    table containing an `AUTO_INCREMENT` column, the results may seem counterintuitive
    because the series of `AUTO_INCREMENT` values is calculated without regard to
    any values already present in the column, and the next value inserted is the least
    value in the series that is greater than the maximum existing value in the `AUTO_INCREMENT`
    column. The series is calculated like this:'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果这两个变量中的任何一个被更改，然后新行被插入到包含`AUTO_INCREMENT`列的表中，结果可能看起来令人费解，因为`AUTO_INCREMENT`值的系列是在不考虑列中已经存在的任何值的情况下计算的，并且插入的下一个值是系列中大于`AUTO_INCREMENT`列中最大现有值的最小值。该系列的计算方式如下：
- en: '`auto_increment_offset` + *`N`* × `auto_increment_increment`'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`auto_increment_offset` + *`N`* × `auto_increment_increment`'
- en: 'where *`N`* is a positive integer value in the series [1, 2, 3, ...]. For example:'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 其中*`N`*是系列[1, 2, 3, ...]中的正整数值。例如：
- en: '[PRE2]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The values shown for [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    and [`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)
    generate the series 5 + *`N`* × 10, that is, [5, 15, 25, 35, 45, ...]. The highest
    value present in the `col` column prior to the [`INSERT`](insert.html "15.2.7 INSERT
    Statement") is 31, and the next available value in the `AUTO_INCREMENT` series
    is 35, so the inserted values for `col` begin at that point and the results are
    as shown for the [`SELECT`](select.html "15.2.13 SELECT Statement") query.
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所示的[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)和[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)的值生成系列5
    + *`N`* × 10，即[5, 15, 25, 35, 45, ...]。在[`INSERT`](insert.html "15.2.7 INSERT
    Statement")之前`col`列中存在的最高值为31，`AUTO_INCREMENT`系列中的下一个可用值为35，因此`col`的插入值从该点开始，并且查询的结果如[`SELECT`](select.html
    "15.2.13 SELECT Statement")中所示。
- en: It is not possible to restrict the effects of these two variables to a single
    table; these variables control the behavior of all `AUTO_INCREMENT` columns in
    *all* tables on the MySQL server. If the global value of either variable is set,
    its effects persist until the global value is changed or overridden by setting
    the session value, or until [**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL
    Server") is restarted. If the local value is set, the new value affects `AUTO_INCREMENT`
    columns for all tables into which new rows are inserted by the current user for
    the duration of the session, unless the values are changed during that session.
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不可能将这两个变量的影响限制在单个表中；这些变量控制MySQL服务器上*所有*表中的所有`AUTO_INCREMENT`列的行为。如果设置了任一变量的全局值，则其影响将持续，直到更改全局值或通过设置会话值覆盖，或者直到[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server")被重新启动。如果设置了本地值，则新值会影响当前用户在会话期间插入新行的所有表的`AUTO_INCREMENT`列，除非在该会话期间更改了这些值。
- en: The default value of [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)
    is 1\. See [Section 19.5.1.1, “Replication and AUTO_INCREMENT”](replication-features-auto-increment.html
    "19.5.1.1 Replication and AUTO_INCREMENT").
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)的默认值为
    1。请参阅[第 19.5.1.1 节，“复制和 AUTO_INCREMENT”](replication-features-auto-increment.html
    "19.5.1.1 复制和 AUTO_INCREMENT")。'
- en: '[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`auto_increment_offset`](replication-options-source.html#sysvar_auto_increment_offset)'
- en: '| Command-Line Format | `--auto-increment-offset=#` |'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--auto-increment-offset=#` |'
- en: '| System Variable | `[auto_increment_offset](replication-options-source.html#sysvar_auto_increment_offset)`
    |'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[auto_increment_offset](replication-options-source.html#sysvar_auto_increment_offset)`
    |'
- en: '| Scope | Global, Session |'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 全局，会话 |'
- en: '| Dynamic | Yes |'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | Yes |'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 是 |'
- en: '| Type | Integer |'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `1` |'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `1` |'
- en: '| Minimum Value | `1` |'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `1` |'
- en: '| Maximum Value | `65535` |'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `65535` |'
- en: This variable has a default value of 1\. If it is left with its default value,
    and Group Replication is started on the server in multi-primary mode, it is changed
    to the server ID. For more information, see the description for [`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment).
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此变量的默认值为 1。如果将其保留为默认值，并且在多主模式下在服务器上启动组复制，则将其更改为服务器 ID。有关更多信息，请参阅[`auto_increment_increment`](replication-options-source.html#sysvar_auto_increment_increment)的描述。
- en: Note
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: '`auto_increment_offset` is also supported for use with [`NDB`](mysql-cluster.html
    "Chapter 25 MySQL NDB Cluster 8.0") tables.'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`auto_increment_offset` 也支持用于与[`NDB`](mysql-cluster.html "第 25 章 MySQL NDB
    Cluster 8.0")表。'
- en: As of MySQL 8.0.18, setting the session value of this system variable is no
    longer a restricted operation.
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至 MySQL 8.0.18，设置此系统变量的会话值不再是受限制的操作。
- en: '[`immediate_server_version`](replication-options-source.html#sysvar_immediate_server_version)'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`immediate_server_version`](replication-options-source.html#sysvar_immediate_server_version)'
- en: '| Introduced | 8.0.14 |'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.14 |'
- en: '| System Variable | `[immediate_server_version](replication-options-source.html#sysvar_immediate_server_version)`
    |'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[immediate_server_version](replication-options-source.html#sysvar_immediate_server_version)`
    |'
- en: '| Scope | Session |'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 会话 |'
- en: '| Dynamic | Yes |'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `999999` |'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `999999` |'
- en: '| Minimum Value | `0` |'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `0` |'
- en: '| Maximum Value | `999999` |'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `999999` |'
- en: For internal use by replication. This session system variable holds the MySQL
    Server release number of the server that is the immediate source in a replication
    topology (for example, `80014` for a MySQL 8.0.14 server instance). If this immediate
    server is at a release that does not support the session system variable, the
    value of the variable is set to 0 (`UNKNOWN_SERVER_VERSION`).
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于复制的内部使用。此会话系统变量保存了复制拓扑中作为直接源的 MySQL 服务器发布号（例如，MySQL 8.0.14 服务器实例的`80014`）。如果此直接服务器处于不支持会话系统变量的发布中，则变量的值设置为
    0（`UNKNOWN_SERVER_VERSION`）。
- en: The value of the variable is replicated from a source to a replica. With this
    information the replica can correctly process data originating from a source at
    an older release, by recognizing where syntax changes or semantic changes have
    occurred between the releases involved and handling these appropriately. The information
    can also be used in a Group Replication environment where one or more members
    of the replication group is at a newer release than the others. The value of the
    variable can be viewed in the binary log for each transaction (as part of the
    `Gtid_log_event`, or `Anonymous_gtid_log_event` if GTIDs are not in use on the
    server), and could be helpful in debugging cross-version replication issues.
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此变量的值从源复制到副本。有了这些信息，副本可以正确处理源自较旧发布的源的数据，通过识别在涉及的发布之间发生的语法更改或语义更改，并适当处理这些更改。此信息还可用于组复制环境，其中一个或多个复制组成员的发布版本比其他成员新。变量的值可以在每个事务的二进制日志中查看（作为`Gtid_log_event`的一部分，或者如果服务器上未使用
    GTID，则作为`Anonymous_gtid_log_event`），并且在调试跨版本复制问题时可能会有所帮助。
- en: Setting the session value of this system variable is a restricted operation.
    The session user must have either the [`REPLICATION_APPLIER`](privileges-provided.html#priv_replication-applier)
    privilege (see [Section 19.3.3, “Replication Privilege Checks”](replication-privilege-checks.html
    "19.3.3 Replication Privilege Checks")), or privileges sufficient to set restricted
    session variables (see [Section 7.1.9.1, “System Variable Privileges”](system-variable-privileges.html
    "7.1.9.1 System Variable Privileges")). However, note that the variable is not
    intended for users to set; it is set automatically by the replication infrastructure.
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置此系统变量的会话值是受限制的操作。会话用户必须具有[`REPLICATION_APPLIER`](privileges-provided.html#priv_replication-applier)权限（请参阅[第19.3.3节，“复制权限检查”](replication-privilege-checks.html
    "19.3.3 复制权限检查")），或具有足够权限设置受限制会话变量的权限（请参阅[第7.1.9.1节，“系统变量权限”](system-variable-privileges.html
    "7.1.9.1 系统变量权限")）。但是，请注意，该变量不是供用户设置的；它是由复制基础设施自动设置的。
- en: '[`original_server_version`](replication-options-source.html#sysvar_original_server_version)'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`original_server_version`](replication-options-source.html#sysvar_original_server_version)'
- en: '| Introduced | 8.0.14 |'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.14 |'
- en: '| System Variable | `[original_server_version](replication-options-source.html#sysvar_original_server_version)`
    |'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[original_server_version](replication-options-source.html#sysvar_original_server_version)`
    |'
- en: '| Scope | Session |'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 会话 |'
- en: '| Dynamic | Yes |'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法")提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `999999` |'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `999999` |'
- en: '| Minimum Value | `0` |'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `0` |'
- en: '| Maximum Value | `999999` |'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `999999` |'
- en: For internal use by replication. This session system variable holds the MySQL
    Server release number of the server where a transaction was originally committed
    (for example, `80014` for a MySQL 8.0.14 server instance). If this original server
    is at a release that does not support the session system variable, the value of
    the variable is set to 0 (`UNKNOWN_SERVER_VERSION`). Note that when a release
    number is set by the original server, the value of the variable is reset to 0
    if the immediate server or any other intervening server in the replication topology
    does not support the session system variable, and so does not replicate its value.
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 用于复制的内部使用。此会话系统变量保存了事务最初提交的MySQL Server版本号（例如，对于MySQL 8.0.14服务器实例，为`80014`）。如果此原始服务器的版本不支持会话系统变量，则变量的值将设置为0（`UNKNOWN_SERVER_VERSION`）。请注意，当原始服务器设置了版本号时，如果立即服务器或复制拓扑中的任何其他中介服务器不支持会话系统变量，则变量的值将重置为0，并且不会复制其值。
- en: The value of the variable is set and used in the same ways as for the [`immediate_server_version`](replication-options-source.html#sysvar_immediate_server_version)
    system variable. If the value of the variable is the same as that for the [`immediate_server_version`](replication-options-source.html#sysvar_immediate_server_version)
    system variable, only the latter is recorded in the binary log, with an indicator
    that the original server version is the same.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该变量的值设置和使用方式与[`immediate_server_version`](replication-options-source.html#sysvar_immediate_server_version)系统变量相同。如果变量的值与[`immediate_server_version`](replication-options-source.html#sysvar_immediate_server_version)系统变量的值相同，则只记录后者在二进制日志中，并指示原始服务器版本相同。
- en: In a Group Replication environment, view change log events, which are special
    transactions queued by each group member when a new member joins the group, are
    tagged with the server version of the group member queuing the transaction. This
    ensures that the server version of the original donor is known to the joining
    member. Because the view change log events queued for a particular view change
    have the same GTID on all members, for this case only, instances of the same GTID
    might have a different original server version.
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在Group Replication环境中，查看更改日志事件，这些事件是每个组成员在新成员加入组时排队的特殊事务，都带有排队事务的组成员的服务器版本标记。这确保了加入成员知道原始捐赠者的服务器版本。因为特定视图更改的排队事件在所有成员上具有相同的GTID，所以在这种情况下，相同的GTID实例可能具有不同的原始服务器版本。
- en: Setting the session value of this system variable is a restricted operation.
    The session user must have either the [`REPLICATION_APPLIER`](privileges-provided.html#priv_replication-applier)
    privilege (see [Section 19.3.3, “Replication Privilege Checks”](replication-privilege-checks.html
    "19.3.3 Replication Privilege Checks")), or privileges sufficient to set restricted
    session variables (see [Section 7.1.9.1, “System Variable Privileges”](system-variable-privileges.html
    "7.1.9.1 System Variable Privileges")). However, note that the variable is not
    intended for users to set; it is set automatically by the replication infrastructure.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 设置此系统变量的会话值是受限制的操作。会话用户必须具有[`REPLICATION_APPLIER`](privileges-provided.html#priv_replication-applier)权限（参见[第19.3.3节，“复制权限检查”](replication-privilege-checks.html
    "19.3.3 复制权限检查")），或具有足够权限设置受限制会话变量的权限（参见[第7.1.9.1节，“系统变量权限”](system-variable-privileges.html
    "7.1.9.1 系统变量权限")）。但是，请注意，该变量不是供用户设置的；它是由复制基础设施自动设置的。
- en: '[`rpl_semi_sync_master_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_master_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)'
- en: '| Command-Line Format | `--rpl-semi-sync-master-enabled[={OFF&#124;ON}]` |'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-master-enabled[={OFF&#124;ON}]` |'
- en: '| System Variable | `[rpl_semi_sync_master_enabled](replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)`
    |'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_master_enabled](replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)`
    |'
- en: '| Scope | Global |'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用域 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Boolean |'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔值 |'
- en: '| Default Value | `OFF` |'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `OFF` |'
- en: Controls whether semisynchronous replication is enabled on the source server.
    To enable or disable the plugin, set this variable to `ON` or `OFF` (or 1 or 0),
    respectively. The default is `OFF`.
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 控制源服务器上是否启用半同步复制。要启用或禁用插件，请将此变量设置为`ON`或`OFF`（或分别为1或0）。默认值为`OFF`。
- en: This variable is available only if the source-side semisynchronous replication
    plugin is installed.
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 仅当源端半同步复制插件已安装��才可用。
- en: '[`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)'
- en: '| Command-Line Format | `--rpl-semi-sync-master-timeout=#` |'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-master-timeout=#` |'
- en: '| System Variable | `[rpl_semi_sync_master_timeout](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)`
    |'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_master_timeout](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)`
    |'
- en: '| Scope | Global |'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用域 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `10000` |'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `10000` |'
- en: '| Minimum Value | `0` |'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `0` |'
- en: '| Maximum Value | `4294967295` |'
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `4294967295` |'
- en: '| Unit | milliseconds |'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 单位 | 毫秒 |'
- en: A value in milliseconds that controls how long the source waits on a commit
    for acknowledgment from a replica before timing out and reverting to asynchronous
    replication. The default value is 10000 (10 seconds).
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以毫秒为单位的值，控制源在提交等待来自副本的确认之前超时并回滚到异步复制的时间。默认值为10000（10秒）。
- en: This variable is available only if the source-side semisynchronous replication
    plugin is installed.
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 仅当源端半同步复制插件已安装时才可用。
- en: '[`rpl_semi_sync_master_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_master_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)'
- en: '| Command-Line Format | `--rpl-semi-sync-master-trace-level=#` |'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-master-trace-level=#` |'
- en: '| System Variable | `[rpl_semi_sync_master_trace_level](replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)`
    |'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_master_trace_level](replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)`
    |'
- en: '| Scope | Global |'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用域 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `32` |'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `32` |'
- en: '| Minimum Value | `0` |'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `0` |'
- en: '| Maximum Value | `4294967295` |'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `4294967295` |'
- en: 'The semisynchronous replication debug trace level on the source server. Four
    levels are defined:'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 源服务器上的半同步复制调试跟踪级别。定义了四个级别：
- en: 1 = general level (for example, time function failures)
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 = 一般级别（例如，时间函数失败）
- en: 16 = detail level (more verbose information)
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 16 = 详细级别（更详细的信息）
- en: 32 = net wait level (more information about network waits)
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 32 = 网络等待级别（有关网络等待的更多信息）
- en: 64 = function level (information about function entry and exit)
  id: totrans-127
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 64 = 函数级别（有关函数进入和退出的信息）
- en: This variable is available only if the source-side semisynchronous replication
    plugin is installed.
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 仅当源端半同步复制插件已安装时才可用此变量。
- en: '[`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)'
- en: '| Command-Line Format | `--rpl-semi-sync-master-wait-for-slave-count=#` |'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-master-wait-for-slave-count=#` |'
- en: '| System Variable | `[rpl_semi_sync_master_wait_for_slave_count](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)`
    |'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_master_wait_for_slave_count](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)`
    |'
- en: '| Scope | Global |'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法")提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `1` |'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `1` |'
- en: '| Minimum Value | `1` |'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `1` |'
- en: '| Maximum Value | `65535` |'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `65535` |'
- en: The number of replica acknowledgments the source must receive per transaction
    before proceeding. By default `rpl_semi_sync_master_wait_for_slave_count` is `1`,
    meaning that semisynchronous replication proceeds after receiving a single replica
    acknowledgment. Performance is best for small values of this variable.
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 源必须在继续之前每个事务收到的副本确认数。默认情况下，`rpl_semi_sync_master_wait_for_slave_count`为`1`，这意味着在收到单个副本确认后，半同步复制会继续进行。对于此变量的小值性能最佳。
- en: For example, if `rpl_semi_sync_master_wait_for_slave_count` is `2`, then 2 replicas
    must acknowledge receipt of the transaction before the timeout period configured
    by [`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)
    for semisynchronous replication to proceed. If fewer replicas acknowledge receipt
    of the transaction during the timeout period, the source reverts to normal replication.
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 例如，如果`rpl_semi_sync_master_wait_for_slave_count`为`2`，则在超时期限配置为[`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)之前，必须有2个副本确认接收事务，半同步复制才能继续。如果在超时期间较少的副本确认接收事务，则源会恢复到正常复制。
- en: Note
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: This behavior also depends on [`rpl_semi_sync_master_wait_no_slave`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此行为还取决于[`rpl_semi_sync_master_wait_no_slave`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)
- en: This variable is available only if the source-side semisynchronous replication
    plugin is installed.
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 仅当源端半同步复制插件已安装时才可用此变量。
- en: '[`rpl_semi_sync_master_wait_no_slave`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_master_wait_no_slave`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)'
- en: '| Command-Line Format | `--rpl-semi-sync-master-wait-no-slave[={OFF&#124;ON}]`
    |'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-master-wait-no-slave[={OFF&#124;ON}]` |'
- en: '| System Variable | `[rpl_semi_sync_master_wait_no_slave](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)`
    |'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_master_wait_no_slave](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)`
    |'
- en: '| Scope | Global |'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法")提示适用
    | 否 |'
- en: '| Type | Boolean |'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔值 |'
- en: '| Default Value | `ON` |'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `ON` |'
- en: Controls whether the source waits for the timeout period configured by [`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)
    to expire, even if the replica count drops to less than the number of replicas
    configured by [`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)
    during the timeout period.
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 控制源是否等待由[`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)配置的超时期限到期，即使在超时期间副本计数降至少于[`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)配置的副本数。
- en: When the value of `rpl_semi_sync_master_wait_no_slave` is `ON` (the default),
    it is permissible for the replica count to drop to less than [`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)
    during the timeout period. As long as enough replicas acknowledge the transaction
    before the timeout period expires, semisynchronous replication continues.
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当`rpl_semi_sync_master_wait_no_slave`的值为`ON`（默认）时，在超时期间允许副本计数降至少于[`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)。只要足够多的副本在超时期限到期之前确认事务，半同步复制就会继续。
- en: When the value of `rpl_semi_sync_master_wait_no_slave` is `OFF`, if the replica
    count drops to less than the number configured in [`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)
    at any time during the timeout period configured by [`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout),
    the source reverts to normal replication.
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当`rpl_semi_sync_master_wait_no_slave`的值为`OFF`时，如果在任何时候副本计数降至少于[`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)中配置的数量，在由[`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)配置的超时期间内，源将恢复到正常复制。
- en: This variable is available only if the source-side semisynchronous replication
    plugin is installed.
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此变量仅在安装了源端半同步复制插件时才可用。
- en: '[`rpl_semi_sync_master_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_master_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)'
- en: '| Command-Line Format | `--rpl-semi-sync-master-wait-point=value` |'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-master-wait-point=value` |'
- en: '| System Variable | `[rpl_semi_sync_master_wait_point](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)`
    |'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_master_wait_point](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)`
    |'
- en: '| Scope | Global |'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax")提示适用 | 否 |'
- en: '| Type | Enumeration |'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 枚举 |'
- en: '| Default Value | `AFTER_SYNC` |'
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认数值 | `AFTER_SYNC` |'
- en: '| Valid Values | `AFTER_SYNC``AFTER_COMMIT` |'
  id: totrans-164
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 有效数值 | `AFTER_SYNC``AFTER_COMMIT` |'
- en: 'This variable controls the point at which a semisynchronous replication source
    server waits for replica acknowledgment of transaction receipt before returning
    a status to the client that committed the transaction. These values are permitted:'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此变量控制半同步复制源服务器在向提交事务的客户端返回状态之前等待副本确认接收事务的点。这些值是允许的：
- en: '`AFTER_SYNC` (the default): The source writes each transaction to its binary
    log and the replica, and syncs the binary log to disk. The source waits for replica
    acknowledgment of transaction receipt after the sync. Upon receiving acknowledgment,
    the source commits the transaction to the storage engine and returns a result
    to the client, which then can proceed.'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AFTER_SYNC`（默认）：源将每个事务写入其二进制日志和副本，并将二进制日志同步到磁盘。源在同步后等待副本确认接收事务。在收到确认后，源将事务提交给存储引擎并向客户端返回结果，然后客户端可以继续。'
- en: '`AFTER_COMMIT`: The source writes each transaction to its binary log and the
    replica, syncs the binary log, and commits the transaction to the storage engine.
    The source waits for replica acknowledgment of transaction receipt after the commit.
    Upon receiving acknowledgment, the source returns a result to the client, which
    then can proceed.'
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AFTER_COMMIT`：源将每个事务写入其二进制日志和副本，同步二进制日志，并提交事务给存储引擎。源在提交后等待副本确认接收事务。在收到确认后，源向客户端返回结果，然后客户端可以继续。'
- en: 'The replication characteristics of these settings differ as follows:'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些设置的复制特性有以下不同：
- en: 'With `AFTER_SYNC`, all clients see the committed transaction at the same time:
    After it has been acknowledged by the replica and committed to the storage engine
    on the source. Thus, all clients see the same data on the source.'
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`AFTER_SYNC`，所有客户端同时看到已提交的事务：在副本确认并在源上提交给存储引擎之后。因此，所有客户端在源上看到相同的数据。
- en: In the event of source failure, all transactions committed on the source have
    been replicated to the replica (saved to its relay log). An unexpected exit of
    the source server and failover to the replica is lossless because the replica
    is up to date. Note, however, that the source cannot be restarted in this scenario
    and must be discarded, because its binary log might contain uncommitted transactions
    that would cause a conflict with the replica when externalized after binary log
    recovery.
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在源故障的情况下，所有在源上提交的事务都已复制到副本（保存到其中继日志）。源服务器意外退出并故障转移至副本是无损的，因为副本是最新的。但请注意，在这种情况下源服务器不能重新启动，必须被丢弃，因为其二进制日志可能包含未提交的事务，在二进制日志恢复后在外部化后会与副本发生冲突。
- en: With `AFTER_COMMIT`, the client issuing the transaction gets a return status
    only after the server commits to the storage engine and receives replica acknowledgment.
    After the commit and before replica acknowledgment, other clients can see the
    committed transaction before the committing client.
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 `AFTER_COMMIT`，发出事务的客户端只有在服务器提交给存储引擎并接收到副本确认后才会收到返回状态。在提交之后和副本确认之前，其他客户端可能会在提交客户端之前看到已提交的事务。
- en: If something goes wrong such that the replica does not process the transaction,
    then in the event of an unexpected source server exit and failover to the replica,
    it is possible for such clients to see a loss of data relative to what they saw
    on the source.
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果出现问题导致副本未能处理事务，则在源服务器意外退出并故障转移至副本时，这些客户端可能会看到相对于在源服务器上看到的数据有所丢失。
- en: This variable is available only if the source-side semisynchronous replication
    plugin is installed.
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 仅当源端半同步复制插件已安装时才可用此变量。
- en: 'With the addition of [`rpl_semi_sync_master_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)
    in MySQL 5.7, a version compatibility constraint was created because it increments
    the semisynchronous interface version: Servers for MySQL 5.7 and higher do not
    work with semisynchronous replication plugins from older versions, nor do servers
    from older versions work with semisynchronous replication plugins for MySQL 5.7
    and higher.'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 MySQL 5.7 中添加了 [`rpl_semi_sync_master_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)
    后，由于它增加了半同步接口版本，创建了一个版本兼容性约束：MySQL 5.7及更高版本的服务器不与旧版本的半同步复制插件一起工作，反之亦然。
- en: '[`rpl_semi_sync_source_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)'
- en: '| Command-Line Format | `--rpl-semi-sync-source-enabled[={OFF&#124;ON}]` |'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-source-enabled[={OFF&#124;ON}]` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| System Variable | `[rpl_semi_sync_source_enabled](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)`
    |'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_source_enabled](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)`
    |'
- en: '| Scope | Global |'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用域 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") 提示适用 | 否 |'
- en: '| Type | Boolean |'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔值 |'
- en: '| Default Value | `OFF` |'
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `OFF` |'
- en: '[`rpl_semi_sync_source_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)
    is available when the `rpl_semi_sync_source` (`semisync_source.so` library) plugin
    was installed on the replica to set up semisynchronous replication. If the `rpl_semi_sync_master`
    plugin (`semisync_master.so` library) was installed, [`rpl_semi_sync_master_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)
    is available instead.'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在副本上安装了 `rpl_semi_sync_source`（`semisync_source.so`库）插件以设置半同步复制时，[`rpl_semi_sync_source_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)
    可用。如果安装了 `rpl_semi_sync_master` 插件（`semisync_master.so`库），则可用 [`rpl_semi_sync_master_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)。
- en: '[`rpl_semi_sync_source_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)
    controls whether semisynchronous replication is enabled on the source server.
    To enable or disable the plugin, set this variable to `ON` or `OFF` (or 1 or 0),
    respectively. The default is `OFF`.'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_enabled`](replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)
    控制源服务器上是否启用半同步复制。要启用或禁用插件，请将此变量设置为 `ON` 或 `OFF`（或分别设置为 1 或 0）。默认值为 `OFF`。'
- en: '[`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)'
- en: '| Command-Line Format | `--rpl-semi-sync-source-timeout=#` |'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-source-timeout=#` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| System Variable | `[rpl_semi_sync_source_timeout](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)`
    |'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_source_timeout](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)`
    |'
- en: '| Scope | Global |'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `10000` |'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `10000` |'
- en: '| Minimum Value | `0` |'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `0` |'
- en: '| Maximum Value | `4294967295` |'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `4294967295` |'
- en: '| Unit | milliseconds |'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 单位 | 毫秒 |'
- en: '[`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    is available when the `rpl_semi_sync_source` (`semisync_source.so` library) plugin
    was installed on the replica to set up semisynchronous replication. If the `rpl_semi_sync_master`
    plugin (`semisync_master.so` library) was installed, [`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)
    is available instead.'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    在安装了`rpl_semi_sync_source`（`semisync_source.so`库）插件的复制品上设置半同步复制时可用。如果安装了`rpl_semi_sync_master`插件（`semisync_master.so`库），则可用[`rpl_semi_sync_master_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)。'
- en: '[`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    controls how long the source waits on a commit for acknowledgment from a replica
    before timing out and reverting to asynchronous replication. The value is specified
    in milliseconds, and the default value is 10000 (10 seconds).'
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    控制源在提交等待来自复制品的确认之前等待的时间，超时后将回滚到异步复制。该值以毫秒为单位指定，默认值为10000（10秒）。'
- en: '[`rpl_semi_sync_source_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)'
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)'
- en: '| Command-Line Format | `--rpl-semi-sync-source-trace-level=#` |'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-source-trace-level=#` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| System Variable | `[rpl_semi_sync_source_trace_level](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)`
    |'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_source_trace_level](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)`
    |'
- en: '| Scope | Global |'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `32` |'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `32` |'
- en: '| Minimum Value | `0` |'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `0` |'
- en: '| Maximum Value | `4294967295` |'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `4294967295` |'
- en: '[`rpl_semi_sync_source_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)
    is available when the `rpl_semi_sync_source` (`semisync_source.so` library) plugin
    was installed on the replica to set up semisynchronous replication. If the `rpl_semi_sync_master`
    plugin (`semisync_master.so` library) was installed, [`rpl_semi_sync_master_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)
    is available instead.'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)
    在安装了`rpl_semi_sync_source`（`semisync_source.so`库）插件的复制品上设置半同步复制时可用。如果安装了`rpl_semi_sync_master`插件（`semisync_master.so`库），则可用[`rpl_semi_sync_master_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)。'
- en: '[`rpl_semi_sync_source_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)
    specifies the semisynchronous replication debug trace level on the source server.
    Four levels are defined:'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_trace_level`](replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)
    指定源服务器上半同步复制的调试跟踪级别。定义了四个级别：'
- en: 1 = general level (for example, time function failures)
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1 = 一般级别（例如，时间函数失败）
- en: 16 = detail level (more verbose information)
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 16 = 详细级别（更详细的信息）
- en: 32 = net wait level (more information about network waits)
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 32 = 网络等待级别（有关网络等待的更多信息）
- en: 64 = function level (information about function entry and exit)
  id: totrans-216
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 64 = 函数级别（有关函数进入和退出的信息）
- en: '[`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)'
- en: '| Command-Line Format | `--rpl-semi-sync-source-wait-for-replica-count=#` |'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-source-wait-for-replica-count=#` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| System Variable | `[rpl_semi_sync_source_wait_for_replica_count](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)`
    |'
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_source_wait_for_replica_count](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)`
    |'
- en: '| Scope | Global |'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Integer |'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 整数 |'
- en: '| Default Value | `1` |'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `1` |'
- en: '| Minimum Value | `1` |'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最小值 | `1` |'
- en: '| Maximum Value | `65535` |'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 最大值 | `65535` |'
- en: '[`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    is available when the `rpl_semi_sync_source` (`semisync_source.so` library) plugin
    was installed on the replica to set up semisynchronous replication. If the `rpl_semi_sync_master`
    plugin (`semisync_master.so` library) was installed, [`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)
    is available instead.'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在副本上安装了 `rpl_semi_sync_source` (`semisync_source.so` 库) 插件以设置半同步复制时，[`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    就可用。如果安装了 `rpl_semi_sync_master` 插件 (`semisync_master.so` 库)，则可以使用 [`rpl_semi_sync_master_wait_for_slave_count`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)。
- en: '[`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    specifies the number of replica acknowledgments the source must receive per transaction
    before proceeding. By default `rpl_semi_sync_source_wait_for_replica_count` is
    `1`, meaning that semisynchronous replication proceeds after receiving a single
    replica acknowledgment. Performance is best for small values of this variable.'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    指定源在继续之前必须收到每个事务的副本确认数。默认情况下，`rpl_semi_sync_source_wait_for_replica_count` 是 `1`，意味着在收到单个副本确认后，半同步复制会继续进行。对于此变量的小值，性能最佳。'
- en: For example, if `rpl_semi_sync_source_wait_for_replica_count` is `2`, then 2
    replicas must acknowledge receipt of the transaction before the timeout period
    configured by [`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    for semisynchronous replication to proceed. If fewer replicas acknowledge receipt
    of the transaction during the timeout period, the source reverts to normal replication.
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 例如，如果 `rpl_semi_sync_source_wait_for_replica_count` 是 `2`，那么在半同步复制的超时期间内，必须有
    2 个副本确认接收事务，才能继续进行半同步复制。如果在超时期间内有更少的副本确认接收事务，则源将恢复为正常复制。
- en: Note
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: This behavior also depends on [`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica).
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这种行为还取决于 [`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)。
- en: '[`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)'
- en: '| Command-Line Format | `--rpl-semi-sync-source-wait-no-replica[={OFF&#124;ON}]`
    |'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-source-wait-no-replica[={OFF&#124;ON}]` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| System Variable | `[rpl_semi_sync_source_wait_no_replica](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)`
    |'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_source_wait_no_replica](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)`
    |'
- en: '| Scope | Global |'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Boolean |'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 布尔值 |'
- en: '| Default Value | `ON` |'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认值 | `ON` |'
- en: '[`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)
    is available when the `rpl_semi_sync_source` (`semisync_source.so` library) plugin
    was installed on the replica to set up semisynchronous replication. If the `rpl_semi_sync_master`
    plugin (`semisync_master.so` library) was installed, [`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)
    is available instead.'
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在复制品上安装了 `rpl_semi_sync_source`（`semisync_source.so` 库）插件以设置半同步复制时，可以使用 [`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)。如果安装了
    `rpl_semi_sync_master` 插件（`semisync_master.so` 库），则可以使用 [`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica）。
- en: '[`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)
    controls whether the source waits for the timeout period configured by [`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    to expire, even if the replica count drops to less than the number of replicas
    configured by [`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    during the timeout period.'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_wait_no_replica`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)
    控制源端是否等待由 [`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    配置的超时期限到期，即使在超时期间复制品数量少于 [`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    配置的数量。'
- en: When the value of `rpl_semi_sync_source_wait_no_replica` is `ON` (the default),
    it is permissible for the replica count to drop to less than [`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    during the timeout period. As long as enough replicas acknowledge the transaction
    before the timeout period expires, semisynchronous replication continues.
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当 `rpl_semi_sync_source_wait_no_replica` 的值为 `ON`（默认值）时，允许在超时期间复制品数量少于 [`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)。只要足够多的复制品在超时期限到期前确认事务，半同步复制就会继续。
- en: When the value of `rpl_semi_sync_source_wait_no_replica` is `OFF`, if the replica
    count drops to less than the number configured in [`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    at any time during the timeout period configured by [`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout),
    the source reverts to normal replication.
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当 `rpl_semi_sync_source_wait_no_replica` 的值为 `OFF` 时，如果在由 [`rpl_semi_sync_source_timeout`](replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)
    配置的超时期间内任何时候复制品数量少于 [`rpl_semi_sync_source_wait_for_replica_count`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)
    配置的数量，源端将恢复为正常复制。
- en: '[`rpl_semi_sync_source_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)'
- en: '| Command-Line Format | `--rpl-semi-sync-source-wait-point=value` |'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 命令行格式 | `--rpl-semi-sync-source-wait-point=value` |'
- en: '| Introduced | 8.0.26 |'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引入版本 | 8.0.26 |'
- en: '| System Variable | `[rpl_semi_sync_source_wait_point](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)`
    |'
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 系统变量 | `[rpl_semi_sync_source_wait_point](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)`
    |'
- en: '| Scope | Global |'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 作用范围 | 全局 |'
- en: '| Dynamic | Yes |'
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 动态 | 是 |'
- en: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "Variable-Setting
    Hint Syntax") Hint Applies | No |'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| [`SET_VAR`](optimizer-hints.html#optimizer-hints-set-var "变量设置提示语法") 提示适用
    | 否 |'
- en: '| Type | Enumeration |'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类型 | 枚举 |'
- en: '| Default Value | `AFTER_SYNC` |'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 默认数值 | `AFTER_SYNC` |'
- en: '| Valid Values | `AFTER_SYNC``AFTER_COMMIT` |'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 有效数值 | `AFTER_SYNC``AFTER_COMMIT` |'
- en: '[`rpl_semi_sync_source_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)
    is available when the `rpl_semi_sync_source` (`semisync_source.so` library) plugin
    was installed on the replica to set up semisynchronous replication. If the `rpl_semi_sync_master`
    plugin (`semisync_master.so` library) was installed, [`rpl_semi_sync_master_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)
    is available instead.'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当在复制品上安装了 `rpl_semi_sync_source`（`semisync_source.so` 库）插件以设置半同步复制时，可以使用 [`rpl_semi_sync_source_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)。如果安装了
    `rpl_semi_sync_master` 插件（`semisync_master.so` 库），则可以使用 [`rpl_semi_sync_master_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)。
- en: '[`rpl_semi_sync_source_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)
    controls the point at which a semisynchronous replication source server waits
    for replica acknowledgment of transaction receipt before returning a status to
    the client that committed the transaction. These values are permitted:'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[`rpl_semi_sync_source_wait_point`](replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)
    控制半同步复制源服务器在返回提交事务的客户端状态之前等待副本确认事务接收的点。允许这些值：'
- en: '`AFTER_SYNC` (the default): The source writes each transaction to its binary
    log and the replica, and syncs the binary log to disk. The source waits for replica
    acknowledgment of transaction receipt after the sync. Upon receiving acknowledgment,
    the source commits the transaction to the storage engine and returns a result
    to the client, which then can proceed.'
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AFTER_SYNC`（默认）：源将每个事务写入其二进制日志和副本，并将二进制日志同步到磁盘。源在同步后等待副本确认事务接收。在收到确认后，源将事务提交到存储引擎并向客户端返回结果，然后客户端可以继续。'
- en: '`AFTER_COMMIT`: The source writes each transaction to its binary log and the
    replica, syncs the binary log, and commits the transaction to the storage engine.
    The source waits for replica acknowledgment of transaction receipt after the commit.
    Upon receiving acknowledgment, the source returns a result to the client, which
    then can proceed.'
  id: totrans-259
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AFTER_COMMIT`：源将每个事务写入其二进制日志和副本，同步二进制日志，并提交事务到存储引擎。源在提交后等待副本确认事务接收。在收到确认后，源向客户端返回结果，然后客户端可以继续。'
- en: 'The replication characteristics of these settings differ as follows:'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些设置的复制特性有以下不同：
- en: 'With `AFTER_SYNC`, all clients see the committed transaction at the same time:
    After it has been acknowledged by the replica and committed to the storage engine
    on the source. Thus, all clients see the same data on the source.'
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`AFTER_SYNC`，所有客户端同时看到已提交的事务：在副本确认并在源上提交到存储引擎之后。因此，所有客户端在源上看到相同的数据。
- en: In the event of source failure, all transactions committed on the source have
    been replicated to the replica (saved to its relay log). An unexpected exit of
    the source server and failover to the replica is lossless because the replica
    is up to date. Note, however, that the source cannot be restarted in this scenario
    and must be discarded, because its binary log might contain uncommitted transactions
    that would cause a conflict with the replica when externalized after binary log
    recovery.
  id: totrans-262
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在源故障的情况下，所有在源上提交的事务已经被复制到副本（保存在其中继日志中）。源服务器意外退出并故障转移到副本是无损失的，因为副本是最新的。但请注意，在这种情况下源不能重新启动，必须被丢弃，因为其二进制日志可能包含未提交的事务，在二进制日志恢复后会与副本在外部化时发生冲突。
- en: With `AFTER_COMMIT`, the client issuing the transaction gets a return status
    only after the server commits to the storage engine and receives replica acknowledgment.
    After the commit and before replica acknowledgment, other clients can see the
    committed transaction before the committing client.
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`AFTER_COMMIT`，发出事务的客户端只有在服务器提交到存储引擎并接收副本确认后才会收到返回状态。在提交后和副本确认前，其他客户端可以在提交客户端之前看到已提交的事务。
- en: If something goes wrong such that the replica does not process the transaction,
    then in the event of an unexpected source server exit and failover to the replica,
    it is possible for such clients to see a loss of data relative to what they saw
    on the source.
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果副本未处理事务导致出现问题，那么在源服务器意外退出并故障转移到副本的情况下，这些客户端可能会看到相对于在源上看到的数据有所丢失。
