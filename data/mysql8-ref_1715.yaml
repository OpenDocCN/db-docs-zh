- en: 25.6 Management of NDB Cluster
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 25.6 NDB 集群管理
- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-management.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-management.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-management.html](https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-management.html)
- en: '[25.6.1 Commands in the NDB Cluster Management Client](mysql-cluster-mgm-client-commands.html)'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.1 NDB 集群管理客户端中的命令](mysql-cluster-mgm-client-commands.html)'
- en: '[25.6.2 NDB Cluster Log Messages](mysql-cluster-logs-ndb-messages.html)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.2 NDB 集群日志消息](mysql-cluster-logs-ndb-messages.html)'
- en: '[25.6.3 Event Reports Generated in NDB Cluster](mysql-cluster-event-reports.html)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.3 NDB 集群生成的事件报告](mysql-cluster-event-reports.html)'
- en: '[25.6.4 Summary of NDB Cluster Start Phases](mysql-cluster-start-phases.html)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.4 NDB 集群启动阶段摘要](mysql-cluster-start-phases.html)'
- en: '[25.6.5 Performing a Rolling Restart of an NDB Cluster](mysql-cluster-rolling-restart.html)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.5 对 NDB 集群执行滚动重启](mysql-cluster-rolling-restart.html)'
- en: '[25.6.6 NDB Cluster Single User Mode](mysql-cluster-single-user-mode.html)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.6 NDB 集群单用户模式](mysql-cluster-single-user-mode.html)'
- en: '[25.6.7 Adding NDB Cluster Data Nodes Online](mysql-cluster-online-add-node.html)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.7 在线添加 NDB 集群数据节点](mysql-cluster-online-add-node.html)'
- en: '[25.6.8 Online Backup of NDB Cluster](mysql-cluster-backup.html)'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.8 NDB 集群在线备份](mysql-cluster-backup.html)'
- en: '[25.6.9 Importing Data Into MySQL Cluster](mysql-cluster-importing-data.html)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.9 将数据导入 MySQL 集群](mysql-cluster-importing-data.html)'
- en: '[25.6.10 MySQL Server Usage for NDB Cluster](mysql-cluster-mysqld.html)'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.10 用于 NDB 集群的 MySQL 服务器用法](mysql-cluster-mysqld.html)'
- en: '[25.6.11 NDB Cluster Disk Data Tables](mysql-cluster-disk-data.html)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.11 NDB 集群磁盘数据表](mysql-cluster-disk-data.html)'
- en: '[25.6.12 Online Operations with ALTER TABLE in NDB Cluster](mysql-cluster-online-operations.html)'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.12 在 NDB 集群中使用 ALTER TABLE 进行在线操作](mysql-cluster-online-operations.html)'
- en: '[25.6.13 Privilege Synchronization and NDB_STORED_USER](mysql-cluster-privilege-synchronization.html)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.13 权限同步和 NDB_STORED_USER](mysql-cluster-privilege-synchronization.html)'
- en: '[25.6.14 File System Encryption for NDB Cluster](mysql-cluster-tde.html)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.14 NDB 集群的文件系统加密](mysql-cluster-tde.html)'
- en: '[25.6.15 NDB API Statistics Counters and Variables](mysql-cluster-ndb-api-statistics.html)'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.15 NDB API 统计计数器和变量](mysql-cluster-ndb-api-statistics.html)'
- en: '[25.6.16 ndbinfo: The NDB Cluster Information Database](mysql-cluster-ndbinfo.html)'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.16 ndbinfo：NDB 集群信息数据库](mysql-cluster-ndbinfo.html)'
- en: '[25.6.17 INFORMATION_SCHEMA Tables for NDB Cluster](mysql-cluster-information-schema-tables.html)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.17 用于 NDB 集群的 INFORMATION_SCHEMA 表](mysql-cluster-information-schema-tables.html)'
- en: '[25.6.18 NDB Cluster and the Performance Schema](mysql-cluster-ps-tables.html)'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.18 NDB 集群和性能模式](mysql-cluster-ps-tables.html)'
- en: '[25.6.19 Quick Reference: NDB Cluster SQL Statements](mysql-cluster-sql-statements.html)'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.19 快速参考：NDB 集群 SQL 语句](mysql-cluster-sql-statements.html)'
- en: '[25.6.20 NDB Cluster Security Issues](mysql-cluster-security.html)'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[25.6.20 NDB 集群安全问题](mysql-cluster-security.html)'
- en: Managing an NDB Cluster involves a number of tasks, the first of which is to
    configure and start NDB Cluster. This is covered in [Section 25.4, “Configuration
    of NDB Cluster”](mysql-cluster-configuration.html "25.4 Configuration of NDB Cluster"),
    and [Section 25.5, “NDB Cluster Programs”](mysql-cluster-programs.html "25.5 NDB
    Cluster Programs").
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 管理 NDB 集群涉及许多任务，首先是配置和启动 NDB 集群。这在[第 25.4 节，“NDB 集群配置”](mysql-cluster-configuration.html
    "25.4 NDB 集群配置")和[第 25.5 节，“NDB 集群程序”](mysql-cluster-programs.html "25.5 NDB 集群程序")中有所涵盖。
- en: The next few sections cover the management of a running NDB Cluster.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的几节涵盖了运行 NDB 集群的管理。
- en: For information about security issues relating to management and deployment
    of an NDB Cluster, see [Section 25.6.20, “NDB Cluster Security Issues”](mysql-cluster-security.html
    "25.6.20 NDB Cluster Security Issues").
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 有关与 NDB 集群管理和部署相关的安全问题，请参阅[第 25.6.20 节，“NDB 集群安全问题”](mysql-cluster-security.html
    "25.6.20 NDB 集群安全问题")。
- en: There are essentially two methods of actively managing a running NDB Cluster.
    The first of these is through the use of commands entered into the management
    client whereby cluster status can be checked, log levels changed, backups started
    and stopped, and nodes stopped and started. The second method involves studying
    the contents of the cluster log `ndb_*`node_id`*_cluster.log`; this is usually
    found in the management server's [`DataDir`](mysql-cluster-mgm-definition.html#ndbparam-mgmd-datadir)
    directory, but this location can be overridden using the [`LogDestination`](mysql-cluster-mgm-definition.html#ndbparam-mgmd-logdestination)
    option. (Recall that *`node_id`* represents the unique identifier of the node
    whose activity is being logged.) The cluster log contains event reports generated
    by [**ndbd**](mysql-cluster-programs-ndbd.html "25.5.1 ndbd — The NDB Cluster
    Data Node Daemon"). It is also possible to send cluster log entries to a Unix
    system log.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上有两种主动管理运行中 NDB 集群的方法。其中之一是通过输入到管理客户端的命令来检查集群状态，更改日志级别，启动和停止备份，以及停止和启动节点。第二种方法涉及研究集群日志`ndb_*`node_id`*_cluster.log`的内容；通常可以在管理服务器的[`DataDir`](mysql-cluster-mgm-definition.html#ndbparam-mgmd-datadir)目录中找到，但可以使用[`LogDestination`](mysql-cluster-mgm-definition.html#ndbparam-mgmd-logdestination)选项覆盖此位置。（请记住*`node_id`*代表被记录活动的节点的唯一标识符。）集群日志包含由[**ndbd**](mysql-cluster-programs-ndbd.html
    "25.5.1 ndbd — The NDB Cluster Data Node Daemon")生成的事件报告。还可以将集群日志条目发送到 Unix 系统日志。
- en: Some aspects of the cluster's operation can be also be monitored from an SQL
    node using the [`SHOW ENGINE NDB STATUS`](show-engine.html "15.7.7.15 SHOW ENGINE
    Statement") statement.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 一些集群操作的方面也可以通过在 SQL 节点上使用[`SHOW ENGINE NDB STATUS`](show-engine.html "15.7.7.15 SHOW
    ENGINE Statement")语句来监控。
- en: 'More detailed information about NDB Cluster operations is available in real
    time through an SQL interface using the [`ndbinfo`](mysql-cluster-ndbinfo.html
    "25.6.16 ndbinfo: The NDB Cluster Information Database") database. For more information,
    see [Section 25.6.16, “ndbinfo: The NDB Cluster Information Database”](mysql-cluster-ndbinfo.html
    "25.6.16 ndbinfo: The NDB Cluster Information Database").'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '通过使用[`ndbinfo`](mysql-cluster-ndbinfo.html "25.6.16 ndbinfo: The NDB Cluster
    Information Database")数据库，可以实时通过 SQL 接口获取有关 NDB 集群操作的更详细信息。有关更多信息，请参见[Section 25.6.16,
    “ndbinfo: The NDB Cluster Information Database”](mysql-cluster-ndbinfo.html "25.6.16 ndbinfo:
    The NDB Cluster Information Database")。'
- en: NDB statistics counters provide improved monitoring using the [**mysql**](mysql.html
    "6.5.1 mysql — The MySQL Command-Line Client") client. These counters, implemented
    in the NDB kernel, relate to operations performed by or affecting [`Ndb`](/doc/ndbapi/en/ndb-ndb.html)
    objects, such as starting, closing, and aborting transactions; primary key and
    unique key operations; table, range, and pruned scans; blocked threads waiting
    for various operations to complete; and data and events sent and received by NDB
    Cluster. The counters are incremented by the NDB kernel whenever NDB API calls
    are made or data is sent to or received by the data nodes.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: NDB 统计计数器通过[**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line Client")客户端提供了改进的监控。这些计数器，由
    NDB 内核实现，涉及由或影响[`Ndb`](/doc/ndbapi/en/ndb-ndb.html)对象执行的操作，如启动、关闭和中止事务；主键和唯一键操作；表、范围和修剪扫描；等待各种操作完成的阻塞线程；以及
    NDB 集群发送和接收的数据和事件。每当进行 NDB API 调用或数据被发送到或接收到数据节点时，NDB 内核都会递增计数器。
- en: '[**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server") exposes the NDB
    API statistics counters as system status variables, which can be identified from
    the prefix common to all of their names (`Ndb_api_`). The values of these variables
    can be read in the [**mysql**](mysql.html "6.5.1 mysql — The MySQL Command-Line
    Client") client from the output of a [`SHOW STATUS`](show-status.html "15.7.7.37 SHOW
    STATUS Statement") statement, or by querying either the Performance Schema [`session_status`](performance-schema-status-variable-tables.html
    "29.12.15 Performance Schema Status Variable Tables") or [`global_status`](performance-schema-status-variable-tables.html
    "29.12.15 Performance Schema Status Variable Tables") table. By comparing the
    values of the status variables before and after the execution of an SQL statement
    that acts on [`NDB`](mysql-cluster.html "Chapter 25 MySQL NDB Cluster 8.0") tables,
    you can observe the actions taken on the NDB API level that correspond to this
    statement, which can be beneficial for monitoring and performance tuning of NDB
    Cluster.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[**mysqld**](mysqld.html "6.3.1 mysqld — The MySQL Server")将NDB API统计计数器公开为系统状态变量，可以从它们的名称中共同前缀（`Ndb_api_`）中识别。这些变量的值可以通过[`SHOW
    STATUS`](show-status.html "15.7.7.37 SHOW STATUS Statement")语句的输出在[**mysql**](mysql.html
    "6.5.1 mysql — The MySQL Command-Line Client")客户端中读取，或者通过查询Performance Schema的[`session_status`](performance-schema-status-variable-tables.html
    "29.12.15 Performance Schema Status Variable Tables")或[`global_status`](performance-schema-status-variable-tables.html
    "29.12.15 Performance Schema Status Variable Tables")表。通过比较执行对[`NDB`](mysql-cluster.html
    "Chapter 25 MySQL NDB Cluster 8.0")表操作的SQL语句之前和之后的状态变量的值，您可以观察到与该语句对应的NDB API级别的操作，这对于监视和性能调整NDB
    Cluster可能是有益的。'
- en: MySQL Cluster Manager provides an advanced command-line interface that simplifies
    many otherwise complex NDB Cluster management tasks, such as starting, stopping,
    or restarting an NDB Cluster with a large number of nodes. The MySQL Cluster Manager
    client also supports commands for getting and setting the values of most node
    configuration parameters as well as [**mysqld**](mysqld.html "6.3.1 mysqld — The
    MySQL Server") server options and variables relating to NDB Cluster. MySQL Cluster
    Manager 8.0 provides support for NDB 8.0\. See [MySQL Cluster Manager 8.0.36 User
    Manual](/doc/mysql-cluster-manager/8.0/en/), for more information.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL Cluster Manager提供了一个高级命令行界面，简化了许多复杂的NDB Cluster管理任务，比如启动、停止或重新启动具有大量节点的NDB
    Cluster。MySQL Cluster Manager客户端还支持获取和设置大多数节点配置参数以及与NDB Cluster相关的[**mysqld**](mysqld.html
    "6.3.1 mysqld — The MySQL Server")服务器选项和变量的命令。MySQL Cluster Manager 8.0支持NDB 8.0。有关更多信息，请参阅[MySQL
    Cluster Manager 8.0.36用户手册](/doc/mysql-cluster-manager/8.0/en/)。
