- en: 8.2.17 Pluggable Authentication
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 8.2.17 可插拔认证
- en: 原文：[https://dev.mysql.com/doc/refman/8.0/en/pluggable-authentication.html](https://dev.mysql.com/doc/refman/8.0/en/pluggable-authentication.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://dev.mysql.com/doc/refman/8.0/en/pluggable-authentication.html](https://dev.mysql.com/doc/refman/8.0/en/pluggable-authentication.html)
- en: 'When a client connects to the MySQL server, the server uses the user name provided
    by the client and the client host to select the appropriate account row from the
    `mysql.user` system table. The server then authenticates the client, determining
    from the account row which authentication plugin applies to the client:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当客户端连接到MySQL服务器时，服务器使用客户端提供的用户名和客户端主机来从`mysql.user`系统表中选择适当的账户行。然后服务器对客户端进行认证，从账户行确定适用于客户端的认证插件：
- en: If the server cannot find the plugin, an error occurs and the connection attempt
    is rejected.
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果服务器找不到插件，则会发生错误并拒绝连接尝试。
- en: Otherwise, the server invokes that plugin to authenticate the user, and the
    plugin returns a status to the server indicating whether the user provided the
    correct password and is permitted to connect.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则，服务器会调用该插件来对用户进行认证，插件会向服务器返回一个状态，指示用户是否提供了正确的密码并被允许连接。
- en: 'Pluggable authentication enables these important capabilities:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 可插拔认证使得以下重要功能成为可能：
- en: '**Choice of authentication methods. ** Pluggable authentication makes it easy
    for DBAs to choose and change the authentication method used for individual MySQL
    accounts.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**认证方法的选择。** 可插拔的认证使得数据库管理员可以轻松选择和更改用于各个MySQL账户的认证方法。'
- en: '**External authentication. ** Pluggable authentication makes it possible for
    clients to connect to the MySQL server with credentials appropriate for authentication
    methods that store credentials elsewhere than in the `mysql.user` system table.
    For example, plugins can be created to use external authentication methods such
    as PAM, Windows login IDs, LDAP, or Kerberos.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外部认证。** 可插拔认证使得客户端可以使用适合于在`mysql.user`系统表之外存储凭据的认证方法进行连接到MySQL服务器。例如，可以创建插件来使用外部认证方法，如PAM、Windows登录ID、LDAP或Kerberos。'
- en: '**Proxy users: ** If a user is permitted to connect, an authentication plugin
    can return to the server a user name different from the name of the connecting
    user, to indicate that the connecting user is a proxy for another user (the proxied
    user). While the connection lasts, the proxy user is treated, for purposes of
    access control, as having the privileges of the proxied user. In effect, one user
    impersonates another. For more information, see [Section 8.2.19, “Proxy Users”](proxy-users.html
    "8.2.19 Proxy Users").'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**代理用户：** 如果用户被允许连接，认证插件可以向服务器返回一个与连接用户名称不同的用户名，以指示连接用户是另一个用户（被代理用户）的代理。在连接持续期间，代理用户在访问控制方面被视为具有被代理用户的权限。实际上，一个用户冒充另一个用户。更多信息，请参见[第8.2.19节，“代理用户”](proxy-users.html
    "8.2.19 代理用户")。'
- en: Note
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you start the server with the [`--skip-grant-tables`](server-options.html#option_mysqld_skip-grant-tables)
    option, authentication plugins are not used even if loaded because the server
    performs no client authentication and permits any client to connect. Because this
    is insecure, if the server is started with the [`--skip-grant-tables`](server-options.html#option_mysqld_skip-grant-tables)
    option, it also disables remote connections by enabling [`skip_networking`](server-system-variables.html#sysvar_skip_networking).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用[`--skip-grant-tables`](server-options.html#option_mysqld_skip-grant-tables)选项启动服务器，则即使加载了认证插件，也不会使用认证插件，因为服务器不执行客户端认证并允许任何客户端连接。由于这是不安全的，如果使用[`--skip-grant-tables`](server-options.html#option_mysqld_skip-grant-tables)选项启动服务器，则还会通过启用[`skip_networking`](server-system-variables.html#sysvar_skip_networking)来禁用远程连接。
- en: '[Available Authentication Plugins](pluggable-authentication.html#pluggable-authentication-available-plugins
    "Available Authentication Plugins")'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[可用认证插件](pluggable-authentication.html#pluggable-authentication-available-plugins
    "可用认证插件")'
- en: '[The Default Authentication Plugin](pluggable-authentication.html#pluggable-authentication-default-plugin
    "The Default Authentication Plugin")'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[默认认证插件](pluggable-authentication.html#pluggable-authentication-default-plugin
    "默认认证插件")'
- en: '[Authentication Plugin Usage](pluggable-authentication.html#pluggable-authentication-usage
    "Authentication Plugin Usage")'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[认证插件使用](pluggable-authentication.html#pluggable-authentication-usage "认证插件使用")'
- en: '[Authentication Plugin Client/Server Compatibility](pluggable-authentication.html#pluggable-authentication-compatibility
    "Authentication Plugin Client/Server Compatibility")'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[认证插件客户端/服务器兼容性](pluggable-authentication.html#pluggable-authentication-compatibility
    "认证插件客户端/服务器兼容性")'
- en: '[Authentication Plugin Connector-Writing Considerations](pluggable-authentication.html#pluggable-authentication-connector-writing
    "Authentication Plugin Connector-Writing Considerations")'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[认证插件连接器编写注意事项](pluggable-authentication.html#pluggable-authentication-connector-writing
    "认证插件连接器编写注意事项")'
- en: '[Restrictions on Pluggable Authentication](pluggable-authentication.html#pluggable-authentication-restrictions
    "Restrictions on Pluggable Authentication")'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[可插拔认证的限制](pluggable-authentication.html#pluggable-authentication-restrictions
    "可插拔认证的限制")'
- en: Available Authentication Plugins
  id: totrans-17
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 可用的认证插件
- en: 'MySQL 8.0 provides these authentication plugins:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 8.0提供了这些认证插件：
- en: A plugin that performs native authentication; that is, authentication based
    on the password hashing method in use from before the introduction of pluggable
    authentication in MySQL. The `mysql_native_password` plugin implements authentication
    based on this native password hashing method. See [Section 8.4.1.1, “Native Pluggable
    Authentication”](native-pluggable-authentication.html "8.4.1.1 Native Pluggable
    Authentication").
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个执行本地认证的插件；即，在MySQL引入可插拔认证之前使用的基于密码哈希方法的认证。`mysql_native_password`插件实现了基于此本地密码哈希方法的认证。参见[Section 8.4.1.1，“本地可插拔认证”](native-pluggable-authentication.html
    "8.4.1.1 本地可插拔认证")。
- en: Note
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: As of MySQL 8.0.34, the `mysql_native_password` authentication plugin is deprecated
    and subject to removal in a future version of MySQL.
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.34，`mysql_native_password`认证插件已被弃用，并可能在将来的MySQL版本中被移除。
- en: Plugins that perform authentication using SHA-256 password hashing. This is
    stronger encryption than that available with native authentication. See [Section 8.4.1.2,
    “Caching SHA-2 Pluggable Authentication”](caching-sha2-pluggable-authentication.html
    "8.4.1.2 Caching SHA-2 Pluggable Authentication"), and [Section 8.4.1.3, “SHA-256
    Pluggable Authentication”](sha256-pluggable-authentication.html "8.4.1.3 SHA-256
    Pluggable Authentication").
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用SHA-256密码哈希进行认证的插件。这比本地认证提供的加密更强大。参见[Section 8.4.1.2，“缓存SHA-2可插拔认证”](caching-sha2-pluggable-authentication.html
    "8.4.1.2 缓存SHA-2可插拔认证")，以及[Section 8.4.1.3，“SHA-256可插拔认证”](sha256-pluggable-authentication.html
    "8.4.1.3 SHA-256可插拔认证")。
- en: A client-side plugin that sends the password to the server without hashing or
    encryption. This plugin is used in conjunction with server-side plugins that require
    access to the password exactly as provided by the client user. See [Section 8.4.1.4,
    “Client-Side Cleartext Pluggable Authentication”](cleartext-pluggable-authentication.html
    "8.4.1.4 Client-Side Cleartext Pluggable Authentication").
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个客户端插件，将密码以明文形式发送到服务器，不经过哈希或加密。此插件与需要以客户端用户提供的密码完全一致的服务器端插件一起使用。参见[Section 8.4.1.4，“客户端明文插件认证”](cleartext-pluggable-authentication.html
    "8.4.1.4 客户端明文插件认证")。
- en: A plugin that performs external authentication using PAM (Pluggable Authentication
    Modules), enabling MySQL Server to use PAM to authenticate MySQL users. This plugin
    supports proxy users as well. See [Section 8.4.1.5, “PAM Pluggable Authentication”](pam-pluggable-authentication.html
    "8.4.1.5 PAM Pluggable Authentication").
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个使用PAM（可插拔认证模块）执行外部认证的插件，使MySQL服务器能够使用PAM对MySQL用户进行认证。此插件还支持代理用户。参见[Section 8.4.1.5，“PAM可插拔认证”](pam-pluggable-authentication.html
    "8.4.1.5 PAM可插拔认证")。
- en: A plugin that performs external authentication on Windows, enabling MySQL Server
    to use native Windows services to authenticate client connections. Users who have
    logged in to Windows can connect from MySQL client programs to the server based
    on the information in their environment without specifying an additional password.
    This plugin supports proxy users as well. See [Section 8.4.1.6, “Windows Pluggable
    Authentication”](windows-pluggable-authentication.html "8.4.1.6 Windows Pluggable
    Authentication").
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个在Windows上执行外部认证的插件，使MySQL服务器能够使用本地Windows服务对客户端连接进行认证。已登录到Windows的用户可以根据其环境中的信息从MySQL客户端程序连接到服务器，而无需指定额外的密码。此插件还支持代理用户。参见[Section 8.4.1.6，“Windows可插拔认证”](windows-pluggable-authentication.html
    "8.4.1.6 Windows可插拔认证")。
- en: Plugins that perform authentication using LDAP (Lightweight Directory Access
    Protocol) to authenticate MySQL users by accessing directory services such as
    X.500\. These plugins support proxy users as well. See [Section 8.4.1.7, “LDAP
    Pluggable Authentication”](ldap-pluggable-authentication.html "8.4.1.7 LDAP Pluggable
    Authentication").
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用LDAP（轻量级目录访问协议）进行认证的插件，通过访问诸如X.500之类的目录服务来认证MySQL用户。这些插件还支持代理用户。参见[第8.4.1.7节，“LDAP可插拔认证”](ldap-pluggable-authentication.html
    "8.4.1.7 LDAP可插拔认证")。
- en: A plugin that performs authentication using Kerberos to authenticate MySQL users
    that correspond to Kerberos principals. See [Section 8.4.1.8, “Kerberos Pluggable
    Authentication”](kerberos-pluggable-authentication.html "8.4.1.8 Kerberos Pluggable
    Authentication").
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个使用Kerberos进行认证的插件，用于认证与Kerberos主体对应的MySQL用户。参见[第8.4.1.8节，“Kerberos可插拔认证”](kerberos-pluggable-authentication.html
    "8.4.1.8 Kerberos可插拔认证")。
- en: A plugin that prevents all client connections to any account that uses it. Use
    cases for this plugin include proxied accounts that should never permit direct
    login but are accessed only through proxy accounts and accounts that must be able
    to execute stored programs and views with elevated privileges without exposing
    those privileges to ordinary users. See [Section 8.4.1.9, “No-Login Pluggable
    Authentication”](no-login-pluggable-authentication.html "8.4.1.9 No-Login Pluggable
    Authentication").
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个阻止所有使用它的帐户的客户端连接的插件。此插件的用例包括永远不允许直接登录但仅通过代理帐户访问的代理帐户和必须能够以提升的权限执行存储程序和视图而不向普通用户公开这些权限的帐户。参见[第8.4.1.9节，“无登录可插拔认证”](no-login-pluggable-authentication.html
    "8.4.1.9 无登录可插拔认证")。
- en: A plugin that authenticates clients that connect from the local host through
    the Unix socket file. See [Section 8.4.1.10, “Socket Peer-Credential Pluggable
    Authentication”](socket-pluggable-authentication.html "8.4.1.10 Socket Peer-Credential
    Pluggable Authentication").
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个插件，用于验证通过Unix套接字文件从本地主机连接的客户端。参见[第8.4.1.10节，“套接字对等凭证可插拔认证”](socket-pluggable-authentication.html
    "8.4.1.10 套接字对等凭证可插拔认证")。
- en: A plugin that authenticates users to MySQL Server using FIDO authentication.
    See [Section 8.4.1.11, “FIDO Pluggable Authentication”](fido-pluggable-authentication.html
    "8.4.1.11 FIDO Pluggable Authentication").
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个通过FIDO认证将用户认证到MySQL服务器的插件。参见[第8.4.1.11节，“FIDO可插拔认证”](fido-pluggable-authentication.html
    "8.4.1.11 FIDO可插拔认证")。
- en: Note
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: As of MySQL 8.0.35, the `authentication_fido` and `authentication_fido_client`
    authentication plugins are deprecated and subject to removal in a future version
    of MySQL.
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.35版本，`authentication_fido`和`authentication_fido_client`认证插件已被弃用，并可能在将来的MySQL版本中被移除。
- en: A test plugin that checks account credentials and logs success or failure to
    the server error log. This plugin is intended for testing and development purposes,
    and as an example of how to write an authentication plugin. See [Section 8.4.1.12,
    “Test Pluggable Authentication”](test-pluggable-authentication.html "8.4.1.12 Test
    Pluggable Authentication").
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个测试插件，检查帐户凭据并将成功或失败记录到服务器错误日志中。此插件旨在用于测试和开发目的，并作为编写认证插件的示例。参见[第8.4.1.12节，“测试可插拔认证”](test-pluggable-authentication.html
    "8.4.1.12 测试可插拔认证")。
- en: Note
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For information about current restrictions on the use of pluggable authentication,
    including which connectors support which plugins, see [Restrictions on Pluggable
    Authentication](pluggable-authentication.html#pluggable-authentication-restrictions
    "Restrictions on Pluggable Authentication").
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 有关当前对可插拔认证使用的限制的信息，包括哪些连接器支持哪些插件，请参阅[可插拔认证限制](pluggable-authentication.html#pluggable-authentication-restrictions
    "可插拔认证限制")。
- en: Third-party connector developers should read that section to determine the extent
    to which a connector can take advantage of pluggable authentication capabilities
    and what steps to take to become more compliant.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 第三方连接器开发人员应阅读该部分，以确定连接器可以利用可插拔认证功能的程度，以及成为更加符合规范的步骤。
- en: If you are interested in writing your own authentication plugins, see [Writing
    Authentication Plugins](/doc/extending-mysql/8.0/en/writing-authentication-plugins.html).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您有兴趣编写自己的认证插件，请参阅[编写认证插件](/doc/extending-mysql/8.0/en/writing-authentication-plugins.html)。
- en: The Default Authentication Plugin
  id: totrans-38
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 默认认证插件
- en: 'The [`CREATE USER`](create-user.html "15.7.1.3 CREATE USER Statement") and
    [`ALTER USER`](alter-user.html "15.7.1.1 ALTER USER Statement") statements have
    syntax for specifying how an account authenticates. Some forms of this syntax
    do not explicitly name an authentication plugin (there is no `IDENTIFIED WITH`
    clause). For example:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '[`CREATE USER`](create-user.html "15.7.1.3 CREATE USER Statement")和[`ALTER
    USER`](alter-user.html "15.7.1.1 ALTER USER Statement")语句有用于指定账户如何进行认证的语法。这种语法的某些形式没有明确指定认证插件（没有`IDENTIFIED
    WITH`子句）。例如：'
- en: '[PRE0]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: In such cases, the server assigns the default authentication plugin to the account.
    Prior to MySQL 8.0.27, this default is the value of the [`default_authentication_plugin`](server-system-variables.html#sysvar_default_authentication_plugin)
    system variable.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，服务器会为账户分配默认的认证插件。在MySQL 8.0.27之前，这个默认值是[`default_authentication_plugin`](server-system-variables.html#sysvar_default_authentication_plugin)系统变量的值。
- en: 'As of MySQL 8.0.27, which introduces multifactor authentication, there can
    be up to three clauses that specify how an account authenticates. The rules that
    determine the default authentication plugin for authentication methods that name
    no plugin are factor-specific:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 截至MySQL 8.0.27，引入了多因素认证，可以有最多三个子句指定账户如何进行认证。确定没有指定插件的认证方法的默认认证插件的规则是特定于因素的：
- en: 'Factor 1: If [`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)
    element 1 names an authentication plugin, that plugin is the default. If [`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)
    element 1 is `*`, the value of [`default_authentication_plugin`](server-system-variables.html#sysvar_default_authentication_plugin)
    is the default.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因素1：如果[`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)元素1指定了一个认证插件，那个插件就是默认的。如果[`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)元素1是`*`，那么[`default_authentication_plugin`](server-system-variables.html#sysvar_default_authentication_plugin)的值就是默认的。
- en: 'Given the rules above, the following statement creates a two-factor authentication
    account, with the first factor authentication method determined by the [`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)
    or [`default_authentication_plugin`](server-system-variables.html#sysvar_default_authentication_plugin)
    setting:'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据上述规则，以下语句创建了一个双因素认证账户，第一因素认证方法由[`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)或[`default_authentication_plugin`](server-system-variables.html#sysvar_default_authentication_plugin)设置确定：
- en: '[PRE1]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'In the same way, this example creates a three-factor authentication account:'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 同样地，这个示例创建了一个三因素认证账户：
- en: '[PRE2]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: You can use [`SHOW CREATE USER`](show-create-user.html "15.7.7.12 SHOW CREATE
    USER Statement") to view the applied authentication methods.
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你可以使用[`SHOW CREATE USER`](show-create-user.html "15.7.7.12 SHOW CREATE USER
    Statement")来查看应用的认证方法。
- en: 'Factor 2 or 3: If the corresponding [`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)
    element names an authentication plugin, that plugin is the default. If the [`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)
    element is `*` or empty, there is no default; attempting to define an account
    authentication method for the factor without naming a plugin is an error, as in
    the following examples:'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因素2或3：如果相应的[`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)元素指定了一个认证插件，那个插件就是默认的。如果[`authentication_policy`](server-system-variables.html#sysvar_authentication_policy)元素是`*`或空的，那么就没有默认值；尝试为没有指定插件的因素定义账户认证方法是一个错误，就像以下示例一样：
- en: '[PRE3]'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Authentication Plugin Usage
  id: totrans-51
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 认证插件使用
- en: This section provides general instructions for installing and using authentication
    plugins. For instructions specific to a given plugin, see the section that describes
    that plugin under [Section 8.4.1, “Authentication Plugins”](authentication-plugins.html
    "8.4.1 Authentication Plugins").
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 本节提供了安装和使用认证插件的一般说明。有关特定插件的说明，请参阅描述该插件的部分，位于[Section 8.4.1, “Authentication
    Plugins”](authentication-plugins.html "8.4.1 Authentication Plugins")下。
- en: 'In general, pluggable authentication uses a pair of corresponding plugins on
    the server and client sides, so you use a given authentication method like this:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，可插拔认证在服务器和客户端两侧使用一对相应的插件，因此你可以像这样使用给定的认证方法：
- en: If necessary, install the plugin library or libraries containing the appropriate
    plugins. On the server host, install the library containing the server-side plugin,
    so that the server can use it to authenticate client connections. Similarly, on
    each client host, install the library containing the client-side plugin for use
    by client programs. Authentication plugins that are built in need not be installed.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果需要，安装包含适当插件的插件库或插件库。在服务器主机上，安装包含服务器端插件的库，以便服务器可以用它来验证客户端连接。同样，在每个客户端主机上，安装包含客户端插件的库，供客户端程序使用。内置的认证插件无需安装。
- en: For each MySQL account that you create, specify the appropriate server-side
    plugin to use for authentication. If the account is to use the default authentication
    plugin, the account-creation statement need not specify the plugin explicitly.
    The server assigns the default authentication plugin, determined as described
    in [The Default Authentication Plugin](pluggable-authentication.html#pluggable-authentication-default-plugin
    "The Default Authentication Plugin").
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于每个创建的MySQL帐户，指定要用于验证的适当服务器端插件。如果帐户要使用默认的认证插件，则帐户创建语句无需明确指定插件。服务器分配默认的认证插件，如[默认认证插件](pluggable-authentication.html#pluggable-authentication-default-plugin
    "默认认证插件")中所述确定的那样。
- en: When a client connects, the server-side plugin tells the client program which
    client-side plugin to use for authentication.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当客户端连接时，服务器端插件告诉客户端程序要使用哪个客户端插件进行验证。
- en: In the case that an account uses an authentication method that is the default
    for both the server and the client program, the server need not communicate to
    the client which client-side plugin to use, and a round trip in client/server
    negotiation can be avoided.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个帐户使用的认证方法对于服务器和客户端程序都是默认的，那么服务器无需通知客户端要使用哪个客户端插件，可以避免客户端/服务器协商中的往返。
- en: For standard MySQL clients such as [**mysql**](mysql.html "6.5.1 mysql — The
    MySQL Command-Line Client") and [**mysqladmin**](mysqladmin.html "6.5.2 mysqladmin
    — A MySQL Server Administration Program"), the [`--default-auth=*`plugin_name`*`](mysql-command-options.html#option_mysql_default-auth)
    option can be specified on the command line as a hint about which client-side
    plugin the program can expect to use, although the server overrides this if the
    server-side plugin associated with the user account requires a different client-side
    plugin.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 对于标准的MySQL客户端，如[**mysql**](mysql.html "6.5.1 mysql — MySQL命令行客户端")和[**mysqladmin**](mysqladmin.html
    "6.5.2 mysqladmin — MySQL服务器管理程序")，可以在命令行上指定[`--default-auth=*`plugin_name`*`](mysql-command-options.html#option_mysql_default-auth)选项，作为程序可以期望使用的客户端插件的提示，尽管如果与用户帐户关联的服务器端插件需要不同的客户端插件，则服务器会覆盖此设置。
- en: If the client program does not find the client-side plugin library file, specify
    a [`--plugin-dir=*`dir_name`*`](mysql-command-options.html#option_mysql_plugin-dir)
    option to indicate the plugin library directory location.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 如果客户端程序找不到客户端插件库文件，请指定[`--plugin-dir=*`dir_name`*`](mysql-command-options.html#option_mysql_plugin-dir)选项以指示插件库目录位置。
- en: Authentication Plugin Client/Server Compatibility
  id: totrans-60
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 认证插件客户端/服务器兼容性
- en: Pluggable authentication enables flexibility in the choice of authentication
    methods for MySQL accounts, but in some cases client connections cannot be established
    due to authentication plugin incompatibility between the client and server.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 可插拔认证为MySQL帐户的认证方法选择提供了灵活性，但在某些情况下，由于客户端和服务器之间的认证插件不兼容，可能无法建立客户端连接。
- en: The general compatibility principle for a successful client connection to a
    given account on a given server is that the client and server both must support
    the authentication *method* required by the account. Because authentication methods
    are implemented by authentication plugins, the client and server both must support
    the authentication *plugin* required by the account.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 对于成功连接到给定服务器上给定帐户的客户端的一般兼容性原则是，客户端和服务器都必须支持帐户所需的认证*方法*。因为认证方法由认证插件实现，所以客户端和服务器都必须支持帐户所需的认证*插件*。
- en: 'Authentication plugin incompatibilities can arise in various ways. Examples:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 认证插件不兼容可能以各种方式出现。例如：
- en: Connect using a MySQL 5.7 client from 5.7.22 or lower to a MySQL 8.0 server
    account that authenticates with `caching_sha2_password`. This fails because the
    5.7 client does not recognize the plugin, which was introduced in MySQL 8.0\.
    (This issue is addressed in MySQL 5.7 as of 5.7.23, when `caching_sha2_password`
    client-side support was added to the MySQL client library and client programs.)
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用5.7.22或更低版本的MySQL 5.7客户端连接到一个使用`caching_sha2_password`进行认证的MySQL 8.0服务器账户。这会失败，因为5.7客户端不识别这个插件，这个插件是在MySQL
    8.0中引入的。（这个问题在MySQL 5.7中已经得到解决，从5.7.23开始，MySQL客户端库和客户端程序添加了对`caching_sha2_password`的客户端支持。）
- en: Connect using a MySQL 5.7 client to a pre-5.7 server account that authenticates
    with `mysql_old_password`. This fails for multiple reasons. First, such a connection
    requires `--secure-auth=0`, which is no longer a supported option. Even were it
    supported, the 5.7 client does not recognize the plugin because it was removed
    in MySQL 5.7.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用MySQL 5.7客户端连接到一个使用`mysql_old_password`进行认证的低于5.7版本的服务器账户。这会因为多种原因而失败。首先，这样的连接需要`--secure-auth=0`，这不再是一个支持的选项。即使它被支持，5.7客户端也不会识别这个插件，因为它在MySQL
    5.7中被移除了。
- en: Connect using a MySQL 5.7 client from a Community distribution to a MySQL 5.7
    Enterprise server account that authenticates using one of the Enterprise-only
    LDAP authentication plugins. This fails because the Community client does not
    have access to the Enterprise plugin.
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用来自Community发行版的MySQL 5.7客户端连接到一个使用企业专用LDAP认证插件之一进行认证的MySQL 5.7企业服务器账户。这会失败，因为Community客户端无法访问企业插件。
- en: In general, these compatibility issues do not arise when connections are made
    between a client and server from the same MySQL distribution. When connections
    are made between a client and server from different MySQL series, issues can arise.
    These issues are inherent in the development process when MySQL introduces new
    authentication plugins or removes old ones. To minimize the potential for incompatibilities,
    regularly upgrade the server, clients, and connectors on a timely basis.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，当客户端和服务器来自同一MySQL发行版时，这些兼容性问题不会出现。当客户端和服务器来自不同的MySQL系列时，问题可能会出现。当MySQL引入新的认证插件或移除旧插件时，这些问题是开发过程中固有的。为了最大程度地减少不兼容性的可能性，定期及时升级服务器、客户端和连接器。
- en: Authentication Plugin Connector-Writing Considerations
  id: totrans-68
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 认证插件连接器编写注意事项
- en: Various implementations of the MySQL client/server protocol exist. The `libmysqlclient`
    C API client library is one implementation. Some MySQL connectors (typically those
    not written in C) provide their own implementation. However, not all protocol
    implementations handle plugin authentication the same way. This section describes
    an authentication issue that protocol implementors should take into account.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 存在多种MySQL客户端/服务器协议的实现。`libmysqlclient` C API客户端库是其中一种实现。一些MySQL连接器（通常不是用C语言编写的）提供了它们自己的实现。然而，并非所有协议实现都以相同的方式处理插件认证。本节描述了协议实现者应该考虑的一个认证问题。
- en: In the client/server protocol, the server tells connecting clients which authentication
    plugin it considers the default. If the protocol implementation used by the client
    tries to load the default plugin and that plugin does not exist on the client
    side, the load operation fails. This is an unnecessary failure if the default
    plugin is not the plugin actually required by the account to which the client
    is trying to connect.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在客户端/服务器协议中，服务器会告诉连接的客户端它认为是默认的认证插件。如果客户端使用的协议实现尝试加载默认插件，而该插件在客户端上不存在，加载操作将失败。如果默认插件不是客户端尝试连接的账户实际需要的插件，这是一个不必要的失败。
- en: If a client/server protocol implementation does not have its own notion of default
    authentication plugin and always tries to load the default plugin specified by
    the server, it fails with an error if that plugin is not available.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 如果客户端/服务器协议实现没有自己的默认认证插件概念，并始终尝试加载服务器指定的默认插件，如果该插件不可用，则会出现错误。
- en: 'To avoid this problem, the protocol implementation used by the client should
    have its own default plugin and should use it as its first choice (or, alternatively,
    fall back to this default in case of failure to load the default plugin specified
    by the server). Example:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免这个问题，客户端使用的协议实现应该有自己的默认插件，并将其作为首选（或者在无法加载服务器指定的默认插件时，回退到这个默认插件）。例如：
- en: In MySQL 5.7, `libmysqlclient` uses as its default choice either `mysql_native_password`
    or the plugin specified through the `MYSQL_DEFAULT_AUTH` option for [`mysql_options()`](/doc/c-api/8.0/en/mysql-options.html).
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在MySQL 5.7中，`libmysqlclient`默认选择要么是`mysql_native_password`，要么是通过`MYSQL_DEFAULT_AUTH`选项为[`mysql_options()`](/doc/c-api/8.0/en/mysql-options.html)指定的插件。
- en: When a 5.7 client tries to connect to an 8.0 server, the server specifies `caching_sha2_password`
    as its default authentication plugin, but the client still sends credential details
    per either `mysql_native_password` or whatever is specified through `MYSQL_DEFAULT_AUTH`.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当5.7客户端尝试连接到8.0服务器时，服务器将`caching_sha2_password`指定为其默认认证插件，但客户端仍然根据`mysql_native_password`或通过`MYSQL_DEFAULT_AUTH`指定的凭据详细信息发送。
- en: The only time the client loads the plugin specified by the server is for a change-plugin
    request, but in that case it can be any plugin depending on the user account.
    In this case, the client must try to load the plugin, and if that plugin is not
    available, an error is not optional.
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户端仅在更改插件请求时加载服务器指定的插件，但在这种情况下，它可以是任何取决于用户帐户的插件。在这种情况下，客户端必须尝试加载插件，如果该插件不可用，则错误是不可选的。
- en: Restrictions on Pluggable Authentication
  id: totrans-76
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 可插拔认证限制
- en: The first part of this section describes general restrictions on the applicability
    of the pluggable authentication framework described at [Section 8.2.17, “Pluggable
    Authentication”](pluggable-authentication.html "8.2.17 Pluggable Authentication").
    The second part describes how third-party connector developers can determine the
    extent to which a connector can take advantage of pluggable authentication capabilities
    and what steps to take to become more compliant.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的第一部分描述了在[第8.2.17节，“可插拔认证”](pluggable-authentication.html "8.2.17 可插拔认证")中描述的可插拔认证框架的适用性的一般限制。第二部分描述了第三方连接器开发人员如何确定连接器可以利用可插拔认证功能的程度以及采取哪些步骤以变得更加符合规范。
- en: The term “native authentication” used here refers to authentication against
    passwords stored in the `mysql.user` system table. This is the same authentication
    method provided by older MySQL servers, before pluggable authentication was implemented.
    “Windows native authentication” refers to authentication using the credentials
    of a user who has already logged in to Windows, as implemented by the Windows
    Native Authentication plugin (“Windows plugin” for short).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 此处使用的“本机认证”术语指的是针对存储在`mysql.user`系统表中的密码进行的认证。这是在实施可插拔认证之前由较旧的MySQL服务器提供的相同认证方法。“Windows本机认证”是指使用已经登录到Windows的用户的凭据进行认证，由Windows本机认证插件（简称“Windows插件”）实施。
- en: '[General Pluggable Authentication Restrictions](pluggable-authentication.html#pluggable-authentication-restrictions-general
    "General Pluggable Authentication Restrictions")'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[通用可插拔认证限制](pluggable-authentication.html#pluggable-authentication-restrictions-general
    "通用可插拔认证限制")'
- en: '[Pluggable Authentication and Third-Party Connectors](pluggable-authentication.html#pluggable-authentication-restrictions-third-party-connectors
    "Pluggable Authentication and Third-Party Connectors")'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[可插拔认证和第三方连接器](pluggable-authentication.html#pluggable-authentication-restrictions-third-party-connectors
    "可插拔认证和第三方连接器")'
- en: General Pluggable Authentication Restrictions
  id: totrans-81
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 通用可插拔认证限制
- en: '**Connector/C++:** Clients that use this connector can connect to the server
    only through accounts that use native authentication.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Connector/C++:** 使用此连接器的客户端只能通过使用本机认证的帐户连接到服务器。'
- en: 'Exception: A connector supports pluggable authentication if it was built to
    link to `libmysqlclient` dynamically (rather than statically) and it loads the
    current version of `libmysqlclient` if that version is installed, or if the connector
    is recompiled from source to link against the current `libmysqlclient`.'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 例外：如果连接器是动态链接到`libmysqlclient`（而不是静态链接）构建的，并且如果安装了该版本，则加载当前版本的`libmysqlclient`，或者如果连接器从源代码重新编译以链接到当前的`libmysqlclient`。
- en: For information about writing connectors to handle information from the server
    about the default server-side authentication plugin, see [Authentication Plugin
    Connector-Writing Considerations](pluggable-authentication.html#pluggable-authentication-connector-writing
    "Authentication Plugin Connector-Writing Considerations").
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 有关编写连接器以处理有关默认服务器端认证插件信息的信息，请参阅[认证插件连接器编写注意事项](pluggable-authentication.html#pluggable-authentication-connector-writing
    "认证插件连接器编写注意事项")。
- en: '**Connector/NET:** Clients that use Connector/NET can connect to the server
    through accounts that use native authentication or Windows native authentication.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Connector/NET：** 使用Connector/NET的客户端可以通过使用本地认证或Windows本地认证的帐户连接到服务器。'
- en: '**Connector/PHP:** Clients that use this connector can connect to the server
    only through accounts that use native authentication, when compiled using the
    MySQL native driver for PHP (`mysqlnd`).'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Connector/PHP：** 使用此连接器的客户端只能通过使用MySQL本机驱动程序（`mysqlnd`）编译时使用本地认证的帐户连接到服务器。'
- en: '**Windows native authentication:** Connecting through an account that uses
    the Windows plugin requires Windows Domain setup. Without it, NTLM authentication
    is used and then only local connections are possible; that is, the client and
    server must run on the same computer.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Windows本地认证：** 通过使用Windows插件的帐户连接需要Windows域设置。如果没有设置，将使用NTLM认证，然后只有本地连接是可能的；也就是说，客户端和服务器必须在同一台计算机上运行。'
- en: '**Proxy users:** Proxy user support is available to the extent that clients
    can connect through accounts authenticated with plugins that implement proxy user
    capability (that is, plugins that can return a user name different from that of
    the connecting user). For example, the PAM and Windows plugins support proxy users.
    The `mysql_native_password` and `sha256_password` authentication plugins do not
    support proxy users by default, but can be configured to do so; see [Server Support
    for Proxy User Mapping](proxy-users.html#proxy-users-server-user-mapping "Server
    Support for Proxy User Mapping").'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**代理用户：** 代理用户支持程度取决于客户端是否可以通过使用实现代理用户功能的插件进行身份验证的帐户连接（即，可以返回与连接用户不同的用户名的插件）。例如，PAM和Windows插件支持代理用户。`mysql_native_password`和`sha256_password`认证插件默认不支持代理用户，但可以进行配置；请参阅[服务器支持代理用户映射](proxy-users.html#proxy-users-server-user-mapping
    "服务器支持代理用户映射")。'
- en: '**Replication**: Replicas can not only employ replication user accounts using
    native authentication, but can also connect through replication user accounts
    that use nonnative authentication if the required client-side plugin is available.
    If the plugin is built into `libmysqlclient`, it is available by default. Otherwise,
    the plugin must be installed on the replica side in the directory named by the
    replica''s [`plugin_dir`](server-system-variables.html#sysvar_plugin_dir) system
    variable.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复制：** 复制副本不仅可以使用本地认证的复制用户帐户，还可以通过使用非本地认证的复制用户帐户连接，如果所需的客户端端插件可用。如果插件内置于`libmysqlclient`中，则默认可用。否则，插件必须安装在副本端的由副本的[`plugin_dir`](server-system-variables.html#sysvar_plugin_dir)系统变量命名的目录中。'
- en: '**[`FEDERATED`](federated-storage-engine.html "18.8 The FEDERATED Storage Engine")
    tables:** A [`FEDERATED`](federated-storage-engine.html "18.8 The FEDERATED Storage
    Engine") table can access the remote table only through accounts on the remote
    server that use native authentication.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**[`FEDERATED`](federated-storage-engine.html "18.8 FEDERATED存储引擎")表：** [`FEDERATED`](federated-storage-engine.html
    "18.8 FEDERATED存储引擎")表只能通过在远程服务器上使用本地认证的帐户访问远程表。'
- en: Pluggable Authentication and Third-Party Connectors
  id: totrans-91
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 可插拔认证和第三方连接器
- en: 'Third-party connector developers can use the following guidelines to determine
    readiness of a connector to take advantage of pluggable authentication capabilities
    and what steps to take to become more compliant:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 第三方连接器开发人员可以使用以下准则来确定连接器是否准备好利用可插拔认证功能，并采取哪些步骤以提高兼容性：
- en: An existing connector to which no changes have been made uses native authentication
    and clients that use the connector can connect to the server only through accounts
    that use native authentication. *However, you should test the connector against
    a recent version of the server to verify that such connections still work without
    problem.*
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于未进行任何更改的现有连接器，使用本地认证，使用该连接器的客户端只能通过使用本地认证的帐户连接到服务器。*但是，您应该针对服务器的最新版本测试连接器，以验证这样的连接是否仍然可以正常工作。*
- en: 'Exception: A connector might work with pluggable authentication without any
    changes if it links to `libmysqlclient` dynamically (rather than statically) and
    it loads the current version of `libmysqlclient` if that version is installed.'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 异常情况：如果连接器动态链接到`libmysqlclient`（而不是静态链接），并且加载当前安装的`libmysqlclient`版本，则连接器可能可以在不进行任何更改的情况下与可插拔认证一起使用。
- en: To take advantage of pluggable authentication capabilities, a connector that
    is `libmysqlclient`-based should be relinked against the current version of `libmysqlclient`.
    This enables the connector to support connections though accounts that require
    client-side plugins now built into `libmysqlclient` (such as the cleartext plugin
    needed for PAM authentication and the Windows plugin needed for Windows native
    authentication). Linking with a current `libmysqlclient` also enables the connector
    to access client-side plugins installed in the default MySQL plugin directory
    (typically the directory named by the default value of the local server's [`plugin_dir`](server-system-variables.html#sysvar_plugin_dir)
    system variable).
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要利用可插拔认证功能，基于 `libmysqlclient` 的连接器应该重新链接到当前版本的 `libmysqlclient`。这使连接器能够支持通过现在内置到
    `libmysqlclient` 中的客户端插件的账户进行连接（例如用于 PAM 认证所需的明文插件和用于 Windows 本地认证所需的 Windows
    插件）。与当前的 `libmysqlclient` 链接还使连接器能够访问安装在默认 MySQL 插件目录中的客户端插件（通常是由本地服务器的 [`plugin_dir`](server-system-variables.html#sysvar_plugin_dir)
    系统变量的默认值命名的目录）。
- en: If a connector links to `libmysqlclient` dynamically, it must be ensured that
    the newer version of `libmysqlclient` is installed on the client host and that
    the connector loads it at runtime.
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果连接器动态链接到 `libmysqlclient`，必须确保在客户端主机上安装了更新版本的 `libmysqlclient`，并且连接器在运行时加载它。
- en: Another way for a connector to support a given authentication method is to implement
    it directly in the client/server protocol. Connector/NET uses this approach to
    provide support for Windows native authentication.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接器支持给定认证方法的另一种方式是直接在客户端/服务器协议中实现它。Connector/NET 使用这种方法来提供对 Windows 本地认证的支持。
- en: If a connector should be able to load client-side plugins from a directory different
    from the default plugin directory, it must implement some means for client users
    to specify the directory. Possibilities for this include a command-line option
    or environment variable from which the connector can obtain the directory name.
    Standard MySQL client programs such as [**mysql**](mysql.html "6.5.1 mysql — The
    MySQL Command-Line Client") and [**mysqladmin**](mysqladmin.html "6.5.2 mysqladmin
    — A MySQL Server Administration Program") implement a `--plugin-dir` option. See
    also [C API Client Plugin Interface](/doc/c-api/8.0/en/c-api-plugin-interface.html).
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果连接器应该能够从与默认插件目录不同的目录加载客户端插件，那么它必须实现一些方式让客户用户指定目录。这方面的可能性包括通过命令行选项或环境变量，从中连接器可以获取目录名称。标准的
    MySQL 客户端程序，如[**mysql**](mysql.html "6.5.1 mysql — MySQL 命令行客户端")和[**mysqladmin**](mysqladmin.html
    "6.5.2 mysqladmin — MySQL 服务器管理程序")实现了一个 `--plugin-dir` 选项。另请参阅[C API 客户端插件接口](/doc/c-api/8.0/en/c-api-plugin-interface.html)。
- en: Proxy user support by a connector depends, as described earlier in this section,
    on whether the authentication methods that it supports permit proxy users.
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接器对代理用户的支持取决于，正如本节前面所述的，它支持的认证方法是否允许代理用户。
